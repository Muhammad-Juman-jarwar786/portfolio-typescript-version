var UX=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var vBe=UX((de,Gn)=>{function GX(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function dN(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var pN={exports:{}},i5={},mN={exports:{}},jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u3=Symbol.for("react.element"),HX=Symbol.for("react.portal"),QX=Symbol.for("react.fragment"),zX=Symbol.for("react.strict_mode"),VX=Symbol.for("react.profiler"),WX=Symbol.for("react.provider"),jX=Symbol.for("react.context"),$X=Symbol.for("react.forward_ref"),KX=Symbol.for("react.suspense"),XX=Symbol.for("react.memo"),JX=Symbol.for("react.lazy"),rM=Symbol.iterator;function YX(t){return t===null||typeof t!="object"?null:(t=rM&&t[rM]||t["@@iterator"],typeof t=="function"?t:null)}var gN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},AN=Object.assign,vN={};function Hp(t,e,n){this.props=t,this.context=e,this.refs=vN,this.updater=n||gN}Hp.prototype.isReactComponent={};Hp.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Hp.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function yN(){}yN.prototype=Hp.prototype;function Iw(t,e,n){this.props=t,this.context=e,this.refs=vN,this.updater=n||gN}var bw=Iw.prototype=new yN;bw.constructor=Iw;AN(bw,Hp.prototype);bw.isPureReactComponent=!0;var iM=Array.isArray,xN=Object.prototype.hasOwnProperty,Mw={current:null},EN={key:!0,ref:!0,__self:!0,__source:!0};function _N(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)xN.call(e,r)&&!EN.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:u3,type:t,key:s,ref:o,props:i,_owner:Mw.current}}function qX(t,e){return{$$typeof:u3,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Rw(t){return typeof t=="object"&&t!==null&&t.$$typeof===u3}function ZX(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var sM=/\/+/g;function bE(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ZX(""+t.key):e.toString(36)}function W2(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case u3:case HX:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+bE(o,0):r,iM(i)?(n="",t!=null&&(n=t.replace(sM,"$&/")+"/"),W2(i,e,n,"",function(c){return c})):i!=null&&(Rw(i)&&(i=qX(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(sM,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",iM(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+bE(s,a);o+=W2(s,e,n,l,i)}else if(l=YX(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+bE(s,a++),o+=W2(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function l1(t,e,n){if(t==null)return t;var r=[],i=0;return W2(t,r,"","",function(s){return e.call(n,s,i++)}),r}function eJ(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var zi={current:null},j2={transition:null},tJ={ReactCurrentDispatcher:zi,ReactCurrentBatchConfig:j2,ReactCurrentOwner:Mw};jt.Children={map:l1,forEach:function(t,e,n){l1(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return l1(t,function(){e++}),e},toArray:function(t){return l1(t,function(e){return e})||[]},only:function(t){if(!Rw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};jt.Component=Hp;jt.Fragment=QX;jt.Profiler=VX;jt.PureComponent=Iw;jt.StrictMode=zX;jt.Suspense=KX;jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tJ;jt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=AN({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Mw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)xN.call(e,l)&&!EN.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:u3,type:t.type,key:i,ref:s,props:r,_owner:o}};jt.createContext=function(t){return t={$$typeof:jX,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:WX,_context:t},t.Consumer=t};jt.createElement=_N;jt.createFactory=function(t){var e=_N.bind(null,t);return e.type=t,e};jt.createRef=function(){return{current:null}};jt.forwardRef=function(t){return{$$typeof:$X,render:t}};jt.isValidElement=Rw;jt.lazy=function(t){return{$$typeof:JX,_payload:{_status:-1,_result:t},_init:eJ}};jt.memo=function(t,e){return{$$typeof:XX,type:t,compare:e===void 0?null:e}};jt.startTransition=function(t){var e=j2.transition;j2.transition={};try{t()}finally{j2.transition=e}};jt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};jt.useCallback=function(t,e){return zi.current.useCallback(t,e)};jt.useContext=function(t){return zi.current.useContext(t)};jt.useDebugValue=function(){};jt.useDeferredValue=function(t){return zi.current.useDeferredValue(t)};jt.useEffect=function(t,e){return zi.current.useEffect(t,e)};jt.useId=function(){return zi.current.useId()};jt.useImperativeHandle=function(t,e,n){return zi.current.useImperativeHandle(t,e,n)};jt.useInsertionEffect=function(t,e){return zi.current.useInsertionEffect(t,e)};jt.useLayoutEffect=function(t,e){return zi.current.useLayoutEffect(t,e)};jt.useMemo=function(t,e){return zi.current.useMemo(t,e)};jt.useReducer=function(t,e,n){return zi.current.useReducer(t,e,n)};jt.useRef=function(t){return zi.current.useRef(t)};jt.useState=function(t){return zi.current.useState(t)};jt.useSyncExternalStore=function(t,e,n){return zi.current.useSyncExternalStore(t,e,n)};jt.useTransition=function(){return zi.current.useTransition()};jt.version="18.2.0";mN.exports=jt;var Q=mN.exports;const s5=Gp(Q),nJ=GX({__proto__:null,default:s5},[Q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rJ=Q,iJ=Symbol.for("react.element"),sJ=Symbol.for("react.fragment"),oJ=Object.prototype.hasOwnProperty,aJ=rJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lJ={key:!0,ref:!0,__self:!0,__source:!0};function SN(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)oJ.call(e,r)&&!lJ.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:iJ,type:t,key:s,ref:o,props:i,_owner:aJ.current}}i5.Fragment=sJ;i5.jsx=SN;i5.jsxs=SN;pN.exports=i5;var U=pN.exports;/**
 * @remix-run/router v1.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ig(){return ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ig.apply(this,arguments)}var Ic;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ic||(Ic={}));const oM="popstate";function cJ(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return aS("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:_v(i)}return hJ(e,n,null,t)}function wr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Bw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uJ(){return Math.random().toString(36).substr(2,8)}function aM(t,e){return{usr:t.state,key:t.key,idx:e}}function aS(t,e,n,r){return n===void 0&&(n=null),ig({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Qp(e):e,{state:n,key:e&&e.key||r||uJ()})}function _v(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Qp(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function hJ(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ic.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(ig({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=Ic.Pop;let x=u(),A=x==null?null:x-c;c=x,l&&l({action:a,location:E.location,delta:A})}function f(x,A){a=Ic.Push;let v=aS(E.location,x,A);n&&n(v,x),c=u()+1;let y=aM(v,c),S=E.createHref(v);try{o.pushState(y,"",S)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(S)}s&&l&&l({action:a,location:E.location,delta:1})}function m(x,A){a=Ic.Replace;let v=aS(E.location,x,A);n&&n(v,x),c=u();let y=aM(v,c),S=E.createHref(v);o.replaceState(y,"",S),s&&l&&l({action:a,location:E.location,delta:0})}function g(x){let A=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof x=="string"?x:_v(x);return wr(A,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,A)}let E={get action(){return a},get location(){return t(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(oM,h),l=x,()=>{i.removeEventListener(oM,h),l=null}},createHref(x){return e(i,x)},createURL:g,encodeLocation(x){let A=g(x);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:f,replace:m,go(x){return o.go(x)}};return E}var lM;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(lM||(lM={}));function fJ(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Qp(e):e,i=Pw(r.pathname||"/",n);if(i==null)return null;let s=CN(t);dJ(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=_J(s[a],wJ(i));return o}function CN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(wr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Bc([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(wr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),CN(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:xJ(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of wN(s.path))i(s,o,l)}),e}function wN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=wN(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function dJ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:EJ(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const pJ=/^:\w+$/,mJ=3,gJ=2,AJ=1,vJ=10,yJ=-2,cM=t=>t==="*";function xJ(t,e){let n=t.split("/"),r=n.length;return n.some(cM)&&(r+=yJ),e&&(r+=gJ),n.filter(i=>!cM(i)).reduce((i,s)=>i+(pJ.test(s)?mJ:s===""?AJ:vJ),r)}function EJ(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function _J(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=SJ({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let h=a.route;s.push({params:r,pathname:Bc([i,u.pathname]),pathnameBase:MJ(Bc([i,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(i=Bc([i,u.pathnameBase]))}return s}function SJ(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=CJ(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,h)=>{if(u==="*"){let f=a[h]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return c[u]=TJ(a[h]||"",u),c},{}),pathname:s,pathnameBase:o,pattern:t}}function CJ(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Bw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function wJ(t){try{return decodeURI(t)}catch(e){return Bw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function TJ(t,e){try{return decodeURIComponent(t)}catch(n){return Bw(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Pw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function IJ(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Qp(t):t;return{pathname:n?n.startsWith("/")?n:bJ(n,e):e,search:RJ(r),hash:BJ(i)}}function bJ(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ME(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function TN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function IN(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Qp(t):(i=ig({},t),wr(!i.pathname||!i.pathname.includes("?"),ME("?","pathname","search",i)),wr(!i.pathname||!i.pathname.includes("#"),ME("#","pathname","hash",i)),wr(!i.search||!i.search.includes("#"),ME("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let h=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=IJ(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Bc=t=>t.join("/").replace(/\/\/+/g,"/"),MJ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),RJ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,BJ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function PJ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const bN=["post","put","patch","delete"];new Set(bN);const DJ=["get",...bN];new Set(DJ);/**
 * React Router v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sv(){return Sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sv.apply(this,arguments)}const Dw=Q.createContext(null),LJ=Q.createContext(null),zp=Q.createContext(null),o5=Q.createContext(null),Yh=Q.createContext({outlet:null,matches:[],isDataRoute:!1}),MN=Q.createContext(null);function OJ(t,e){let{relative:n}=e===void 0?{}:e;h3()||wr(!1);let{basename:r,navigator:i}=Q.useContext(zp),{hash:s,pathname:o,search:a}=BN(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Bc([r,o])),i.createHref({pathname:l,search:a,hash:s})}function h3(){return Q.useContext(o5)!=null}function a5(){return h3()||wr(!1),Q.useContext(o5).location}function RN(t){Q.useContext(zp).static||Q.useLayoutEffect(t)}function FJ(){let{isDataRoute:t}=Q.useContext(Yh);return t?XJ():NJ()}function NJ(){h3()||wr(!1);let t=Q.useContext(Dw),{basename:e,navigator:n}=Q.useContext(zp),{matches:r}=Q.useContext(Yh),{pathname:i}=a5(),s=JSON.stringify(TN(r).map(l=>l.pathnameBase)),o=Q.useRef(!1);return RN(()=>{o.current=!0}),Q.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let u=IN(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Bc([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,s,i,t])}function BN(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=Q.useContext(Yh),{pathname:i}=a5(),s=JSON.stringify(TN(r).map(o=>o.pathnameBase));return Q.useMemo(()=>IN(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function kJ(t,e){return UJ(t,e)}function UJ(t,e,n){h3()||wr(!1);let{navigator:r}=Q.useContext(zp),{matches:i}=Q.useContext(Yh),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=a5(),c;if(e){var u;let E=typeof e=="string"?Qp(e):e;a==="/"||(u=E.pathname)!=null&&u.startsWith(a)||wr(!1),c=E}else c=l;let h=c.pathname||"/",f=a==="/"?h:h.slice(a.length)||"/",m=fJ(t,{pathname:f}),g=VJ(m&&m.map(E=>Object.assign({},E,{params:Object.assign({},o,E.params),pathname:Bc([a,r.encodeLocation?r.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?a:Bc([a,r.encodeLocation?r.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n);return e&&g?Q.createElement(o5.Provider,{value:{location:Sv({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ic.Pop}},g):g}function GJ(){let t=KJ(),e=PJ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),n?Q.createElement("pre",{style:i},n):null,s)}const HJ=Q.createElement(GJ,null);class QJ extends Q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?Q.createElement(Yh.Provider,{value:this.props.routeContext},Q.createElement(MN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zJ(t){let{routeContext:e,match:n,children:r}=t,i=Q.useContext(Dw);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),Q.createElement(Yh.Provider,{value:e},r)}function VJ(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||wr(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,c)=>{let u=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;n&&(h=l.route.errorElement||HJ);let f=e.concat(s.slice(0,c+1)),m=()=>{let g;return u?g=h:l.route.Component?g=Q.createElement(l.route.Component,null):l.route.element?g=l.route.element:g=a,Q.createElement(zJ,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:g})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?Q.createElement(QJ,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()},null)}var PN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(PN||{}),Cv=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Cv||{});function WJ(t){let e=Q.useContext(Dw);return e||wr(!1),e}function jJ(t){let e=Q.useContext(LJ);return e||wr(!1),e}function $J(t){let e=Q.useContext(Yh);return e||wr(!1),e}function DN(t){let e=$J(),n=e.matches[e.matches.length-1];return n.route.id||wr(!1),n.route.id}function KJ(){var t;let e=Q.useContext(MN),n=jJ(Cv.UseRouteError),r=DN(Cv.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function XJ(){let{router:t}=WJ(PN.UseNavigateStable),e=DN(Cv.UseNavigateStable),n=Q.useRef(!1);return RN(()=>{n.current=!0}),Q.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Sv({fromRouteId:e},s)))},[t,e])}function dm(t){wr(!1)}function JJ(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ic.Pop,navigator:s,static:o=!1}=t;h3()&&wr(!1);let a=e.replace(/^\/*/,"/"),l=Q.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Qp(r));let{pathname:c="/",search:u="",hash:h="",state:f=null,key:m="default"}=r,g=Q.useMemo(()=>{let E=Pw(c,a);return E==null?null:{location:{pathname:E,search:u,hash:h,state:f,key:m},navigationType:i}},[a,c,u,h,f,m,i]);return g==null?null:Q.createElement(zp.Provider,{value:l},Q.createElement(o5.Provider,{children:n,value:g}))}function YJ(t){let{children:e,location:n}=t;return kJ(lS(e),n)}new Promise(()=>{});function lS(t,e){e===void 0&&(e=[]);let n=[];return Q.Children.forEach(t,(r,i)=>{if(!Q.isValidElement(r))return;let s=[...e,i];if(r.type===Q.Fragment){n.push.apply(n,lS(r.props.children,s));return}r.type!==dm&&wr(!1),!r.props.index||!r.props.children||wr(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=lS(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cS(){return cS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cS.apply(this,arguments)}function qJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ZJ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function eY(t,e){return t.button===0&&(!e||e==="_self")&&!ZJ(t)}const tY=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],nY="startTransition",uM=nJ[nY];function rY(t){let{basename:e,children:n,future:r,window:i}=t,s=Q.useRef();s.current==null&&(s.current=cJ({window:i,v5Compat:!0}));let o=s.current,[a,l]=Q.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=Q.useCallback(h=>{c&&uM?uM(()=>l(h)):l(h)},[l,c]);return Q.useLayoutEffect(()=>o.listen(u),[o,u]),Q.createElement(JJ,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const iY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,va=Q.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u}=e,h=qJ(e,tY),{basename:f}=Q.useContext(zp),m,g=!1;if(typeof c=="string"&&sY.test(c)&&(m=c,iY))try{let v=new URL(window.location.href),y=c.startsWith("//")?new URL(v.protocol+c):new URL(c),S=Pw(y.pathname,f);y.origin===v.origin&&S!=null?c=S+y.search+y.hash:g=!0}catch{}let E=OJ(c,{relative:i}),x=oY(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i});function A(v){r&&r(v),v.defaultPrevented||x(v)}return Q.createElement("a",cS({},h,{href:m||E,onClick:g||s?r:A,ref:n,target:l}))});var hM;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(hM||(hM={}));var fM;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(fM||(fM={}));function oY(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=FJ(),l=a5(),c=BN(t,{relative:o});return Q.useCallback(u=>{if(eY(u,n)){u.preventDefault();let h=r!==void 0?r:_v(l)===_v(c);a(t,{replace:h,state:i,preventScrollReset:s,relative:o})}},[l,a,c,r,i,n,t,s,o])}var uS={},LN={exports:{}},Ls={},ON={exports:{}},FN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,J){var V=k.length;k.push(J);e:for(;0<V;){var H=V-1>>>1,X=k[H];if(0<i(X,J))k[H]=J,k[V]=X,V=H;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var J=k[0],V=k.pop();if(V!==J){k[0]=V;e:for(var H=0,X=k.length,he=X>>>1;H<he;){var ge=2*(H+1)-1,Ce=k[ge],be=ge+1,Pe=k[be];if(0>i(Ce,V))be<X&&0>i(Pe,Ce)?(k[H]=Pe,k[be]=V,H=be):(k[H]=Ce,k[ge]=V,H=ge);else if(be<X&&0>i(Pe,V))k[H]=Pe,k[be]=V,H=be;else break e}}return J}function i(k,J){var V=k.sortIndex-J.sortIndex;return V!==0?V:k.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,m=!1,g=!1,E=!1,x=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(k){for(var J=n(c);J!==null;){if(J.callback===null)r(c);else if(J.startTime<=k)r(c),J.sortIndex=J.expirationTime,e(l,J);else break;J=n(c)}}function S(k){if(E=!1,y(k),!g)if(n(l)!==null)g=!0,Z(w);else{var J=n(c);J!==null&&q(S,J.startTime-k)}}function w(k,J){g=!1,E&&(E=!1,A(R),R=-1),m=!0;var V=f;try{for(y(J),h=n(l);h!==null&&(!(h.expirationTime>J)||k&&!L());){var H=h.callback;if(typeof H=="function"){h.callback=null,f=h.priorityLevel;var X=H(h.expirationTime<=J);J=t.unstable_now(),typeof X=="function"?h.callback=X:h===n(l)&&r(l),y(J)}else r(l);h=n(l)}if(h!==null)var he=!0;else{var ge=n(c);ge!==null&&q(S,ge.startTime-J),he=!1}return he}finally{h=null,f=V,m=!1}}var T=!1,b=null,R=-1,M=5,B=-1;function L(){return!(t.unstable_now()-B<M)}function G(){if(b!==null){var k=t.unstable_now();B=k;var J=!0;try{J=b(!0,k)}finally{J?F():(T=!1,b=null)}}else T=!1}var F;if(typeof v=="function")F=function(){v(G)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,W=$.port2;$.port1.onmessage=G,F=function(){W.postMessage(null)}}else F=function(){x(G,0)};function Z(k){b=k,T||(T=!0,F())}function q(k,J){R=x(function(){k(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,Z(w))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(k){switch(f){case 1:case 2:case 3:var J=3;break;default:J=f}var V=f;f=J;try{return k()}finally{f=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,J){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var V=f;f=k;try{return J()}finally{f=V}},t.unstable_scheduleCallback=function(k,J,V){var H=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?H+V:H):V=H,k){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=V+X,k={id:u++,callback:J,priorityLevel:k,startTime:V,expirationTime:X,sortIndex:-1},V>H?(k.sortIndex=V,e(c,k),n(l)===null&&k===n(c)&&(E?(A(R),R=-1):E=!0,q(S,V-H))):(k.sortIndex=X,e(l,k),g||m||(g=!0,Z(w))),k},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(k){var J=f;return function(){var V=f;f=J;try{return k.apply(this,arguments)}finally{f=V}}}})(FN);ON.exports=FN;var aY=ON.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NN=Q,bs=aY;function Ne(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kN=new Set,sg={};function qh(t,e){sp(t,e),sp(t+"Capture",e)}function sp(t,e){for(sg[t]=e,t=0;t<e.length;t++)kN.add(e[t])}var Rl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hS=Object.prototype.hasOwnProperty,lY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dM={},pM={};function cY(t){return hS.call(pM,t)?!0:hS.call(dM,t)?!1:lY.test(t)?pM[t]=!0:(dM[t]=!0,!1)}function uY(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function hY(t,e,n,r){if(e===null||typeof e>"u"||uY(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vi(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var li={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){li[t]=new Vi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];li[e]=new Vi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){li[t]=new Vi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){li[t]=new Vi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){li[t]=new Vi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){li[t]=new Vi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){li[t]=new Vi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){li[t]=new Vi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){li[t]=new Vi(t,5,!1,t.toLowerCase(),null,!1,!1)});var Lw=/[\-:]([a-z])/g;function Ow(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Lw,Ow);li[e]=new Vi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Lw,Ow);li[e]=new Vi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Lw,Ow);li[e]=new Vi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){li[t]=new Vi(t,1,!1,t.toLowerCase(),null,!1,!1)});li.xlinkHref=new Vi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){li[t]=new Vi(t,1,!1,t.toLowerCase(),null,!0,!0)});function Fw(t,e,n,r){var i=li.hasOwnProperty(e)?li[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hY(e,n,i,r)&&(n=null),r||i===null?cY(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Gl=NN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c1=Symbol.for("react.element"),fd=Symbol.for("react.portal"),dd=Symbol.for("react.fragment"),Nw=Symbol.for("react.strict_mode"),fS=Symbol.for("react.profiler"),UN=Symbol.for("react.provider"),GN=Symbol.for("react.context"),kw=Symbol.for("react.forward_ref"),dS=Symbol.for("react.suspense"),pS=Symbol.for("react.suspense_list"),Uw=Symbol.for("react.memo"),yc=Symbol.for("react.lazy"),HN=Symbol.for("react.offscreen"),mM=Symbol.iterator;function M0(t){return t===null||typeof t!="object"?null:(t=mM&&t[mM]||t["@@iterator"],typeof t=="function"?t:null)}var nr=Object.assign,RE;function pm(t){if(RE===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);RE=e&&e[1]||""}return`
`+RE+t}var BE=!1;function PE(t,e){if(!t||BE)return"";BE=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{BE=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?pm(t):""}function fY(t){switch(t.tag){case 5:return pm(t.type);case 16:return pm("Lazy");case 13:return pm("Suspense");case 19:return pm("SuspenseList");case 0:case 2:case 15:return t=PE(t.type,!1),t;case 11:return t=PE(t.type.render,!1),t;case 1:return t=PE(t.type,!0),t;default:return""}}function mS(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case dd:return"Fragment";case fd:return"Portal";case fS:return"Profiler";case Nw:return"StrictMode";case dS:return"Suspense";case pS:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case GN:return(t.displayName||"Context")+".Consumer";case UN:return(t._context.displayName||"Context")+".Provider";case kw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Uw:return e=t.displayName||null,e!==null?e:mS(t.type)||"Memo";case yc:e=t._payload,t=t._init;try{return mS(t(e))}catch{}}return null}function dY(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mS(e);case 8:return e===Nw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function QN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pY(t){var e=QN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function u1(t){t._valueTracker||(t._valueTracker=pY(t))}function zN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=QN(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function wv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gS(t,e){var n=e.checked;return nr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function gM(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xc(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function VN(t,e){e=e.checked,e!=null&&Fw(t,"checked",e,!1)}function AS(t,e){VN(t,e);var n=Xc(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vS(t,e.type,n):e.hasOwnProperty("defaultValue")&&vS(t,e.type,Xc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function AM(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function vS(t,e,n){(e!=="number"||wv(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var mm=Array.isArray;function Nd(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xc(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function yS(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ne(91));return nr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vM(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ne(92));if(mm(n)){if(1<n.length)throw Error(Ne(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xc(n)}}function WN(t,e){var n=Xc(e.value),r=Xc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function yM(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xS(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var h1,$N=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(h1=h1||document.createElement("div"),h1.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=h1.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function og(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mY=["Webkit","ms","Moz","O"];Object.keys(bm).forEach(function(t){mY.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bm[e]=bm[t]})});function KN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||bm.hasOwnProperty(t)&&bm[t]?(""+e).trim():e+"px"}function XN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=KN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var gY=nr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ES(t,e){if(e){if(gY[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ne(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ne(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ne(62))}}function _S(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var SS=null;function Gw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var CS=null,kd=null,Ud=null;function xM(t){if(t=p3(t)){if(typeof CS!="function")throw Error(Ne(280));var e=t.stateNode;e&&(e=f5(e),CS(t.stateNode,t.type,e))}}function JN(t){kd?Ud?Ud.push(t):Ud=[t]:kd=t}function YN(){if(kd){var t=kd,e=Ud;if(Ud=kd=null,xM(t),e)for(t=0;t<e.length;t++)xM(e[t])}}function qN(t,e){return t(e)}function ZN(){}var DE=!1;function ek(t,e,n){if(DE)return t(e,n);DE=!0;try{return qN(t,e,n)}finally{DE=!1,(kd!==null||Ud!==null)&&(ZN(),YN())}}function ag(t,e){var n=t.stateNode;if(n===null)return null;var r=f5(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ne(231,e,typeof n));return n}var wS=!1;if(Rl)try{var R0={};Object.defineProperty(R0,"passive",{get:function(){wS=!0}}),window.addEventListener("test",R0,R0),window.removeEventListener("test",R0,R0)}catch{wS=!1}function AY(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Mm=!1,Tv=null,Iv=!1,TS=null,vY={onError:function(t){Mm=!0,Tv=t}};function yY(t,e,n,r,i,s,o,a,l){Mm=!1,Tv=null,AY.apply(vY,arguments)}function xY(t,e,n,r,i,s,o,a,l){if(yY.apply(this,arguments),Mm){if(Mm){var c=Tv;Mm=!1,Tv=null}else throw Error(Ne(198));Iv||(Iv=!0,TS=c)}}function Zh(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function tk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function EM(t){if(Zh(t)!==t)throw Error(Ne(188))}function EY(t){var e=t.alternate;if(!e){if(e=Zh(t),e===null)throw Error(Ne(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return EM(i),t;if(s===r)return EM(i),e;s=s.sibling}throw Error(Ne(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Ne(189))}}if(n.alternate!==r)throw Error(Ne(190))}if(n.tag!==3)throw Error(Ne(188));return n.stateNode.current===n?t:e}function nk(t){return t=EY(t),t!==null?rk(t):null}function rk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=rk(t);if(e!==null)return e;t=t.sibling}return null}var ik=bs.unstable_scheduleCallback,_M=bs.unstable_cancelCallback,_Y=bs.unstable_shouldYield,SY=bs.unstable_requestPaint,Ar=bs.unstable_now,CY=bs.unstable_getCurrentPriorityLevel,Hw=bs.unstable_ImmediatePriority,sk=bs.unstable_UserBlockingPriority,bv=bs.unstable_NormalPriority,wY=bs.unstable_LowPriority,ok=bs.unstable_IdlePriority,l5=null,ba=null;function TY(t){if(ba&&typeof ba.onCommitFiberRoot=="function")try{ba.onCommitFiberRoot(l5,t,void 0,(t.current.flags&128)===128)}catch{}}var Qo=Math.clz32?Math.clz32:MY,IY=Math.log,bY=Math.LN2;function MY(t){return t>>>=0,t===0?32:31-(IY(t)/bY|0)|0}var f1=64,d1=4194304;function gm(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Mv(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=gm(a):(s&=o,s!==0&&(r=gm(s)))}else o=n&~i,o!==0?r=gm(o):s!==0&&(r=gm(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Qo(e),i=1<<n,r|=t[n],e&=~i;return r}function RY(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BY(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Qo(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=RY(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function IS(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ak(){var t=f1;return f1<<=1,!(f1&4194240)&&(f1=64),t}function LE(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function f3(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qo(e),t[e]=n}function PY(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Qo(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Qw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Qo(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var dn=0;function lk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ck,zw,uk,hk,fk,bS=!1,p1=[],Pc=null,Dc=null,Lc=null,lg=new Map,cg=new Map,Cc=[],DY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function SM(t,e){switch(t){case"focusin":case"focusout":Pc=null;break;case"dragenter":case"dragleave":Dc=null;break;case"mouseover":case"mouseout":Lc=null;break;case"pointerover":case"pointerout":lg.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cg.delete(e.pointerId)}}function B0(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=p3(e),e!==null&&zw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function LY(t,e,n,r,i){switch(e){case"focusin":return Pc=B0(Pc,t,e,n,r,i),!0;case"dragenter":return Dc=B0(Dc,t,e,n,r,i),!0;case"mouseover":return Lc=B0(Lc,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return lg.set(s,B0(lg.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,cg.set(s,B0(cg.get(s)||null,t,e,n,r,i)),!0}return!1}function dk(t){var e=hh(t.target);if(e!==null){var n=Zh(e);if(n!==null){if(e=n.tag,e===13){if(e=tk(n),e!==null){t.blockedOn=e,fk(t.priority,function(){uk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $2(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=MS(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);SS=r,n.target.dispatchEvent(r),SS=null}else return e=p3(n),e!==null&&zw(e),t.blockedOn=n,!1;e.shift()}return!0}function CM(t,e,n){$2(t)&&n.delete(e)}function OY(){bS=!1,Pc!==null&&$2(Pc)&&(Pc=null),Dc!==null&&$2(Dc)&&(Dc=null),Lc!==null&&$2(Lc)&&(Lc=null),lg.forEach(CM),cg.forEach(CM)}function P0(t,e){t.blockedOn===e&&(t.blockedOn=null,bS||(bS=!0,bs.unstable_scheduleCallback(bs.unstable_NormalPriority,OY)))}function ug(t){function e(i){return P0(i,t)}if(0<p1.length){P0(p1[0],t);for(var n=1;n<p1.length;n++){var r=p1[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Pc!==null&&P0(Pc,t),Dc!==null&&P0(Dc,t),Lc!==null&&P0(Lc,t),lg.forEach(e),cg.forEach(e),n=0;n<Cc.length;n++)r=Cc[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Cc.length&&(n=Cc[0],n.blockedOn===null);)dk(n),n.blockedOn===null&&Cc.shift()}var Gd=Gl.ReactCurrentBatchConfig,Rv=!0;function FY(t,e,n,r){var i=dn,s=Gd.transition;Gd.transition=null;try{dn=1,Vw(t,e,n,r)}finally{dn=i,Gd.transition=s}}function NY(t,e,n,r){var i=dn,s=Gd.transition;Gd.transition=null;try{dn=4,Vw(t,e,n,r)}finally{dn=i,Gd.transition=s}}function Vw(t,e,n,r){if(Rv){var i=MS(t,e,n,r);if(i===null)VE(t,e,r,Bv,n),SM(t,r);else if(LY(i,t,e,n,r))r.stopPropagation();else if(SM(t,r),e&4&&-1<DY.indexOf(t)){for(;i!==null;){var s=p3(i);if(s!==null&&ck(s),s=MS(t,e,n,r),s===null&&VE(t,e,r,Bv,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else VE(t,e,r,null,n)}}var Bv=null;function MS(t,e,n,r){if(Bv=null,t=Gw(r),t=hh(t),t!==null)if(e=Zh(t),e===null)t=null;else if(n=e.tag,n===13){if(t=tk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bv=t,null}function pk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CY()){case Hw:return 1;case sk:return 4;case bv:case wY:return 16;case ok:return 536870912;default:return 16}default:return 16}}var bc=null,Ww=null,K2=null;function mk(){if(K2)return K2;var t,e=Ww,n=e.length,r,i="value"in bc?bc.value:bc.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return K2=i.slice(t,1<r?1-r:void 0)}function X2(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function m1(){return!0}function wM(){return!1}function Os(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?m1:wM,this.isPropagationStopped=wM,this}return nr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=m1)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=m1)},persist:function(){},isPersistent:m1}),e}var Vp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jw=Os(Vp),d3=nr({},Vp,{view:0,detail:0}),kY=Os(d3),OE,FE,D0,c5=nr({},d3,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$w,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==D0&&(D0&&t.type==="mousemove"?(OE=t.screenX-D0.screenX,FE=t.screenY-D0.screenY):FE=OE=0,D0=t),OE)},movementY:function(t){return"movementY"in t?t.movementY:FE}}),TM=Os(c5),UY=nr({},c5,{dataTransfer:0}),GY=Os(UY),HY=nr({},d3,{relatedTarget:0}),NE=Os(HY),QY=nr({},Vp,{animationName:0,elapsedTime:0,pseudoElement:0}),zY=Os(QY),VY=nr({},Vp,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),WY=Os(VY),jY=nr({},Vp,{data:0}),IM=Os(jY),$Y={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JY(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=XY[t])?!!e[t]:!1}function $w(){return JY}var YY=nr({},d3,{key:function(t){if(t.key){var e=$Y[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=X2(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?KY[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$w,charCode:function(t){return t.type==="keypress"?X2(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?X2(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qY=Os(YY),ZY=nr({},c5,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bM=Os(ZY),eq=nr({},d3,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$w}),tq=Os(eq),nq=nr({},Vp,{propertyName:0,elapsedTime:0,pseudoElement:0}),rq=Os(nq),iq=nr({},c5,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sq=Os(iq),oq=[9,13,27,32],Kw=Rl&&"CompositionEvent"in window,Rm=null;Rl&&"documentMode"in document&&(Rm=document.documentMode);var aq=Rl&&"TextEvent"in window&&!Rm,gk=Rl&&(!Kw||Rm&&8<Rm&&11>=Rm),MM=String.fromCharCode(32),RM=!1;function Ak(t,e){switch(t){case"keyup":return oq.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pd=!1;function lq(t,e){switch(t){case"compositionend":return vk(e);case"keypress":return e.which!==32?null:(RM=!0,MM);case"textInput":return t=e.data,t===MM&&RM?null:t;default:return null}}function cq(t,e){if(pd)return t==="compositionend"||!Kw&&Ak(t,e)?(t=mk(),K2=Ww=bc=null,pd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return gk&&e.locale!=="ko"?null:e.data;default:return null}}var uq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function BM(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!uq[t.type]:e==="textarea"}function yk(t,e,n,r){JN(r),e=Pv(e,"onChange"),0<e.length&&(n=new jw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Bm=null,hg=null;function hq(t){Rk(t,0)}function u5(t){var e=Ad(t);if(zN(e))return t}function fq(t,e){if(t==="change")return e}var xk=!1;if(Rl){var kE;if(Rl){var UE="oninput"in document;if(!UE){var PM=document.createElement("div");PM.setAttribute("oninput","return;"),UE=typeof PM.oninput=="function"}kE=UE}else kE=!1;xk=kE&&(!document.documentMode||9<document.documentMode)}function DM(){Bm&&(Bm.detachEvent("onpropertychange",Ek),hg=Bm=null)}function Ek(t){if(t.propertyName==="value"&&u5(hg)){var e=[];yk(e,hg,t,Gw(t)),ek(hq,e)}}function dq(t,e,n){t==="focusin"?(DM(),Bm=e,hg=n,Bm.attachEvent("onpropertychange",Ek)):t==="focusout"&&DM()}function pq(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return u5(hg)}function mq(t,e){if(t==="click")return u5(e)}function gq(t,e){if(t==="input"||t==="change")return u5(e)}function Aq(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $o=typeof Object.is=="function"?Object.is:Aq;function fg(t,e){if($o(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!hS.call(e,i)||!$o(t[i],e[i]))return!1}return!0}function LM(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function OM(t,e){var n=LM(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=LM(n)}}function _k(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_k(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Sk(){for(var t=window,e=wv();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wv(t.document)}return e}function Xw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function vq(t){var e=Sk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_k(n.ownerDocument.documentElement,n)){if(r!==null&&Xw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=OM(n,s);var o=OM(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yq=Rl&&"documentMode"in document&&11>=document.documentMode,md=null,RS=null,Pm=null,BS=!1;function FM(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;BS||md==null||md!==wv(r)||(r=md,"selectionStart"in r&&Xw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pm&&fg(Pm,r)||(Pm=r,r=Pv(RS,"onSelect"),0<r.length&&(e=new jw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=md)))}function g1(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var gd={animationend:g1("Animation","AnimationEnd"),animationiteration:g1("Animation","AnimationIteration"),animationstart:g1("Animation","AnimationStart"),transitionend:g1("Transition","TransitionEnd")},GE={},Ck={};Rl&&(Ck=document.createElement("div").style,"AnimationEvent"in window||(delete gd.animationend.animation,delete gd.animationiteration.animation,delete gd.animationstart.animation),"TransitionEvent"in window||delete gd.transitionend.transition);function h5(t){if(GE[t])return GE[t];if(!gd[t])return t;var e=gd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ck)return GE[t]=e[n];return t}var wk=h5("animationend"),Tk=h5("animationiteration"),Ik=h5("animationstart"),bk=h5("transitionend"),Mk=new Map,NM="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function uu(t,e){Mk.set(t,e),qh(e,[t])}for(var HE=0;HE<NM.length;HE++){var QE=NM[HE],xq=QE.toLowerCase(),Eq=QE[0].toUpperCase()+QE.slice(1);uu(xq,"on"+Eq)}uu(wk,"onAnimationEnd");uu(Tk,"onAnimationIteration");uu(Ik,"onAnimationStart");uu("dblclick","onDoubleClick");uu("focusin","onFocus");uu("focusout","onBlur");uu(bk,"onTransitionEnd");sp("onMouseEnter",["mouseout","mouseover"]);sp("onMouseLeave",["mouseout","mouseover"]);sp("onPointerEnter",["pointerout","pointerover"]);sp("onPointerLeave",["pointerout","pointerover"]);qh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qh("onBeforeInput",["compositionend","keypress","textInput","paste"]);qh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Am="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_q=new Set("cancel close invalid load scroll toggle".split(" ").concat(Am));function kM(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,xY(r,e,void 0,t),t.currentTarget=null}function Rk(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;kM(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;kM(i,a,c),s=l}}}if(Iv)throw t=TS,Iv=!1,TS=null,t}function Pn(t,e){var n=e[FS];n===void 0&&(n=e[FS]=new Set);var r=t+"__bubble";n.has(r)||(Bk(e,t,2,!1),n.add(r))}function zE(t,e,n){var r=0;e&&(r|=4),Bk(n,t,r,e)}var A1="_reactListening"+Math.random().toString(36).slice(2);function dg(t){if(!t[A1]){t[A1]=!0,kN.forEach(function(n){n!=="selectionchange"&&(_q.has(n)||zE(n,!1,t),zE(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[A1]||(e[A1]=!0,zE("selectionchange",!1,e))}}function Bk(t,e,n,r){switch(pk(e)){case 1:var i=FY;break;case 4:i=NY;break;default:i=Vw}n=i.bind(null,e,n,t),i=void 0,!wS||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function VE(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=hh(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}ek(function(){var c=s,u=Gw(n),h=[];e:{var f=Mk.get(t);if(f!==void 0){var m=jw,g=t;switch(t){case"keypress":if(X2(n)===0)break e;case"keydown":case"keyup":m=qY;break;case"focusin":g="focus",m=NE;break;case"focusout":g="blur",m=NE;break;case"beforeblur":case"afterblur":m=NE;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=TM;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=GY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=tq;break;case wk:case Tk:case Ik:m=zY;break;case bk:m=rq;break;case"scroll":m=kY;break;case"wheel":m=sq;break;case"copy":case"cut":case"paste":m=WY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=bM}var E=(e&4)!==0,x=!E&&t==="scroll",A=E?f!==null?f+"Capture":null:f;E=[];for(var v=c,y;v!==null;){y=v;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,A!==null&&(S=ag(v,A),S!=null&&E.push(pg(v,S,y)))),x)break;v=v.return}0<E.length&&(f=new m(f,g,null,n,u),h.push({event:f,listeners:E}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==SS&&(g=n.relatedTarget||n.fromElement)&&(hh(g)||g[Bl]))break e;if((m||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=c,g=g?hh(g):null,g!==null&&(x=Zh(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(E=TM,S="onMouseLeave",A="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(E=bM,S="onPointerLeave",A="onPointerEnter",v="pointer"),x=m==null?f:Ad(m),y=g==null?f:Ad(g),f=new E(S,v+"leave",m,n,u),f.target=x,f.relatedTarget=y,S=null,hh(u)===c&&(E=new E(A,v+"enter",g,n,u),E.target=y,E.relatedTarget=x,S=E),x=S,m&&g)t:{for(E=m,A=g,v=0,y=E;y;y=Of(y))v++;for(y=0,S=A;S;S=Of(S))y++;for(;0<v-y;)E=Of(E),v--;for(;0<y-v;)A=Of(A),y--;for(;v--;){if(E===A||A!==null&&E===A.alternate)break t;E=Of(E),A=Of(A)}E=null}else E=null;m!==null&&UM(h,f,m,E,!1),g!==null&&x!==null&&UM(h,x,g,E,!0)}}e:{if(f=c?Ad(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var w=fq;else if(BM(f))if(xk)w=gq;else{w=pq;var T=dq}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=mq);if(w&&(w=w(t,c))){yk(h,w,n,u);break e}T&&T(t,f,c),t==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&vS(f,"number",f.value)}switch(T=c?Ad(c):window,t){case"focusin":(BM(T)||T.contentEditable==="true")&&(md=T,RS=c,Pm=null);break;case"focusout":Pm=RS=md=null;break;case"mousedown":BS=!0;break;case"contextmenu":case"mouseup":case"dragend":BS=!1,FM(h,n,u);break;case"selectionchange":if(yq)break;case"keydown":case"keyup":FM(h,n,u)}var b;if(Kw)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else pd?Ak(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(gk&&n.locale!=="ko"&&(pd||R!=="onCompositionStart"?R==="onCompositionEnd"&&pd&&(b=mk()):(bc=u,Ww="value"in bc?bc.value:bc.textContent,pd=!0)),T=Pv(c,R),0<T.length&&(R=new IM(R,t,null,n,u),h.push({event:R,listeners:T}),b?R.data=b:(b=vk(n),b!==null&&(R.data=b)))),(b=aq?lq(t,n):cq(t,n))&&(c=Pv(c,"onBeforeInput"),0<c.length&&(u=new IM("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=b))}Rk(h,e)})}function pg(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Pv(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ag(t,n),s!=null&&r.unshift(pg(t,s,i)),s=ag(t,e),s!=null&&r.push(pg(t,s,i))),t=t.return}return r}function Of(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function UM(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=ag(n,s),l!=null&&o.unshift(pg(n,l,a))):i||(l=ag(n,s),l!=null&&o.push(pg(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Sq=/\r\n?/g,Cq=/\u0000|\uFFFD/g;function GM(t){return(typeof t=="string"?t:""+t).replace(Sq,`
`).replace(Cq,"")}function v1(t,e,n){if(e=GM(e),GM(t)!==e&&n)throw Error(Ne(425))}function Dv(){}var PS=null,DS=null;function LS(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var OS=typeof setTimeout=="function"?setTimeout:void 0,wq=typeof clearTimeout=="function"?clearTimeout:void 0,HM=typeof Promise=="function"?Promise:void 0,Tq=typeof queueMicrotask=="function"?queueMicrotask:typeof HM<"u"?function(t){return HM.resolve(null).then(t).catch(Iq)}:OS;function Iq(t){setTimeout(function(){throw t})}function WE(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ug(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ug(e)}function Oc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function QM(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Wp=Math.random().toString(36).slice(2),_a="__reactFiber$"+Wp,mg="__reactProps$"+Wp,Bl="__reactContainer$"+Wp,FS="__reactEvents$"+Wp,bq="__reactListeners$"+Wp,Mq="__reactHandles$"+Wp;function hh(t){var e=t[_a];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Bl]||n[_a]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=QM(t);t!==null;){if(n=t[_a])return n;t=QM(t)}return e}t=n,n=t.parentNode}return null}function p3(t){return t=t[_a]||t[Bl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ad(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ne(33))}function f5(t){return t[mg]||null}var NS=[],vd=-1;function hu(t){return{current:t}}function kn(t){0>vd||(t.current=NS[vd],NS[vd]=null,vd--)}function bn(t,e){vd++,NS[vd]=t.current,t.current=e}var Jc={},wi=hu(Jc),rs=hu(!1),Lh=Jc;function op(t,e){var n=t.type.contextTypes;if(!n)return Jc;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function is(t){return t=t.childContextTypes,t!=null}function Lv(){kn(rs),kn(wi)}function zM(t,e,n){if(wi.current!==Jc)throw Error(Ne(168));bn(wi,e),bn(rs,n)}function Pk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ne(108,dY(t)||"Unknown",i));return nr({},n,r)}function Ov(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Jc,Lh=wi.current,bn(wi,t),bn(rs,rs.current),!0}function VM(t,e,n){var r=t.stateNode;if(!r)throw Error(Ne(169));n?(t=Pk(t,e,Lh),r.__reactInternalMemoizedMergedChildContext=t,kn(rs),kn(wi),bn(wi,t)):kn(rs),bn(rs,n)}var dl=null,d5=!1,jE=!1;function Dk(t){dl===null?dl=[t]:dl.push(t)}function Rq(t){d5=!0,Dk(t)}function fu(){if(!jE&&dl!==null){jE=!0;var t=0,e=dn;try{var n=dl;for(dn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}dl=null,d5=!1}catch(i){throw dl!==null&&(dl=dl.slice(t+1)),ik(Hw,fu),i}finally{dn=e,jE=!1}}return null}var yd=[],xd=0,Fv=null,Nv=0,eo=[],to=0,Oh=null,gl=1,Al="";function $u(t,e){yd[xd++]=Nv,yd[xd++]=Fv,Fv=t,Nv=e}function Lk(t,e,n){eo[to++]=gl,eo[to++]=Al,eo[to++]=Oh,Oh=t;var r=gl;t=Al;var i=32-Qo(r)-1;r&=~(1<<i),n+=1;var s=32-Qo(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,gl=1<<32-Qo(e)+i|n<<i|r,Al=s+t}else gl=1<<s|n<<i|r,Al=t}function Jw(t){t.return!==null&&($u(t,1),Lk(t,1,0))}function Yw(t){for(;t===Fv;)Fv=yd[--xd],yd[xd]=null,Nv=yd[--xd],yd[xd]=null;for(;t===Oh;)Oh=eo[--to],eo[to]=null,Al=eo[--to],eo[to]=null,gl=eo[--to],eo[to]=null}var Cs=null,Ss=null,jn=!1,ko=null;function Ok(t,e){var n=io(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function WM(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Cs=t,Ss=Oc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Cs=t,Ss=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Oh!==null?{id:gl,overflow:Al}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=io(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Cs=t,Ss=null,!0):!1;default:return!1}}function kS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function US(t){if(jn){var e=Ss;if(e){var n=e;if(!WM(t,e)){if(kS(t))throw Error(Ne(418));e=Oc(n.nextSibling);var r=Cs;e&&WM(t,e)?Ok(r,n):(t.flags=t.flags&-4097|2,jn=!1,Cs=t)}}else{if(kS(t))throw Error(Ne(418));t.flags=t.flags&-4097|2,jn=!1,Cs=t}}}function jM(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Cs=t}function y1(t){if(t!==Cs)return!1;if(!jn)return jM(t),jn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!LS(t.type,t.memoizedProps)),e&&(e=Ss)){if(kS(t))throw Fk(),Error(Ne(418));for(;e;)Ok(t,e),e=Oc(e.nextSibling)}if(jM(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ne(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ss=Oc(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ss=null}}else Ss=Cs?Oc(t.stateNode.nextSibling):null;return!0}function Fk(){for(var t=Ss;t;)t=Oc(t.nextSibling)}function ap(){Ss=Cs=null,jn=!1}function qw(t){ko===null?ko=[t]:ko.push(t)}var Bq=Gl.ReactCurrentBatchConfig;function Oo(t,e){if(t&&t.defaultProps){e=nr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var kv=hu(null),Uv=null,Ed=null,Zw=null;function e9(){Zw=Ed=Uv=null}function t9(t){var e=kv.current;kn(kv),t._currentValue=e}function GS(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Hd(t,e){Uv=t,Zw=Ed=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ts=!0),t.firstContext=null)}function ho(t){var e=t._currentValue;if(Zw!==t)if(t={context:t,memoizedValue:e,next:null},Ed===null){if(Uv===null)throw Error(Ne(308));Ed=t,Uv.dependencies={lanes:0,firstContext:t}}else Ed=Ed.next=t;return e}var fh=null;function n9(t){fh===null?fh=[t]:fh.push(t)}function Nk(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,n9(e)):(n.next=i.next,i.next=n),e.interleaved=n,Pl(t,r)}function Pl(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var xc=!1;function r9(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fc(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,nn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Pl(t,n)}return i=r.interleaved,i===null?(e.next=e,n9(r)):(e.next=i.next,i.next=e),r.interleaved=e,Pl(t,n)}function J2(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qw(t,n)}}function $M(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gv(t,e,n,r){var i=t.updateQueue;xc=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,E=a;switch(f=e,m=n,E.tag){case 1:if(g=E.payload,typeof g=="function"){h=g.call(m,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=E.payload,f=typeof g=="function"?g.call(m,h,f):g,f==null)break e;h=nr({},h,f);break e;case 2:xc=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=h):u=u.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Nh|=o,t.lanes=o,t.memoizedState=h}}function KM(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ne(191,i));i.call(r)}}}var Uk=new NN.Component().refs;function HS(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:nr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var p5={isMounted:function(t){return(t=t._reactInternals)?Zh(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Gi(),i=kc(t),s=Sl(r,i);s.payload=e,n!=null&&(s.callback=n),e=Fc(t,s,i),e!==null&&(zo(e,t,i,r),J2(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Gi(),i=kc(t),s=Sl(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Fc(t,s,i),e!==null&&(zo(e,t,i,r),J2(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Gi(),r=kc(t),i=Sl(n,r);i.tag=2,e!=null&&(i.callback=e),e=Fc(t,i,r),e!==null&&(zo(e,t,r,n),J2(e,t,r))}};function XM(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!fg(n,r)||!fg(i,s):!0}function Gk(t,e,n){var r=!1,i=Jc,s=e.contextType;return typeof s=="object"&&s!==null?s=ho(s):(i=is(e)?Lh:wi.current,r=e.contextTypes,s=(r=r!=null)?op(t,i):Jc),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=p5,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function JM(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&p5.enqueueReplaceState(e,e.state,null)}function QS(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Uk,r9(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ho(s):(s=is(e)?Lh:wi.current,i.context=op(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(HS(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&p5.enqueueReplaceState(i,i.state,null),Gv(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function L0(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ne(309));var r=n.stateNode}if(!r)throw Error(Ne(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===Uk&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ne(284));if(!n._owner)throw Error(Ne(290,t))}return t}function x1(t,e){throw t=Object.prototype.toString.call(e),Error(Ne(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function YM(t){var e=t._init;return e(t._payload)}function Hk(t){function e(A,v){if(t){var y=A.deletions;y===null?(A.deletions=[v],A.flags|=16):y.push(v)}}function n(A,v){if(!t)return null;for(;v!==null;)e(A,v),v=v.sibling;return null}function r(A,v){for(A=new Map;v!==null;)v.key!==null?A.set(v.key,v):A.set(v.index,v),v=v.sibling;return A}function i(A,v){return A=Uc(A,v),A.index=0,A.sibling=null,A}function s(A,v,y){return A.index=y,t?(y=A.alternate,y!==null?(y=y.index,y<v?(A.flags|=2,v):y):(A.flags|=2,v)):(A.flags|=1048576,v)}function o(A){return t&&A.alternate===null&&(A.flags|=2),A}function a(A,v,y,S){return v===null||v.tag!==6?(v=ZE(y,A.mode,S),v.return=A,v):(v=i(v,y),v.return=A,v)}function l(A,v,y,S){var w=y.type;return w===dd?u(A,v,y.props.children,S,y.key):v!==null&&(v.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===yc&&YM(w)===v.type)?(S=i(v,y.props),S.ref=L0(A,v,y),S.return=A,S):(S=nv(y.type,y.key,y.props,null,A.mode,S),S.ref=L0(A,v,y),S.return=A,S)}function c(A,v,y,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=e8(y,A.mode,S),v.return=A,v):(v=i(v,y.children||[]),v.return=A,v)}function u(A,v,y,S,w){return v===null||v.tag!==7?(v=Th(y,A.mode,S,w),v.return=A,v):(v=i(v,y),v.return=A,v)}function h(A,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ZE(""+v,A.mode,y),v.return=A,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case c1:return y=nv(v.type,v.key,v.props,null,A.mode,y),y.ref=L0(A,null,v),y.return=A,y;case fd:return v=e8(v,A.mode,y),v.return=A,v;case yc:var S=v._init;return h(A,S(v._payload),y)}if(mm(v)||M0(v))return v=Th(v,A.mode,y,null),v.return=A,v;x1(A,v)}return null}function f(A,v,y,S){var w=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return w!==null?null:a(A,v,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case c1:return y.key===w?l(A,v,y,S):null;case fd:return y.key===w?c(A,v,y,S):null;case yc:return w=y._init,f(A,v,w(y._payload),S)}if(mm(y)||M0(y))return w!==null?null:u(A,v,y,S,null);x1(A,y)}return null}function m(A,v,y,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return A=A.get(y)||null,a(v,A,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case c1:return A=A.get(S.key===null?y:S.key)||null,l(v,A,S,w);case fd:return A=A.get(S.key===null?y:S.key)||null,c(v,A,S,w);case yc:var T=S._init;return m(A,v,y,T(S._payload),w)}if(mm(S)||M0(S))return A=A.get(y)||null,u(v,A,S,w,null);x1(v,S)}return null}function g(A,v,y,S){for(var w=null,T=null,b=v,R=v=0,M=null;b!==null&&R<y.length;R++){b.index>R?(M=b,b=null):M=b.sibling;var B=f(A,b,y[R],S);if(B===null){b===null&&(b=M);break}t&&b&&B.alternate===null&&e(A,b),v=s(B,v,R),T===null?w=B:T.sibling=B,T=B,b=M}if(R===y.length)return n(A,b),jn&&$u(A,R),w;if(b===null){for(;R<y.length;R++)b=h(A,y[R],S),b!==null&&(v=s(b,v,R),T===null?w=b:T.sibling=b,T=b);return jn&&$u(A,R),w}for(b=r(A,b);R<y.length;R++)M=m(b,A,R,y[R],S),M!==null&&(t&&M.alternate!==null&&b.delete(M.key===null?R:M.key),v=s(M,v,R),T===null?w=M:T.sibling=M,T=M);return t&&b.forEach(function(L){return e(A,L)}),jn&&$u(A,R),w}function E(A,v,y,S){var w=M0(y);if(typeof w!="function")throw Error(Ne(150));if(y=w.call(y),y==null)throw Error(Ne(151));for(var T=w=null,b=v,R=v=0,M=null,B=y.next();b!==null&&!B.done;R++,B=y.next()){b.index>R?(M=b,b=null):M=b.sibling;var L=f(A,b,B.value,S);if(L===null){b===null&&(b=M);break}t&&b&&L.alternate===null&&e(A,b),v=s(L,v,R),T===null?w=L:T.sibling=L,T=L,b=M}if(B.done)return n(A,b),jn&&$u(A,R),w;if(b===null){for(;!B.done;R++,B=y.next())B=h(A,B.value,S),B!==null&&(v=s(B,v,R),T===null?w=B:T.sibling=B,T=B);return jn&&$u(A,R),w}for(b=r(A,b);!B.done;R++,B=y.next())B=m(b,A,R,B.value,S),B!==null&&(t&&B.alternate!==null&&b.delete(B.key===null?R:B.key),v=s(B,v,R),T===null?w=B:T.sibling=B,T=B);return t&&b.forEach(function(G){return e(A,G)}),jn&&$u(A,R),w}function x(A,v,y,S){if(typeof y=="object"&&y!==null&&y.type===dd&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case c1:e:{for(var w=y.key,T=v;T!==null;){if(T.key===w){if(w=y.type,w===dd){if(T.tag===7){n(A,T.sibling),v=i(T,y.props.children),v.return=A,A=v;break e}}else if(T.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===yc&&YM(w)===T.type){n(A,T.sibling),v=i(T,y.props),v.ref=L0(A,T,y),v.return=A,A=v;break e}n(A,T);break}else e(A,T);T=T.sibling}y.type===dd?(v=Th(y.props.children,A.mode,S,y.key),v.return=A,A=v):(S=nv(y.type,y.key,y.props,null,A.mode,S),S.ref=L0(A,v,y),S.return=A,A=S)}return o(A);case fd:e:{for(T=y.key;v!==null;){if(v.key===T)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){n(A,v.sibling),v=i(v,y.children||[]),v.return=A,A=v;break e}else{n(A,v);break}else e(A,v);v=v.sibling}v=e8(y,A.mode,S),v.return=A,A=v}return o(A);case yc:return T=y._init,x(A,v,T(y._payload),S)}if(mm(y))return g(A,v,y,S);if(M0(y))return E(A,v,y,S);x1(A,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(n(A,v.sibling),v=i(v,y),v.return=A,A=v):(n(A,v),v=ZE(y,A.mode,S),v.return=A,A=v),o(A)):n(A,v)}return x}var lp=Hk(!0),Qk=Hk(!1),m3={},Ma=hu(m3),gg=hu(m3),Ag=hu(m3);function dh(t){if(t===m3)throw Error(Ne(174));return t}function i9(t,e){switch(bn(Ag,e),bn(gg,t),bn(Ma,m3),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xS(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=xS(e,t)}kn(Ma),bn(Ma,e)}function cp(){kn(Ma),kn(gg),kn(Ag)}function zk(t){dh(Ag.current);var e=dh(Ma.current),n=xS(e,t.type);e!==n&&(bn(gg,t),bn(Ma,n))}function s9(t){gg.current===t&&(kn(Ma),kn(gg))}var Xn=hu(0);function Hv(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $E=[];function o9(){for(var t=0;t<$E.length;t++)$E[t]._workInProgressVersionPrimary=null;$E.length=0}var Y2=Gl.ReactCurrentDispatcher,KE=Gl.ReactCurrentBatchConfig,Fh=0,er=null,Br=null,Kr=null,Qv=!1,Dm=!1,vg=0,Pq=0;function mi(){throw Error(Ne(321))}function a9(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!$o(t[n],e[n]))return!1;return!0}function l9(t,e,n,r,i,s){if(Fh=s,er=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Y2.current=t===null||t.memoizedState===null?Fq:Nq,t=n(r,i),Dm){s=0;do{if(Dm=!1,vg=0,25<=s)throw Error(Ne(301));s+=1,Kr=Br=null,e.updateQueue=null,Y2.current=kq,t=n(r,i)}while(Dm)}if(Y2.current=zv,e=Br!==null&&Br.next!==null,Fh=0,Kr=Br=er=null,Qv=!1,e)throw Error(Ne(300));return t}function c9(){var t=vg!==0;return vg=0,t}function ya(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kr===null?er.memoizedState=Kr=t:Kr=Kr.next=t,Kr}function fo(){if(Br===null){var t=er.alternate;t=t!==null?t.memoizedState:null}else t=Br.next;var e=Kr===null?er.memoizedState:Kr.next;if(e!==null)Kr=e,Br=t;else{if(t===null)throw Error(Ne(310));Br=t,t={memoizedState:Br.memoizedState,baseState:Br.baseState,baseQueue:Br.baseQueue,queue:Br.queue,next:null},Kr===null?er.memoizedState=Kr=t:Kr=Kr.next=t}return Kr}function yg(t,e){return typeof e=="function"?e(t):e}function XE(t){var e=fo(),n=e.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=t;var r=Br,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Fh&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,er.lanes|=u,Nh|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,$o(r,e.memoizedState)||(ts=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,er.lanes|=s,Nh|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function JE(t){var e=fo(),n=e.queue;if(n===null)throw Error(Ne(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);$o(s,e.memoizedState)||(ts=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Vk(){}function Wk(t,e){var n=er,r=fo(),i=e(),s=!$o(r.memoizedState,i);if(s&&(r.memoizedState=i,ts=!0),r=r.queue,u9(Kk.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Kr!==null&&Kr.memoizedState.tag&1){if(n.flags|=2048,xg(9,$k.bind(null,n,r,i,e),void 0,null),qr===null)throw Error(Ne(349));Fh&30||jk(n,e,i)}return i}function jk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=er.updateQueue,e===null?(e={lastEffect:null,stores:null},er.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $k(t,e,n,r){e.value=n,e.getSnapshot=r,Xk(e)&&Jk(t)}function Kk(t,e,n){return n(function(){Xk(e)&&Jk(t)})}function Xk(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$o(t,n)}catch{return!0}}function Jk(t){var e=Pl(t,1);e!==null&&zo(e,t,1,-1)}function qM(t){var e=ya();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yg,lastRenderedState:t},e.queue=t,t=t.dispatch=Oq.bind(null,er,t),[e.memoizedState,t]}function xg(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=er.updateQueue,e===null?(e={lastEffect:null,stores:null},er.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Yk(){return fo().memoizedState}function q2(t,e,n,r){var i=ya();er.flags|=t,i.memoizedState=xg(1|e,n,void 0,r===void 0?null:r)}function m5(t,e,n,r){var i=fo();r=r===void 0?null:r;var s=void 0;if(Br!==null){var o=Br.memoizedState;if(s=o.destroy,r!==null&&a9(r,o.deps)){i.memoizedState=xg(e,n,s,r);return}}er.flags|=t,i.memoizedState=xg(1|e,n,s,r)}function ZM(t,e){return q2(8390656,8,t,e)}function u9(t,e){return m5(2048,8,t,e)}function qk(t,e){return m5(4,2,t,e)}function Zk(t,e){return m5(4,4,t,e)}function eU(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function tU(t,e,n){return n=n!=null?n.concat([t]):null,m5(4,4,eU.bind(null,e,t),n)}function h9(){}function nU(t,e){var n=fo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&a9(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function rU(t,e){var n=fo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&a9(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function iU(t,e,n){return Fh&21?($o(n,e)||(n=ak(),er.lanes|=n,Nh|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ts=!0),t.memoizedState=n)}function Dq(t,e){var n=dn;dn=n!==0&&4>n?n:4,t(!0);var r=KE.transition;KE.transition={};try{t(!1),e()}finally{dn=n,KE.transition=r}}function sU(){return fo().memoizedState}function Lq(t,e,n){var r=kc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},oU(t))aU(e,n);else if(n=Nk(t,e,n,r),n!==null){var i=Gi();zo(n,t,r,i),lU(n,e,r)}}function Oq(t,e,n){var r=kc(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(oU(t))aU(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,$o(a,o)){var l=e.interleaved;l===null?(i.next=i,n9(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Nk(t,e,i,r),n!==null&&(i=Gi(),zo(n,t,r,i),lU(n,e,r))}}function oU(t){var e=t.alternate;return t===er||e!==null&&e===er}function aU(t,e){Dm=Qv=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function lU(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qw(t,n)}}var zv={readContext:ho,useCallback:mi,useContext:mi,useEffect:mi,useImperativeHandle:mi,useInsertionEffect:mi,useLayoutEffect:mi,useMemo:mi,useReducer:mi,useRef:mi,useState:mi,useDebugValue:mi,useDeferredValue:mi,useTransition:mi,useMutableSource:mi,useSyncExternalStore:mi,useId:mi,unstable_isNewReconciler:!1},Fq={readContext:ho,useCallback:function(t,e){return ya().memoizedState=[t,e===void 0?null:e],t},useContext:ho,useEffect:ZM,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,q2(4194308,4,eU.bind(null,e,t),n)},useLayoutEffect:function(t,e){return q2(4194308,4,t,e)},useInsertionEffect:function(t,e){return q2(4,2,t,e)},useMemo:function(t,e){var n=ya();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ya();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Lq.bind(null,er,t),[r.memoizedState,t]},useRef:function(t){var e=ya();return t={current:t},e.memoizedState=t},useState:qM,useDebugValue:h9,useDeferredValue:function(t){return ya().memoizedState=t},useTransition:function(){var t=qM(!1),e=t[0];return t=Dq.bind(null,t[1]),ya().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=er,i=ya();if(jn){if(n===void 0)throw Error(Ne(407));n=n()}else{if(n=e(),qr===null)throw Error(Ne(349));Fh&30||jk(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,ZM(Kk.bind(null,r,s,t),[t]),r.flags|=2048,xg(9,$k.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ya(),e=qr.identifierPrefix;if(jn){var n=Al,r=gl;n=(r&~(1<<32-Qo(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=vg++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Pq++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Nq={readContext:ho,useCallback:nU,useContext:ho,useEffect:u9,useImperativeHandle:tU,useInsertionEffect:qk,useLayoutEffect:Zk,useMemo:rU,useReducer:XE,useRef:Yk,useState:function(){return XE(yg)},useDebugValue:h9,useDeferredValue:function(t){var e=fo();return iU(e,Br.memoizedState,t)},useTransition:function(){var t=XE(yg)[0],e=fo().memoizedState;return[t,e]},useMutableSource:Vk,useSyncExternalStore:Wk,useId:sU,unstable_isNewReconciler:!1},kq={readContext:ho,useCallback:nU,useContext:ho,useEffect:u9,useImperativeHandle:tU,useInsertionEffect:qk,useLayoutEffect:Zk,useMemo:rU,useReducer:JE,useRef:Yk,useState:function(){return JE(yg)},useDebugValue:h9,useDeferredValue:function(t){var e=fo();return Br===null?e.memoizedState=t:iU(e,Br.memoizedState,t)},useTransition:function(){var t=JE(yg)[0],e=fo().memoizedState;return[t,e]},useMutableSource:Vk,useSyncExternalStore:Wk,useId:sU,unstable_isNewReconciler:!1};function up(t,e){try{var n="",r=e;do n+=fY(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function YE(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function zS(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Uq=typeof WeakMap=="function"?WeakMap:Map;function cU(t,e,n){n=Sl(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Wv||(Wv=!0,ZS=r),zS(t,e)},n}function uU(t,e,n){n=Sl(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){zS(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){zS(t,e),typeof r!="function"&&(Nc===null?Nc=new Set([this]):Nc.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function eR(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Uq;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Zq.bind(null,t,e,n),e.then(t,t))}function tR(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function nR(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Sl(-1,1),e.tag=2,Fc(n,e,1))),n.lanes|=1),t)}var Gq=Gl.ReactCurrentOwner,ts=!1;function Ni(t,e,n,r){e.child=t===null?Qk(e,null,n,r):lp(e,t.child,n,r)}function rR(t,e,n,r,i){n=n.render;var s=e.ref;return Hd(e,i),r=l9(t,e,n,r,s,i),n=c9(),t!==null&&!ts?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dl(t,e,i)):(jn&&n&&Jw(e),e.flags|=1,Ni(t,e,r,i),e.child)}function iR(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!y9(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,hU(t,e,s,r,i)):(t=nv(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:fg,n(o,r)&&t.ref===e.ref)return Dl(t,e,i)}return e.flags|=1,t=Uc(s,r),t.ref=e.ref,t.return=e,e.child=t}function hU(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(fg(s,r)&&t.ref===e.ref)if(ts=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ts=!0);else return e.lanes=t.lanes,Dl(t,e,i)}return VS(t,e,n,r,i)}function fU(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},bn(Sd,ys),ys|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,bn(Sd,ys),ys|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,bn(Sd,ys),ys|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,bn(Sd,ys),ys|=r;return Ni(t,e,i,n),e.child}function dU(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function VS(t,e,n,r,i){var s=is(n)?Lh:wi.current;return s=op(e,s),Hd(e,i),n=l9(t,e,n,r,s,i),r=c9(),t!==null&&!ts?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Dl(t,e,i)):(jn&&r&&Jw(e),e.flags|=1,Ni(t,e,n,i),e.child)}function sR(t,e,n,r,i){if(is(n)){var s=!0;Ov(e)}else s=!1;if(Hd(e,i),e.stateNode===null)Z2(t,e),Gk(e,n,r),QS(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=ho(c):(c=is(n)?Lh:wi.current,c=op(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&JM(e,o,r,c),xc=!1;var f=e.memoizedState;o.state=f,Gv(e,r,o,i),l=e.memoizedState,a!==r||f!==l||rs.current||xc?(typeof u=="function"&&(HS(e,n,u,r),l=e.memoizedState),(a=xc||XM(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,kk(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Oo(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ho(l):(l=is(n)?Lh:wi.current,l=op(e,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&JM(e,o,r,l),xc=!1,f=e.memoizedState,o.state=f,Gv(e,r,o,i);var g=e.memoizedState;a!==h||f!==g||rs.current||xc?(typeof m=="function"&&(HS(e,n,m,r),g=e.memoizedState),(c=xc||XM(e,n,c,r,f,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return WS(t,e,n,r,s,i)}function WS(t,e,n,r,i,s){dU(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&VM(e,n,!1),Dl(t,e,s);r=e.stateNode,Gq.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=lp(e,t.child,null,s),e.child=lp(e,null,a,s)):Ni(t,e,a,s),e.memoizedState=r.state,i&&VM(e,n,!0),e.child}function pU(t){var e=t.stateNode;e.pendingContext?zM(t,e.pendingContext,e.pendingContext!==e.context):e.context&&zM(t,e.context,!1),i9(t,e.containerInfo)}function oR(t,e,n,r,i){return ap(),qw(i),e.flags|=256,Ni(t,e,n,r),e.child}var jS={dehydrated:null,treeContext:null,retryLane:0};function $S(t){return{baseLanes:t,cachePool:null,transitions:null}}function mU(t,e,n){var r=e.pendingProps,i=Xn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),bn(Xn,i&1),t===null)return US(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=v5(o,r,0,null),t=Th(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=$S(n),e.memoizedState=jS,t):f9(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Hq(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Uc(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Uc(a,s):(s=Th(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?$S(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=jS,r}return s=t.child,t=s.sibling,r=Uc(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function f9(t,e){return e=v5({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function E1(t,e,n,r){return r!==null&&qw(r),lp(e,t.child,null,n),t=f9(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Hq(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=YE(Error(Ne(422))),E1(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=v5({mode:"visible",children:r.children},i,0,null),s=Th(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&lp(e,t.child,null,o),e.child.memoizedState=$S(o),e.memoizedState=jS,s);if(!(e.mode&1))return E1(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ne(419)),r=YE(s,r,void 0),E1(t,e,o,r)}if(a=(o&t.childLanes)!==0,ts||a){if(r=qr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Pl(t,i),zo(r,t,i,-1))}return v9(),r=YE(Error(Ne(421))),E1(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=eZ.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ss=Oc(i.nextSibling),Cs=e,jn=!0,ko=null,t!==null&&(eo[to++]=gl,eo[to++]=Al,eo[to++]=Oh,gl=t.id,Al=t.overflow,Oh=e),e=f9(e,r.children),e.flags|=4096,e)}function aR(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),GS(t.return,e,n)}function qE(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function gU(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ni(t,e,r.children,n),r=Xn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&aR(t,n,e);else if(t.tag===19)aR(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(bn(Xn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Hv(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),qE(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Hv(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}qE(e,!0,n,null,s);break;case"together":qE(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Z2(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Dl(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Nh|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ne(153));if(e.child!==null){for(t=e.child,n=Uc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Uc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Qq(t,e,n){switch(e.tag){case 3:pU(e),ap();break;case 5:zk(e);break;case 1:is(e.type)&&Ov(e);break;case 4:i9(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;bn(kv,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(bn(Xn,Xn.current&1),e.flags|=128,null):n&e.child.childLanes?mU(t,e,n):(bn(Xn,Xn.current&1),t=Dl(t,e,n),t!==null?t.sibling:null);bn(Xn,Xn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return gU(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),bn(Xn,Xn.current),r)break;return null;case 22:case 23:return e.lanes=0,fU(t,e,n)}return Dl(t,e,n)}var AU,KS,vU,yU;AU=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};KS=function(){};vU=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,dh(Ma.current);var s=null;switch(n){case"input":i=gS(t,i),r=gS(t,r),s=[];break;case"select":i=nr({},i,{value:void 0}),r=nr({},r,{value:void 0}),s=[];break;case"textarea":i=yS(t,i),r=yS(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Dv)}ES(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(sg.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(sg.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Pn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};yU=function(t,e,n,r){n!==r&&(e.flags|=4)};function O0(t,e){if(!jn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function gi(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function zq(t,e,n){var r=e.pendingProps;switch(Yw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gi(e),null;case 1:return is(e.type)&&Lv(),gi(e),null;case 3:return r=e.stateNode,cp(),kn(rs),kn(wi),o9(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(y1(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ko!==null&&(n4(ko),ko=null))),KS(t,e),gi(e),null;case 5:s9(e);var i=dh(Ag.current);if(n=e.type,t!==null&&e.stateNode!=null)vU(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ne(166));return gi(e),null}if(t=dh(Ma.current),y1(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[_a]=e,r[mg]=s,t=(e.mode&1)!==0,n){case"dialog":Pn("cancel",r),Pn("close",r);break;case"iframe":case"object":case"embed":Pn("load",r);break;case"video":case"audio":for(i=0;i<Am.length;i++)Pn(Am[i],r);break;case"source":Pn("error",r);break;case"img":case"image":case"link":Pn("error",r),Pn("load",r);break;case"details":Pn("toggle",r);break;case"input":gM(r,s),Pn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Pn("invalid",r);break;case"textarea":vM(r,s),Pn("invalid",r)}ES(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&v1(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&v1(r.textContent,a,t),i=["children",""+a]):sg.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Pn("scroll",r)}switch(n){case"input":u1(r),AM(r,s,!0);break;case"textarea":u1(r),yM(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Dv)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[_a]=e,t[mg]=r,AU(t,e,!1,!1),e.stateNode=t;e:{switch(o=_S(n,r),n){case"dialog":Pn("cancel",t),Pn("close",t),i=r;break;case"iframe":case"object":case"embed":Pn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Am.length;i++)Pn(Am[i],t);i=r;break;case"source":Pn("error",t),i=r;break;case"img":case"image":case"link":Pn("error",t),Pn("load",t),i=r;break;case"details":Pn("toggle",t),i=r;break;case"input":gM(t,r),i=gS(t,r),Pn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=nr({},r,{value:void 0}),Pn("invalid",t);break;case"textarea":vM(t,r),i=yS(t,r),Pn("invalid",t);break;default:i=r}ES(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?XN(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$N(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&og(t,l):typeof l=="number"&&og(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(sg.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Pn("scroll",t):l!=null&&Fw(t,s,l,o))}switch(n){case"input":u1(t),AM(t,r,!1);break;case"textarea":u1(t),yM(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xc(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Nd(t,!!r.multiple,s,!1):r.defaultValue!=null&&Nd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Dv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gi(e),null;case 6:if(t&&e.stateNode!=null)yU(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ne(166));if(n=dh(Ag.current),dh(Ma.current),y1(e)){if(r=e.stateNode,n=e.memoizedProps,r[_a]=e,(s=r.nodeValue!==n)&&(t=Cs,t!==null))switch(t.tag){case 3:v1(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&v1(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_a]=e,e.stateNode=r}return gi(e),null;case 13:if(kn(Xn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(jn&&Ss!==null&&e.mode&1&&!(e.flags&128))Fk(),ap(),e.flags|=98560,s=!1;else if(s=y1(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Ne(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ne(317));s[_a]=e}else ap(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gi(e),s=!1}else ko!==null&&(n4(ko),ko=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Xn.current&1?Or===0&&(Or=3):v9())),e.updateQueue!==null&&(e.flags|=4),gi(e),null);case 4:return cp(),KS(t,e),t===null&&dg(e.stateNode.containerInfo),gi(e),null;case 10:return t9(e.type._context),gi(e),null;case 17:return is(e.type)&&Lv(),gi(e),null;case 19:if(kn(Xn),s=e.memoizedState,s===null)return gi(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)O0(s,!1);else{if(Or!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Hv(t),o!==null){for(e.flags|=128,O0(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return bn(Xn,Xn.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ar()>hp&&(e.flags|=128,r=!0,O0(s,!1),e.lanes=4194304)}else{if(!r)if(t=Hv(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),O0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!jn)return gi(e),null}else 2*Ar()-s.renderingStartTime>hp&&n!==1073741824&&(e.flags|=128,r=!0,O0(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ar(),e.sibling=null,n=Xn.current,bn(Xn,r?n&1|2:n&1),e):(gi(e),null);case 22:case 23:return A9(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ys&1073741824&&(gi(e),e.subtreeFlags&6&&(e.flags|=8192)):gi(e),null;case 24:return null;case 25:return null}throw Error(Ne(156,e.tag))}function Vq(t,e){switch(Yw(e),e.tag){case 1:return is(e.type)&&Lv(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return cp(),kn(rs),kn(wi),o9(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return s9(e),null;case 13:if(kn(Xn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ne(340));ap()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return kn(Xn),null;case 4:return cp(),null;case 10:return t9(e.type._context),null;case 22:case 23:return A9(),null;case 24:return null;default:return null}}var _1=!1,xi=!1,Wq=typeof WeakSet=="function"?WeakSet:Set,tt=null;function _d(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){lr(t,e,r)}else n.current=null}function XS(t,e,n){try{n()}catch(r){lr(t,e,r)}}var lR=!1;function jq(t,e){if(PS=Rv,t=Sk(),Xw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(DS={focusedElem:t,selectionRange:n},Rv=!1,tt=e;tt!==null;)if(e=tt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,tt=t;else for(;tt!==null;){e=tt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var E=g.memoizedProps,x=g.memoizedState,A=e.stateNode,v=A.getSnapshotBeforeUpdate(e.elementType===e.type?E:Oo(e.type,E),x);A.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ne(163))}}catch(S){lr(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,tt=t;break}tt=e.return}return g=lR,lR=!1,g}function Lm(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&XS(e,n,s)}i=i.next}while(i!==r)}}function g5(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function JS(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function xU(t){var e=t.alternate;e!==null&&(t.alternate=null,xU(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_a],delete e[mg],delete e[FS],delete e[bq],delete e[Mq])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function EU(t){return t.tag===5||t.tag===3||t.tag===4}function cR(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||EU(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function YS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Dv));else if(r!==4&&(t=t.child,t!==null))for(YS(t,e,n),t=t.sibling;t!==null;)YS(t,e,n),t=t.sibling}function qS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(qS(t,e,n),t=t.sibling;t!==null;)qS(t,e,n),t=t.sibling}var ii=null,No=!1;function rc(t,e,n){for(n=n.child;n!==null;)_U(t,e,n),n=n.sibling}function _U(t,e,n){if(ba&&typeof ba.onCommitFiberUnmount=="function")try{ba.onCommitFiberUnmount(l5,n)}catch{}switch(n.tag){case 5:xi||_d(n,e);case 6:var r=ii,i=No;ii=null,rc(t,e,n),ii=r,No=i,ii!==null&&(No?(t=ii,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ii.removeChild(n.stateNode));break;case 18:ii!==null&&(No?(t=ii,n=n.stateNode,t.nodeType===8?WE(t.parentNode,n):t.nodeType===1&&WE(t,n),ug(t)):WE(ii,n.stateNode));break;case 4:r=ii,i=No,ii=n.stateNode.containerInfo,No=!0,rc(t,e,n),ii=r,No=i;break;case 0:case 11:case 14:case 15:if(!xi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&XS(n,e,o),i=i.next}while(i!==r)}rc(t,e,n);break;case 1:if(!xi&&(_d(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){lr(n,e,a)}rc(t,e,n);break;case 21:rc(t,e,n);break;case 22:n.mode&1?(xi=(r=xi)||n.memoizedState!==null,rc(t,e,n),xi=r):rc(t,e,n);break;default:rc(t,e,n)}}function uR(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Wq),e.forEach(function(r){var i=tZ.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Io(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ii=a.stateNode,No=!1;break e;case 3:ii=a.stateNode.containerInfo,No=!0;break e;case 4:ii=a.stateNode.containerInfo,No=!0;break e}a=a.return}if(ii===null)throw Error(Ne(160));_U(s,o,i),ii=null,No=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){lr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)SU(e,t),e=e.sibling}function SU(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Io(e,t),ga(t),r&4){try{Lm(3,t,t.return),g5(3,t)}catch(E){lr(t,t.return,E)}try{Lm(5,t,t.return)}catch(E){lr(t,t.return,E)}}break;case 1:Io(e,t),ga(t),r&512&&n!==null&&_d(n,n.return);break;case 5:if(Io(e,t),ga(t),r&512&&n!==null&&_d(n,n.return),t.flags&32){var i=t.stateNode;try{og(i,"")}catch(E){lr(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&VN(i,s),_S(a,o);var c=_S(a,s);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?XN(i,h):u==="dangerouslySetInnerHTML"?$N(i,h):u==="children"?og(i,h):Fw(i,u,h,c)}switch(a){case"input":AS(i,s);break;case"textarea":WN(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Nd(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?Nd(i,!!s.multiple,s.defaultValue,!0):Nd(i,!!s.multiple,s.multiple?[]:"",!1))}i[mg]=s}catch(E){lr(t,t.return,E)}}break;case 6:if(Io(e,t),ga(t),r&4){if(t.stateNode===null)throw Error(Ne(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(E){lr(t,t.return,E)}}break;case 3:if(Io(e,t),ga(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ug(e.containerInfo)}catch(E){lr(t,t.return,E)}break;case 4:Io(e,t),ga(t);break;case 13:Io(e,t),ga(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(m9=Ar())),r&4&&uR(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(xi=(c=xi)||u,Io(e,t),xi=c):Io(e,t),ga(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(tt=t,u=t.child;u!==null;){for(h=tt=u;tt!==null;){switch(f=tt,m=f.child,f.tag){case 0:case 11:case 14:case 15:Lm(4,f,f.return);break;case 1:_d(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(E){lr(r,n,E)}}break;case 5:_d(f,f.return);break;case 22:if(f.memoizedState!==null){fR(h);continue}}m!==null?(m.return=f,tt=m):fR(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=KN("display",o))}catch(E){lr(t,t.return,E)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(E){lr(t,t.return,E)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Io(e,t),ga(t),r&4&&uR(t);break;case 21:break;default:Io(e,t),ga(t)}}function ga(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(EU(n)){var r=n;break e}n=n.return}throw Error(Ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(og(i,""),r.flags&=-33);var s=cR(t);qS(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=cR(t);YS(t,a,o);break;default:throw Error(Ne(161))}}catch(l){lr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $q(t,e,n){tt=t,CU(t)}function CU(t,e,n){for(var r=(t.mode&1)!==0;tt!==null;){var i=tt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||_1;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||xi;a=_1;var c=xi;if(_1=o,(xi=l)&&!c)for(tt=i;tt!==null;)o=tt,l=o.child,o.tag===22&&o.memoizedState!==null?dR(i):l!==null?(l.return=o,tt=l):dR(i);for(;s!==null;)tt=s,CU(s),s=s.sibling;tt=i,_1=a,xi=c}hR(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,tt=s):hR(t)}}function hR(t){for(;tt!==null;){var e=tt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xi||g5(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xi)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Oo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&KM(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}KM(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&ug(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ne(163))}xi||e.flags&512&&JS(e)}catch(f){lr(e,e.return,f)}}if(e===t){tt=null;break}if(n=e.sibling,n!==null){n.return=e.return,tt=n;break}tt=e.return}}function fR(t){for(;tt!==null;){var e=tt;if(e===t){tt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,tt=n;break}tt=e.return}}function dR(t){for(;tt!==null;){var e=tt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{g5(4,e)}catch(l){lr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){lr(e,i,l)}}var s=e.return;try{JS(e)}catch(l){lr(e,s,l)}break;case 5:var o=e.return;try{JS(e)}catch(l){lr(e,o,l)}}}catch(l){lr(e,e.return,l)}if(e===t){tt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,tt=a;break}tt=e.return}}var Kq=Math.ceil,Vv=Gl.ReactCurrentDispatcher,d9=Gl.ReactCurrentOwner,oo=Gl.ReactCurrentBatchConfig,nn=0,qr=null,Cr=null,ai=0,ys=0,Sd=hu(0),Or=0,Eg=null,Nh=0,A5=0,p9=0,Om=null,qi=null,m9=0,hp=1/0,hl=null,Wv=!1,ZS=null,Nc=null,S1=!1,Mc=null,jv=0,Fm=0,e4=null,ev=-1,tv=0;function Gi(){return nn&6?Ar():ev!==-1?ev:ev=Ar()}function kc(t){return t.mode&1?nn&2&&ai!==0?ai&-ai:Bq.transition!==null?(tv===0&&(tv=ak()),tv):(t=dn,t!==0||(t=window.event,t=t===void 0?16:pk(t.type)),t):1}function zo(t,e,n,r){if(50<Fm)throw Fm=0,e4=null,Error(Ne(185));f3(t,n,r),(!(nn&2)||t!==qr)&&(t===qr&&(!(nn&2)&&(A5|=n),Or===4&&wc(t,ai)),ss(t,r),n===1&&nn===0&&!(e.mode&1)&&(hp=Ar()+500,d5&&fu()))}function ss(t,e){var n=t.callbackNode;BY(t,e);var r=Mv(t,t===qr?ai:0);if(r===0)n!==null&&_M(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_M(n),e===1)t.tag===0?Rq(pR.bind(null,t)):Dk(pR.bind(null,t)),Tq(function(){!(nn&6)&&fu()}),n=null;else{switch(lk(r)){case 1:n=Hw;break;case 4:n=sk;break;case 16:n=bv;break;case 536870912:n=ok;break;default:n=bv}n=PU(n,wU.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function wU(t,e){if(ev=-1,tv=0,nn&6)throw Error(Ne(327));var n=t.callbackNode;if(Qd()&&t.callbackNode!==n)return null;var r=Mv(t,t===qr?ai:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=$v(t,r);else{e=r;var i=nn;nn|=2;var s=IU();(qr!==t||ai!==e)&&(hl=null,hp=Ar()+500,wh(t,e));do try{Yq();break}catch(a){TU(t,a)}while(1);e9(),Vv.current=s,nn=i,Cr!==null?e=0:(qr=null,ai=0,e=Or)}if(e!==0){if(e===2&&(i=IS(t),i!==0&&(r=i,e=t4(t,i))),e===1)throw n=Eg,wh(t,0),wc(t,r),ss(t,Ar()),n;if(e===6)wc(t,r);else{if(i=t.current.alternate,!(r&30)&&!Xq(i)&&(e=$v(t,r),e===2&&(s=IS(t),s!==0&&(r=s,e=t4(t,s))),e===1))throw n=Eg,wh(t,0),wc(t,r),ss(t,Ar()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ne(345));case 2:Ku(t,qi,hl);break;case 3:if(wc(t,r),(r&130023424)===r&&(e=m9+500-Ar(),10<e)){if(Mv(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Gi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=OS(Ku.bind(null,t,qi,hl),e);break}Ku(t,qi,hl);break;case 4:if(wc(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Qo(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ar()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Kq(r/1960))-r,10<r){t.timeoutHandle=OS(Ku.bind(null,t,qi,hl),r);break}Ku(t,qi,hl);break;case 5:Ku(t,qi,hl);break;default:throw Error(Ne(329))}}}return ss(t,Ar()),t.callbackNode===n?wU.bind(null,t):null}function t4(t,e){var n=Om;return t.current.memoizedState.isDehydrated&&(wh(t,e).flags|=256),t=$v(t,e),t!==2&&(e=qi,qi=n,e!==null&&n4(e)),t}function n4(t){qi===null?qi=t:qi.push.apply(qi,t)}function Xq(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!$o(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function wc(t,e){for(e&=~p9,e&=~A5,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Qo(e),r=1<<n;t[n]=-1,e&=~r}}function pR(t){if(nn&6)throw Error(Ne(327));Qd();var e=Mv(t,0);if(!(e&1))return ss(t,Ar()),null;var n=$v(t,e);if(t.tag!==0&&n===2){var r=IS(t);r!==0&&(e=r,n=t4(t,r))}if(n===1)throw n=Eg,wh(t,0),wc(t,e),ss(t,Ar()),n;if(n===6)throw Error(Ne(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ku(t,qi,hl),ss(t,Ar()),null}function g9(t,e){var n=nn;nn|=1;try{return t(e)}finally{nn=n,nn===0&&(hp=Ar()+500,d5&&fu())}}function kh(t){Mc!==null&&Mc.tag===0&&!(nn&6)&&Qd();var e=nn;nn|=1;var n=oo.transition,r=dn;try{if(oo.transition=null,dn=1,t)return t()}finally{dn=r,oo.transition=n,nn=e,!(nn&6)&&fu()}}function A9(){ys=Sd.current,kn(Sd)}function wh(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,wq(n)),Cr!==null)for(n=Cr.return;n!==null;){var r=n;switch(Yw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Lv();break;case 3:cp(),kn(rs),kn(wi),o9();break;case 5:s9(r);break;case 4:cp();break;case 13:kn(Xn);break;case 19:kn(Xn);break;case 10:t9(r.type._context);break;case 22:case 23:A9()}n=n.return}if(qr=t,Cr=t=Uc(t.current,null),ai=ys=e,Or=0,Eg=null,p9=A5=Nh=0,qi=Om=null,fh!==null){for(e=0;e<fh.length;e++)if(n=fh[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}fh=null}return t}function TU(t,e){do{var n=Cr;try{if(e9(),Y2.current=zv,Qv){for(var r=er.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Qv=!1}if(Fh=0,Kr=Br=er=null,Dm=!1,vg=0,d9.current=null,n===null||n.return===null){Or=1,Eg=e,Cr=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=ai,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=tR(o);if(m!==null){m.flags&=-257,nR(m,o,a,s,e),m.mode&1&&eR(s,c,e),e=m,l=c;var g=e.updateQueue;if(g===null){var E=new Set;E.add(l),e.updateQueue=E}else g.add(l);break e}else{if(!(e&1)){eR(s,c,e),v9();break e}l=Error(Ne(426))}}else if(jn&&a.mode&1){var x=tR(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),nR(x,o,a,s,e),qw(up(l,a));break e}}s=l=up(l,a),Or!==4&&(Or=2),Om===null?Om=[s]:Om.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var A=cU(s,l,e);$M(s,A);break e;case 1:a=l;var v=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Nc===null||!Nc.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=uU(s,a,e);$M(s,S);break e}}s=s.return}while(s!==null)}MU(n)}catch(w){e=w,Cr===n&&n!==null&&(Cr=n=n.return);continue}break}while(1)}function IU(){var t=Vv.current;return Vv.current=zv,t===null?zv:t}function v9(){(Or===0||Or===3||Or===2)&&(Or=4),qr===null||!(Nh&268435455)&&!(A5&268435455)||wc(qr,ai)}function $v(t,e){var n=nn;nn|=2;var r=IU();(qr!==t||ai!==e)&&(hl=null,wh(t,e));do try{Jq();break}catch(i){TU(t,i)}while(1);if(e9(),nn=n,Vv.current=r,Cr!==null)throw Error(Ne(261));return qr=null,ai=0,Or}function Jq(){for(;Cr!==null;)bU(Cr)}function Yq(){for(;Cr!==null&&!_Y();)bU(Cr)}function bU(t){var e=BU(t.alternate,t,ys);t.memoizedProps=t.pendingProps,e===null?MU(t):Cr=e,d9.current=null}function MU(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Vq(n,e),n!==null){n.flags&=32767,Cr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Or=6,Cr=null;return}}else if(n=zq(n,e,ys),n!==null){Cr=n;return}if(e=e.sibling,e!==null){Cr=e;return}Cr=e=t}while(e!==null);Or===0&&(Or=5)}function Ku(t,e,n){var r=dn,i=oo.transition;try{oo.transition=null,dn=1,qq(t,e,n,r)}finally{oo.transition=i,dn=r}return null}function qq(t,e,n,r){do Qd();while(Mc!==null);if(nn&6)throw Error(Ne(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ne(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(PY(t,s),t===qr&&(Cr=qr=null,ai=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||S1||(S1=!0,PU(bv,function(){return Qd(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=oo.transition,oo.transition=null;var o=dn;dn=1;var a=nn;nn|=4,d9.current=null,jq(t,n),SU(n,t),vq(DS),Rv=!!PS,DS=PS=null,t.current=n,$q(n),SY(),nn=a,dn=o,oo.transition=s}else t.current=n;if(S1&&(S1=!1,Mc=t,jv=i),s=t.pendingLanes,s===0&&(Nc=null),TY(n.stateNode),ss(t,Ar()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wv)throw Wv=!1,t=ZS,ZS=null,t;return jv&1&&t.tag!==0&&Qd(),s=t.pendingLanes,s&1?t===e4?Fm++:(Fm=0,e4=t):Fm=0,fu(),null}function Qd(){if(Mc!==null){var t=lk(jv),e=oo.transition,n=dn;try{if(oo.transition=null,dn=16>t?16:t,Mc===null)var r=!1;else{if(t=Mc,Mc=null,jv=0,nn&6)throw Error(Ne(331));var i=nn;for(nn|=4,tt=t.current;tt!==null;){var s=tt,o=s.child;if(tt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(tt=c;tt!==null;){var u=tt;switch(u.tag){case 0:case 11:case 15:Lm(8,u,s)}var h=u.child;if(h!==null)h.return=u,tt=h;else for(;tt!==null;){u=tt;var f=u.sibling,m=u.return;if(xU(u),u===c){tt=null;break}if(f!==null){f.return=m,tt=f;break}tt=m}}}var g=s.alternate;if(g!==null){var E=g.child;if(E!==null){g.child=null;do{var x=E.sibling;E.sibling=null,E=x}while(E!==null)}}tt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,tt=o;else e:for(;tt!==null;){if(s=tt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Lm(9,s,s.return)}var A=s.sibling;if(A!==null){A.return=s.return,tt=A;break e}tt=s.return}}var v=t.current;for(tt=v;tt!==null;){o=tt;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,tt=y;else e:for(o=v;tt!==null;){if(a=tt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:g5(9,a)}}catch(w){lr(a,a.return,w)}if(a===o){tt=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,tt=S;break e}tt=a.return}}if(nn=i,fu(),ba&&typeof ba.onPostCommitFiberRoot=="function")try{ba.onPostCommitFiberRoot(l5,t)}catch{}r=!0}return r}finally{dn=n,oo.transition=e}}return!1}function mR(t,e,n){e=up(n,e),e=cU(t,e,1),t=Fc(t,e,1),e=Gi(),t!==null&&(f3(t,1,e),ss(t,e))}function lr(t,e,n){if(t.tag===3)mR(t,t,n);else for(;e!==null;){if(e.tag===3){mR(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Nc===null||!Nc.has(r))){t=up(n,t),t=uU(e,t,1),e=Fc(e,t,1),t=Gi(),e!==null&&(f3(e,1,t),ss(e,t));break}}e=e.return}}function Zq(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Gi(),t.pingedLanes|=t.suspendedLanes&n,qr===t&&(ai&n)===n&&(Or===4||Or===3&&(ai&130023424)===ai&&500>Ar()-m9?wh(t,0):p9|=n),ss(t,e)}function RU(t,e){e===0&&(t.mode&1?(e=d1,d1<<=1,!(d1&130023424)&&(d1=4194304)):e=1);var n=Gi();t=Pl(t,e),t!==null&&(f3(t,e,n),ss(t,n))}function eZ(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),RU(t,n)}function tZ(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ne(314))}r!==null&&r.delete(e),RU(t,n)}var BU;BU=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||rs.current)ts=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ts=!1,Qq(t,e,n);ts=!!(t.flags&131072)}else ts=!1,jn&&e.flags&1048576&&Lk(e,Nv,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Z2(t,e),t=e.pendingProps;var i=op(e,wi.current);Hd(e,n),i=l9(null,e,r,t,i,n);var s=c9();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,is(r)?(s=!0,Ov(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,r9(e),i.updater=p5,e.stateNode=i,i._reactInternals=e,QS(e,r,t,n),e=WS(null,e,r,!0,s,n)):(e.tag=0,jn&&s&&Jw(e),Ni(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Z2(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=rZ(r),t=Oo(r,t),i){case 0:e=VS(null,e,r,t,n);break e;case 1:e=sR(null,e,r,t,n);break e;case 11:e=rR(null,e,r,t,n);break e;case 14:e=iR(null,e,r,Oo(r.type,t),n);break e}throw Error(Ne(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Oo(r,i),VS(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Oo(r,i),sR(t,e,r,i,n);case 3:e:{if(pU(e),t===null)throw Error(Ne(387));r=e.pendingProps,s=e.memoizedState,i=s.element,kk(t,e),Gv(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=up(Error(Ne(423)),e),e=oR(t,e,r,n,i);break e}else if(r!==i){i=up(Error(Ne(424)),e),e=oR(t,e,r,n,i);break e}else for(Ss=Oc(e.stateNode.containerInfo.firstChild),Cs=e,jn=!0,ko=null,n=Qk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ap(),r===i){e=Dl(t,e,n);break e}Ni(t,e,r,n)}e=e.child}return e;case 5:return zk(e),t===null&&US(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,LS(r,i)?o=null:s!==null&&LS(r,s)&&(e.flags|=32),dU(t,e),Ni(t,e,o,n),e.child;case 6:return t===null&&US(e),null;case 13:return mU(t,e,n);case 4:return i9(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=lp(e,null,r,n):Ni(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Oo(r,i),rR(t,e,r,i,n);case 7:return Ni(t,e,e.pendingProps,n),e.child;case 8:return Ni(t,e,e.pendingProps.children,n),e.child;case 12:return Ni(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,bn(kv,r._currentValue),r._currentValue=o,s!==null)if($o(s.value,o)){if(s.children===i.children&&!rs.current){e=Dl(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Sl(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),GS(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ne(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),GS(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ni(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Hd(e,n),i=ho(i),r=r(i),e.flags|=1,Ni(t,e,r,n),e.child;case 14:return r=e.type,i=Oo(r,e.pendingProps),i=Oo(r.type,i),iR(t,e,r,i,n);case 15:return hU(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Oo(r,i),Z2(t,e),e.tag=1,is(r)?(t=!0,Ov(e)):t=!1,Hd(e,n),Gk(e,r,i),QS(e,r,i,n),WS(null,e,r,!0,t,n);case 19:return gU(t,e,n);case 22:return fU(t,e,n)}throw Error(Ne(156,e.tag))};function PU(t,e){return ik(t,e)}function nZ(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function io(t,e,n,r){return new nZ(t,e,n,r)}function y9(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rZ(t){if(typeof t=="function")return y9(t)?1:0;if(t!=null){if(t=t.$$typeof,t===kw)return 11;if(t===Uw)return 14}return 2}function Uc(t,e){var n=t.alternate;return n===null?(n=io(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function nv(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")y9(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case dd:return Th(n.children,i,s,e);case Nw:o=8,i|=8;break;case fS:return t=io(12,n,e,i|2),t.elementType=fS,t.lanes=s,t;case dS:return t=io(13,n,e,i),t.elementType=dS,t.lanes=s,t;case pS:return t=io(19,n,e,i),t.elementType=pS,t.lanes=s,t;case HN:return v5(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case UN:o=10;break e;case GN:o=9;break e;case kw:o=11;break e;case Uw:o=14;break e;case yc:o=16,r=null;break e}throw Error(Ne(130,t==null?t:typeof t,""))}return e=io(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Th(t,e,n,r){return t=io(7,t,r,e),t.lanes=n,t}function v5(t,e,n,r){return t=io(22,t,r,e),t.elementType=HN,t.lanes=n,t.stateNode={isHidden:!1},t}function ZE(t,e,n){return t=io(6,t,null,e),t.lanes=n,t}function e8(t,e,n){return e=io(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function iZ(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=LE(0),this.expirationTimes=LE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=LE(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function x9(t,e,n,r,i,s,o,a,l){return t=new iZ(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=io(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},r9(s),t}function sZ(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fd,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function DU(t){if(!t)return Jc;t=t._reactInternals;e:{if(Zh(t)!==t||t.tag!==1)throw Error(Ne(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(is(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ne(171))}if(t.tag===1){var n=t.type;if(is(n))return Pk(t,n,e)}return e}function LU(t,e,n,r,i,s,o,a,l){return t=x9(n,r,!0,t,i,s,o,a,l),t.context=DU(null),n=t.current,r=Gi(),i=kc(n),s=Sl(r,i),s.callback=e??null,Fc(n,s,i),t.current.lanes=i,f3(t,i,r),ss(t,r),t}function y5(t,e,n,r){var i=e.current,s=Gi(),o=kc(i);return n=DU(n),e.context===null?e.context=n:e.pendingContext=n,e=Sl(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Fc(i,e,o),t!==null&&(zo(t,i,o,s),J2(t,i,o)),o}function Kv(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function gR(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function E9(t,e){gR(t,e),(t=t.alternate)&&gR(t,e)}function oZ(){return null}var OU=typeof reportError=="function"?reportError:function(t){console.error(t)};function _9(t){this._internalRoot=t}x5.prototype.render=_9.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ne(409));y5(t,e,null,null)};x5.prototype.unmount=_9.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;kh(function(){y5(null,t,null,null)}),e[Bl]=null}};function x5(t){this._internalRoot=t}x5.prototype.unstable_scheduleHydration=function(t){if(t){var e=hk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Cc.length&&e!==0&&e<Cc[n].priority;n++);Cc.splice(n,0,t),n===0&&dk(t)}};function S9(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function E5(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function AR(){}function aZ(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Kv(o);s.call(c)}}var o=LU(e,r,t,0,null,!1,!1,"",AR);return t._reactRootContainer=o,t[Bl]=o.current,dg(t.nodeType===8?t.parentNode:t),kh(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Kv(l);a.call(c)}}var l=x9(t,0,!1,null,null,!1,!1,"",AR);return t._reactRootContainer=l,t[Bl]=l.current,dg(t.nodeType===8?t.parentNode:t),kh(function(){y5(e,l,n,r)}),l}function _5(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Kv(o);a.call(l)}}y5(e,o,t,i)}else o=aZ(n,e,t,i,r);return Kv(o)}ck=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=gm(e.pendingLanes);n!==0&&(Qw(e,n|1),ss(e,Ar()),!(nn&6)&&(hp=Ar()+500,fu()))}break;case 13:kh(function(){var r=Pl(t,1);if(r!==null){var i=Gi();zo(r,t,1,i)}}),E9(t,1)}};zw=function(t){if(t.tag===13){var e=Pl(t,134217728);if(e!==null){var n=Gi();zo(e,t,134217728,n)}E9(t,134217728)}};uk=function(t){if(t.tag===13){var e=kc(t),n=Pl(t,e);if(n!==null){var r=Gi();zo(n,t,e,r)}E9(t,e)}};hk=function(){return dn};fk=function(t,e){var n=dn;try{return dn=t,e()}finally{dn=n}};CS=function(t,e,n){switch(e){case"input":if(AS(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=f5(r);if(!i)throw Error(Ne(90));zN(r),AS(r,i)}}}break;case"textarea":WN(t,n);break;case"select":e=n.value,e!=null&&Nd(t,!!n.multiple,e,!1)}};qN=g9;ZN=kh;var lZ={usingClientEntryPoint:!1,Events:[p3,Ad,f5,JN,YN,g9]},F0={findFiberByHostInstance:hh,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},cZ={bundleType:F0.bundleType,version:F0.version,rendererPackageName:F0.rendererPackageName,rendererConfig:F0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=nk(t),t===null?null:t.stateNode},findFiberByHostInstance:F0.findFiberByHostInstance||oZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var C1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!C1.isDisabled&&C1.supportsFiber)try{l5=C1.inject(cZ),ba=C1}catch{}}Ls.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lZ;Ls.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!S9(e))throw Error(Ne(200));return sZ(t,e,null,n)};Ls.createRoot=function(t,e){if(!S9(t))throw Error(Ne(299));var n=!1,r="",i=OU;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=x9(t,1,!1,null,null,n,!1,r,i),t[Bl]=e.current,dg(t.nodeType===8?t.parentNode:t),new _9(e)};Ls.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ne(188)):(t=Object.keys(t).join(","),Error(Ne(268,t)));return t=nk(e),t=t===null?null:t.stateNode,t};Ls.flushSync=function(t){return kh(t)};Ls.hydrate=function(t,e,n){if(!E5(e))throw Error(Ne(200));return _5(null,t,e,!0,n)};Ls.hydrateRoot=function(t,e,n){if(!S9(t))throw Error(Ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=OU;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=LU(e,null,t,1,n??null,i,!1,s,o),t[Bl]=e.current,dg(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new x5(e)};Ls.render=function(t,e,n){if(!E5(e))throw Error(Ne(200));return _5(null,t,e,!1,n)};Ls.unmountComponentAtNode=function(t){if(!E5(t))throw Error(Ne(40));return t._reactRootContainer?(kh(function(){_5(null,null,t,!1,function(){t._reactRootContainer=null,t[Bl]=null})}),!0):!1};Ls.unstable_batchedUpdates=g9;Ls.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!E5(n))throw Error(Ne(200));if(t==null||t._reactInternals===void 0)throw Error(Ne(38));return _5(t,e,n,!1,r)};Ls.version="18.2.0-next-9e3b772b8-20220608";function FU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(FU)}catch(t){console.error(t)}}FU(),LN.exports=Ls;var NU=LN.exports,kU,vR=NU;kU=uS.createRoot=vR.createRoot,uS.hydrateRoot=vR.hydrateRoot;const UU=Q.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),S5=Q.createContext({}),C9=Q.createContext(null),C5=typeof document<"u",uZ=C5?Q.useLayoutEffect:Q.useEffect,GU=Q.createContext({strict:!1});function hZ(t,e,n,r){const{visualElement:i}=Q.useContext(S5),s=Q.useContext(GU),o=Q.useContext(C9),a=Q.useContext(UU).reducedMotion,l=Q.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;Q.useInsertionEffect(()=>{c&&c.update(n,o)});const u=Q.useRef(!!window.HandoffAppearAnimations);return uZ(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),Q.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,u.current=!1)}),c}function Cd(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function fZ(t,e,n){return Q.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Cd(n)&&(n.current=r))},[e])}function _g(t){return typeof t=="string"||Array.isArray(t)}function w5(t){return typeof t=="object"&&typeof t.start=="function"}const w9=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],T9=["initial",...w9];function T5(t){return w5(t.animate)||T9.some(e=>_g(t[e]))}function HU(t){return!!(T5(t)||t.variants)}function dZ(t,e){if(T5(t)){const{initial:n,animate:r}=t;return{initial:n===!1||_g(n)?n:void 0,animate:_g(r)?r:void 0}}return t.inherit!==!1?e:{}}function pZ(t){const{initial:e,animate:n}=dZ(t,Q.useContext(S5));return Q.useMemo(()=>({initial:e,animate:n}),[yR(e),yR(n)])}function yR(t){return Array.isArray(t)?t.join(" "):t}const xR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Sg={};for(const t in xR)Sg[t]={isEnabled:e=>xR[t].some(n=>!!e[n])};function mZ(t){for(const e in t)Sg[e]={...Sg[e],...t[e]}}const QU=Q.createContext({}),zU=Q.createContext({}),gZ=Symbol.for("motionComponentSymbol");function AZ({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&mZ(t);function s(a,l){let c;const u={...Q.useContext(UU),...a,layoutId:vZ(a)},{isStatic:h}=u,f=pZ(a),m=r(a,h);if(!h&&C5){f.visualElement=hZ(i,m,u,e);const g=Q.useContext(zU),E=Q.useContext(GU).strict;f.visualElement&&(c=f.visualElement.loadFeatures(u,E,t,g))}return Q.createElement(S5.Provider,{value:f},c&&f.visualElement?Q.createElement(c,{visualElement:f.visualElement,...u}):null,n(i,a,fZ(m,f.visualElement,l),m,h,f.visualElement))}const o=Q.forwardRef(s);return o[gZ]=i,o}function vZ({layoutId:t}){const e=Q.useContext(QU).id;return e&&t!==void 0?e+"-"+t:t}function yZ(t){function e(r,i={}){return AZ(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const xZ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function I9(t){return typeof t!="string"||t.includes("-")?!1:!!(xZ.indexOf(t)>-1||/[A-Z]/.test(t))}const Xv={};function EZ(t){Object.assign(Xv,t)}const g3=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ef=new Set(g3);function VU(t,{layout:e,layoutId:n}){return ef.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Xv[t]||t==="opacity")}const as=t=>!!(t&&t.getVelocity),_Z={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},SZ=g3.length;function CZ(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<SZ;o++){const a=g3[o];if(t[a]!==void 0){const l=_Z[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const WU=t=>e=>typeof e=="string"&&e.startsWith(t),jU=WU("--"),r4=WU("var(--"),wZ=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,TZ=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Yc=(t,e,n)=>Math.min(Math.max(n,t),e),tf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Nm={...tf,transform:t=>Yc(0,1,t)},w1={...tf,default:1},km=t=>Math.round(t*1e5)/1e5,I5=/(-)?([\d]*\.?[\d])+/g,$U=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,IZ=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function A3(t){return typeof t=="string"}const v3=t=>({test:e=>A3(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ac=v3("deg"),Ra=v3("%"),vt=v3("px"),bZ=v3("vh"),MZ=v3("vw"),ER={...Ra,parse:t=>Ra.parse(t)/100,transform:t=>Ra.transform(t*100)},_R={...tf,transform:Math.round},KU={borderWidth:vt,borderTopWidth:vt,borderRightWidth:vt,borderBottomWidth:vt,borderLeftWidth:vt,borderRadius:vt,radius:vt,borderTopLeftRadius:vt,borderTopRightRadius:vt,borderBottomRightRadius:vt,borderBottomLeftRadius:vt,width:vt,maxWidth:vt,height:vt,maxHeight:vt,size:vt,top:vt,right:vt,bottom:vt,left:vt,padding:vt,paddingTop:vt,paddingRight:vt,paddingBottom:vt,paddingLeft:vt,margin:vt,marginTop:vt,marginRight:vt,marginBottom:vt,marginLeft:vt,rotate:Ac,rotateX:Ac,rotateY:Ac,rotateZ:Ac,scale:w1,scaleX:w1,scaleY:w1,scaleZ:w1,skew:Ac,skewX:Ac,skewY:Ac,distance:vt,translateX:vt,translateY:vt,translateZ:vt,x:vt,y:vt,z:vt,perspective:vt,transformPerspective:vt,opacity:Nm,originX:ER,originY:ER,originZ:vt,zIndex:_R,fillOpacity:Nm,strokeOpacity:Nm,numOctaves:_R};function b9(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,c=!1,u=!0;for(const h in e){const f=e[h];if(jU(h)){s[h]=f;continue}const m=KU[h],g=TZ(f,m);if(ef.has(h)){if(l=!0,o[h]=g,!u)continue;f!==(m.default||0)&&(u=!1)}else h.startsWith("origin")?(c=!0,a[h]=g):i[h]=g}if(e.transform||(l||r?i.transform=CZ(t.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:h="50%",originY:f="50%",originZ:m=0}=a;i.transformOrigin=`${h} ${f} ${m}`}}const M9=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function XU(t,e,n){for(const r in e)!as(e[r])&&!VU(r,n)&&(t[r]=e[r])}function RZ({transformTemplate:t},e,n){return Q.useMemo(()=>{const r=M9();return b9(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function BZ(t,e,n){const r=t.style||{},i={};return XU(i,r,t),Object.assign(i,RZ(t,e,n)),t.transformValues?t.transformValues(i):i}function PZ(t,e,n){const r={},i=BZ(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const DZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Jv(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||DZ.has(t)}let JU=t=>!Jv(t);function LZ(t){t&&(JU=e=>e.startsWith("on")?!Jv(e):t(e))}try{LZ(require("@emotion/is-prop-valid").default)}catch{}function OZ(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(JU(i)||n===!0&&Jv(i)||!e&&!Jv(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function SR(t,e,n){return typeof t=="string"?t:vt.transform(e+n*t)}function FZ(t,e,n){const r=SR(e,t.x,t.width),i=SR(n,t.y,t.height);return`${r} ${i}`}const NZ={offset:"stroke-dashoffset",array:"stroke-dasharray"},kZ={offset:"strokeDashoffset",array:"strokeDasharray"};function UZ(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?NZ:kZ;t[s.offset]=vt.transform(-r);const o=vt.transform(e),a=vt.transform(n);t[s.array]=`${o} ${a}`}function R9(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,h,f){if(b9(t,c,u,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:g,dimensions:E}=t;m.transform&&(E&&(g.transform=m.transform),delete m.transform),E&&(i!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=FZ(E,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&UZ(m,o,a,l,!1)}const YU=()=>({...M9(),attrs:{}}),B9=t=>typeof t=="string"&&t.toLowerCase()==="svg";function GZ(t,e,n,r){const i=Q.useMemo(()=>{const s=YU();return R9(s,e,{enableHardwareAcceleration:!1},B9(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};XU(s,t.style,t),i.style={...s,...i.style}}return i}function HZ(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(I9(n)?GZ:PZ)(r,s,o,n),u={...OZ(r,typeof n=="string",t),...l,ref:i},{children:h}=r,f=Q.useMemo(()=>as(h)?h.get():h,[h]);return Q.createElement(n,{...u,children:f})}}const P9=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function qU(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const ZU=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function eG(t,e,n,r){qU(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(ZU.has(i)?i:P9(i),e.attrs[i])}function D9(t,e){const{style:n}=t,r={};for(const i in n)(as(n[i])||e.style&&as(e.style[i])||VU(i,t))&&(r[i]=n[i]);return r}function tG(t,e){const n=D9(t,e);for(const r in t)if(as(t[r])||as(e[r])){const i=g3.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function L9(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function QZ(t){const e=Q.useRef(null);return e.current===null&&(e.current=t()),e.current}const Yv=t=>Array.isArray(t),zZ=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),VZ=t=>Yv(t)?t[t.length-1]||0:t;function rv(t){const e=as(t)?t.get():t;return zZ(e)?e.toValue():e}function WZ({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:jZ(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const nG=t=>(e,n)=>{const r=Q.useContext(S5),i=Q.useContext(C9),s=()=>WZ(t,e,r,i);return n?s():QZ(s)};function jZ(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=rv(s[f]);let{initial:o,animate:a}=t;const l=T5(t),c=HU(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?a:o;return h&&typeof h!="boolean"&&!w5(h)&&(Array.isArray(h)?h:[h]).forEach(m=>{const g=L9(t,m);if(!g)return;const{transitionEnd:E,transition:x,...A}=g;for(const v in A){let y=A[v];if(Array.isArray(y)){const S=u?y.length-1:0;y=y[S]}y!==null&&(i[v]=y)}for(const v in E)i[v]=E[v]}),i}const hr=t=>t;class CR{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function $Z(t){let e=new CR,n=new CR,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const h=u&&i,f=h?e:n;return c&&o.add(l),f.add(l)&&h&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const u=e.order[c];u(l),o.has(u)&&(a.schedule(u),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const T1=["prepare","read","update","preRender","render","postRender"],KZ=40;function XZ(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=T1.reduce((h,f)=>(h[f]=$Z(()=>n=!0),h),{}),o=h=>s[h].process(i),a=()=>{const h=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,KZ),1),i.timestamp=h,i.isProcessing=!0,T1.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:T1.reduce((h,f)=>{const m=s[f];return h[f]=(g,E=!1,x=!1)=>(n||l(),m.schedule(g,E,x)),h},{}),cancel:h=>T1.forEach(f=>s[f].cancel(h)),state:i,steps:s}}const{schedule:Un,cancel:Ll,state:jr,steps:t8}=XZ(typeof requestAnimationFrame<"u"?requestAnimationFrame:hr,!0),JZ={useVisualState:nG({scrapeMotionValuesFromProps:tG,createRenderState:YU,onMount:(t,e,{renderState:n,latestValues:r})=>{Un.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Un.render(()=>{R9(n,r,{enableHardwareAcceleration:!1},B9(e.tagName),t.transformTemplate),eG(e,n)})}})},YZ={useVisualState:nG({scrapeMotionValuesFromProps:D9,createRenderState:M9})};function qZ(t,{forwardMotionProps:e=!1},n,r){return{...I9(t)?JZ:YZ,preloadedFeatures:n,useRender:HZ(e),createVisualElement:r,Component:t}}function vl(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const rG=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function b5(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const ZZ=t=>e=>rG(e)&&t(e,b5(e));function Cl(t,e,n,r){return vl(t,e,ZZ(n),r)}const eee=(t,e)=>n=>e(t(n)),Gc=(...t)=>t.reduce(eee);function iG(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const wR=iG("dragHorizontal"),TR=iG("dragVertical");function sG(t){let e=!1;if(t==="y")e=TR();else if(t==="x")e=wR();else{const n=wR(),r=TR();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function oG(){const t=sG(!0);return t?(t(),!1):!0}class du{constructor(e){this.isMounted=!1,this.node=e}update(){}}function IR(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||oG())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Un.update(()=>a[r](s,o))};return Cl(t.current,n,i,{passive:!t.getProps()[r]})}class tee extends du{mount(){this.unmount=Gc(IR(this.node,!0),IR(this.node,!1))}unmount(){}}class nee extends du{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gc(vl(this.node.current,"focus",()=>this.onFocus()),vl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const aG=(t,e)=>e?t===e?!0:aG(t,e.parentElement):!1;function n8(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,b5(n))}class ree extends du{constructor(){super(...arguments),this.removeStartListeners=hr,this.removeEndListeners=hr,this.removeAccessibleListeners=hr,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=Cl(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u}=this.node.getProps();Un.update(()=>{aG(this.node.current,a.target)?c&&c(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Cl(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Gc(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||n8("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&Un.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=vl(this.node.current,"keyup",o),n8("down",(a,l)=>{this.startPress(a,l)})},n=vl(this.node.current,"keydown",e),r=()=>{this.isPressing&&n8("cancel",(s,o)=>this.cancelPress(s,o))},i=vl(this.node.current,"blur",r);this.removeAccessibleListeners=Gc(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Un.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!oG()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Un.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Cl(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=vl(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Gc(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const i4=new WeakMap,r8=new WeakMap,iee=t=>{const e=i4.get(t.target);e&&e(t)},see=t=>{t.forEach(iee)};function oee({root:t,...e}){const n=t||document;r8.has(n)||r8.set(n,{});const r=r8.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(see,{root:t,...e})),r[i]}function aee(t,e,n){const r=oee(e);return i4.set(t,n),r.observe(t),()=>{i4.delete(t),r.unobserve(t)}}const lee={some:0,all:1};class cee extends du{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:lee[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),f=c?u:h;f&&f(l)};return aee(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(uee(e,n))&&this.startObserver()}unmount(){}}function uee({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const hee={inView:{Feature:cee},tap:{Feature:ree},focus:{Feature:nee},hover:{Feature:tee}};function lG(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function fee(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function dee(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function M5(t,e,n){const r=t.getProps();return L9(r,e,n!==void 0?n:r.custom,fee(t),dee(t))}const pee="framerAppearId",mee="data-"+P9(pee);let gee=hr,O9=hr;const Hc=t=>t*1e3,wl=t=>t/1e3,Aee={current:!1},cG=t=>Array.isArray(t)&&typeof t[0]=="number";function uG(t){return!!(!t||typeof t=="string"&&hG[t]||cG(t)||Array.isArray(t)&&t.every(uG))}const vm=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,hG={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vm([0,.65,.55,1]),circOut:vm([.55,0,1,.45]),backIn:vm([.31,.01,.66,-.59]),backOut:vm([.33,1.53,.69,.99])};function fG(t){if(t)return cG(t)?vm(t):Array.isArray(t)?t.map(fG):hG[t]}function vee(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=fG(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function yee(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const dG=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,xee=1e-7,Eee=12;function _ee(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=dG(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>xee&&++a<Eee);return o}function y3(t,e,n,r){if(t===e&&n===r)return hr;const i=s=>_ee(s,0,1,t,n);return s=>s===0||s===1?s:dG(i(s),e,r)}const See=y3(.42,0,1,1),Cee=y3(0,0,.58,1),pG=y3(.42,0,.58,1),wee=t=>Array.isArray(t)&&typeof t[0]!="number",mG=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,gG=t=>e=>1-t(1-e),AG=t=>1-Math.sin(Math.acos(t)),F9=gG(AG),Tee=mG(F9),vG=y3(.33,1.53,.69,.99),N9=gG(vG),Iee=mG(N9),bee=t=>(t*=2)<1?.5*N9(t):.5*(2-Math.pow(2,-10*(t-1))),Mee={linear:hr,easeIn:See,easeInOut:pG,easeOut:Cee,circIn:AG,circInOut:Tee,circOut:F9,backIn:N9,backInOut:Iee,backOut:vG,anticipate:bee},bR=t=>{if(Array.isArray(t)){O9(t.length===4);const[e,n,r,i]=t;return y3(e,n,r,i)}else if(typeof t=="string")return Mee[t];return t},k9=(t,e)=>n=>!!(A3(n)&&IZ.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),yG=(t,e,n)=>r=>{if(!A3(r))return r;const[i,s,o,a]=r.match(I5);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Ree=t=>Yc(0,255,t),i8={...tf,transform:t=>Math.round(Ree(t))},ph={test:k9("rgb","red"),parse:yG("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+i8.transform(t)+", "+i8.transform(e)+", "+i8.transform(n)+", "+km(Nm.transform(r))+")"};function Bee(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const s4={test:k9("#"),parse:Bee,transform:ph.transform},wd={test:k9("hsl","hue"),parse:yG("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ra.transform(km(e))+", "+Ra.transform(km(n))+", "+km(Nm.transform(r))+")"},Fi={test:t=>ph.test(t)||s4.test(t)||wd.test(t),parse:t=>ph.test(t)?ph.parse(t):wd.test(t)?wd.parse(t):s4.parse(t),transform:t=>A3(t)?t:t.hasOwnProperty("red")?ph.transform(t):wd.transform(t)},Jn=(t,e,n)=>-n*t+n*e+t;function s8(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Pee({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=s8(l,a,t+1/3),s=s8(l,a,t),o=s8(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const o8=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},Dee=[s4,ph,wd],Lee=t=>Dee.find(e=>e.test(t));function MR(t){const e=Lee(t);let n=e.parse(t);return e===wd&&(n=Pee(n)),n}const xG=(t,e)=>{const n=MR(t),r=MR(e),i={...n};return s=>(i.red=o8(n.red,r.red,s),i.green=o8(n.green,r.green,s),i.blue=o8(n.blue,r.blue,s),i.alpha=Jn(n.alpha,r.alpha,s),ph.transform(i))};function Oee(t){var e,n;return isNaN(t)&&A3(t)&&(((e=t.match(I5))===null||e===void 0?void 0:e.length)||0)+(((n=t.match($U))===null||n===void 0?void 0:n.length)||0)>0}const EG={regex:wZ,countKey:"Vars",token:"${v}",parse:hr},_G={regex:$U,countKey:"Colors",token:"${c}",parse:Fi.parse},SG={regex:I5,countKey:"Numbers",token:"${n}",parse:tf.parse};function a8(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function qv(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&a8(n,EG),a8(n,_G),a8(n,SG),n}function CG(t){return qv(t).values}function wG(t){const{values:e,numColors:n,numVars:r,tokenised:i}=qv(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(EG.token,o[l]):l<r+n?a=a.replace(_G.token,Fi.transform(o[l])):a=a.replace(SG.token,km(o[l]));return a}}const Fee=t=>typeof t=="number"?0:t;function Nee(t){const e=CG(t);return wG(t)(e.map(Fee))}const qc={test:Oee,parse:CG,createTransformer:wG,getAnimatableNone:Nee},TG=(t,e)=>n=>`${n>0?e:t}`;function IG(t,e){return typeof t=="number"?n=>Jn(t,e,n):Fi.test(t)?xG(t,e):t.startsWith("var(")?TG(t,e):MG(t,e)}const bG=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>IG(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},kee=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=IG(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},MG=(t,e)=>{const n=qc.createTransformer(e),r=qv(t),i=qv(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Gc(bG(r.values,i.values),n):TG(t,e)},Cg=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},RR=(t,e)=>n=>Jn(t,e,n);function Uee(t){return typeof t=="number"?RR:typeof t=="string"?Fi.test(t)?xG:MG:Array.isArray(t)?bG:typeof t=="object"?kee:RR}function Gee(t,e,n){const r=[],i=n||Uee(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||hr:e;a=Gc(l,a)}r.push(a)}return r}function RG(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(O9(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Gee(e,r,i),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const h=Cg(t[u],t[u+1],c);return o[u](h)};return n?c=>l(Yc(t[0],t[s-1],c)):l}function Hee(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Cg(0,e,r);t.push(Jn(n,1,i))}}function Qee(t){const e=[0];return Hee(e,t.length-1),e}function zee(t,e){return t.map(n=>n*e)}function Vee(t,e){return t.map(()=>e||pG).splice(0,t.length-1)}function Zv({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=wee(r)?r.map(bR):bR(r),s={done:!1,value:e[0]},o=zee(n&&n.length===e.length?n:Qee(e),t),a=RG(o,e,{ease:Array.isArray(i)?i:Vee(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function BG(t,e){return e?t*(1e3/e):0}const Wee=5;function PG(t,e,n){const r=Math.max(e-Wee,0);return BG(n-t(r),e-r)}const l8=.001,jee=.01,BR=10,$ee=.05,Kee=1;function Xee({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;gee(t<=Hc(BR));let o=1-e;o=Yc($ee,Kee,o),t=Yc(jee,BR,wl(t)),o<1?(i=c=>{const u=c*o,h=u*t,f=u-n,m=o4(c,o),g=Math.exp(-h);return l8-f/m*g},s=c=>{const h=c*o*t,f=h*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,g=Math.exp(-h),E=o4(Math.pow(c,2),o);return(-i(c)+l8>0?-1:1)*((f-m)*g)/E}):(i=c=>{const u=Math.exp(-c*t),h=(c-n)*t+1;return-l8+u*h},s=c=>{const u=Math.exp(-c*t),h=(n-c)*(t*t);return u*h});const a=5/t,l=Yee(i,s,a);if(t=Hc(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const Jee=12;function Yee(t,e,n){let r=n;for(let i=1;i<Jee;i++)r=r-t(r)/e(r);return r}function o4(t,e){return t*Math.sqrt(1-e*e)}const qee=["duration","bounce"],Zee=["stiffness","damping","mass"];function PR(t,e){return e.some(n=>t[n]!==void 0)}function ete(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!PR(t,Zee)&&PR(t,qee)){const n=Xee(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function DG({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,velocity:u,duration:h,isResolvedFromDuration:f}=ete(r),m=u?-wl(u):0,g=l/(2*Math.sqrt(a*c)),E=s-i,x=wl(Math.sqrt(a/c)),A=Math.abs(E)<5;n||(n=A?.01:2),e||(e=A?.005:.5);let v;if(g<1){const y=o4(x,g);v=S=>{const w=Math.exp(-g*x*S);return s-w*((m+g*x*E)/y*Math.sin(y*S)+E*Math.cos(y*S))}}else if(g===1)v=y=>s-Math.exp(-x*y)*(E+(m+x*E)*y);else{const y=x*Math.sqrt(g*g-1);v=S=>{const w=Math.exp(-g*x*S),T=Math.min(y*S,300);return s-w*((m+g*x*E)*Math.sinh(T)+y*E*Math.cosh(T))/y}}return{calculatedDuration:f&&h||null,next:y=>{const S=v(y);if(f)o.done=y>=h;else{let w=m;y!==0&&(g<1?w=PG(v,y,S):w=0);const T=Math.abs(w)<=n,b=Math.abs(s-S)<=e;o.done=T&&b}return o.value=o.done?s:S,o}}}function DR({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const h=t[0],f={done:!1,value:h},m=R=>a!==void 0&&R<a||l!==void 0&&R>l,g=R=>a===void 0?l:l===void 0||Math.abs(a-R)<Math.abs(l-R)?a:l;let E=n*e;const x=h+E,A=o===void 0?x:o(x);A!==x&&(E=A-h);const v=R=>-E*Math.exp(-R/r),y=R=>A+v(R),S=R=>{const M=v(R),B=y(R);f.done=Math.abs(M)<=c,f.value=f.done?A:B};let w,T;const b=R=>{m(f.value)&&(w=R,T=DG({keyframes:[f.value,g(f.value)],velocity:PG(y,R,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return b(0),{calculatedDuration:null,next:R=>{let M=!1;return!T&&w===void 0&&(M=!0,S(R),b(R)),w!==void 0&&R>w?T.next(R-w):(!M&&S(R),f)}}}const tte=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Un.update(e,!0),stop:()=>Ll(e),now:()=>jr.isProcessing?jr.timestamp:performance.now()}},LR=2e4;function OR(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<LR;)e+=n,r=t.next(e);return e>=LR?1/0:e}const nte={decay:DR,inertia:DR,tween:Zv,keyframes:Zv,spring:DG};function ey({autoplay:t=!0,delay:e=0,driver:n=tte,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:h,...f}){let m=1,g=!1,E,x;const A=()=>{x=new Promise(H=>{E=H})};A();let v;const y=nte[i]||Zv;let S;y!==Zv&&typeof r[0]!="number"&&(S=RG([0,100],r,{clamp:!1}),r=[0,100]);const w=y({...f,keyframes:r});let T;a==="mirror"&&(T=y({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let b="idle",R=null,M=null,B=null;w.calculatedDuration===null&&s&&(w.calculatedDuration=OR(w));const{calculatedDuration:L}=w;let G=1/0,F=1/0;L!==null&&(G=L+o,F=G*(s+1)-o);let $=0;const W=H=>{if(M===null)return;m>0&&(M=Math.min(M,H)),m<0&&(M=Math.min(H-F/m,M)),R!==null?$=R:$=Math.round(H-M)*m;const X=$-e*(m>=0?1:-1),he=m>=0?X<0:X>F;$=Math.max(X,0),b==="finished"&&R===null&&($=F);let ge=$,Ce=w;if(s){const Xe=$/G;let Je=Math.floor(Xe),we=Xe%1;!we&&Xe>=1&&(we=1),we===1&&Je--,Je=Math.min(Je,s+1);const K=!!(Je%2);K&&(a==="reverse"?(we=1-we,o&&(we-=o/G)):a==="mirror"&&(Ce=T));let Se=Yc(0,1,we);$>F&&(Se=a==="reverse"&&K?1:0),ge=Se*G}const be=he?{done:!1,value:r[0]}:Ce.next(ge);S&&(be.value=S(be.value));let{done:Pe}=be;!he&&L!==null&&(Pe=m>=0?$>=F:$<=0);const ke=R===null&&(b==="finished"||b==="running"&&Pe);return h&&h(be.value),ke&&k(),be},Z=()=>{v&&v.stop(),v=void 0},q=()=>{b="idle",Z(),E(),A(),M=B=null},k=()=>{b="finished",u&&u(),Z(),E()},J=()=>{if(g)return;v||(v=n(W));const H=v.now();l&&l(),R!==null?M=H-R:(!M||b==="finished")&&(M=H),b==="finished"&&A(),B=M,R=null,b="running",v.start()};t&&J();const V={then(H,X){return x.then(H,X)},get time(){return wl($)},set time(H){H=Hc(H),$=H,R!==null||!v||m===0?R=H:M=v.now()-H/m},get duration(){const H=w.calculatedDuration===null?OR(w):w.calculatedDuration;return wl(H)},get speed(){return m},set speed(H){H===m||!v||(m=H,V.time=wl($))},get state(){return b},play:J,pause:()=>{b="paused",R=$},stop:()=>{g=!0,b!=="idle"&&(b="idle",c&&c(),q())},cancel:()=>{B!==null&&W(B),q()},complete:()=>{b="finished"},sample:H=>(M=0,W(H))};return V}function rte(t){let e;return()=>(e===void 0&&(e=t()),e)}const ite=rte(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ste=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),I1=10,ote=2e4,ate=(t,e)=>e.type==="spring"||t==="backgroundColor"||!uG(e.ease);function lte(t,e,{onUpdate:n,onComplete:r,...i}){if(!(ite()&&ste.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l;const c=()=>{l=new Promise(v=>{a=v})};c();let{keyframes:u,duration:h=300,ease:f,times:m}=i;if(ate(e,i)){const v=ey({...i,repeat:0,delay:0});let y={done:!1,value:u[0]};const S=[];let w=0;for(;!y.done&&w<ote;)y=v.sample(w),S.push(y.value),w+=I1;m=void 0,u=S,h=w-I1,f="linear"}const g=vee(t.owner.current,e,u,{...i,duration:h,ease:f,times:m});i.syncStart&&(g.startTime=jr.isProcessing?jr.timestamp:document.timeline?document.timeline.currentTime:performance.now());const E=()=>g.cancel(),x=()=>{Un.update(E),a(),c()};return g.onfinish=()=>{t.set(yee(u,i)),r&&r(),x()},{then(v,y){return l.then(v,y)},attachTimeline(v){return g.timeline=v,g.onfinish=null,hr},get time(){return wl(g.currentTime||0)},set time(v){g.currentTime=Hc(v)},get speed(){return g.playbackRate},set speed(v){g.playbackRate=v},get duration(){return wl(h)},play:()=>{o||(g.play(),Ll(E))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:v}=g;if(v){const y=ey({...i,autoplay:!1});t.setWithVelocity(y.sample(v-I1).value,y.sample(v).value,I1)}x()},complete:()=>g.finish(),cancel:x}}function cte({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:hr,pause:hr,stop:hr,then:s=>(s(),Promise.resolve()),cancel:hr,complete:hr});return e?ey({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const ute={type:"spring",stiffness:500,damping:25,restSpeed:10},hte=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),fte={type:"keyframes",duration:.8},dte={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pte=(t,{keyframes:e})=>e.length>2?fte:ef.has(t)?t.startsWith("scale")?hte(e[1]):ute:dte,a4=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(qc.test(e)||e==="0")&&!e.startsWith("url(")),mte=new Set(["brightness","contrast","saturate","opacity"]);function gte(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(I5)||[];if(!r)return t;const i=n.replace(r,"");let s=mte.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const Ate=/([a-z-]*)\(.*?\)/g,l4={...qc,getAnimatableNone:t=>{const e=t.match(Ate);return e?e.map(gte).join(" "):t}},vte={...KU,color:Fi,backgroundColor:Fi,outlineColor:Fi,fill:Fi,stroke:Fi,borderColor:Fi,borderTopColor:Fi,borderRightColor:Fi,borderBottomColor:Fi,borderLeftColor:Fi,filter:l4,WebkitFilter:l4},U9=t=>vte[t];function LG(t,e){let n=U9(t);return n!==l4&&(n=qc),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const OG=t=>/^0[^.\s]+$/.test(t);function yte(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||OG(t)}function xte(t,e,n,r){const i=a4(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),yte(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];s[u]=LG(e,a)}return s}function Ete({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function FG(t,e){return t[e]||t.default||t}const G9=(t,e,n,r={})=>i=>{const s=FG(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Hc(o);const l=xte(e,t,n,s),c=l[0],u=l[l.length-1],h=a4(t,c),f=a4(t,u);let m={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:g=>{e.set(g),s.onUpdate&&s.onUpdate(g)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(Ete(s)||(m={...m,...pte(t,m)}),m.duration&&(m.duration=Hc(m.duration)),m.repeatDelay&&(m.repeatDelay=Hc(m.repeatDelay)),!h||!f||Aee.current||s.type===!1)return cte(m);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const g=lte(e,t,m);if(g)return g}return ey(m)};function ty(t){return!!(as(t)&&t.add)}const NG=t=>/^\-?\d*\.?\d+$/.test(t);function H9(t,e){t.indexOf(e)===-1&&t.push(e)}function Q9(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class z9{constructor(){this.subscriptions=[]}add(e){return H9(this.subscriptions,e),()=>Q9(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _te=t=>!isNaN(parseFloat(t));class Ste{constructor(e,n={}){this.version="10.16.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=jr;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Un.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Un.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=_te(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new z9);const r=this.events[e].add(n);return e==="change"?()=>{r(),Un.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?BG(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fp(t,e){return new Ste(t,e)}const kG=t=>e=>e.test(t),Cte={test:t=>t==="auto",parse:t=>t},UG=[tf,vt,Ra,Ac,MZ,bZ,Cte],N0=t=>UG.find(kG(t)),wte=[...UG,Fi,qc],Tte=t=>wte.find(kG(t));function Ite(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,fp(n))}function bte(t,e){const n=M5(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=VZ(s[o]);Ite(t,o,a)}}function Mte(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(NG(u)||OG(u))?u=parseFloat(u):!Tte(u)&&qc.test(c)&&(u=LG(l,c)),t.addValue(l,fp(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function Rte(t,e){return e?(e[t]||e.default||e).from:void 0}function Bte(t,e,n){const r={};for(const i in t){const s=Rte(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function Pte({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function GG(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const f=t.getValue(h),m=a[h];if(!f||m===void 0||u&&Pte(u,h))continue;const g={delay:n,elapsed:0,...s};if(window.HandoffAppearAnimations&&!f.hasAnimated){const x=t.getProps()[mee];x&&(g.elapsed=window.HandoffAppearAnimations(x,h,f,Un),g.syncStart=!0)}f.start(G9(h,f,m,t.shouldReduceMotion&&ef.has(h)?{type:!1}:g));const E=f.animation;ty(l)&&(l.add(h),E.then(()=>l.remove(h))),c.push(E)}return o&&Promise.all(c).then(()=>{o&&bte(t,o)}),c}function c4(t,e,n={}){const r=M5(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(GG(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:h}=i;return Dte(t,e,c+l,u,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function Dte(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(Lte).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(c4(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function Lte(t,e){return t.sortNodePosition(e)}function Ote(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>c4(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=c4(t,e,n);else{const i=typeof e=="function"?M5(t,e,n.custom):e;r=Promise.all(GG(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const Fte=[...w9].reverse(),Nte=w9.length;function kte(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Ote(t,n,r)))}function Ute(t){let e=kte(t);const n=Hte();let r=!0;const i=(l,c)=>{const u=M5(t,c);if(u){const{transition:h,transitionEnd:f,...m}=u;l={...l,...m,...f}}return l};function s(l){e=l(t)}function o(l,c){const u=t.getProps(),h=t.getVariantContext(!0)||{},f=[],m=new Set;let g={},E=1/0;for(let A=0;A<Nte;A++){const v=Fte[A],y=n[v],S=u[v]!==void 0?u[v]:h[v],w=_g(S),T=v===c?y.isActive:null;T===!1&&(E=A);let b=S===h[v]&&S!==u[v]&&w;if(b&&r&&t.manuallyAnimateOnMount&&(b=!1),y.protectedKeys={...g},!y.isActive&&T===null||!S&&!y.prevProp||w5(S)||typeof S=="boolean")continue;const R=Gte(y.prevProp,S);let M=R||v===c&&y.isActive&&!b&&w||A>E&&w;const B=Array.isArray(S)?S:[S];let L=B.reduce(i,{});T===!1&&(L={});const{prevResolvedValues:G={}}=y,F={...G,...L},$=W=>{M=!0,m.delete(W),y.needsAnimating[W]=!0};for(const W in F){const Z=L[W],q=G[W];g.hasOwnProperty(W)||(Z!==q?Yv(Z)&&Yv(q)?!lG(Z,q)||R?$(W):y.protectedKeys[W]=!0:Z!==void 0?$(W):m.add(W):Z!==void 0&&m.has(W)?$(W):y.protectedKeys[W]=!0)}y.prevProp=S,y.prevResolvedValues=L,y.isActive&&(g={...g,...L}),r&&t.blockInitialAnimation&&(M=!1),M&&!b&&f.push(...B.map(W=>({animation:W,options:{type:v,...l}})))}if(m.size){const A={};m.forEach(v=>{const y=t.getBaseTarget(v);y!==void 0&&(A[v]=y)}),f.push({animation:A})}let x=!!f.length;return r&&u.initial===!1&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(f):Promise.resolve()}function a(l,c,u){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(m=>{var g;return(g=m.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),n[l].isActive=c;const f=o(u,l);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function Gte(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!lG(e,t):!1}function Pu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Hte(){return{animate:Pu(!0),whileInView:Pu(),whileHover:Pu(),whileTap:Pu(),whileDrag:Pu(),whileFocus:Pu(),exit:Pu()}}class Qte extends du{constructor(e){super(e),e.animationState||(e.animationState=Ute(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),w5(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let zte=0;class Vte extends du{constructor(){super(...arguments),this.id=zte++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Wte={animation:{Feature:Qte},exit:{Feature:Vte}},FR=(t,e)=>Math.abs(t-e);function jte(t,e){const n=FR(t.x,e.x),r=FR(t.y,e.y);return Math.sqrt(n**2+r**2)}class HG{constructor(e,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=u8(this.lastMoveEventInfo,this.history),u=this.startEvent!==null,h=jte(c.offset,{x:0,y:0})>=3;if(!u&&!h)return;const{point:f}=c,{timestamp:m}=jr;this.history.push({...f,timestamp:m});const{onStart:g,onMove:E}=this.handlers;u||(g&&g(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,c)},this.handlePointerMove=(c,u)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=c8(u,this.transformPagePoint),Un.update(this.updatePoint,!0)},this.handlePointerUp=(c,u)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:h,onSessionEnd:f}=this.handlers,m=u8(c.type==="pointercancel"?this.lastMoveEventInfo:c8(u,this.transformPagePoint),this.history);this.startEvent&&h&&h(c,m),f&&f(c,m)},!rG(e))return;this.handlers=n,this.transformPagePoint=r;const i=b5(e),s=c8(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=jr;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=n;l&&l(e,u8(s,this.history)),this.removeListeners=Gc(Cl(window,"pointermove",this.handlePointerMove),Cl(window,"pointerup",this.handlePointerUp),Cl(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ll(this.updatePoint)}}function c8(t,e){return e?{point:e(t.point)}:t}function NR(t,e){return{x:t.x-e.x,y:t.y-e.y}}function u8({point:t},e){return{point:t,delta:NR(t,QG(e)),offset:NR(t,$te(e)),velocity:Kte(e,.1)}}function $te(t){return t[0]}function QG(t){return t[t.length-1]}function Kte(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=QG(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Hc(e)));)n--;if(!r)return{x:0,y:0};const s=wl(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ms(t){return t.max-t.min}function u4(t,e=0,n=.01){return Math.abs(t-e)<=n}function kR(t,e,n,r=.5){t.origin=r,t.originPoint=Jn(e.min,e.max,t.origin),t.scale=Ms(n)/Ms(e),(u4(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Jn(n.min,n.max,t.origin)-t.originPoint,(u4(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Um(t,e,n,r){kR(t.x,e.x,n.x,r?r.originX:void 0),kR(t.y,e.y,n.y,r?r.originY:void 0)}function UR(t,e,n){t.min=n.min+e.min,t.max=t.min+Ms(e)}function Xte(t,e,n){UR(t.x,e.x,n.x),UR(t.y,e.y,n.y)}function GR(t,e,n){t.min=e.min-n.min,t.max=t.min+Ms(e)}function Gm(t,e,n){GR(t.x,e.x,n.x),GR(t.y,e.y,n.y)}function Jte(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Jn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Jn(n,t,r.max):Math.min(t,n)),t}function HR(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Yte(t,{top:e,left:n,bottom:r,right:i}){return{x:HR(t.x,n,i),y:HR(t.y,e,r)}}function QR(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function qte(t,e){return{x:QR(t.x,e.x),y:QR(t.y,e.y)}}function Zte(t,e){let n=.5;const r=Ms(t),i=Ms(e);return i>r?n=Cg(e.min,e.max-r,t.min):r>i&&(n=Cg(t.min,t.max-i,e.min)),Yc(0,1,n)}function ene(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const h4=.35;function tne(t=h4){return t===!1?t=0:t===!0&&(t=h4),{x:zR(t,"left","right"),y:zR(t,"top","bottom")}}function zR(t,e,n){return{min:VR(t,e),max:VR(t,n)}}function VR(t,e){return typeof t=="number"?t:t[e]||0}const WR=()=>({translate:0,scale:1,origin:0,originPoint:0}),Td=()=>({x:WR(),y:WR()}),jR=()=>({min:0,max:0}),Sr=()=>({x:jR(),y:jR()});function xa(t){return[t("x"),t("y")]}function zG({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function nne({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function rne(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function h8(t){return t===void 0||t===1}function f4({scale:t,scaleX:e,scaleY:n}){return!h8(t)||!h8(e)||!h8(n)}function Xu(t){return f4(t)||VG(t)||t.z||t.rotate||t.rotateX||t.rotateY}function VG(t){return $R(t.x)||$R(t.y)}function $R(t){return t&&t!=="0%"}function ny(t,e,n){const r=t-n,i=e*r;return n+i}function KR(t,e,n,r,i){return i!==void 0&&(t=ny(t,i,r)),ny(t,n,r)+e}function d4(t,e=0,n=1,r,i){t.min=KR(t.min,e,n,r,i),t.max=KR(t.max,e,n,r,i)}function WG(t,{x:e,y:n}){d4(t.x,e.translate,e.scale,e.originPoint),d4(t.y,n.translate,n.scale,n.originPoint)}function ine(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Id(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,WG(t,o)),r&&Xu(s.latestValues)&&Id(t,s.latestValues))}e.x=XR(e.x),e.y=XR(e.y)}function XR(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Ec(t,e){t.min=t.min+e,t.max=t.max+e}function JR(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Jn(t.min,t.max,s);d4(t,e[n],e[r],o,e.scale)}const sne=["x","scaleX","originX"],one=["y","scaleY","originY"];function Id(t,e){JR(t.x,e,sne),JR(t.y,e,one)}function jG(t,e){return zG(rne(t.getBoundingClientRect(),e))}function ane(t,e,n){const r=jG(t,n),{scroll:i}=e;return i&&(Ec(r.x,i.offset.x),Ec(r.y,i.offset.y)),r}const lne=new WeakMap;class cne{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Sr(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),n&&this.snapToCursor(b5(l,"page").point)},s=(l,c)=>{const{drag:u,dragPropagation:h,onDragStart:f}=this.getProps();if(u&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=sG(u),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xa(g=>{let E=this.getAxisMotionValue(g).get()||0;if(Ra.test(E)){const{projection:x}=this.visualElement;if(x&&x.layout){const A=x.layout.layoutBox[g];A&&(E=Ms(A)*(parseFloat(E)/100))}}this.originPoint[g]=E}),f&&Un.update(()=>f(l,c),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(l,c)=>{const{dragPropagation:u,dragDirectionLock:h,onDirectionLock:f,onDrag:m}=this.getProps();if(!u&&!this.openGlobalLock)return;const{offset:g}=c;if(h&&this.currentDirection===null){this.currentDirection=une(g),this.currentDirection!==null&&f&&f(this.currentDirection);return}this.updateAxis("x",c.point,g),this.updateAxis("y",c.point,g),this.visualElement.render(),m&&m(l,c)},a=(l,c)=>this.stop(l,c);this.panSession=new HG(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Un.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!b1(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Jte(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&Cd(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Yte(r.layoutBox,e):this.constraints=!1,this.elastic=tne(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&xa(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=ene(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Cd(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=ane(r,i.root,this.visualElement.getTransformPagePoint());let o=qte(i.layout.layoutBox,s);if(n){const a=n(nne(o));this.hasMutatedConstraints=!!a,a&&(o=zG(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=xa(u=>{if(!b1(u,n,this.currentDirection))return;let h=l&&l[u]||{};o&&(h={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,g={type:"inertia",velocity:r?e[u]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(G9(e,r,0,n))}stopAnimation(){xa(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){xa(n=>{const{drag:r}=this.getProps();if(!b1(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Jn(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Cd(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};xa(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=Zte({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),xa(o=>{if(!b1(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Jn(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;lne.set(this.visualElement,this);const e=this.visualElement.current,n=Cl(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Cd(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=vl(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(xa(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=h4,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function b1(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function une(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class hne extends du{constructor(e){super(e),this.removeGroupControls=hr,this.removeListeners=hr,this.controls=new cne(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||hr}unmount(){this.removeGroupControls(),this.removeListeners()}}const YR=t=>(e,n)=>{t&&Un.update(()=>t(e,n))};class fne extends du{constructor(){super(...arguments),this.removePointerDownListener=hr}onPointerDown(e){this.session=new HG(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:YR(e),onStart:YR(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Un.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Cl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function dne(){const t=Q.useContext(C9);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=Q.useId();return Q.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const iv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function qR(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const k0={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(vt.test(t))t=parseFloat(t);else return t;const n=qR(t,e.target.x),r=qR(t,e.target.y);return`${n}% ${r}%`}},pne={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=qc.parse(t);if(i.length>5)return r;const s=qc.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Jn(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class mne extends s5.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;EZ(gne),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),iv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Un.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function $G(t){const[e,n]=dne(),r=Q.useContext(QU);return s5.createElement(mne,{...t,layoutGroup:r,switchLayoutGroup:Q.useContext(zU),isPresent:e,safeToRemove:n})}const gne={borderRadius:{...k0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:k0,borderTopRightRadius:k0,borderBottomLeftRadius:k0,borderBottomRightRadius:k0,boxShadow:pne},KG=["TopLeft","TopRight","BottomLeft","BottomRight"],Ane=KG.length,ZR=t=>typeof t=="string"?parseFloat(t):t,eB=t=>typeof t=="number"||vt.test(t);function vne(t,e,n,r,i,s){i?(t.opacity=Jn(0,n.opacity!==void 0?n.opacity:1,yne(r)),t.opacityExit=Jn(e.opacity!==void 0?e.opacity:1,0,xne(r))):s&&(t.opacity=Jn(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Ane;o++){const a=`border${KG[o]}Radius`;let l=tB(e,a),c=tB(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||eB(l)===eB(c)?(t[a]=Math.max(Jn(ZR(l),ZR(c),r),0),(Ra.test(c)||Ra.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Jn(e.rotate||0,n.rotate||0,r))}function tB(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const yne=XG(0,.5,F9),xne=XG(.5,.95,hr);function XG(t,e,n){return r=>r<t?0:r>e?1:n(Cg(t,e,r))}function nB(t,e){t.min=e.min,t.max=e.max}function $s(t,e){nB(t.x,e.x),nB(t.y,e.y)}function rB(t,e,n,r,i){return t-=e,t=ny(t,1/n,r),i!==void 0&&(t=ny(t,1/i,r)),t}function Ene(t,e=0,n=1,r=.5,i,s=t,o=t){if(Ra.test(e)&&(e=parseFloat(e),e=Jn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Jn(s.min,s.max,r);t===s&&(a-=e),t.min=rB(t.min,e,n,a,i),t.max=rB(t.max,e,n,a,i)}function iB(t,e,[n,r,i],s,o){Ene(t,e[n],e[r],e[i],e.scale,s,o)}const _ne=["x","scaleX","originX"],Sne=["y","scaleY","originY"];function sB(t,e,n,r){iB(t.x,e,_ne,n?n.x:void 0,r?r.x:void 0),iB(t.y,e,Sne,n?n.y:void 0,r?r.y:void 0)}function oB(t){return t.translate===0&&t.scale===1}function JG(t){return oB(t.x)&&oB(t.y)}function Cne(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function YG(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function aB(t){return Ms(t.x)/Ms(t.y)}class wne{constructor(){this.members=[]}add(e){H9(this.members,e),e.scheduleRender()}remove(e){if(Q9(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function lB(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const Tne=(t,e)=>t.depth-e.depth;class Ine{constructor(){this.children=[],this.isDirty=!1}add(e){H9(this.children,e),this.isDirty=!0}remove(e){Q9(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Tne),this.isDirty=!1,this.children.forEach(e)}}function bne(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Ll(r),t(s-e))};return Un.read(r,!0),()=>Ll(r)}function Mne(t){window.MotionDebug&&window.MotionDebug.record(t)}function Rne(t){return t instanceof SVGElement&&t.tagName!=="svg"}function Bne(t,e,n){const r=as(t)?t:fp(t);return r.start(G9("",r,e,n)),r.animation}const cB=["","X","Y","Z"],uB=1e3;let Pne=0;const Ju={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function qG({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Pne++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Ju.totalNodes=Ju.resolvedTargetDeltas=Ju.recalculatedProjection=0,this.nodes.forEach(One),this.nodes.forEach(Gne),this.nodes.forEach(Hne),this.nodes.forEach(Fne),Mne(Ju)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ine)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new z9),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Rne(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=bne(f,250),iv.hasAnimatedSinceResize&&(iv.hasAnimatedSinceResize=!1,this.nodes.forEach(fB))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||u.getDefaultTransition()||jne,{onLayoutAnimationStart:x,onLayoutAnimationComplete:A}=u.getProps(),v=!this.targetLayout||!YG(this.targetLayout,g)||m,y=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,y);const S={...FG(E,"layout"),onPlay:x,onComplete:A};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else f||fB(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ll(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Qne),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(hB);return}this.isUpdating||this.nodes.forEach(kne),this.isUpdating=!1,this.nodes.forEach(Une),this.nodes.forEach(Dne),this.nodes.forEach(Lne),this.clearAllSnapshots();const a=performance.now();jr.delta=Yc(0,1e3/60,a-jr.timestamp),jr.timestamp=a,jr.isProcessing=!0,t8.update.process(jr),t8.preRender.process(jr),t8.render.process(jr),jr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Nne),this.sharedNodes.forEach(zne)}scheduleUpdateProjection(){Un.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Un.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Sr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!JG(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Xu(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),$ne(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Sr();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Ec(a.x,l.offset.x),Ec(a.y,l.offset.y)),a}removeElementScroll(o){const a=Sr();$s(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:h}=c;if(c!==this.root&&u&&h.layoutScroll){if(u.isRoot){$s(a,o);const{scroll:f}=this.root;f&&(Ec(a.x,-f.offset.x),Ec(a.y,-f.offset.y))}Ec(a.x,u.offset.x),Ec(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=Sr();$s(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Id(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Xu(u.latestValues)&&Id(l,u.latestValues)}return Xu(this.latestValues)&&Id(l,this.latestValues),l}removeTransform(o){const a=Sr();$s(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Xu(c.latestValues))continue;f4(c.latestValues)&&c.updateSnapshot();const u=Sr(),h=c.measurePageBox();$s(u,h),sB(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Xu(this.latestValues)&&sB(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==jr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=jr.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Sr(),this.relativeTargetOrigin=Sr(),Gm(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),$s(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Sr(),this.targetWithTransforms=Sr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Xte(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$s(this.target,this.layout.layoutBox),WG(this.target,this.targetDelta)):$s(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Sr(),this.relativeTargetOrigin=Sr(),Gm(this.relativeTargetOrigin,this.target,m.target),$s(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ju.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||f4(this.parent.latestValues)||VG(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===jr.timestamp&&(c=!1),c)return;const{layout:u,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||h))return;$s(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;ine(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:g}=a;if(!g){this.projectionTransform&&(this.projectionDelta=Td(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Td(),this.projectionDeltaWithTransform=Td());const E=this.projectionTransform;Um(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=lB(this.projectionDelta,this.treeScale),(this.projectionTransform!==E||this.treeScale.x!==f||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Ju.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},h=Td();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Sr(),m=l?l.source:void 0,g=this.layout?this.layout.source:void 0,E=m!==g,x=this.getStack(),A=!x||x.members.length<=1,v=!!(E&&!A&&this.options.crossfade===!0&&!this.path.some(Wne));this.animationProgress=0;let y;this.mixTargetDelta=S=>{const w=S/1e3;dB(h.x,o.x,w),dB(h.y,o.y,w),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Gm(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Vne(this.relativeTarget,this.relativeTargetOrigin,f,w),y&&Cne(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=Sr()),$s(y,this.relativeTarget)),E&&(this.animationValues=u,vne(u,c,this.latestValues,w,v,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ll(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Un.update(()=>{iv.hasAnimatedSinceResize=!0,this.currentAnimation=Bne(0,uB,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(uB),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&ZG(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Sr();const h=Ms(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Ms(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}$s(a,l),Id(a,u),Um(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new wne),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<cB.length;u++){const h="rotate"+cB[u];l[h]&&(c[h]=l[h],o.setStaticValue(h,0))}o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=rv(o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=rv(o.pointerEvents)||""),this.hasProjected&&!Xu(this.latestValues)&&(E.transform=u?u({},""):"none",this.hasProjected=!1),E}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=lB(this.projectionDeltaWithTransform,this.treeScale,f),u&&(c.transform=u(f,c.transform));const{x:m,y:g}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const E in Xv){if(f[E]===void 0)continue;const{correct:x,applyTo:A}=Xv[E],v=c.transform==="none"?f[E]:x(f[E],h);if(A){const y=A.length;for(let S=0;S<y;S++)c[A[S]]=v}else c[E]=v}return this.options.layoutId&&(c.pointerEvents=h===this?rv(o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(hB),this.root.sharedNodes.clear()}}}function Dne(t){t.updateLayout()}function Lne(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?xa(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],m=Ms(f);f.min=r[h].min,f.max=f.min+m}):ZG(s,n.layoutBox,r)&&xa(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],m=Ms(r[h]);f.max=f.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=Td();Um(a,r,n.layoutBox);const l=Td();o?Um(l,t.applyTransform(i,!0),n.measuredBox):Um(l,r,n.layoutBox);const c=!JG(a);let u=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const g=Sr();Gm(g,n.layoutBox,f.layoutBox);const E=Sr();Gm(E,r,m.layoutBox),YG(g,E)||(u=!0),h.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=g,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function One(t){Ju.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Fne(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Nne(t){t.clearSnapshot()}function hB(t){t.clearMeasurements()}function kne(t){t.isLayoutDirty=!1}function Une(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function fB(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Gne(t){t.resolveTargetDelta()}function Hne(t){t.calcProjection()}function Qne(t){t.resetRotation()}function zne(t){t.removeLeadSnapshot()}function dB(t,e,n){t.translate=Jn(e.translate,0,n),t.scale=Jn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function pB(t,e,n,r){t.min=Jn(e.min,n.min,r),t.max=Jn(e.max,n.max,r)}function Vne(t,e,n,r){pB(t.x,e.x,n.x,r),pB(t.y,e.y,n.y,r)}function Wne(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const jne={duration:.45,ease:[.4,0,.1,1]},mB=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),gB=mB("applewebkit/")&&!mB("chrome/")?Math.round:hr;function AB(t){t.min=gB(t.min),t.max=gB(t.max)}function $ne(t){AB(t.x),AB(t.y)}function ZG(t,e,n){return t==="position"||t==="preserve-aspect"&&!u4(aB(e),aB(n),.2)}const Kne=qG({attachResizeListener:(t,e)=>vl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),f8={current:void 0},eH=qG({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!f8.current){const t=new Kne({});t.mount(window),t.setOptions({layoutScroll:!0}),f8.current=t}return f8.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Xne={pan:{Feature:fne},drag:{Feature:hne,ProjectionNode:eH,MeasureLayout:$G}},Jne=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Yne(t){const e=Jne.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function p4(t,e,n=1){const[r,i]=Yne(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return NG(o)?parseFloat(o):o}else return r4(i)?p4(i,e,n+1):i}function qne(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!r4(s))return;const o=p4(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!r4(s))continue;const o=p4(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const Zne=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),tH=t=>Zne.has(t),ere=t=>Object.keys(t).some(tH),vB=t=>t===tf||t===vt,yB=(t,e)=>parseFloat(t.split(", ")[e]),xB=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return yB(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?yB(s[1],t):0}},tre=new Set(["x","y","z"]),nre=g3.filter(t=>!tre.has(t));function rre(t){const e=[];return nre.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const dp={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:xB(4,13),y:xB(5,14)};dp.translateX=dp.x;dp.translateY=dp.y;const ire=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=dp[c](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),t[c]=dp[c](l,s)}),t},sre=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(tH);let s=[],o=!1;const a=[];if(i.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],h=N0(u);const f=e[l];let m;if(Yv(f)){const g=f.length,E=f[0]===null?1:0;u=f[E],h=N0(u);for(let x=E;x<g&&f[x]!==null;x++)m?O9(N0(f[x])===m):m=N0(f[x])}else m=N0(f);if(h!==m)if(vB(h)&&vB(m)){const g=c.get();typeof g=="string"&&c.set(parseFloat(g)),typeof f=="string"?e[l]=parseFloat(f):Array.isArray(f)&&m===vt&&(e[l]=f.map(parseFloat))}else h!=null&&h.transform&&(m!=null&&m.transform)&&(u===0||f===0)?u===0?c.set(m.transform(u)):e[l]=h.transform(f):(o||(s=rre(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=ire(e,t,a);return s.length&&s.forEach(([u,h])=>{t.getValue(u).set(h)}),t.render(),C5&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function ore(t,e,n,r){return ere(e)?sre(t,e,n,r):{target:e,transitionEnd:r}}const are=(t,e,n,r)=>{const i=qne(t,e,r);return e=i.target,r=i.transitionEnd,ore(t,e,n,r)},m4={current:null},nH={current:!1};function lre(){if(nH.current=!0,!!C5)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>m4.current=t.matches;t.addListener(e),e()}else m4.current=!1}function cre(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(as(s))t.addValue(i,s),ty(r)&&r.add(i);else if(as(o))t.addValue(i,fp(s,{owner:t})),ty(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,fp(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const EB=new WeakMap,rH=Object.keys(Sg),ure=rH.length,_B=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],hre=T9.length;class fre{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Un.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=T5(n),this.isVariantNode=HU(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const h in u){const f=u[h];a[h]!==void 0&&as(f)&&(f.set(a[h],!1),ty(c)&&c.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,EB.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),nH.current||lre(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:m4.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){EB.delete(this.current),this.projection&&this.projection.unmount(),Ll(this.notifyUpdate),Ll(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=ef.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Un.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<ure;l++){const c=rH[l],{isEnabled:u,Feature:h,ProjectionNode:f,MeasureLayout:m}=Sg[c];f&&(o=f),u(n)&&(!this.features[c]&&h&&(this.features[c]=new h(this)),m&&(a=m))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||h&&Cd(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:f,layoutRoot:m})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Sr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<_B.length;r++){const i=_B[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=cre(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<hre;r++){const i=T9[r],s=this.props[i];(_g(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=fp(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=L9(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!as(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new z9),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class iH extends fre{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=Bte(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){Mte(this,r,o);const a=are(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function dre(t){return window.getComputedStyle(t)}class pre extends iH{readValueFromInstance(e,n){if(ef.has(n)){const r=U9(n);return r&&r.default||0}else{const r=dre(e),i=(jU(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return jG(e,n)}build(e,n,r,i){b9(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return D9(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;as(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){qU(e,n,r,i)}}class mre extends iH{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ef.has(n)){const r=U9(n);return r&&r.default||0}return n=ZU.has(n)?n:P9(n),e.getAttribute(n)}measureInstanceViewportBox(){return Sr()}scrapeMotionValuesFromProps(e,n){return tG(e,n)}build(e,n,r,i){R9(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){eG(e,n,r,i)}mount(e){this.isSVGTag=B9(e.tagName),super.mount(e)}}const gre=(t,e)=>I9(t)?new mre(e,{enableHardwareAcceleration:!1}):new pre(e,{enableHardwareAcceleration:!0}),Are={layout:{ProjectionNode:eH,MeasureLayout:$G}},vre={...Wte,...hee,...Xne,...Are},Hi=yZ((t,e)=>qZ(t,e,vre,gre)),nf=t=>({hidden:{y:-50,opacity:0},show:{y:0,opacity:1,transition:{type:"spring",duration:1.25,delay:t}}}),rf=(t,e,n,r)=>({hidden:{x:t==="left"?100:t==="right"?-100:0,y:t==="up"?100:t==="down"?-100:0,opacity:0},show:{x:0,y:0,opacity:1,transition:{type:e,delay:n,duration:r,ease:"easeOut"}}}),ws={paddingX:"sm:px-16 px-6",paddingY:"sm:py-16 py-6",padding:"sm:px-16 px-6 sm:py-16 py-10",heroHeadText:"font-black text-white lg:text-[80px] sm:text-[60px] xs:text-[50px] text-[40px] lg:leading-[98px] mt-2",heroSubText:"text-[#dfd9ff] font-medium lg:text-[30px] sm:text-[26px] xs:text-[20px] text-[16px] lg:leading-[40px]",sectionHeadText:" font-black md:text-[60px] sm:text-[50px] xs:text-[40px] text-[30px] text-center",sectionSubText:"sm:text-[18px] text-[14px] text-secondary uppercase tracking-wider text-center"};/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Ga="156",Yu={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},qu={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},sH=0,g4=1,oH=2,yre=3,aH=0,R5=1,Hm=2,Fo=3,ka=0,Ci=1,ro=2,xre=2,Wt=0,Ba=1,pp=2,A4=3,v4=4,wg=5,Es=100,lH=101,cH=102,y4=103,x4=104,mp=200,uH=201,hH=202,fH=203,Tg=204,Ig=205,B5=206,dH=207,P5=208,pH=209,mH=210,gH=0,AH=1,vH=2,ry=3,yH=4,xH=5,EH=6,_H=7,x3=0,SH=1,CH=2,ao=0,wH=1,TH=2,IH=3,V9=4,bH=5,D5=300,Ol=301,Zc=302,bg=303,Mg=304,jp=306,po=1e3,Yn=1001,gp=1002,It=1003,Rg=1004,Ere=1004,zd=1005,_re=1005,yn=1006,L5=1007,Sre=1007,mo=1008,Cre=1008,Dr=1009,MH=1010,RH=1011,sf=1012,W9=1013,yl=1014,Ui=1015,vr=1016,j9=1017,$9=1018,Tl=1020,BH=1021,fr=1023,K9=1024,PH=1025,Qc=1026,eu=1027,mh=1028,X9=1029,bd=1030,J9=1031,Y9=1033,Vd=33776,sv=33777,ov=33778,Wd=33779,Bg=35840,E4=35841,Pg=35842,_4=35843,O5=36196,Dg=37492,Lg=37496,Og=37808,S4=37809,C4=37810,w4=37811,T4=37812,I4=37813,b4=37814,M4=37815,R4=37816,B4=37817,P4=37818,D4=37819,L4=37820,O4=37821,jd=36492,F4=36494,N4=36495,DH=36283,k4=36284,U4=36285,G4=36286,LH=2200,OH=2201,FH=2202,Ap=2300,Uh=2301,av=2302,gh=2400,Ah=2401,Fg=2402,F5=2500,q9=2501,NH=0,Z9=1,iy=2,eT=3e3,zc=3001,kH=3200,tT=3201,pu=0,UH=1,Vc="",In="srgb",Ko="srgb-linear",E3="display-p3",wre="display-p3-linear",Tre=0,lv=7680,Ire=7681,bre=7682,Mre=7683,Rre=34055,Bre=34056,Pre=5386,Dre=512,Lre=513,Ore=514,Fre=515,Nre=516,kre=517,Ure=518,GH=519,HH=512,QH=513,zH=514,VH=515,WH=516,jH=517,$H=518,KH=519,Ng=35044,cv=35048,Gre=35040,Hre=35045,Qre=35049,zre=35041,Vre=35046,Wre=35050,jre=35042,$re="100",H4="300 es",sy=1035,Sa=2e3,kg=2001;class Ha{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const Ai=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let SB=1234567;const Ih=Math.PI/180,vp=180/Math.PI;function Ts(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Ai[t&255]+Ai[t>>8&255]+Ai[t>>16&255]+Ai[t>>24&255]+"-"+Ai[e&255]+Ai[e>>8&255]+"-"+Ai[e>>16&15|64]+Ai[e>>24&255]+"-"+Ai[n&63|128]+Ai[n>>8&255]+"-"+Ai[n>>16&255]+Ai[n>>24&255]+Ai[r&255]+Ai[r>>8&255]+Ai[r>>16&255]+Ai[r>>24&255]).toLowerCase()}function cr(t,e,n){return Math.max(e,Math.min(n,t))}function nT(t,e){return(t%e+e)%e}function Kre(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function Xre(t,e,n){return t!==e?(n-t)/(e-t):0}function Qm(t,e,n){return(1-n)*t+n*e}function Jre(t,e,n,r){return Qm(t,e,1-Math.exp(-n*r))}function Yre(t,e=1){return e-Math.abs(nT(t,e*2)-e)}function qre(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function Zre(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function eie(t,e){return t+Math.floor(Math.random()*(e-t+1))}function tie(t,e){return t+Math.random()*(e-t)}function nie(t){return t*(.5-Math.random())}function rie(t){t!==void 0&&(SB=t);let e=SB+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function iie(t){return t*Ih}function sie(t){return t*vp}function Q4(t){return(t&t-1)===0&&t!==0}function XH(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function oy(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function oie(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),c=s((e+r)/2),u=o((e+r)/2),h=s((e-r)/2),f=o((e-r)/2),m=s((r-e)/2),g=o((r-e)/2);switch(i){case"XYX":t.set(a*u,l*h,l*f,a*c);break;case"YZY":t.set(l*f,a*u,l*h,a*c);break;case"ZXZ":t.set(l*h,l*f,a*u,a*c);break;case"XZX":t.set(a*u,l*g,l*m,a*c);break;case"YXY":t.set(l*m,a*u,l*g,a*c);break;case"ZYZ":t.set(l*g,l*m,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function es(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Ft(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const $d={DEG2RAD:Ih,RAD2DEG:vp,generateUUID:Ts,clamp:cr,euclideanModulo:nT,mapLinear:Kre,inverseLerp:Xre,lerp:Qm,damp:Jre,pingpong:Yre,smoothstep:qre,smootherstep:Zre,randInt:eie,randFloat:tie,randFloatSpread:nie,seededRandom:rie,degToRad:iie,radToDeg:sie,isPowerOfTwo:Q4,ceilPowerOfTwo:XH,floorPowerOfTwo:oy,setQuaternionFromProperEuler:oie,normalize:Ft,denormalize:es};class ue{constructor(e=0,n=0){ue.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(cr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class kt{constructor(e,n,r,i,s,o,a,l,c){kt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,c)}set(e,n,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=n,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],h=r[7],f=r[2],m=r[5],g=r[8],E=i[0],x=i[3],A=i[6],v=i[1],y=i[4],S=i[7],w=i[2],T=i[5],b=i[8];return s[0]=o*E+a*v+l*w,s[3]=o*x+a*y+l*T,s[6]=o*A+a*S+l*b,s[1]=c*E+u*v+h*w,s[4]=c*x+u*y+h*T,s[7]=c*A+u*S+h*b,s[2]=f*E+m*v+g*w,s[5]=f*x+m*y+g*T,s[8]=f*A+m*S+g*b,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return n*o*u-n*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=u*o-a*c,f=a*l-u*s,m=c*s-o*l,g=n*h+r*f+i*m;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const E=1/g;return e[0]=h*E,e[1]=(i*c-u*r)*E,e[2]=(a*r-i*o)*E,e[3]=f*E,e[4]=(u*n-i*l)*E,e[5]=(i*s-a*n)*E,e[6]=m*E,e[7]=(r*l-c*n)*E,e[8]=(o*n-r*s)*E,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(d8.makeScale(e,n)),this}rotate(e){return this.premultiply(d8.makeRotation(-e)),this}translate(e,n){return this.premultiply(d8.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const d8=new kt;function JH(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const aie={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Md(t,e){return new aie[t](e)}function Ug(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function YH(){const t=Ug("canvas");return t.style.display="block",t}const CB={};function zm(t){t in CB||(CB[t]=!0,console.warn(t))}function Kd(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function p8(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const lie=new kt().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),cie=new kt().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function uie(t){return t.convertSRGBToLinear().applyMatrix3(cie)}function hie(t){return t.applyMatrix3(lie).convertLinearToSRGB()}const fie={[Ko]:t=>t,[In]:t=>t.convertSRGBToLinear(),[E3]:uie},die={[Ko]:t=>t,[In]:t=>t.convertLinearToSRGB(),[E3]:hie},Js={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(t){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!t},get workingColorSpace(){return Ko},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=fie[e],i=die[n];if(r===void 0||i===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${n}".`);return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}};let Ff;class rT{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Ff===void 0&&(Ff=Ug("canvas")),Ff.width=e.width,Ff.height=e.height;const r=Ff.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Ff}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Ug("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Kd(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Kd(n[r]/255)*255):n[r]=Kd(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let pie=0;class vh{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:pie++}),this.uuid=Ts(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(m8(i[o].image)):s.push(m8(i[o]))}else s=m8(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function m8(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?rT.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let mie=0;class Hn extends Ha{constructor(e=Hn.DEFAULT_IMAGE,n=Hn.DEFAULT_MAPPING,r=Yn,i=Yn,s=yn,o=mo,a=fr,l=Dr,c=Hn.DEFAULT_ANISOTROPY,u=Vc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:mie++}),this.uuid=Ts(),this.name="",this.source=new vh(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new ue(0,0),this.repeat=new ue(1,1),this.center=new ue(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new kt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof u=="string"?this.colorSpace=u:(zm("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=u===zc?In:Vc),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==D5)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case po:e.x=e.x-Math.floor(e.x);break;case Yn:e.x=e.x<0?0:1;break;case gp:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case po:e.y=e.y-Math.floor(e.y);break;case Yn:e.y=e.y<0?0:1;break;case gp:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return zm("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===In?zc:eT}set encoding(e){zm("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===zc?In:Vc}}Hn.DEFAULT_IMAGE=null;Hn.DEFAULT_MAPPING=D5;Hn.DEFAULT_ANISOTROPY=1;class Jt{constructor(e=0,n=0,r=0,i=1){Jt.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,c=l[0],u=l[4],h=l[8],f=l[1],m=l[5],g=l[9],E=l[2],x=l[6],A=l[10];if(Math.abs(u-f)<.01&&Math.abs(h-E)<.01&&Math.abs(g-x)<.01){if(Math.abs(u+f)<.1&&Math.abs(h+E)<.1&&Math.abs(g+x)<.1&&Math.abs(c+m+A-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const y=(c+1)/2,S=(m+1)/2,w=(A+1)/2,T=(u+f)/4,b=(h+E)/4,R=(g+x)/4;return y>S&&y>w?y<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(y),i=T/r,s=b/r):S>w?S<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(S),r=T/i,s=R/i):w<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(w),r=b/s,i=R/s),this.set(r,i,s,n),this}let v=Math.sqrt((x-g)*(x-g)+(h-E)*(h-E)+(f-u)*(f-u));return Math.abs(v)<.001&&(v=1),this.x=(x-g)/v,this.y=(h-E)/v,this.z=(f-u)/v,this.w=Math.acos((c+m+A-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class qH extends Ha{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Jt(0,0,e,n),this.scissorTest=!1,this.viewport=new Jt(0,0,e,n);const i={width:e,height:n,depth:1};r.encoding!==void 0&&(zm("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===zc?In:Vc),this.texture=new Hn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:yn,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new vh(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class En extends qH{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class N5 extends Hn{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=It,this.minFilter=It,this.wrapR=Yn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class gie extends En{constructor(e=1,n=1,r=1){super(e,n),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new N5(null,e,n,r),this.texture.isRenderTargetTexture=!0}}let iT=class extends Hn{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=It,this.minFilter=It,this.wrapR=Yn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};class Aie extends En{constructor(e=1,n=1,r=1){super(e,n),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new iT(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class vie extends En{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class Fr{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],h=r[i+3];const f=s[o+0],m=s[o+1],g=s[o+2],E=s[o+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=h;return}if(a===1){e[n+0]=f,e[n+1]=m,e[n+2]=g,e[n+3]=E;return}if(h!==E||l!==f||c!==m||u!==g){let x=1-a;const A=l*f+c*m+u*g+h*E,v=A>=0?1:-1,y=1-A*A;if(y>Number.EPSILON){const w=Math.sqrt(y),T=Math.atan2(w,A*v);x=Math.sin(x*T)/w,a=Math.sin(a*T)/w}const S=a*v;if(l=l*x+f*S,c=c*x+m*S,u=u*x+g*S,h=h*x+E*S,x===1-a){const w=1/Math.sqrt(l*l+c*c+u*u+h*h);l*=w,c*=w,u*=w,h*=w}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=h}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],h=s[o],f=s[o+1],m=s[o+2],g=s[o+3];return e[n]=a*g+u*h+l*m-c*f,e[n+1]=l*g+u*f+c*h-a*m,e[n+2]=c*g+u*m+a*f-l*h,e[n+3]=u*g-a*h-l*f-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),h=a(s/2),f=l(r/2),m=l(i/2),g=l(s/2);switch(o){case"XYZ":this._x=f*u*h+c*m*g,this._y=c*m*h-f*u*g,this._z=c*u*g+f*m*h,this._w=c*u*h-f*m*g;break;case"YXZ":this._x=f*u*h+c*m*g,this._y=c*m*h-f*u*g,this._z=c*u*g-f*m*h,this._w=c*u*h+f*m*g;break;case"ZXY":this._x=f*u*h-c*m*g,this._y=c*m*h+f*u*g,this._z=c*u*g+f*m*h,this._w=c*u*h-f*m*g;break;case"ZYX":this._x=f*u*h-c*m*g,this._y=c*m*h+f*u*g,this._z=c*u*g-f*m*h,this._w=c*u*h+f*m*g;break;case"YZX":this._x=f*u*h+c*m*g,this._y=c*m*h+f*u*g,this._z=c*u*g-f*m*h,this._w=c*u*h-f*m*g;break;case"XZY":this._x=f*u*h-c*m*g,this._y=c*m*h-f*u*g,this._z=c*u*g+f*m*h,this._w=c*u*h+f*m*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],c=n[2],u=n[6],h=n[10],f=r+a+h;if(f>0){const m=.5/Math.sqrt(f+1);this._w=.25/m,this._x=(u-l)*m,this._y=(s-c)*m,this._z=(o-i)*m}else if(r>a&&r>h){const m=2*Math.sqrt(1+r-a-h);this._w=(u-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+c)/m}else if(a>h){const m=2*Math.sqrt(1+a-r-h);this._w=(s-c)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+u)/m}else{const m=2*Math.sqrt(1+h-r-a);this._w=(o-i)/m,this._x=(s+c)/m,this._y=(l+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(cr(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-n;return this._w=m*o+n*this._w,this._x=m*r+n*this._x,this._y=m*i+n*this._y,this._z=m*s+n*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),h=Math.sin((1-n)*u)/c,f=Math.sin(n*u)/c;return this._w=o*h+this._w*f,this._x=r*h+this._x*f,this._y=i*h+this._y*f,this._z=s*h+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(s),r*Math.cos(s),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class O{constructor(e=0,n=0,r=0){O.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(wB.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(wB.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*n+o*i-a*r,u=l*r+a*n-s*i,h=l*i+s*r-o*n,f=-s*n-o*r-a*i;return this.x=c*l+f*-s+u*-a-h*-o,this.y=u*l+f*-o+h*-s-c*-a,this.z=h*l+f*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return g8.copy(this).projectOnVector(e),this.sub(g8)}reflect(e){return this.sub(g8.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(cr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const g8=new O,wB=new Fr;class Zo{constructor(e=new O(1/0,1/0,1/0),n=new O(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(il.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(il.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=il.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),Nf.copy(e.boundingBox),Nf.applyMatrix4(e.matrixWorld),this.union(Nf);else{const i=e.geometry;if(i!==void 0)if(n&&i.attributes!==void 0&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)il.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(il)}else i.boundingBox===null&&i.computeBoundingBox(),Nf.copy(i.boundingBox),Nf.applyMatrix4(e.matrixWorld),this.union(Nf)}const r=e.children;for(let i=0,s=r.length;i<s;i++)this.expandByObject(r[i],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,il),il.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(U0),M1.subVectors(this.max,U0),kf.subVectors(e.a,U0),Uf.subVectors(e.b,U0),Gf.subVectors(e.c,U0),ic.subVectors(Uf,kf),sc.subVectors(Gf,Uf),Du.subVectors(kf,Gf);let n=[0,-ic.z,ic.y,0,-sc.z,sc.y,0,-Du.z,Du.y,ic.z,0,-ic.x,sc.z,0,-sc.x,Du.z,0,-Du.x,-ic.y,ic.x,0,-sc.y,sc.x,0,-Du.y,Du.x,0];return!A8(n,kf,Uf,Gf,M1)||(n=[1,0,0,0,1,0,0,0,1],!A8(n,kf,Uf,Gf,M1))?!1:(R1.crossVectors(ic,sc),n=[R1.x,R1.y,R1.z],A8(n,kf,Uf,Gf,M1))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,il).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(il).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(rl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),rl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),rl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),rl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),rl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),rl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),rl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),rl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(rl),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const rl=[new O,new O,new O,new O,new O,new O,new O,new O],il=new O,Nf=new Zo,kf=new O,Uf=new O,Gf=new O,ic=new O,sc=new O,Du=new O,U0=new O,M1=new O,R1=new O,Lu=new O;function A8(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){Lu.fromArray(t,s);const a=i.x*Math.abs(Lu.x)+i.y*Math.abs(Lu.y)+i.z*Math.abs(Lu.z),l=e.dot(Lu),c=n.dot(Lu),u=r.dot(Lu);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const yie=new Zo,G0=new O,v8=new O;class yo{constructor(e=new O,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):yie.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;G0.subVectors(e,this.center);const n=G0.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(G0,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(v8.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(G0.copy(e.center).add(v8)),this.expandByPoint(G0.copy(e.center).sub(v8))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const sl=new O,y8=new O,B1=new O,oc=new O,x8=new O,P1=new O,E8=new O;class $p{constructor(e=new O,n=new O(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,sl)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=sl.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(sl.copy(this.origin).addScaledVector(this.direction,n),sl.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){y8.copy(e).add(n).multiplyScalar(.5),B1.copy(n).sub(e).normalize(),oc.copy(this.origin).sub(y8);const s=e.distanceTo(n)*.5,o=-this.direction.dot(B1),a=oc.dot(this.direction),l=-oc.dot(B1),c=oc.lengthSq(),u=Math.abs(1-o*o);let h,f,m,g;if(u>0)if(h=o*l-a,f=o*a-l,g=s*u,h>=0)if(f>=-g)if(f<=g){const E=1/u;h*=E,f*=E,m=h*(h+o*f+2*a)+f*(o*h+f+2*l)+c}else f=s,h=Math.max(0,-(o*f+a)),m=-h*h+f*(f+2*l)+c;else f=-s,h=Math.max(0,-(o*f+a)),m=-h*h+f*(f+2*l)+c;else f<=-g?(h=Math.max(0,-(-o*s+a)),f=h>0?-s:Math.min(Math.max(-s,-l),s),m=-h*h+f*(f+2*l)+c):f<=g?(h=0,f=Math.min(Math.max(-s,-l),s),m=f*(f+2*l)+c):(h=Math.max(0,-(o*s+a)),f=h>0?s:Math.min(Math.max(-s,-l),s),m=-h*h+f*(f+2*l)+c);else f=o>0?-s:s,h=Math.max(0,-(o*f+a)),m=-h*h+f*(f+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,h),i&&i.copy(y8).addScaledVector(B1,f),m}intersectSphere(e,n){sl.subVectors(e.center,this.origin);const r=sl.dot(this.direction),i=sl.dot(sl)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,f=this.origin;return c>=0?(r=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(r=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),u>=0?(s=(e.min.y-f.y)*u,o=(e.max.y-f.y)*u):(s=(e.max.y-f.y)*u,o=(e.min.y-f.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),h>=0?(a=(e.min.z-f.z)*h,l=(e.max.z-f.z)*h):(a=(e.max.z-f.z)*h,l=(e.min.z-f.z)*h),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,sl)!==null}intersectTriangle(e,n,r,i,s){x8.subVectors(n,e),P1.subVectors(r,e),E8.crossVectors(x8,P1);let o=this.direction.dot(E8),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;oc.subVectors(this.origin,e);const l=a*this.direction.dot(P1.crossVectors(oc,P1));if(l<0)return null;const c=a*this.direction.dot(x8.cross(oc));if(c<0||l+c>o)return null;const u=-a*oc.dot(E8);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class st{constructor(e,n,r,i,s,o,a,l,c,u,h,f,m,g,E,x){st.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,c,u,h,f,m,g,E,x)}set(e,n,r,i,s,o,a,l,c,u,h,f,m,g,E,x){const A=this.elements;return A[0]=e,A[4]=n,A[8]=r,A[12]=i,A[1]=s,A[5]=o,A[9]=a,A[13]=l,A[2]=c,A[6]=u,A[10]=h,A[14]=f,A[3]=m,A[7]=g,A[11]=E,A[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new st().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Hf.setFromMatrixColumn(e,0).length(),s=1/Hf.setFromMatrixColumn(e,1).length(),o=1/Hf.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const f=o*u,m=o*h,g=a*u,E=a*h;n[0]=l*u,n[4]=-l*h,n[8]=c,n[1]=m+g*c,n[5]=f-E*c,n[9]=-a*l,n[2]=E-f*c,n[6]=g+m*c,n[10]=o*l}else if(e.order==="YXZ"){const f=l*u,m=l*h,g=c*u,E=c*h;n[0]=f+E*a,n[4]=g*a-m,n[8]=o*c,n[1]=o*h,n[5]=o*u,n[9]=-a,n[2]=m*a-g,n[6]=E+f*a,n[10]=o*l}else if(e.order==="ZXY"){const f=l*u,m=l*h,g=c*u,E=c*h;n[0]=f-E*a,n[4]=-o*h,n[8]=g+m*a,n[1]=m+g*a,n[5]=o*u,n[9]=E-f*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const f=o*u,m=o*h,g=a*u,E=a*h;n[0]=l*u,n[4]=g*c-m,n[8]=f*c+E,n[1]=l*h,n[5]=E*c+f,n[9]=m*c-g,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const f=o*l,m=o*c,g=a*l,E=a*c;n[0]=l*u,n[4]=E-f*h,n[8]=g*h+m,n[1]=h,n[5]=o*u,n[9]=-a*u,n[2]=-c*u,n[6]=m*h+g,n[10]=f-E*h}else if(e.order==="XZY"){const f=o*l,m=o*c,g=a*l,E=a*c;n[0]=l*u,n[4]=-h,n[8]=c*u,n[1]=f*h+E,n[5]=o*u,n[9]=m*h-g,n[2]=g*h-m,n[6]=a*u,n[10]=E*h+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(xie,e,Eie)}lookAt(e,n,r){const i=this.elements;return gs.subVectors(e,n),gs.lengthSq()===0&&(gs.z=1),gs.normalize(),ac.crossVectors(r,gs),ac.lengthSq()===0&&(Math.abs(r.z)===1?gs.x+=1e-4:gs.z+=1e-4,gs.normalize(),ac.crossVectors(r,gs)),ac.normalize(),D1.crossVectors(gs,ac),i[0]=ac.x,i[4]=D1.x,i[8]=gs.x,i[1]=ac.y,i[5]=D1.y,i[9]=gs.y,i[2]=ac.z,i[6]=D1.z,i[10]=gs.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],h=r[5],f=r[9],m=r[13],g=r[2],E=r[6],x=r[10],A=r[14],v=r[3],y=r[7],S=r[11],w=r[15],T=i[0],b=i[4],R=i[8],M=i[12],B=i[1],L=i[5],G=i[9],F=i[13],$=i[2],W=i[6],Z=i[10],q=i[14],k=i[3],J=i[7],V=i[11],H=i[15];return s[0]=o*T+a*B+l*$+c*k,s[4]=o*b+a*L+l*W+c*J,s[8]=o*R+a*G+l*Z+c*V,s[12]=o*M+a*F+l*q+c*H,s[1]=u*T+h*B+f*$+m*k,s[5]=u*b+h*L+f*W+m*J,s[9]=u*R+h*G+f*Z+m*V,s[13]=u*M+h*F+f*q+m*H,s[2]=g*T+E*B+x*$+A*k,s[6]=g*b+E*L+x*W+A*J,s[10]=g*R+E*G+x*Z+A*V,s[14]=g*M+E*F+x*q+A*H,s[3]=v*T+y*B+S*$+w*k,s[7]=v*b+y*L+S*W+w*J,s[11]=v*R+y*G+S*Z+w*V,s[15]=v*M+y*F+S*q+w*H,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],h=e[6],f=e[10],m=e[14],g=e[3],E=e[7],x=e[11],A=e[15];return g*(+s*l*h-i*c*h-s*a*f+r*c*f+i*a*m-r*l*m)+E*(+n*l*m-n*c*f+s*o*f-i*o*m+i*c*u-s*l*u)+x*(+n*c*h-n*a*m-s*o*h+r*o*m+s*a*u-r*c*u)+A*(-i*a*u-n*l*h+n*a*f+i*o*h-r*o*f+r*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],h=e[9],f=e[10],m=e[11],g=e[12],E=e[13],x=e[14],A=e[15],v=h*x*c-E*f*c+E*l*m-a*x*m-h*l*A+a*f*A,y=g*f*c-u*x*c-g*l*m+o*x*m+u*l*A-o*f*A,S=u*E*c-g*h*c+g*a*m-o*E*m-u*a*A+o*h*A,w=g*h*l-u*E*l-g*a*f+o*E*f+u*a*x-o*h*x,T=n*v+r*y+i*S+s*w;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const b=1/T;return e[0]=v*b,e[1]=(E*f*s-h*x*s-E*i*m+r*x*m+h*i*A-r*f*A)*b,e[2]=(a*x*s-E*l*s+E*i*c-r*x*c-a*i*A+r*l*A)*b,e[3]=(h*l*s-a*f*s-h*i*c+r*f*c+a*i*m-r*l*m)*b,e[4]=y*b,e[5]=(u*x*s-g*f*s+g*i*m-n*x*m-u*i*A+n*f*A)*b,e[6]=(g*l*s-o*x*s-g*i*c+n*x*c+o*i*A-n*l*A)*b,e[7]=(o*f*s-u*l*s+u*i*c-n*f*c-o*i*m+n*l*m)*b,e[8]=S*b,e[9]=(g*h*s-u*E*s-g*r*m+n*E*m+u*r*A-n*h*A)*b,e[10]=(o*E*s-g*a*s+g*r*c-n*E*c-o*r*A+n*a*A)*b,e[11]=(u*a*s-o*h*s-u*r*c+n*h*c+o*r*m-n*a*m)*b,e[12]=w*b,e[13]=(u*E*i-g*h*i+g*r*f-n*E*f-u*r*x+n*h*x)*b,e[14]=(g*a*i-o*E*i-g*r*l+n*E*l+o*r*x-n*a*x)*b,e[15]=(o*h*i-u*a*i+u*r*l-n*h*l-o*r*f+n*a*f)*b,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,c=s+s,u=o+o,h=a+a,f=s*c,m=s*u,g=s*h,E=o*u,x=o*h,A=a*h,v=l*c,y=l*u,S=l*h,w=r.x,T=r.y,b=r.z;return i[0]=(1-(E+A))*w,i[1]=(m+S)*w,i[2]=(g-y)*w,i[3]=0,i[4]=(m-S)*T,i[5]=(1-(f+A))*T,i[6]=(x+v)*T,i[7]=0,i[8]=(g+y)*b,i[9]=(x-v)*b,i[10]=(1-(f+E))*b,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=Hf.set(i[0],i[1],i[2]).length();const o=Hf.set(i[4],i[5],i[6]).length(),a=Hf.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],bo.copy(this);const c=1/s,u=1/o,h=1/a;return bo.elements[0]*=c,bo.elements[1]*=c,bo.elements[2]*=c,bo.elements[4]*=u,bo.elements[5]*=u,bo.elements[6]*=u,bo.elements[8]*=h,bo.elements[9]*=h,bo.elements[10]*=h,n.setFromRotationMatrix(bo),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o,a=Sa){const l=this.elements,c=2*s/(n-e),u=2*s/(r-i),h=(n+e)/(n-e),f=(r+i)/(r-i);let m,g;if(a===Sa)m=-(o+s)/(o-s),g=-2*o*s/(o-s);else if(a===kg)m=-o/(o-s),g=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=h,l[12]=0,l[1]=0,l[5]=u,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=g,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,s,o,a=Sa){const l=this.elements,c=1/(n-e),u=1/(r-i),h=1/(o-s),f=(n+e)*c,m=(r+i)*u;let g,E;if(a===Sa)g=(o+s)*h,E=-2*h;else if(a===kg)g=s*h,E=-1*h;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=E,l[14]=-g,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Hf=new O,bo=new st,xie=new O(0,0,0),Eie=new O(1,1,1),ac=new O,D1=new O,gs=new O,TB=new st,IB=new Fr;class _3{constructor(e=0,n=0,r=0,i=_3.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],h=i[2],f=i[6],m=i[10];switch(n){case"XYZ":this._y=Math.asin(cr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-cr(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(cr(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-cr(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(f,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(cr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-cr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return TB.makeRotationFromQuaternion(e),this.setFromRotationMatrix(TB,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return IB.setFromEuler(this),this.setFromQuaternion(IB,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}_3.DEFAULT_ORDER="XYZ";class bh{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let _ie=0;const bB=new O,Qf=new Fr,ol=new st,L1=new O,H0=new O,Sie=new O,Cie=new Fr,MB=new O(1,0,0),RB=new O(0,1,0),BB=new O(0,0,1),wie={type:"added"},Tie={type:"removed"};class tn extends Ha{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_ie++}),this.uuid=Ts(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=tn.DEFAULT_UP.clone();const e=new O,n=new _3,r=new Fr,i=new O(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new st},normalMatrix:{value:new kt}}),this.matrix=new st,this.matrixWorld=new st,this.matrixAutoUpdate=tn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=tn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new bh,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Qf.setFromAxisAngle(e,n),this.quaternion.multiply(Qf),this}rotateOnWorldAxis(e,n){return Qf.setFromAxisAngle(e,n),this.quaternion.premultiply(Qf),this}rotateX(e){return this.rotateOnAxis(MB,e)}rotateY(e){return this.rotateOnAxis(RB,e)}rotateZ(e){return this.rotateOnAxis(BB,e)}translateOnAxis(e,n){return bB.copy(e).applyQuaternion(this.quaternion),this.position.add(bB.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(MB,e)}translateY(e){return this.translateOnAxis(RB,e)}translateZ(e){return this.translateOnAxis(BB,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ol.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?L1.copy(e):L1.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),H0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ol.lookAt(H0,L1,this.up):ol.lookAt(L1,H0,this.up),this.quaternion.setFromRotationMatrix(ol),i&&(ol.extractRotation(i.matrixWorld),Qf.setFromRotationMatrix(ol),this.quaternion.premultiply(Qf.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(wie)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Tie)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),ol.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ol.multiply(e.parent.matrixWorld)),e.applyMatrix4(ol),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n){let r=[];this[e]===n&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,n);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(H0,e,Sie),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(H0,Cie,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const s=n[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const h=l[c];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),h=o(e.shapes),f=o(e.skeletons),m=o(e.animations),g=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),h.length>0&&(r.shapes=h),f.length>0&&(r.skeletons=f),m.length>0&&(r.animations=m),g.length>0&&(r.nodes=g)}return r.object=i,r;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}tn.DEFAULT_UP=new O(0,1,0);tn.DEFAULT_MATRIX_AUTO_UPDATE=!0;tn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Mo=new O,al=new O,_8=new O,ll=new O,zf=new O,Vf=new O,PB=new O,S8=new O,C8=new O,w8=new O;let O1=!1;class Zi{constructor(e=new O,n=new O,r=new O){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Mo.subVectors(e,n),i.cross(Mo);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){Mo.subVectors(i,n),al.subVectors(r,n),_8.subVectors(e,n);const o=Mo.dot(Mo),a=Mo.dot(al),l=Mo.dot(_8),c=al.dot(al),u=al.dot(_8),h=o*c-a*a;if(h===0)return s.set(-2,-1,-1);const f=1/h,m=(c*l-a*u)*f,g=(o*u-a*l)*f;return s.set(1-m-g,g,m)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,ll),ll.x>=0&&ll.y>=0&&ll.x+ll.y<=1}static getUV(e,n,r,i,s,o,a,l){return O1===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),O1=!0),this.getInterpolation(e,n,r,i,s,o,a,l)}static getInterpolation(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,ll),l.setScalar(0),l.addScaledVector(s,ll.x),l.addScaledVector(o,ll.y),l.addScaledVector(a,ll.z),l}static isFrontFacing(e,n,r,i){return Mo.subVectors(r,n),al.subVectors(e,n),Mo.cross(al).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Mo.subVectors(this.c,this.b),al.subVectors(this.a,this.b),Mo.cross(al).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Zi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Zi.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,s){return O1===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),O1=!0),Zi.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}getInterpolation(e,n,r,i,s){return Zi.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return Zi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Zi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;zf.subVectors(i,r),Vf.subVectors(s,r),S8.subVectors(e,r);const l=zf.dot(S8),c=Vf.dot(S8);if(l<=0&&c<=0)return n.copy(r);C8.subVectors(e,i);const u=zf.dot(C8),h=Vf.dot(C8);if(u>=0&&h<=u)return n.copy(i);const f=l*h-u*c;if(f<=0&&l>=0&&u<=0)return o=l/(l-u),n.copy(r).addScaledVector(zf,o);w8.subVectors(e,s);const m=zf.dot(w8),g=Vf.dot(w8);if(g>=0&&m<=g)return n.copy(s);const E=m*c-l*g;if(E<=0&&c>=0&&g<=0)return a=c/(c-g),n.copy(r).addScaledVector(Vf,a);const x=u*g-m*h;if(x<=0&&h-u>=0&&m-g>=0)return PB.subVectors(s,i),a=(h-u)/(h-u+(m-g)),n.copy(i).addScaledVector(PB,a);const A=1/(x+E+f);return o=E*A,a=f*A,n.copy(r).addScaledVector(zf,o).addScaledVector(Vf,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Iie=0;class Tr extends Ha{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Iie++}),this.uuid=Ts(),this.name="",this.type="Material",this.blending=Ba,this.side=ka,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Tg,this.blendDst=Ig,this.blendEquation=Es,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=ry,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=GH,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=lv,this.stencilZFail=lv,this.stencilZPass=lv,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Ba&&(r.blending=this.blending),this.side!==ka&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=this.alphaHash),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const ZH={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ro={h:0,s:0,l:0},F1={h:0,s:0,l:0};function T8(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class Fe{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=In){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Js.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Js.workingColorSpace){return this.r=e,this.g=n,this.b=r,Js.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Js.workingColorSpace){if(e=nT(e,1),n=cr(n,0,1),r=cr(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=T8(o,s,e+1/3),this.g=T8(o,s,e),this.b=T8(o,s,e-1/3)}return Js.toWorkingColorSpace(this,i),this}setStyle(e,n=In){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=In){const r=ZH[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Kd(e.r),this.g=Kd(e.g),this.b=Kd(e.b),this}copyLinearToSRGB(e){return this.r=p8(e.r),this.g=p8(e.g),this.b=p8(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=In){return Js.fromWorkingColorSpace(vi.copy(this),e),Math.round(cr(vi.r*255,0,255))*65536+Math.round(cr(vi.g*255,0,255))*256+Math.round(cr(vi.b*255,0,255))}getHexString(e=In){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Js.workingColorSpace){Js.fromWorkingColorSpace(vi.copy(this),n);const r=vi.r,i=vi.g,s=vi.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const h=o-a;switch(c=u<=.5?h/(o+a):h/(2-o-a),o){case r:l=(i-s)/h+(i<s?6:0);break;case i:l=(s-r)/h+2;break;case s:l=(r-i)/h+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=Js.workingColorSpace){return Js.fromWorkingColorSpace(vi.copy(this),n),e.r=vi.r,e.g=vi.g,e.b=vi.b,e}getStyle(e=In){Js.fromWorkingColorSpace(vi.copy(this),e);const n=vi.r,r=vi.g,i=vi.b;return e!==In?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Ro),Ro.h+=e,Ro.s+=n,Ro.l+=r,this.setHSL(Ro.h,Ro.s,Ro.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Ro),e.getHSL(F1);const r=Qm(Ro.h,F1.h,n),i=Qm(Ro.s,F1.s,n),s=Qm(Ro.l,F1.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const vi=new Fe;Fe.NAMES=ZH;class oi extends Tr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Fe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=x3,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const ml=bie();function bie(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function Yi(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=cr(t,-65504,65504),ml.floatView[0]=t;const e=ml.uint32View[0],n=e>>23&511;return ml.baseTable[n]+((e&8388607)>>ml.shiftTable[n])}function ym(t){const e=t>>10;return ml.uint32View[0]=ml.mantissaTable[ml.offsetTable[e]+(t&1023)]+ml.exponentTable[e],ml.floatView[0]}const Mie={toHalfFloat:Yi,fromHalfFloat:ym},_r=new O,N1=new ue;class ln{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=Ng,this.updateRange={offset:0,count:-1},this.gpuType=Ui,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)N1.fromBufferAttribute(this,n),N1.applyMatrix3(e),this.setXY(n,N1.x,N1.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)_r.fromBufferAttribute(this,n),_r.applyMatrix3(e),this.setXYZ(n,_r.x,_r.y,_r.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)_r.fromBufferAttribute(this,n),_r.applyMatrix4(e),this.setXYZ(n,_r.x,_r.y,_r.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)_r.fromBufferAttribute(this,n),_r.applyNormalMatrix(e),this.setXYZ(n,_r.x,_r.y,_r.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)_r.fromBufferAttribute(this,n),_r.transformDirection(e),this.setXYZ(n,_r.x,_r.y,_r.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=es(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Ft(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=es(n,this.array)),n}setX(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=es(n,this.array)),n}setY(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=es(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=es(n,this.array)),n}setW(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array),i=Ft(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array),i=Ft(i,this.array),s=Ft(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Ng&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class Rie extends ln{constructor(e,n,r){super(new Int8Array(e),n,r)}}class Bie extends ln{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class Pie extends ln{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class Die extends ln{constructor(e,n,r){super(new Int16Array(e),n,r)}}class sT extends ln{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class Lie extends ln{constructor(e,n,r){super(new Int32Array(e),n,r)}}class k5 extends ln{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Oie extends ln{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=ym(this.array[e*this.itemSize]);return this.normalized&&(n=es(n,this.array)),n}setX(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize]=Yi(n),this}getY(e){let n=ym(this.array[e*this.itemSize+1]);return this.normalized&&(n=es(n,this.array)),n}setY(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize+1]=Yi(n),this}getZ(e){let n=ym(this.array[e*this.itemSize+2]);return this.normalized&&(n=es(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize+2]=Yi(n),this}getW(e){let n=ym(this.array[e*this.itemSize+3]);return this.normalized&&(n=es(n,this.array)),n}setW(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize+3]=Yi(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array)),this.array[e+0]=Yi(n),this.array[e+1]=Yi(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array),i=Ft(i,this.array)),this.array[e+0]=Yi(n),this.array[e+1]=Yi(r),this.array[e+2]=Yi(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array),i=Ft(i,this.array),s=Ft(s,this.array)),this.array[e+0]=Yi(n),this.array[e+1]=Yi(r),this.array[e+2]=Yi(i),this.array[e+3]=Yi(s),this}}class at extends ln{constructor(e,n,r){super(new Float32Array(e),n,r)}}class Fie extends ln{constructor(e,n,r){super(new Float64Array(e),n,r)}}let Nie=0;const Ks=new st,I8=new tn,Wf=new O,As=new Zo,Q0=new Zo,Vr=new O;class Mt extends Ha{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Nie++}),this.uuid=Ts(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(JH(e)?k5:sT)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new kt().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ks.makeRotationFromQuaternion(e),this.applyMatrix4(Ks),this}rotateX(e){return Ks.makeRotationX(e),this.applyMatrix4(Ks),this}rotateY(e){return Ks.makeRotationY(e),this.applyMatrix4(Ks),this}rotateZ(e){return Ks.makeRotationZ(e),this.applyMatrix4(Ks),this}translate(e,n,r){return Ks.makeTranslation(e,n,r),this.applyMatrix4(Ks),this}scale(e,n,r){return Ks.makeScale(e,n,r),this.applyMatrix4(Ks),this}lookAt(e){return I8.lookAt(e),I8.updateMatrix(),this.applyMatrix4(I8.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Wf).negate(),this.translate(Wf.x,Wf.y,Wf.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new at(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Zo);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new O(-1/0,-1/0,-1/0),new O(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];As.setFromBufferAttribute(s),this.morphTargetsRelative?(Vr.addVectors(this.boundingBox.min,As.min),this.boundingBox.expandByPoint(Vr),Vr.addVectors(this.boundingBox.max,As.max),this.boundingBox.expandByPoint(Vr)):(this.boundingBox.expandByPoint(As.min),this.boundingBox.expandByPoint(As.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new yo);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new O,1/0);return}if(e){const r=this.boundingSphere.center;if(As.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];Q0.setFromBufferAttribute(a),this.morphTargetsRelative?(Vr.addVectors(As.min,Q0.min),As.expandByPoint(Vr),Vr.addVectors(As.max,Q0.max),As.expandByPoint(Vr)):(As.expandByPoint(Q0.min),As.expandByPoint(Q0.max))}As.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Vr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Vr));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Vr.fromBufferAttribute(a,c),l&&(Wf.fromBufferAttribute(e,c),Vr.add(Wf)),i=Math.max(i,r.distanceToSquared(Vr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,s=n.normal.array,o=n.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ln(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let B=0;B<a;B++)c[B]=new O,u[B]=new O;const h=new O,f=new O,m=new O,g=new ue,E=new ue,x=new ue,A=new O,v=new O;function y(B,L,G){h.fromArray(i,B*3),f.fromArray(i,L*3),m.fromArray(i,G*3),g.fromArray(o,B*2),E.fromArray(o,L*2),x.fromArray(o,G*2),f.sub(h),m.sub(h),E.sub(g),x.sub(g);const F=1/(E.x*x.y-x.x*E.y);isFinite(F)&&(A.copy(f).multiplyScalar(x.y).addScaledVector(m,-E.y).multiplyScalar(F),v.copy(m).multiplyScalar(E.x).addScaledVector(f,-x.x).multiplyScalar(F),c[B].add(A),c[L].add(A),c[G].add(A),u[B].add(v),u[L].add(v),u[G].add(v))}let S=this.groups;S.length===0&&(S=[{start:0,count:r.length}]);for(let B=0,L=S.length;B<L;++B){const G=S[B],F=G.start,$=G.count;for(let W=F,Z=F+$;W<Z;W+=3)y(r[W+0],r[W+1],r[W+2])}const w=new O,T=new O,b=new O,R=new O;function M(B){b.fromArray(s,B*3),R.copy(b);const L=c[B];w.copy(L),w.sub(b.multiplyScalar(b.dot(L))).normalize(),T.crossVectors(R,L);const F=T.dot(u[B])<0?-1:1;l[B*4]=w.x,l[B*4+1]=w.y,l[B*4+2]=w.z,l[B*4+3]=F}for(let B=0,L=S.length;B<L;++B){const G=S[B],F=G.start,$=G.count;for(let W=F,Z=F+$;W<Z;W+=3)M(r[W+0]),M(r[W+1]),M(r[W+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new ln(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let f=0,m=r.count;f<m;f++)r.setXYZ(f,0,0,0);const i=new O,s=new O,o=new O,a=new O,l=new O,c=new O,u=new O,h=new O;if(e)for(let f=0,m=e.count;f<m;f+=3){const g=e.getX(f+0),E=e.getX(f+1),x=e.getX(f+2);i.fromBufferAttribute(n,g),s.fromBufferAttribute(n,E),o.fromBufferAttribute(n,x),u.subVectors(o,s),h.subVectors(i,s),u.cross(h),a.fromBufferAttribute(r,g),l.fromBufferAttribute(r,E),c.fromBufferAttribute(r,x),a.add(u),l.add(u),c.add(u),r.setXYZ(g,a.x,a.y,a.z),r.setXYZ(E,l.x,l.y,l.z),r.setXYZ(x,c.x,c.y,c.z)}else for(let f=0,m=n.count;f<m;f+=3)i.fromBufferAttribute(n,f+0),s.fromBufferAttribute(n,f+1),o.fromBufferAttribute(n,f+2),u.subVectors(o,s),h.subVectors(i,s),u.cross(h),r.setXYZ(f+0,u.x,u.y,u.z),r.setXYZ(f+1,u.x,u.y,u.z),r.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Vr.fromBufferAttribute(e,n),Vr.normalize(),e.setXYZ(n,Vr.x,Vr.y,Vr.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,h=a.normalized,f=new c.constructor(l.length*u);let m=0,g=0;for(let E=0,x=l.length;E<x;E++){a.isInterleavedBufferAttribute?m=l[E]*a.data.stride+a.offset:m=l[E]*u;for(let A=0;A<u;A++)f[g++]=c[m++]}return new ln(f,u,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Mt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);n.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,h=c.length;u<h;u++){const f=c[u],m=e(f,r);l.push(m)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let h=0,f=c.length;h<f;h++){const m=c[h];u.push(m.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const s=e.morphAttributes;for(const c in s){const u=[],h=s[c];for(let f=0,m=h.length;f<m;f++)u.push(h[f].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const h=o[c];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const DB=new st,Ou=new $p,k1=new yo,LB=new O,jf=new O,$f=new O,Kf=new O,b8=new O,U1=new O,G1=new ue,H1=new ue,Q1=new ue,OB=new O,FB=new O,NB=new O,z1=new O,V1=new O;class fn extends tn{constructor(e=new Mt,n=new oi){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){U1.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],h=s[l];u!==0&&(b8.fromBufferAttribute(h,e),o?U1.addScaledVector(b8,u):U1.addScaledVector(b8.sub(n),u))}n.add(U1)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),k1.copy(r.boundingSphere),k1.applyMatrix4(s),Ou.copy(e.ray).recast(e.near),!(k1.containsPoint(Ou.origin)===!1&&(Ou.intersectSphere(k1,LB)===null||Ou.origin.distanceToSquared(LB)>(e.far-e.near)**2))&&(DB.copy(s).invert(),Ou.copy(e.ray).applyMatrix4(DB),!(r.boundingBox!==null&&Ou.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Ou)))}_computeIntersections(e,n,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,h=s.attributes.normal,f=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let g=0,E=f.length;g<E;g++){const x=f[g],A=o[x.materialIndex],v=Math.max(x.start,m.start),y=Math.min(a.count,Math.min(x.start+x.count,m.start+m.count));for(let S=v,w=y;S<w;S+=3){const T=a.getX(S),b=a.getX(S+1),R=a.getX(S+2);i=W1(this,A,e,r,c,u,h,T,b,R),i&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=x.materialIndex,n.push(i))}}else{const g=Math.max(0,m.start),E=Math.min(a.count,m.start+m.count);for(let x=g,A=E;x<A;x+=3){const v=a.getX(x),y=a.getX(x+1),S=a.getX(x+2);i=W1(this,o,e,r,c,u,h,v,y,S),i&&(i.faceIndex=Math.floor(x/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let g=0,E=f.length;g<E;g++){const x=f[g],A=o[x.materialIndex],v=Math.max(x.start,m.start),y=Math.min(l.count,Math.min(x.start+x.count,m.start+m.count));for(let S=v,w=y;S<w;S+=3){const T=S,b=S+1,R=S+2;i=W1(this,A,e,r,c,u,h,T,b,R),i&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=x.materialIndex,n.push(i))}}else{const g=Math.max(0,m.start),E=Math.min(l.count,m.start+m.count);for(let x=g,A=E;x<A;x+=3){const v=x,y=x+1,S=x+2;i=W1(this,o,e,r,c,u,h,v,y,S),i&&(i.faceIndex=Math.floor(x/3),n.push(i))}}}}function kie(t,e,n,r,i,s,o,a){let l;if(e.side===Ci?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===ka,a),l===null)return null;V1.copy(a),V1.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(V1);return c<n.near||c>n.far?null:{distance:c,point:V1.clone(),object:t}}function W1(t,e,n,r,i,s,o,a,l,c){t.getVertexPosition(a,jf),t.getVertexPosition(l,$f),t.getVertexPosition(c,Kf);const u=kie(t,e,n,r,jf,$f,Kf,z1);if(u){i&&(G1.fromBufferAttribute(i,a),H1.fromBufferAttribute(i,l),Q1.fromBufferAttribute(i,c),u.uv=Zi.getInterpolation(z1,jf,$f,Kf,G1,H1,Q1,new ue)),s&&(G1.fromBufferAttribute(s,a),H1.fromBufferAttribute(s,l),Q1.fromBufferAttribute(s,c),u.uv1=Zi.getInterpolation(z1,jf,$f,Kf,G1,H1,Q1,new ue),u.uv2=u.uv1),o&&(OB.fromBufferAttribute(o,a),FB.fromBufferAttribute(o,l),NB.fromBufferAttribute(o,c),u.normal=Zi.getInterpolation(z1,jf,$f,Kf,OB,FB,NB,new O),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const h={a,b:l,c,normal:new O,materialIndex:0};Zi.getNormal(jf,$f,Kf,h.normal),u.face=h}return u}class mu extends Mt{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],h=[];let f=0,m=0;g("z","y","x",-1,-1,r,n,e,o,s,0),g("z","y","x",1,-1,r,n,-e,o,s,1),g("x","z","y",1,1,e,r,n,i,o,2),g("x","z","y",1,-1,e,r,-n,i,o,3),g("x","y","z",1,-1,e,n,r,i,s,4),g("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new at(c,3)),this.setAttribute("normal",new at(u,3)),this.setAttribute("uv",new at(h,2));function g(E,x,A,v,y,S,w,T,b,R,M){const B=S/b,L=w/R,G=S/2,F=w/2,$=T/2,W=b+1,Z=R+1;let q=0,k=0;const J=new O;for(let V=0;V<Z;V++){const H=V*L-F;for(let X=0;X<W;X++){const he=X*B-G;J[E]=he*v,J[x]=H*y,J[A]=$,c.push(J.x,J.y,J.z),J[E]=0,J[x]=0,J[A]=T>0?1:-1,u.push(J.x,J.y,J.z),h.push(X/b),h.push(1-V/R),q+=1}}for(let V=0;V<R;V++)for(let H=0;H<b;H++){const X=f+H+W*V,he=f+H+W*(V+1),ge=f+(H+1)+W*(V+1),Ce=f+(H+1)+W*V;l.push(X,he,Ce),l.push(he,ge,Ce),k+=6}a.addGroup(m,k,M),m+=k,f+=q}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mu(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function yp(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Oi(t){const e={};for(let n=0;n<t.length;n++){const r=yp(t[n]);for(const i in r)e[i]=r[i]}return e}function Uie(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function eQ(t){return t.getRenderTarget()===null?t.outputColorSpace:Ko}const qn={clone:yp,merge:Oi};var Gie=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Hie=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class en extends Tr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Gie,this.fragmentShader=Hie,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=yp(e.uniforms),this.uniformsGroups=Uie(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class S3 extends tn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new st,this.projectionMatrix=new st,this.projectionMatrixInverse=new st,this.coordinateSystem=Sa}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class xn extends S3{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=vp*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Ih*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return vp*2*Math.atan(Math.tan(Ih*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Ih*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Xf=-90,Jf=1;class oT extends tn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null;const i=new xn(Xf,Jf,e,n);i.layers=this.layers,this.add(i);const s=new xn(Xf,Jf,e,n);s.layers=this.layers,this.add(s);const o=new xn(Xf,Jf,e,n);o.layers=this.layers,this.add(o);const a=new xn(Xf,Jf,e,n);a.layers=this.layers,this.add(a);const l=new xn(Xf,Jf,e,n);l.layers=this.layers,this.add(l);const c=new xn(Xf,Jf,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,o,a,l]=n;for(const c of n)this.remove(c);if(e===Sa)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===kg)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,s,o,a,l,c]=this.children,u=e.getRenderTarget(),h=e.xr.enabled;e.xr.enabled=!1;const f=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(n,i),e.setRenderTarget(r,1),e.render(n,s),e.setRenderTarget(r,2),e.render(n,o),e.setRenderTarget(r,3),e.render(n,a),e.setRenderTarget(r,4),e.render(n,l),r.texture.generateMipmaps=f,e.setRenderTarget(r,5),e.render(n,c),e.setRenderTarget(u),e.xr.enabled=h,r.texture.needsPMREMUpdate=!0}}class C3 extends Hn{constructor(e,n,r,i,s,o,a,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:Ol,super(e,n,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class aT extends En{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];n.encoding!==void 0&&(zm("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===zc?In:Vc),this.texture=new C3(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:yn}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new mu(5,5,5),s=new en({name:"CubemapFromEquirect",uniforms:yp(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Ci,blending:Wt});s.uniforms.tEquirect.value=n;const o=new fn(i,s),a=n.minFilter;return n.minFilter===mo&&(n.minFilter=yn),new oT(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}const M8=new O,Qie=new O,zie=new kt;class no{constructor(e=new O(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=M8.subVectors(r,n).cross(Qie.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(M8),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||zie.getNormalMatrix(e),i=this.coplanarPoint(M8).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Fu=new yo,j1=new O;class U5{constructor(e=new no,n=new no,r=new no,i=new no,s=new no,o=new no){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Sa){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],h=i[6],f=i[7],m=i[8],g=i[9],E=i[10],x=i[11],A=i[12],v=i[13],y=i[14],S=i[15];if(r[0].setComponents(l-s,f-c,x-m,S-A).normalize(),r[1].setComponents(l+s,f+c,x+m,S+A).normalize(),r[2].setComponents(l+o,f+u,x+g,S+v).normalize(),r[3].setComponents(l-o,f-u,x-g,S-v).normalize(),r[4].setComponents(l-a,f-h,x-E,S-y).normalize(),n===Sa)r[5].setComponents(l+a,f+h,x+E,S+y).normalize();else if(n===kg)r[5].setComponents(a,h,E,y).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Fu.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Fu.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Fu)}intersectsSprite(e){return Fu.center.set(0,0,0),Fu.radius=.7071067811865476,Fu.applyMatrix4(e.matrixWorld),this.intersectsSphere(Fu)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(j1.x=i.normal.x>0?e.max.x:e.min.x,j1.y=i.normal.y>0?e.max.y:e.min.y,j1.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(j1)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function tQ(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function Vie(t,e){const n=e.isWebGL2,r=new WeakMap;function i(c,u){const h=c.array,f=c.usage,m=t.createBuffer();t.bindBuffer(u,m),t.bufferData(u,h,f),c.onUploadCallback();let g;if(h instanceof Float32Array)g=t.FLOAT;else if(h instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(n)g=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else g=t.UNSIGNED_SHORT;else if(h instanceof Int16Array)g=t.SHORT;else if(h instanceof Uint32Array)g=t.UNSIGNED_INT;else if(h instanceof Int32Array)g=t.INT;else if(h instanceof Int8Array)g=t.BYTE;else if(h instanceof Uint8Array)g=t.UNSIGNED_BYTE;else if(h instanceof Uint8ClampedArray)g=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:m,type:g,bytesPerElement:h.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,h){const f=u.array,m=u.updateRange;t.bindBuffer(h,c),m.count===-1?t.bufferSubData(h,0,f):(n?t.bufferSubData(h,m.offset*f.BYTES_PER_ELEMENT,f,m.offset,m.count):t.bufferSubData(h,m.offset*f.BYTES_PER_ELEMENT,f.subarray(m.offset,m.offset+m.count)),m.count=-1),u.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(t.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const f=r.get(c);(!f||f.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const h=r.get(c);h===void 0?r.set(c,i(c,u)):h.version<c.version&&(s(h.buffer,c,u),h.version=c.version)}return{get:o,remove:a,update:l}}class Kp extends Mt{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,h=e/a,f=n/l,m=[],g=[],E=[],x=[];for(let A=0;A<u;A++){const v=A*f-o;for(let y=0;y<c;y++){const S=y*h-s;g.push(S,-v,0),E.push(0,0,1),x.push(y/a),x.push(1-A/l)}}for(let A=0;A<l;A++)for(let v=0;v<a;v++){const y=v+c*A,S=v+c*(A+1),w=v+1+c*(A+1),T=v+1+c*A;m.push(y,S,T),m.push(S,w,T)}this.setIndex(m),this.setAttribute("position",new at(g,3)),this.setAttribute("normal",new at(E,3)),this.setAttribute("uv",new at(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Kp(e.width,e.height,e.widthSegments,e.heightSegments)}}var Wie=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,jie=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,$ie=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Kie=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Xie=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Jie=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Yie=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,qie=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Zie=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,ese=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,tse=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,nse=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,rse=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,ise=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,sse=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,ose=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,ase=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,lse=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,cse=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,use=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,hse=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,fse=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,dse=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,pse=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,mse=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,gse=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Ase=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,vse=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,yse="gl_FragColor = linearToOutputTexel( gl_FragColor );",xse=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Ese=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,_se=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Sse=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Cse=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,wse=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Tse=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Ise=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,bse=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Mse=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Rse=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Bse=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Pse=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Dse=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Lse=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Ose=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Fse=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Nse=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,kse=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Use=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Gse=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Hse=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,Qse=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,zse=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Vse=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Wse=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,jse=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,$se=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Kse=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Xse=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Jse=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Yse=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,qse=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Zse=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,eoe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,toe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,noe=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,roe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,ioe=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,soe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,ooe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,aoe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,loe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,coe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,uoe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,hoe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,foe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,doe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,poe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,moe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,goe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Aoe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,voe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,yoe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,xoe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Eoe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,_oe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Soe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Coe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,woe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Toe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Ioe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,boe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Moe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,Roe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Boe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Poe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Doe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Loe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Ooe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Foe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Noe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,koe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Uoe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Goe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Hoe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Qoe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,zoe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Voe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Woe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,joe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,$oe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Koe=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Xoe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Joe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Yoe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,qoe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Zoe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,eae=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,tae=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,nae=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,rae=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,iae=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sae=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,oae=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,aae=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lae=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,cae=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,uae=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,hae=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fae=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,dae=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pae=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,mae=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gae=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Aae=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vae=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,yae=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,xae=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Eae=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Ot={alphahash_fragment:Wie,alphahash_pars_fragment:jie,alphamap_fragment:$ie,alphamap_pars_fragment:Kie,alphatest_fragment:Xie,alphatest_pars_fragment:Jie,aomap_fragment:Yie,aomap_pars_fragment:qie,begin_vertex:Zie,beginnormal_vertex:ese,bsdfs:tse,iridescence_fragment:nse,bumpmap_pars_fragment:rse,clipping_planes_fragment:ise,clipping_planes_pars_fragment:sse,clipping_planes_pars_vertex:ose,clipping_planes_vertex:ase,color_fragment:lse,color_pars_fragment:cse,color_pars_vertex:use,color_vertex:hse,common:fse,cube_uv_reflection_fragment:dse,defaultnormal_vertex:pse,displacementmap_pars_vertex:mse,displacementmap_vertex:gse,emissivemap_fragment:Ase,emissivemap_pars_fragment:vse,colorspace_fragment:yse,colorspace_pars_fragment:xse,envmap_fragment:Ese,envmap_common_pars_fragment:_se,envmap_pars_fragment:Sse,envmap_pars_vertex:Cse,envmap_physical_pars_fragment:Fse,envmap_vertex:wse,fog_vertex:Tse,fog_pars_vertex:Ise,fog_fragment:bse,fog_pars_fragment:Mse,gradientmap_pars_fragment:Rse,lightmap_fragment:Bse,lightmap_pars_fragment:Pse,lights_lambert_fragment:Dse,lights_lambert_pars_fragment:Lse,lights_pars_begin:Ose,lights_toon_fragment:Nse,lights_toon_pars_fragment:kse,lights_phong_fragment:Use,lights_phong_pars_fragment:Gse,lights_physical_fragment:Hse,lights_physical_pars_fragment:Qse,lights_fragment_begin:zse,lights_fragment_maps:Vse,lights_fragment_end:Wse,logdepthbuf_fragment:jse,logdepthbuf_pars_fragment:$se,logdepthbuf_pars_vertex:Kse,logdepthbuf_vertex:Xse,map_fragment:Jse,map_pars_fragment:Yse,map_particle_fragment:qse,map_particle_pars_fragment:Zse,metalnessmap_fragment:eoe,metalnessmap_pars_fragment:toe,morphcolor_vertex:noe,morphnormal_vertex:roe,morphtarget_pars_vertex:ioe,morphtarget_vertex:soe,normal_fragment_begin:ooe,normal_fragment_maps:aoe,normal_pars_fragment:loe,normal_pars_vertex:coe,normal_vertex:uoe,normalmap_pars_fragment:hoe,clearcoat_normal_fragment_begin:foe,clearcoat_normal_fragment_maps:doe,clearcoat_pars_fragment:poe,iridescence_pars_fragment:moe,opaque_fragment:goe,packing:Aoe,premultiplied_alpha_fragment:voe,project_vertex:yoe,dithering_fragment:xoe,dithering_pars_fragment:Eoe,roughnessmap_fragment:_oe,roughnessmap_pars_fragment:Soe,shadowmap_pars_fragment:Coe,shadowmap_pars_vertex:woe,shadowmap_vertex:Toe,shadowmask_pars_fragment:Ioe,skinbase_vertex:boe,skinning_pars_vertex:Moe,skinning_vertex:Roe,skinnormal_vertex:Boe,specularmap_fragment:Poe,specularmap_pars_fragment:Doe,tonemapping_fragment:Loe,tonemapping_pars_fragment:Ooe,transmission_fragment:Foe,transmission_pars_fragment:Noe,uv_pars_fragment:koe,uv_pars_vertex:Uoe,uv_vertex:Goe,worldpos_vertex:Hoe,background_vert:Qoe,background_frag:zoe,backgroundCube_vert:Voe,backgroundCube_frag:Woe,cube_vert:joe,cube_frag:$oe,depth_vert:Koe,depth_frag:Xoe,distanceRGBA_vert:Joe,distanceRGBA_frag:Yoe,equirect_vert:qoe,equirect_frag:Zoe,linedashed_vert:eae,linedashed_frag:tae,meshbasic_vert:nae,meshbasic_frag:rae,meshlambert_vert:iae,meshlambert_frag:sae,meshmatcap_vert:oae,meshmatcap_frag:aae,meshnormal_vert:lae,meshnormal_frag:cae,meshphong_vert:uae,meshphong_frag:hae,meshphysical_vert:fae,meshphysical_frag:dae,meshtoon_vert:pae,meshtoon_frag:mae,points_vert:gae,points_frag:Aae,shadow_vert:vae,shadow_frag:yae,sprite_vert:xae,sprite_frag:Eae},Ve={common:{diffuse:{value:new Fe(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new kt},alphaMap:{value:null},alphaMapTransform:{value:new kt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new kt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new kt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new kt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new kt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new kt},normalScale:{value:new ue(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new kt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new kt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new kt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new kt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Fe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Fe(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new kt},alphaTest:{value:0},uvTransform:{value:new kt}},sprite:{diffuse:{value:new Fe(16777215)},opacity:{value:1},center:{value:new ue(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new kt},alphaMap:{value:null},alphaMapTransform:{value:new kt},alphaTest:{value:0}}},Uo={basic:{uniforms:Oi([Ve.common,Ve.specularmap,Ve.envmap,Ve.aomap,Ve.lightmap,Ve.fog]),vertexShader:Ot.meshbasic_vert,fragmentShader:Ot.meshbasic_frag},lambert:{uniforms:Oi([Ve.common,Ve.specularmap,Ve.envmap,Ve.aomap,Ve.lightmap,Ve.emissivemap,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,Ve.fog,Ve.lights,{emissive:{value:new Fe(0)}}]),vertexShader:Ot.meshlambert_vert,fragmentShader:Ot.meshlambert_frag},phong:{uniforms:Oi([Ve.common,Ve.specularmap,Ve.envmap,Ve.aomap,Ve.lightmap,Ve.emissivemap,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,Ve.fog,Ve.lights,{emissive:{value:new Fe(0)},specular:{value:new Fe(1118481)},shininess:{value:30}}]),vertexShader:Ot.meshphong_vert,fragmentShader:Ot.meshphong_frag},standard:{uniforms:Oi([Ve.common,Ve.envmap,Ve.aomap,Ve.lightmap,Ve.emissivemap,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,Ve.roughnessmap,Ve.metalnessmap,Ve.fog,Ve.lights,{emissive:{value:new Fe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ot.meshphysical_vert,fragmentShader:Ot.meshphysical_frag},toon:{uniforms:Oi([Ve.common,Ve.aomap,Ve.lightmap,Ve.emissivemap,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,Ve.gradientmap,Ve.fog,Ve.lights,{emissive:{value:new Fe(0)}}]),vertexShader:Ot.meshtoon_vert,fragmentShader:Ot.meshtoon_frag},matcap:{uniforms:Oi([Ve.common,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,Ve.fog,{matcap:{value:null}}]),vertexShader:Ot.meshmatcap_vert,fragmentShader:Ot.meshmatcap_frag},points:{uniforms:Oi([Ve.points,Ve.fog]),vertexShader:Ot.points_vert,fragmentShader:Ot.points_frag},dashed:{uniforms:Oi([Ve.common,Ve.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ot.linedashed_vert,fragmentShader:Ot.linedashed_frag},depth:{uniforms:Oi([Ve.common,Ve.displacementmap]),vertexShader:Ot.depth_vert,fragmentShader:Ot.depth_frag},normal:{uniforms:Oi([Ve.common,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,{opacity:{value:1}}]),vertexShader:Ot.meshnormal_vert,fragmentShader:Ot.meshnormal_frag},sprite:{uniforms:Oi([Ve.sprite,Ve.fog]),vertexShader:Ot.sprite_vert,fragmentShader:Ot.sprite_frag},background:{uniforms:{uvTransform:{value:new kt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Ot.background_vert,fragmentShader:Ot.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Ot.backgroundCube_vert,fragmentShader:Ot.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ot.cube_vert,fragmentShader:Ot.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ot.equirect_vert,fragmentShader:Ot.equirect_frag},distanceRGBA:{uniforms:Oi([Ve.common,Ve.displacementmap,{referencePosition:{value:new O},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ot.distanceRGBA_vert,fragmentShader:Ot.distanceRGBA_frag},shadow:{uniforms:Oi([Ve.lights,Ve.fog,{color:{value:new Fe(0)},opacity:{value:1}}]),vertexShader:Ot.shadow_vert,fragmentShader:Ot.shadow_frag}};Uo.physical={uniforms:Oi([Uo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new kt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new kt},clearcoatNormalScale:{value:new ue(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new kt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new kt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new kt},sheen:{value:0},sheenColor:{value:new Fe(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new kt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new kt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new kt},transmissionSamplerSize:{value:new ue},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new kt},attenuationDistance:{value:0},attenuationColor:{value:new Fe(0)},specularColor:{value:new Fe(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new kt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new kt},anisotropyVector:{value:new ue},anisotropyMap:{value:null},anisotropyMapTransform:{value:new kt}}]),vertexShader:Ot.meshphysical_vert,fragmentShader:Ot.meshphysical_frag};const $1={r:0,b:0,g:0};function _ae(t,e,n,r,i,s,o){const a=new Fe(0);let l=s===!0?0:1,c,u,h=null,f=0,m=null;function g(x,A){let v=!1,y=A.isScene===!0?A.background:null;y&&y.isTexture&&(y=(A.backgroundBlurriness>0?n:e).get(y)),y===null?E(a,l):y&&y.isColor&&(E(y,1),v=!0);const S=t.xr.getEnvironmentBlendMode();S==="additive"?r.buffers.color.setClear(0,0,0,1,o):S==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(t.autoClear||v)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),y&&(y.isCubeTexture||y.mapping===jp)?(u===void 0&&(u=new fn(new mu(1,1,1),new en({name:"BackgroundCubeMaterial",uniforms:yp(Uo.backgroundCube.uniforms),vertexShader:Uo.backgroundCube.vertexShader,fragmentShader:Uo.backgroundCube.fragmentShader,side:Ci,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(w,T,b){this.matrixWorld.copyPosition(b.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=y,u.material.uniforms.flipEnvMap.value=y.isCubeTexture&&y.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=A.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,u.material.toneMapped=y.colorSpace!==In,(h!==y||f!==y.version||m!==t.toneMapping)&&(u.material.needsUpdate=!0,h=y,f=y.version,m=t.toneMapping),u.layers.enableAll(),x.unshift(u,u.geometry,u.material,0,0,null)):y&&y.isTexture&&(c===void 0&&(c=new fn(new Kp(2,2),new en({name:"BackgroundMaterial",uniforms:yp(Uo.background.uniforms),vertexShader:Uo.background.vertexShader,fragmentShader:Uo.background.fragmentShader,side:ka,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=y,c.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,c.material.toneMapped=y.colorSpace!==In,y.matrixAutoUpdate===!0&&y.updateMatrix(),c.material.uniforms.uvTransform.value.copy(y.matrix),(h!==y||f!==y.version||m!==t.toneMapping)&&(c.material.needsUpdate=!0,h=y,f=y.version,m=t.toneMapping),c.layers.enableAll(),x.unshift(c,c.geometry,c.material,0,0,null))}function E(x,A){x.getRGB($1,eQ(t)),r.buffers.color.setClear($1.r,$1.g,$1.b,A,o)}return{getClearColor:function(){return a},setClearColor:function(x,A=1){a.set(x),l=A,E(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,E(a,l)},render:g}}function Sae(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=x(null);let c=l,u=!1;function h($,W,Z,q,k){let J=!1;if(o){const V=E(q,Z,W);c!==V&&(c=V,m(c.object)),J=A($,q,Z,k),J&&v($,q,Z,k)}else{const V=W.wireframe===!0;(c.geometry!==q.id||c.program!==Z.id||c.wireframe!==V)&&(c.geometry=q.id,c.program=Z.id,c.wireframe=V,J=!0)}k!==null&&n.update(k,t.ELEMENT_ARRAY_BUFFER),(J||u)&&(u=!1,R($,W,Z,q),k!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(k).buffer))}function f(){return r.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function m($){return r.isWebGL2?t.bindVertexArray($):s.bindVertexArrayOES($)}function g($){return r.isWebGL2?t.deleteVertexArray($):s.deleteVertexArrayOES($)}function E($,W,Z){const q=Z.wireframe===!0;let k=a[$.id];k===void 0&&(k={},a[$.id]=k);let J=k[W.id];J===void 0&&(J={},k[W.id]=J);let V=J[q];return V===void 0&&(V=x(f()),J[q]=V),V}function x($){const W=[],Z=[],q=[];for(let k=0;k<i;k++)W[k]=0,Z[k]=0,q[k]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:W,enabledAttributes:Z,attributeDivisors:q,object:$,attributes:{},index:null}}function A($,W,Z,q){const k=c.attributes,J=W.attributes;let V=0;const H=Z.getAttributes();for(const X in H)if(H[X].location>=0){const ge=k[X];let Ce=J[X];if(Ce===void 0&&(X==="instanceMatrix"&&$.instanceMatrix&&(Ce=$.instanceMatrix),X==="instanceColor"&&$.instanceColor&&(Ce=$.instanceColor)),ge===void 0||ge.attribute!==Ce||Ce&&ge.data!==Ce.data)return!0;V++}return c.attributesNum!==V||c.index!==q}function v($,W,Z,q){const k={},J=W.attributes;let V=0;const H=Z.getAttributes();for(const X in H)if(H[X].location>=0){let ge=J[X];ge===void 0&&(X==="instanceMatrix"&&$.instanceMatrix&&(ge=$.instanceMatrix),X==="instanceColor"&&$.instanceColor&&(ge=$.instanceColor));const Ce={};Ce.attribute=ge,ge&&ge.data&&(Ce.data=ge.data),k[X]=Ce,V++}c.attributes=k,c.attributesNum=V,c.index=q}function y(){const $=c.newAttributes;for(let W=0,Z=$.length;W<Z;W++)$[W]=0}function S($){w($,0)}function w($,W){const Z=c.newAttributes,q=c.enabledAttributes,k=c.attributeDivisors;Z[$]=1,q[$]===0&&(t.enableVertexAttribArray($),q[$]=1),k[$]!==W&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"]($,W),k[$]=W)}function T(){const $=c.newAttributes,W=c.enabledAttributes;for(let Z=0,q=W.length;Z<q;Z++)W[Z]!==$[Z]&&(t.disableVertexAttribArray(Z),W[Z]=0)}function b($,W,Z,q,k,J,V){V===!0?t.vertexAttribIPointer($,W,Z,k,J):t.vertexAttribPointer($,W,Z,q,k,J)}function R($,W,Z,q){if(r.isWebGL2===!1&&($.isInstancedMesh||q.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;y();const k=q.attributes,J=Z.getAttributes(),V=W.defaultAttributeValues;for(const H in J){const X=J[H];if(X.location>=0){let he=k[H];if(he===void 0&&(H==="instanceMatrix"&&$.instanceMatrix&&(he=$.instanceMatrix),H==="instanceColor"&&$.instanceColor&&(he=$.instanceColor)),he!==void 0){const ge=he.normalized,Ce=he.itemSize,be=n.get(he);if(be===void 0)continue;const Pe=be.buffer,ke=be.type,Xe=be.bytesPerElement,Je=r.isWebGL2===!0&&(ke===t.INT||ke===t.UNSIGNED_INT||he.gpuType===W9);if(he.isInterleavedBufferAttribute){const we=he.data,K=we.stride,Se=he.offset;if(we.isInstancedInterleavedBuffer){for(let ve=0;ve<X.locationSize;ve++)w(X.location+ve,we.meshPerAttribute);$.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=we.meshPerAttribute*we.count)}else for(let ve=0;ve<X.locationSize;ve++)S(X.location+ve);t.bindBuffer(t.ARRAY_BUFFER,Pe);for(let ve=0;ve<X.locationSize;ve++)b(X.location+ve,Ce/X.locationSize,ke,ge,K*Xe,(Se+Ce/X.locationSize*ve)*Xe,Je)}else{if(he.isInstancedBufferAttribute){for(let we=0;we<X.locationSize;we++)w(X.location+we,he.meshPerAttribute);$.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=he.meshPerAttribute*he.count)}else for(let we=0;we<X.locationSize;we++)S(X.location+we);t.bindBuffer(t.ARRAY_BUFFER,Pe);for(let we=0;we<X.locationSize;we++)b(X.location+we,Ce/X.locationSize,ke,ge,Ce*Xe,Ce/X.locationSize*we*Xe,Je)}}else if(V!==void 0){const ge=V[H];if(ge!==void 0)switch(ge.length){case 2:t.vertexAttrib2fv(X.location,ge);break;case 3:t.vertexAttrib3fv(X.location,ge);break;case 4:t.vertexAttrib4fv(X.location,ge);break;default:t.vertexAttrib1fv(X.location,ge)}}}}T()}function M(){G();for(const $ in a){const W=a[$];for(const Z in W){const q=W[Z];for(const k in q)g(q[k].object),delete q[k];delete W[Z]}delete a[$]}}function B($){if(a[$.id]===void 0)return;const W=a[$.id];for(const Z in W){const q=W[Z];for(const k in q)g(q[k].object),delete q[k];delete W[Z]}delete a[$.id]}function L($){for(const W in a){const Z=a[W];if(Z[$.id]===void 0)continue;const q=Z[$.id];for(const k in q)g(q[k].object),delete q[k];delete Z[$.id]}}function G(){F(),u=!0,c!==l&&(c=l,m(c.object))}function F(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:G,resetDefaultState:F,dispose:M,releaseStatesOfGeometry:B,releaseStatesOfProgram:L,initAttributes:y,enableAttribute:S,disableUnusedAttributes:T}}function Cae(t,e,n,r){const i=r.isWebGL2;let s;function o(c){s=c}function a(c,u){t.drawArrays(s,c,u),n.update(u,s,1)}function l(c,u,h){if(h===0)return;let f,m;if(i)f=t,m="drawArraysInstanced";else if(f=e.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",f===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[m](s,c,u,h),n.update(u,s,h)}this.setMode=o,this.render=a,this.renderInstances=l}function wae(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const b=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(b.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(b){if(b==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";b="mediump"}return b==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=n.logarithmicDepthBuffer===!0,h=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),f=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_TEXTURE_SIZE),g=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),E=t.getParameter(t.MAX_VERTEX_ATTRIBS),x=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),A=t.getParameter(t.MAX_VARYING_VECTORS),v=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),y=f>0,S=o||e.has("OES_texture_float"),w=y&&S,T=o?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:h,maxVertexTextures:f,maxTextureSize:m,maxCubemapSize:g,maxAttributes:E,maxVertexUniforms:x,maxVaryings:A,maxFragmentUniforms:v,vertexTextures:y,floatFragmentTextures:S,floatVertexTextures:w,maxSamples:T}}function Tae(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new no,a=new kt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,f){const m=h.length!==0||f||r!==0||i;return i=f,r=h.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,f){n=u(h,f,0)},this.setState=function(h,f,m){const g=h.clippingPlanes,E=h.clipIntersection,x=h.clipShadows,A=t.get(h);if(!i||g===null||g.length===0||s&&!x)s?u(null):c();else{const v=s?0:r,y=v*4;let S=A.clippingState||null;l.value=S,S=u(g,f,y,m);for(let w=0;w!==y;++w)S[w]=n[w];A.clippingState=S,this.numIntersection=E?this.numPlanes:0,this.numPlanes+=v}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(h,f,m,g){const E=h!==null?h.length:0;let x=null;if(E!==0){if(x=l.value,g!==!0||x===null){const A=m+E*4,v=f.matrixWorldInverse;a.getNormalMatrix(v),(x===null||x.length<A)&&(x=new Float32Array(A));for(let y=0,S=m;y!==E;++y,S+=4)o.copy(h[y]).applyMatrix4(v,a),o.normal.toArray(x,S),x[S+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=E,e.numIntersection=0,x}}function Iae(t){let e=new WeakMap;function n(o,a){return a===bg?o.mapping=Ol:a===Mg&&(o.mapping=Zc),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===bg||a===Mg)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new aT(l.height/2);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",i),n(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class lo extends S3{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Rd=4,kB=[.125,.215,.35,.446,.526,.582],lh=20,R8=new lo,UB=new Fe;let B8=null;const Zu=(1+Math.sqrt(5))/2,Yf=1/Zu,GB=[new O(1,1,1),new O(-1,1,1),new O(1,1,-1),new O(-1,1,-1),new O(0,Zu,Yf),new O(0,Zu,-Yf),new O(Yf,0,Zu),new O(-Yf,0,Zu),new O(Zu,Yf,0),new O(-Zu,Yf,0)];class z4{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){B8=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=zB(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=QB(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(B8),e.scissorTest=!1,K1(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Ol||e.mapping===Zc?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),B8=this._renderer.getRenderTarget();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:yn,minFilter:yn,generateMipmaps:!1,type:vr,format:fr,colorSpace:Ko,depthBuffer:!1},i=HB(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=HB(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=bae(s)),this._blurMaterial=Mae(s,e,n)}return i}_compileMaterial(e){const n=new fn(this._lodPlanes[0],e);this._renderer.compile(n,R8)}_sceneToCubeUV(e,n,r,i){const a=new xn(90,1,n,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,h=u.autoClear,f=u.toneMapping;u.getClearColor(UB),u.toneMapping=ao,u.autoClear=!1;const m=new oi({name:"PMREM.Background",side:Ci,depthWrite:!1,depthTest:!1}),g=new fn(new mu,m);let E=!1;const x=e.background;x?x.isColor&&(m.color.copy(x),e.background=null,E=!0):(m.color.copy(UB),E=!0);for(let A=0;A<6;A++){const v=A%3;v===0?(a.up.set(0,l[A],0),a.lookAt(c[A],0,0)):v===1?(a.up.set(0,0,l[A]),a.lookAt(0,c[A],0)):(a.up.set(0,l[A],0),a.lookAt(0,0,c[A]));const y=this._cubeSize;K1(i,v*y,A>2?y:0,y,y),u.setRenderTarget(i),E&&u.render(g,a),u.render(e,a)}g.geometry.dispose(),g.material.dispose(),u.toneMapping=f,u.autoClear=h,e.background=x}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Ol||e.mapping===Zc;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=zB()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=QB());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new fn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;K1(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,R8)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=GB[(i-1)%GB.length];this._blur(e,i-1,i,s,o)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,h=new fn(this._lodPlanes[i],c),f=c.uniforms,m=this._sizeLods[r]-1,g=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*lh-1),E=s/g,x=isFinite(s)?1+Math.floor(u*E):lh;x>lh&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${lh}`);const A=[];let v=0;for(let b=0;b<lh;++b){const R=b/E,M=Math.exp(-R*R/2);A.push(M),b===0?v+=M:b<x&&(v+=2*M)}for(let b=0;b<A.length;b++)A[b]=A[b]/v;f.envMap.value=e.texture,f.samples.value=x,f.weights.value=A,f.latitudinal.value=o==="latitudinal",a&&(f.poleAxis.value=a);const{_lodMax:y}=this;f.dTheta.value=g,f.mipInt.value=y-r;const S=this._sizeLods[i],w=3*S*(i>y-Rd?i-y+Rd:0),T=4*(this._cubeSize-S);K1(n,w,T,3*S,2*S),l.setRenderTarget(n),l.render(h,R8)}}function bae(t){const e=[],n=[],r=[];let i=t;const s=t-Rd+1+kB.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-Rd?l=kB[o-t+Rd-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,h=1+c,f=[u,u,h,u,h,h,u,u,h,h,u,h],m=6,g=6,E=3,x=2,A=1,v=new Float32Array(E*g*m),y=new Float32Array(x*g*m),S=new Float32Array(A*g*m);for(let T=0;T<m;T++){const b=T%3*2/3-1,R=T>2?0:-1,M=[b,R,0,b+2/3,R,0,b+2/3,R+1,0,b,R,0,b+2/3,R+1,0,b,R+1,0];v.set(M,E*g*T),y.set(f,x*g*T);const B=[T,T,T,T,T,T];S.set(B,A*g*T)}const w=new Mt;w.setAttribute("position",new ln(v,E)),w.setAttribute("uv",new ln(y,x)),w.setAttribute("faceIndex",new ln(S,A)),e.push(w),i>Rd&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function HB(t,e,n){const r=new En(t,e,n);return r.texture.mapping=jp,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function K1(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Mae(t,e,n){const r=new Float32Array(lh),i=new O(0,1,0);return new en({name:"SphericalGaussianBlur",defines:{n:lh,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:lT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Wt,depthTest:!1,depthWrite:!1})}function QB(){return new en({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:lT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Wt,depthTest:!1,depthWrite:!1})}function zB(){return new en({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:lT(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Wt,depthTest:!1,depthWrite:!1})}function lT(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Rae(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===bg||l===Mg,u=l===Ol||l===Zc;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=e.get(a);return n===null&&(n=new z4(t)),h=c?n.fromEquirectangular(a,h):n.fromCubemap(a,h),e.set(a,h),h.texture}else{if(e.has(a))return e.get(a).texture;{const h=a.image;if(c&&h&&h.height>0||u&&h&&i(h)){n===null&&(n=new z4(t));const f=c?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,f),a.addEventListener("dispose",s),f.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function Bae(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Pae(t,e,n,r){const i={},s=new WeakMap;function o(h){const f=h.target;f.index!==null&&e.remove(f.index);for(const g in f.attributes)e.remove(f.attributes[g]);for(const g in f.morphAttributes){const E=f.morphAttributes[g];for(let x=0,A=E.length;x<A;x++)e.remove(E[x])}f.removeEventListener("dispose",o),delete i[f.id];const m=s.get(f);m&&(e.remove(m),s.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function a(h,f){return i[f.id]===!0||(f.addEventListener("dispose",o),i[f.id]=!0,n.memory.geometries++),f}function l(h){const f=h.attributes;for(const g in f)e.update(f[g],t.ARRAY_BUFFER);const m=h.morphAttributes;for(const g in m){const E=m[g];for(let x=0,A=E.length;x<A;x++)e.update(E[x],t.ARRAY_BUFFER)}}function c(h){const f=[],m=h.index,g=h.attributes.position;let E=0;if(m!==null){const v=m.array;E=m.version;for(let y=0,S=v.length;y<S;y+=3){const w=v[y+0],T=v[y+1],b=v[y+2];f.push(w,T,T,b,b,w)}}else if(g!==void 0){const v=g.array;E=g.version;for(let y=0,S=v.length/3-1;y<S;y+=3){const w=y+0,T=y+1,b=y+2;f.push(w,T,T,b,b,w)}}else return;const x=new(JH(f)?k5:sT)(f,1);x.version=E;const A=s.get(h);A&&e.remove(A),s.set(h,x)}function u(h){const f=s.get(h);if(f){const m=h.index;m!==null&&f.version<m.version&&c(h)}else c(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:u}}function Dae(t,e,n,r){const i=r.isWebGL2;let s;function o(f){s=f}let a,l;function c(f){a=f.type,l=f.bytesPerElement}function u(f,m){t.drawElements(s,m,a,f*l),n.update(m,s,1)}function h(f,m,g){if(g===0)return;let E,x;if(i)E=t,x="drawElementsInstanced";else if(E=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",E===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}E[x](s,m,a,f*l,g),n.update(m,s,g)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=h}function Lae(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function Oae(t,e){return t[0]-e[0]}function Fae(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Nae(t,e,n){const r={},i=new Float32Array(8),s=new WeakMap,o=new Jt,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,h){const f=c.morphTargetInfluences;if(e.isWebGL2===!0){const g=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,E=g!==void 0?g.length:0;let x=s.get(u);if(x===void 0||x.count!==E){let W=function(){F.dispose(),s.delete(u),u.removeEventListener("dispose",W)};var m=W;x!==void 0&&x.texture.dispose();const y=u.morphAttributes.position!==void 0,S=u.morphAttributes.normal!==void 0,w=u.morphAttributes.color!==void 0,T=u.morphAttributes.position||[],b=u.morphAttributes.normal||[],R=u.morphAttributes.color||[];let M=0;y===!0&&(M=1),S===!0&&(M=2),w===!0&&(M=3);let B=u.attributes.position.count*M,L=1;B>e.maxTextureSize&&(L=Math.ceil(B/e.maxTextureSize),B=e.maxTextureSize);const G=new Float32Array(B*L*4*E),F=new N5(G,B,L,E);F.type=Ui,F.needsUpdate=!0;const $=M*4;for(let Z=0;Z<E;Z++){const q=T[Z],k=b[Z],J=R[Z],V=B*L*4*Z;for(let H=0;H<q.count;H++){const X=H*$;y===!0&&(o.fromBufferAttribute(q,H),G[V+X+0]=o.x,G[V+X+1]=o.y,G[V+X+2]=o.z,G[V+X+3]=0),S===!0&&(o.fromBufferAttribute(k,H),G[V+X+4]=o.x,G[V+X+5]=o.y,G[V+X+6]=o.z,G[V+X+7]=0),w===!0&&(o.fromBufferAttribute(J,H),G[V+X+8]=o.x,G[V+X+9]=o.y,G[V+X+10]=o.z,G[V+X+11]=J.itemSize===4?o.w:1)}}x={count:E,texture:F,size:new ue(B,L)},s.set(u,x),u.addEventListener("dispose",W)}let A=0;for(let y=0;y<f.length;y++)A+=f[y];const v=u.morphTargetsRelative?1:1-A;h.getUniforms().setValue(t,"morphTargetBaseInfluence",v),h.getUniforms().setValue(t,"morphTargetInfluences",f),h.getUniforms().setValue(t,"morphTargetsTexture",x.texture,n),h.getUniforms().setValue(t,"morphTargetsTextureSize",x.size)}else{const g=f===void 0?0:f.length;let E=r[u.id];if(E===void 0||E.length!==g){E=[];for(let S=0;S<g;S++)E[S]=[S,0];r[u.id]=E}for(let S=0;S<g;S++){const w=E[S];w[0]=S,w[1]=f[S]}E.sort(Fae);for(let S=0;S<8;S++)S<g&&E[S][1]?(a[S][0]=E[S][0],a[S][1]=E[S][1]):(a[S][0]=Number.MAX_SAFE_INTEGER,a[S][1]=0);a.sort(Oae);const x=u.morphAttributes.position,A=u.morphAttributes.normal;let v=0;for(let S=0;S<8;S++){const w=a[S],T=w[0],b=w[1];T!==Number.MAX_SAFE_INTEGER&&b?(x&&u.getAttribute("morphTarget"+S)!==x[T]&&u.setAttribute("morphTarget"+S,x[T]),A&&u.getAttribute("morphNormal"+S)!==A[T]&&u.setAttribute("morphNormal"+S,A[T]),i[S]=b,v+=b):(x&&u.hasAttribute("morphTarget"+S)===!0&&u.deleteAttribute("morphTarget"+S),A&&u.hasAttribute("morphNormal"+S)===!0&&u.deleteAttribute("morphNormal"+S),i[S]=0)}const y=u.morphTargetsRelative?1:1-v;h.getUniforms().setValue(t,"morphTargetBaseInfluence",y),h.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function kae(t,e,n,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,h=e.get(l,u);if(i.get(h)!==c&&(e.update(h),i.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;i.get(f)!==c&&(f.update(),i.set(f,c))}return h}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:o}}const nQ=new Hn,rQ=new N5,iQ=new iT,sQ=new C3,VB=[],WB=[],jB=new Float32Array(16),$B=new Float32Array(9),KB=new Float32Array(4);function Xp(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=VB[i];if(s===void 0&&(s=new Float32Array(i),VB[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function kr(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Ur(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function G5(t,e){let n=WB[e];n===void 0&&(n=new Int32Array(e),WB[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function Uae(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Gae(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(kr(n,e))return;t.uniform2fv(this.addr,e),Ur(n,e)}}function Hae(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(kr(n,e))return;t.uniform3fv(this.addr,e),Ur(n,e)}}function Qae(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(kr(n,e))return;t.uniform4fv(this.addr,e),Ur(n,e)}}function zae(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(kr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Ur(n,e)}else{if(kr(n,r))return;KB.set(r),t.uniformMatrix2fv(this.addr,!1,KB),Ur(n,r)}}function Vae(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(kr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Ur(n,e)}else{if(kr(n,r))return;$B.set(r),t.uniformMatrix3fv(this.addr,!1,$B),Ur(n,r)}}function Wae(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(kr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Ur(n,e)}else{if(kr(n,r))return;jB.set(r),t.uniformMatrix4fv(this.addr,!1,jB),Ur(n,r)}}function jae(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function $ae(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(kr(n,e))return;t.uniform2iv(this.addr,e),Ur(n,e)}}function Kae(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(kr(n,e))return;t.uniform3iv(this.addr,e),Ur(n,e)}}function Xae(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(kr(n,e))return;t.uniform4iv(this.addr,e),Ur(n,e)}}function Jae(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Yae(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(kr(n,e))return;t.uniform2uiv(this.addr,e),Ur(n,e)}}function qae(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(kr(n,e))return;t.uniform3uiv(this.addr,e),Ur(n,e)}}function Zae(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(kr(n,e))return;t.uniform4uiv(this.addr,e),Ur(n,e)}}function ele(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||nQ,i)}function tle(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||iQ,i)}function nle(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||sQ,i)}function rle(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||rQ,i)}function ile(t){switch(t){case 5126:return Uae;case 35664:return Gae;case 35665:return Hae;case 35666:return Qae;case 35674:return zae;case 35675:return Vae;case 35676:return Wae;case 5124:case 35670:return jae;case 35667:case 35671:return $ae;case 35668:case 35672:return Kae;case 35669:case 35673:return Xae;case 5125:return Jae;case 36294:return Yae;case 36295:return qae;case 36296:return Zae;case 35678:case 36198:case 36298:case 36306:case 35682:return ele;case 35679:case 36299:case 36307:return tle;case 35680:case 36300:case 36308:case 36293:return nle;case 36289:case 36303:case 36311:case 36292:return rle}}function sle(t,e){t.uniform1fv(this.addr,e)}function ole(t,e){const n=Xp(e,this.size,2);t.uniform2fv(this.addr,n)}function ale(t,e){const n=Xp(e,this.size,3);t.uniform3fv(this.addr,n)}function lle(t,e){const n=Xp(e,this.size,4);t.uniform4fv(this.addr,n)}function cle(t,e){const n=Xp(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function ule(t,e){const n=Xp(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function hle(t,e){const n=Xp(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function fle(t,e){t.uniform1iv(this.addr,e)}function dle(t,e){t.uniform2iv(this.addr,e)}function ple(t,e){t.uniform3iv(this.addr,e)}function mle(t,e){t.uniform4iv(this.addr,e)}function gle(t,e){t.uniform1uiv(this.addr,e)}function Ale(t,e){t.uniform2uiv(this.addr,e)}function vle(t,e){t.uniform3uiv(this.addr,e)}function yle(t,e){t.uniform4uiv(this.addr,e)}function xle(t,e,n){const r=this.cache,i=e.length,s=G5(n,i);kr(r,s)||(t.uniform1iv(this.addr,s),Ur(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||nQ,s[o])}function Ele(t,e,n){const r=this.cache,i=e.length,s=G5(n,i);kr(r,s)||(t.uniform1iv(this.addr,s),Ur(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||iQ,s[o])}function _le(t,e,n){const r=this.cache,i=e.length,s=G5(n,i);kr(r,s)||(t.uniform1iv(this.addr,s),Ur(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||sQ,s[o])}function Sle(t,e,n){const r=this.cache,i=e.length,s=G5(n,i);kr(r,s)||(t.uniform1iv(this.addr,s),Ur(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||rQ,s[o])}function Cle(t){switch(t){case 5126:return sle;case 35664:return ole;case 35665:return ale;case 35666:return lle;case 35674:return cle;case 35675:return ule;case 35676:return hle;case 5124:case 35670:return fle;case 35667:case 35671:return dle;case 35668:case 35672:return ple;case 35669:case 35673:return mle;case 5125:return gle;case 36294:return Ale;case 36295:return vle;case 36296:return yle;case 35678:case 36198:case 36298:case 36306:case 35682:return xle;case 35679:case 36299:case 36307:return Ele;case 35680:case 36300:case 36308:case 36293:return _le;case 36289:case 36303:case 36311:case 36292:return Sle}}class wle{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.setValue=ile(n.type)}}class Tle{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.size=n.size,this.setValue=Cle(n.type)}}class Ile{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const P8=/(\w+)(\])?(\[|\.)?/g;function XB(t,e){t.seq.push(e),t.map[e.id]=e}function ble(t,e,n){const r=t.name,i=r.length;for(P8.lastIndex=0;;){const s=P8.exec(r),o=P8.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){XB(n,c===void 0?new wle(a,t,e):new Tle(a,t,e));break}else{let h=n.map[a];h===void 0&&(h=new Ile(a),XB(n,h)),n=h}}}class uv{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);ble(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function JB(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}let Mle=0;function Rle(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}function Ble(t){switch(t){case Ko:return["Linear","( value )"];case In:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),["Linear","( value )"]}}function YB(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+Rle(t.getShaderSource(e),o)}else return i}function Ple(t,e){const n=Ble(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Dle(t,e){let n;switch(e){case wH:n="Linear";break;case TH:n="Reinhard";break;case IH:n="OptimizedCineon";break;case V9:n="ACESFilmic";break;case bH:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Lle(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(xm).join(`
`)}function Ole(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Fle(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function xm(t){return t!==""}function qB(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function ZB(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Nle=/^[ \t]*#include +<([\w\d./]+)>/gm;function V4(t){return t.replace(Nle,Ule)}const kle=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function Ule(t,e){let n=Ot[e];if(n===void 0){const r=kle.get(e);if(r!==void 0)n=Ot[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return V4(n)}const Gle=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function eP(t){return t.replace(Gle,Hle)}function Hle(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function tP(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Qle(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===R5?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Hm?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Fo&&(e="SHADOWMAP_TYPE_VSM"),e}function zle(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Ol:case Zc:e="ENVMAP_TYPE_CUBE";break;case jp:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Vle(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Zc:e="ENVMAP_MODE_REFRACTION";break}return e}function Wle(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case x3:e="ENVMAP_BLENDING_MULTIPLY";break;case SH:e="ENVMAP_BLENDING_MIX";break;case CH:e="ENVMAP_BLENDING_ADD";break}return e}function jle(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function $le(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=Qle(n),c=zle(n),u=Vle(n),h=Wle(n),f=jle(n),m=n.isWebGL2?"":Lle(n),g=Ole(s),E=i.createProgram();let x,A,v=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(x=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(xm).join(`
`),x.length>0&&(x+=`
`),A=[m,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(xm).join(`
`),A.length>0&&(A+=`
`)):(x=[tP(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(xm).join(`
`),A=[m,tP(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+h:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==ao?"#define TONE_MAPPING":"",n.toneMapping!==ao?Ot.tonemapping_pars_fragment:"",n.toneMapping!==ao?Dle("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Ot.colorspace_pars_fragment,Ple("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(xm).join(`
`)),o=V4(o),o=qB(o,n),o=ZB(o,n),a=V4(a),a=qB(a,n),a=ZB(a,n),o=eP(o),a=eP(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(v=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,A=["#define varying in",n.glslVersion===H4?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===H4?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+A);const y=v+x+o,S=v+A+a,w=JB(i,i.VERTEX_SHADER,y),T=JB(i,i.FRAGMENT_SHADER,S);if(i.attachShader(E,w),i.attachShader(E,T),n.index0AttributeName!==void 0?i.bindAttribLocation(E,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(E,0,"position"),i.linkProgram(E),t.debug.checkShaderErrors){const M=i.getProgramInfoLog(E).trim(),B=i.getShaderInfoLog(w).trim(),L=i.getShaderInfoLog(T).trim();let G=!0,F=!0;if(i.getProgramParameter(E,i.LINK_STATUS)===!1)if(G=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,E,w,T);else{const $=YB(i,w,"vertex"),W=YB(i,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(E,i.VALIDATE_STATUS)+`

Program Info Log: `+M+`
`+$+`
`+W)}else M!==""?console.warn("THREE.WebGLProgram: Program Info Log:",M):(B===""||L==="")&&(F=!1);F&&(this.diagnostics={runnable:G,programLog:M,vertexShader:{log:B,prefix:x},fragmentShader:{log:L,prefix:A}})}i.deleteShader(w),i.deleteShader(T);let b;this.getUniforms=function(){return b===void 0&&(b=new uv(i,E)),b};let R;return this.getAttributes=function(){return R===void 0&&(R=Fle(i,E)),R},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(E),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Mle++,this.cacheKey=e,this.usedTimes=1,this.program=E,this.vertexShader=w,this.fragmentShader=T,this}let Kle=0;class Xle{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new Jle(e),n.set(e,r)),r}}class Jle{constructor(e){this.id=Kle++,this.code=e,this.usedTimes=0}}function Yle(t,e,n,r,i,s,o){const a=new bh,l=new Xle,c=[],u=i.isWebGL2,h=i.logarithmicDepthBuffer,f=i.vertexTextures;let m=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function E(M){return M===0?"uv":`uv${M}`}function x(M,B,L,G,F){const $=G.fog,W=F.geometry,Z=M.isMeshStandardMaterial?G.environment:null,q=(M.isMeshStandardMaterial?n:e).get(M.envMap||Z),k=q&&q.mapping===jp?q.image.height:null,J=g[M.type];M.precision!==null&&(m=i.getMaxPrecision(M.precision),m!==M.precision&&console.warn("THREE.WebGLProgram.getParameters:",M.precision,"not supported, using",m,"instead."));const V=W.morphAttributes.position||W.morphAttributes.normal||W.morphAttributes.color,H=V!==void 0?V.length:0;let X=0;W.morphAttributes.position!==void 0&&(X=1),W.morphAttributes.normal!==void 0&&(X=2),W.morphAttributes.color!==void 0&&(X=3);let he,ge,Ce,be;if(J){const mn=Uo[J];he=mn.vertexShader,ge=mn.fragmentShader}else he=M.vertexShader,ge=M.fragmentShader,l.update(M),Ce=l.getVertexShaderID(M),be=l.getFragmentShaderID(M);const Pe=t.getRenderTarget(),ke=F.isInstancedMesh===!0,Xe=!!M.map,Je=!!M.matcap,we=!!q,K=!!M.aoMap,Se=!!M.lightMap,ve=!!M.bumpMap,Be=!!M.normalMap,Te=!!M.displacementMap,Ye=!!M.emissiveMap,Qe=!!M.metalnessMap,ze=!!M.roughnessMap,lt=M.anisotropy>0,Et=M.clearcoat>0,ie=M.iridescence>0,N=M.sheen>0,D=M.transmission>0,ee=lt&&!!M.anisotropyMap,pe=Et&&!!M.clearcoatMap,fe=Et&&!!M.clearcoatNormalMap,Ie=Et&&!!M.clearcoatRoughnessMap,We=ie&&!!M.iridescenceMap,De=ie&&!!M.iridescenceThicknessMap,oe=N&&!!M.sheenColorMap,Y=N&&!!M.sheenRoughnessMap,ye=!!M.specularMap,Re=!!M.specularColorMap,Oe=!!M.specularIntensityMap,He=D&&!!M.transmissionMap,mt=D&&!!M.thicknessMap,Bt=!!M.gradientMap,te=!!M.alphaMap,Ge=M.alphaTest>0,ae=!!M.alphaHash,Le=!!M.extensions,qe=!!W.attributes.uv1,$t=!!W.attributes.uv2,_n=!!W.attributes.uv3;let rr=ao;return M.toneMapped&&(Pe===null||Pe.isXRRenderTarget===!0)&&(rr=t.toneMapping),{isWebGL2:u,shaderID:J,shaderType:M.type,shaderName:M.name,vertexShader:he,fragmentShader:ge,defines:M.defines,customVertexShaderID:Ce,customFragmentShaderID:be,isRawShaderMaterial:M.isRawShaderMaterial===!0,glslVersion:M.glslVersion,precision:m,instancing:ke,instancingColor:ke&&F.instanceColor!==null,supportsVertexTextures:f,outputColorSpace:Pe===null?t.outputColorSpace:Pe.isXRRenderTarget===!0?Pe.texture.colorSpace:Ko,map:Xe,matcap:Je,envMap:we,envMapMode:we&&q.mapping,envMapCubeUVHeight:k,aoMap:K,lightMap:Se,bumpMap:ve,normalMap:Be,displacementMap:f&&Te,emissiveMap:Ye,normalMapObjectSpace:Be&&M.normalMapType===UH,normalMapTangentSpace:Be&&M.normalMapType===pu,metalnessMap:Qe,roughnessMap:ze,anisotropy:lt,anisotropyMap:ee,clearcoat:Et,clearcoatMap:pe,clearcoatNormalMap:fe,clearcoatRoughnessMap:Ie,iridescence:ie,iridescenceMap:We,iridescenceThicknessMap:De,sheen:N,sheenColorMap:oe,sheenRoughnessMap:Y,specularMap:ye,specularColorMap:Re,specularIntensityMap:Oe,transmission:D,transmissionMap:He,thicknessMap:mt,gradientMap:Bt,opaque:M.transparent===!1&&M.blending===Ba,alphaMap:te,alphaTest:Ge,alphaHash:ae,combine:M.combine,mapUv:Xe&&E(M.map.channel),aoMapUv:K&&E(M.aoMap.channel),lightMapUv:Se&&E(M.lightMap.channel),bumpMapUv:ve&&E(M.bumpMap.channel),normalMapUv:Be&&E(M.normalMap.channel),displacementMapUv:Te&&E(M.displacementMap.channel),emissiveMapUv:Ye&&E(M.emissiveMap.channel),metalnessMapUv:Qe&&E(M.metalnessMap.channel),roughnessMapUv:ze&&E(M.roughnessMap.channel),anisotropyMapUv:ee&&E(M.anisotropyMap.channel),clearcoatMapUv:pe&&E(M.clearcoatMap.channel),clearcoatNormalMapUv:fe&&E(M.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ie&&E(M.clearcoatRoughnessMap.channel),iridescenceMapUv:We&&E(M.iridescenceMap.channel),iridescenceThicknessMapUv:De&&E(M.iridescenceThicknessMap.channel),sheenColorMapUv:oe&&E(M.sheenColorMap.channel),sheenRoughnessMapUv:Y&&E(M.sheenRoughnessMap.channel),specularMapUv:ye&&E(M.specularMap.channel),specularColorMapUv:Re&&E(M.specularColorMap.channel),specularIntensityMapUv:Oe&&E(M.specularIntensityMap.channel),transmissionMapUv:He&&E(M.transmissionMap.channel),thicknessMapUv:mt&&E(M.thicknessMap.channel),alphaMapUv:te&&E(M.alphaMap.channel),vertexTangents:!!W.attributes.tangent&&(Be||lt),vertexColors:M.vertexColors,vertexAlphas:M.vertexColors===!0&&!!W.attributes.color&&W.attributes.color.itemSize===4,vertexUv1s:qe,vertexUv2s:$t,vertexUv3s:_n,pointsUvs:F.isPoints===!0&&!!W.attributes.uv&&(Xe||te),fog:!!$,useFog:M.fog===!0,fogExp2:$&&$.isFogExp2,flatShading:M.flatShading===!0,sizeAttenuation:M.sizeAttenuation===!0,logarithmicDepthBuffer:h,skinning:F.isSkinnedMesh===!0,morphTargets:W.morphAttributes.position!==void 0,morphNormals:W.morphAttributes.normal!==void 0,morphColors:W.morphAttributes.color!==void 0,morphTargetsCount:H,morphTextureStride:X,numDirLights:B.directional.length,numPointLights:B.point.length,numSpotLights:B.spot.length,numSpotLightMaps:B.spotLightMap.length,numRectAreaLights:B.rectArea.length,numHemiLights:B.hemi.length,numDirLightShadows:B.directionalShadowMap.length,numPointLightShadows:B.pointShadowMap.length,numSpotLightShadows:B.spotShadowMap.length,numSpotLightShadowsWithMaps:B.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:M.dithering,shadowMapEnabled:t.shadowMap.enabled&&L.length>0,shadowMapType:t.shadowMap.type,toneMapping:rr,useLegacyLights:t._useLegacyLights,decodeVideoTexture:Xe&&M.map.isVideoTexture===!0&&M.map.colorSpace===In,premultipliedAlpha:M.premultipliedAlpha,doubleSided:M.side===ro,flipSided:M.side===Ci,useDepthPacking:M.depthPacking>=0,depthPacking:M.depthPacking||0,index0AttributeName:M.index0AttributeName,extensionDerivatives:Le&&M.extensions.derivatives===!0,extensionFragDepth:Le&&M.extensions.fragDepth===!0,extensionDrawBuffers:Le&&M.extensions.drawBuffers===!0,extensionShaderTextureLOD:Le&&M.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:M.customProgramCacheKey()}}function A(M){const B=[];if(M.shaderID?B.push(M.shaderID):(B.push(M.customVertexShaderID),B.push(M.customFragmentShaderID)),M.defines!==void 0)for(const L in M.defines)B.push(L),B.push(M.defines[L]);return M.isRawShaderMaterial===!1&&(v(B,M),y(B,M),B.push(t.outputColorSpace)),B.push(M.customProgramCacheKey),B.join()}function v(M,B){M.push(B.precision),M.push(B.outputColorSpace),M.push(B.envMapMode),M.push(B.envMapCubeUVHeight),M.push(B.mapUv),M.push(B.alphaMapUv),M.push(B.lightMapUv),M.push(B.aoMapUv),M.push(B.bumpMapUv),M.push(B.normalMapUv),M.push(B.displacementMapUv),M.push(B.emissiveMapUv),M.push(B.metalnessMapUv),M.push(B.roughnessMapUv),M.push(B.anisotropyMapUv),M.push(B.clearcoatMapUv),M.push(B.clearcoatNormalMapUv),M.push(B.clearcoatRoughnessMapUv),M.push(B.iridescenceMapUv),M.push(B.iridescenceThicknessMapUv),M.push(B.sheenColorMapUv),M.push(B.sheenRoughnessMapUv),M.push(B.specularMapUv),M.push(B.specularColorMapUv),M.push(B.specularIntensityMapUv),M.push(B.transmissionMapUv),M.push(B.thicknessMapUv),M.push(B.combine),M.push(B.fogExp2),M.push(B.sizeAttenuation),M.push(B.morphTargetsCount),M.push(B.morphAttributeCount),M.push(B.numDirLights),M.push(B.numPointLights),M.push(B.numSpotLights),M.push(B.numSpotLightMaps),M.push(B.numHemiLights),M.push(B.numRectAreaLights),M.push(B.numDirLightShadows),M.push(B.numPointLightShadows),M.push(B.numSpotLightShadows),M.push(B.numSpotLightShadowsWithMaps),M.push(B.shadowMapType),M.push(B.toneMapping),M.push(B.numClippingPlanes),M.push(B.numClipIntersection),M.push(B.depthPacking)}function y(M,B){a.disableAll(),B.isWebGL2&&a.enable(0),B.supportsVertexTextures&&a.enable(1),B.instancing&&a.enable(2),B.instancingColor&&a.enable(3),B.matcap&&a.enable(4),B.envMap&&a.enable(5),B.normalMapObjectSpace&&a.enable(6),B.normalMapTangentSpace&&a.enable(7),B.clearcoat&&a.enable(8),B.iridescence&&a.enable(9),B.alphaTest&&a.enable(10),B.vertexColors&&a.enable(11),B.vertexAlphas&&a.enable(12),B.vertexUv1s&&a.enable(13),B.vertexUv2s&&a.enable(14),B.vertexUv3s&&a.enable(15),B.vertexTangents&&a.enable(16),B.anisotropy&&a.enable(17),M.push(a.mask),a.disableAll(),B.fog&&a.enable(0),B.useFog&&a.enable(1),B.flatShading&&a.enable(2),B.logarithmicDepthBuffer&&a.enable(3),B.skinning&&a.enable(4),B.morphTargets&&a.enable(5),B.morphNormals&&a.enable(6),B.morphColors&&a.enable(7),B.premultipliedAlpha&&a.enable(8),B.shadowMapEnabled&&a.enable(9),B.useLegacyLights&&a.enable(10),B.doubleSided&&a.enable(11),B.flipSided&&a.enable(12),B.useDepthPacking&&a.enable(13),B.dithering&&a.enable(14),B.transmission&&a.enable(15),B.sheen&&a.enable(16),B.opaque&&a.enable(17),B.pointsUvs&&a.enable(18),B.decodeVideoTexture&&a.enable(19),M.push(a.mask)}function S(M){const B=g[M.type];let L;if(B){const G=Uo[B];L=qn.clone(G.uniforms)}else L=M.uniforms;return L}function w(M,B){let L;for(let G=0,F=c.length;G<F;G++){const $=c[G];if($.cacheKey===B){L=$,++L.usedTimes;break}}return L===void 0&&(L=new $le(t,B,M,s),c.push(L)),L}function T(M){if(--M.usedTimes===0){const B=c.indexOf(M);c[B]=c[c.length-1],c.pop(),M.destroy()}}function b(M){l.remove(M)}function R(){l.dispose()}return{getParameters:x,getProgramCacheKey:A,getUniforms:S,acquireProgram:w,releaseProgram:T,releaseShaderCache:b,programs:c,dispose:R}}function qle(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function r(s,o,a){t.get(s)[o]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function Zle(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function nP(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function rP(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(h,f,m,g,E,x){let A=t[e];return A===void 0?(A={id:h.id,object:h,geometry:f,material:m,groupOrder:g,renderOrder:h.renderOrder,z:E,group:x},t[e]=A):(A.id=h.id,A.object=h,A.geometry=f,A.material=m,A.groupOrder=g,A.renderOrder=h.renderOrder,A.z=E,A.group=x),e++,A}function a(h,f,m,g,E,x){const A=o(h,f,m,g,E,x);m.transmission>0?r.push(A):m.transparent===!0?i.push(A):n.push(A)}function l(h,f,m,g,E,x){const A=o(h,f,m,g,E,x);m.transmission>0?r.unshift(A):m.transparent===!0?i.unshift(A):n.unshift(A)}function c(h,f){n.length>1&&n.sort(h||Zle),r.length>1&&r.sort(f||nP),i.length>1&&i.sort(f||nP)}function u(){for(let h=e,f=t.length;h<f;h++){const m=t[h];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function ece(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new rP,t.set(r,[o])):i>=s.length?(o=new rP,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function tce(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new O,color:new Fe};break;case"SpotLight":n={position:new O,direction:new O,color:new Fe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new O,color:new Fe,distance:0,decay:0};break;case"HemisphereLight":n={direction:new O,skyColor:new Fe,groundColor:new Fe};break;case"RectAreaLight":n={color:new Fe,position:new O,halfWidth:new O,halfHeight:new O};break}return t[e.id]=n,n}}}function nce(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ue};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ue};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ue,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let rce=0;function ice(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function sce(t,e){const n=new tce,r=nce(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)i.probe.push(new O);const s=new O,o=new st,a=new st;function l(u,h){let f=0,m=0,g=0;for(let L=0;L<9;L++)i.probe[L].set(0,0,0);let E=0,x=0,A=0,v=0,y=0,S=0,w=0,T=0,b=0,R=0;u.sort(ice);const M=h===!0?Math.PI:1;for(let L=0,G=u.length;L<G;L++){const F=u[L],$=F.color,W=F.intensity,Z=F.distance,q=F.shadow&&F.shadow.map?F.shadow.map.texture:null;if(F.isAmbientLight)f+=$.r*W*M,m+=$.g*W*M,g+=$.b*W*M;else if(F.isLightProbe)for(let k=0;k<9;k++)i.probe[k].addScaledVector(F.sh.coefficients[k],W);else if(F.isDirectionalLight){const k=n.get(F);if(k.color.copy(F.color).multiplyScalar(F.intensity*M),F.castShadow){const J=F.shadow,V=r.get(F);V.shadowBias=J.bias,V.shadowNormalBias=J.normalBias,V.shadowRadius=J.radius,V.shadowMapSize=J.mapSize,i.directionalShadow[E]=V,i.directionalShadowMap[E]=q,i.directionalShadowMatrix[E]=F.shadow.matrix,S++}i.directional[E]=k,E++}else if(F.isSpotLight){const k=n.get(F);k.position.setFromMatrixPosition(F.matrixWorld),k.color.copy($).multiplyScalar(W*M),k.distance=Z,k.coneCos=Math.cos(F.angle),k.penumbraCos=Math.cos(F.angle*(1-F.penumbra)),k.decay=F.decay,i.spot[A]=k;const J=F.shadow;if(F.map&&(i.spotLightMap[b]=F.map,b++,J.updateMatrices(F),F.castShadow&&R++),i.spotLightMatrix[A]=J.matrix,F.castShadow){const V=r.get(F);V.shadowBias=J.bias,V.shadowNormalBias=J.normalBias,V.shadowRadius=J.radius,V.shadowMapSize=J.mapSize,i.spotShadow[A]=V,i.spotShadowMap[A]=q,T++}A++}else if(F.isRectAreaLight){const k=n.get(F);k.color.copy($).multiplyScalar(W),k.halfWidth.set(F.width*.5,0,0),k.halfHeight.set(0,F.height*.5,0),i.rectArea[v]=k,v++}else if(F.isPointLight){const k=n.get(F);if(k.color.copy(F.color).multiplyScalar(F.intensity*M),k.distance=F.distance,k.decay=F.decay,F.castShadow){const J=F.shadow,V=r.get(F);V.shadowBias=J.bias,V.shadowNormalBias=J.normalBias,V.shadowRadius=J.radius,V.shadowMapSize=J.mapSize,V.shadowCameraNear=J.camera.near,V.shadowCameraFar=J.camera.far,i.pointShadow[x]=V,i.pointShadowMap[x]=q,i.pointShadowMatrix[x]=F.shadow.matrix,w++}i.point[x]=k,x++}else if(F.isHemisphereLight){const k=n.get(F);k.skyColor.copy(F.color).multiplyScalar(W*M),k.groundColor.copy(F.groundColor).multiplyScalar(W*M),i.hemi[y]=k,y++}}v>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ve.LTC_FLOAT_1,i.rectAreaLTC2=Ve.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Ve.LTC_HALF_1,i.rectAreaLTC2=Ve.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=f,i.ambient[1]=m,i.ambient[2]=g;const B=i.hash;(B.directionalLength!==E||B.pointLength!==x||B.spotLength!==A||B.rectAreaLength!==v||B.hemiLength!==y||B.numDirectionalShadows!==S||B.numPointShadows!==w||B.numSpotShadows!==T||B.numSpotMaps!==b)&&(i.directional.length=E,i.spot.length=A,i.rectArea.length=v,i.point.length=x,i.hemi.length=y,i.directionalShadow.length=S,i.directionalShadowMap.length=S,i.pointShadow.length=w,i.pointShadowMap.length=w,i.spotShadow.length=T,i.spotShadowMap.length=T,i.directionalShadowMatrix.length=S,i.pointShadowMatrix.length=w,i.spotLightMatrix.length=T+b-R,i.spotLightMap.length=b,i.numSpotLightShadowsWithMaps=R,B.directionalLength=E,B.pointLength=x,B.spotLength=A,B.rectAreaLength=v,B.hemiLength=y,B.numDirectionalShadows=S,B.numPointShadows=w,B.numSpotShadows=T,B.numSpotMaps=b,i.version=rce++)}function c(u,h){let f=0,m=0,g=0,E=0,x=0;const A=h.matrixWorldInverse;for(let v=0,y=u.length;v<y;v++){const S=u[v];if(S.isDirectionalLight){const w=i.directional[f];w.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),w.direction.sub(s),w.direction.transformDirection(A),f++}else if(S.isSpotLight){const w=i.spot[g];w.position.setFromMatrixPosition(S.matrixWorld),w.position.applyMatrix4(A),w.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),w.direction.sub(s),w.direction.transformDirection(A),g++}else if(S.isRectAreaLight){const w=i.rectArea[E];w.position.setFromMatrixPosition(S.matrixWorld),w.position.applyMatrix4(A),a.identity(),o.copy(S.matrixWorld),o.premultiply(A),a.extractRotation(o),w.halfWidth.set(S.width*.5,0,0),w.halfHeight.set(0,S.height*.5,0),w.halfWidth.applyMatrix4(a),w.halfHeight.applyMatrix4(a),E++}else if(S.isPointLight){const w=i.point[m];w.position.setFromMatrixPosition(S.matrixWorld),w.position.applyMatrix4(A),m++}else if(S.isHemisphereLight){const w=i.hemi[x];w.direction.setFromMatrixPosition(S.matrixWorld),w.direction.transformDirection(A),x++}}}return{setup:l,setupView:c,state:i}}function iP(t,e){const n=new sce(t,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(h){r.push(h)}function a(h){i.push(h)}function l(h){n.setup(r,h)}function c(h){n.setupView(r,h)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function oce(t,e){let n=new WeakMap;function r(s,o=0){const a=n.get(s);let l;return a===void 0?(l=new iP(t,e),n.set(s,[l])):o>=a.length?(l=new iP(t,e),a.push(l)):l=a[o],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class H5 extends Tr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=kH,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class cT extends Tr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const ace=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,lce=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function cce(t,e,n){let r=new U5;const i=new ue,s=new ue,o=new Jt,a=new H5({depthPacking:tT}),l=new cT,c={},u=n.maxTextureSize,h={[ka]:Ci,[Ci]:ka,[ro]:ro},f=new en({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ue},radius:{value:4}},vertexShader:ace,fragmentShader:lce}),m=f.clone();m.defines.HORIZONTAL_PASS=1;const g=new Mt;g.setAttribute("position",new ln(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const E=new fn(g,f),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=R5;let A=this.type;this.render=function(w,T,b){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||w.length===0)return;const R=t.getRenderTarget(),M=t.getActiveCubeFace(),B=t.getActiveMipmapLevel(),L=t.state;L.setBlending(Wt),L.buffers.color.setClear(1,1,1,1),L.buffers.depth.setTest(!0),L.setScissorTest(!1);const G=A!==Fo&&this.type===Fo,F=A===Fo&&this.type!==Fo;for(let $=0,W=w.length;$<W;$++){const Z=w[$],q=Z.shadow;if(q===void 0){console.warn("THREE.WebGLShadowMap:",Z,"has no shadow.");continue}if(q.autoUpdate===!1&&q.needsUpdate===!1)continue;i.copy(q.mapSize);const k=q.getFrameExtents();if(i.multiply(k),s.copy(q.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/k.x),i.x=s.x*k.x,q.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/k.y),i.y=s.y*k.y,q.mapSize.y=s.y)),q.map===null||G===!0||F===!0){const V=this.type!==Fo?{minFilter:It,magFilter:It}:{};q.map!==null&&q.map.dispose(),q.map=new En(i.x,i.y,V),q.map.texture.name=Z.name+".shadowMap",q.camera.updateProjectionMatrix()}t.setRenderTarget(q.map),t.clear();const J=q.getViewportCount();for(let V=0;V<J;V++){const H=q.getViewport(V);o.set(s.x*H.x,s.y*H.y,s.x*H.z,s.y*H.w),L.viewport(o),q.updateMatrices(Z,V),r=q.getFrustum(),S(T,b,q.camera,Z,this.type)}q.isPointLightShadow!==!0&&this.type===Fo&&v(q,b),q.needsUpdate=!1}A=this.type,x.needsUpdate=!1,t.setRenderTarget(R,M,B)};function v(w,T){const b=e.update(E);f.defines.VSM_SAMPLES!==w.blurSamples&&(f.defines.VSM_SAMPLES=w.blurSamples,m.defines.VSM_SAMPLES=w.blurSamples,f.needsUpdate=!0,m.needsUpdate=!0),w.mapPass===null&&(w.mapPass=new En(i.x,i.y)),f.uniforms.shadow_pass.value=w.map.texture,f.uniforms.resolution.value=w.mapSize,f.uniforms.radius.value=w.radius,t.setRenderTarget(w.mapPass),t.clear(),t.renderBufferDirect(T,null,b,f,E,null),m.uniforms.shadow_pass.value=w.mapPass.texture,m.uniforms.resolution.value=w.mapSize,m.uniforms.radius.value=w.radius,t.setRenderTarget(w.map),t.clear(),t.renderBufferDirect(T,null,b,m,E,null)}function y(w,T,b,R){let M=null;const B=b.isPointLight===!0?w.customDistanceMaterial:w.customDepthMaterial;if(B!==void 0)M=B;else if(M=b.isPointLight===!0?l:a,t.localClippingEnabled&&T.clipShadows===!0&&Array.isArray(T.clippingPlanes)&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0||T.map&&T.alphaTest>0){const L=M.uuid,G=T.uuid;let F=c[L];F===void 0&&(F={},c[L]=F);let $=F[G];$===void 0&&($=M.clone(),F[G]=$),M=$}if(M.visible=T.visible,M.wireframe=T.wireframe,R===Fo?M.side=T.shadowSide!==null?T.shadowSide:T.side:M.side=T.shadowSide!==null?T.shadowSide:h[T.side],M.alphaMap=T.alphaMap,M.alphaTest=T.alphaTest,M.map=T.map,M.clipShadows=T.clipShadows,M.clippingPlanes=T.clippingPlanes,M.clipIntersection=T.clipIntersection,M.displacementMap=T.displacementMap,M.displacementScale=T.displacementScale,M.displacementBias=T.displacementBias,M.wireframeLinewidth=T.wireframeLinewidth,M.linewidth=T.linewidth,b.isPointLight===!0&&M.isMeshDistanceMaterial===!0){const L=t.properties.get(M);L.light=b}return M}function S(w,T,b,R,M){if(w.visible===!1)return;if(w.layers.test(T.layers)&&(w.isMesh||w.isLine||w.isPoints)&&(w.castShadow||w.receiveShadow&&M===Fo)&&(!w.frustumCulled||r.intersectsObject(w))){w.modelViewMatrix.multiplyMatrices(b.matrixWorldInverse,w.matrixWorld);const G=e.update(w),F=w.material;if(Array.isArray(F)){const $=G.groups;for(let W=0,Z=$.length;W<Z;W++){const q=$[W],k=F[q.materialIndex];if(k&&k.visible){const J=y(w,k,R,M);t.renderBufferDirect(b,null,G,J,w,q)}}}else if(F.visible){const $=y(w,F,R,M);t.renderBufferDirect(b,null,G,$,w,null)}}const L=w.children;for(let G=0,F=L.length;G<F;G++)S(L[G],T,b,R,M)}}function uce(t,e,n){const r=n.isWebGL2;function i(){let te=!1;const Ge=new Jt;let ae=null;const Le=new Jt(0,0,0,0);return{setMask:function(qe){ae!==qe&&!te&&(t.colorMask(qe,qe,qe,qe),ae=qe)},setLocked:function(qe){te=qe},setClear:function(qe,$t,_n,rr,_o){_o===!0&&(qe*=rr,$t*=rr,_n*=rr),Ge.set(qe,$t,_n,rr),Le.equals(Ge)===!1&&(t.clearColor(qe,$t,_n,rr),Le.copy(Ge))},reset:function(){te=!1,ae=null,Le.set(-1,0,0,0)}}}function s(){let te=!1,Ge=null,ae=null,Le=null;return{setTest:function(qe){qe?Pe(t.DEPTH_TEST):ke(t.DEPTH_TEST)},setMask:function(qe){Ge!==qe&&!te&&(t.depthMask(qe),Ge=qe)},setFunc:function(qe){if(ae!==qe){switch(qe){case gH:t.depthFunc(t.NEVER);break;case AH:t.depthFunc(t.ALWAYS);break;case vH:t.depthFunc(t.LESS);break;case ry:t.depthFunc(t.LEQUAL);break;case yH:t.depthFunc(t.EQUAL);break;case xH:t.depthFunc(t.GEQUAL);break;case EH:t.depthFunc(t.GREATER);break;case _H:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}ae=qe}},setLocked:function(qe){te=qe},setClear:function(qe){Le!==qe&&(t.clearDepth(qe),Le=qe)},reset:function(){te=!1,Ge=null,ae=null,Le=null}}}function o(){let te=!1,Ge=null,ae=null,Le=null,qe=null,$t=null,_n=null,rr=null,_o=null;return{setTest:function(mn){te||(mn?Pe(t.STENCIL_TEST):ke(t.STENCIL_TEST))},setMask:function(mn){Ge!==mn&&!te&&(t.stencilMask(mn),Ge=mn)},setFunc:function(mn,us,ti){(ae!==mn||Le!==us||qe!==ti)&&(t.stencilFunc(mn,us,ti),ae=mn,Le=us,qe=ti)},setOp:function(mn,us,ti){($t!==mn||_n!==us||rr!==ti)&&(t.stencilOp(mn,us,ti),$t=mn,_n=us,rr=ti)},setLocked:function(mn){te=mn},setClear:function(mn){_o!==mn&&(t.clearStencil(mn),_o=mn)},reset:function(){te=!1,Ge=null,ae=null,Le=null,qe=null,$t=null,_n=null,rr=null,_o=null}}}const a=new i,l=new s,c=new o,u=new WeakMap,h=new WeakMap;let f={},m={},g=new WeakMap,E=[],x=null,A=!1,v=null,y=null,S=null,w=null,T=null,b=null,R=null,M=!1,B=null,L=null,G=null,F=null,$=null;const W=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Z=!1,q=0;const k=t.getParameter(t.VERSION);k.indexOf("WebGL")!==-1?(q=parseFloat(/^WebGL (\d)/.exec(k)[1]),Z=q>=1):k.indexOf("OpenGL ES")!==-1&&(q=parseFloat(/^OpenGL ES (\d)/.exec(k)[1]),Z=q>=2);let J=null,V={};const H=t.getParameter(t.SCISSOR_BOX),X=t.getParameter(t.VIEWPORT),he=new Jt().fromArray(H),ge=new Jt().fromArray(X);function Ce(te,Ge,ae,Le){const qe=new Uint8Array(4),$t=t.createTexture();t.bindTexture(te,$t),t.texParameteri(te,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(te,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let _n=0;_n<ae;_n++)r&&(te===t.TEXTURE_3D||te===t.TEXTURE_2D_ARRAY)?t.texImage3D(Ge,0,t.RGBA,1,1,Le,0,t.RGBA,t.UNSIGNED_BYTE,qe):t.texImage2D(Ge+_n,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,qe);return $t}const be={};be[t.TEXTURE_2D]=Ce(t.TEXTURE_2D,t.TEXTURE_2D,1),be[t.TEXTURE_CUBE_MAP]=Ce(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(be[t.TEXTURE_2D_ARRAY]=Ce(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),be[t.TEXTURE_3D]=Ce(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Pe(t.DEPTH_TEST),l.setFunc(ry),Te(!1),Ye(g4),Pe(t.CULL_FACE),ve(Wt);function Pe(te){f[te]!==!0&&(t.enable(te),f[te]=!0)}function ke(te){f[te]!==!1&&(t.disable(te),f[te]=!1)}function Xe(te,Ge){return m[te]!==Ge?(t.bindFramebuffer(te,Ge),m[te]=Ge,r&&(te===t.DRAW_FRAMEBUFFER&&(m[t.FRAMEBUFFER]=Ge),te===t.FRAMEBUFFER&&(m[t.DRAW_FRAMEBUFFER]=Ge)),!0):!1}function Je(te,Ge){let ae=E,Le=!1;if(te)if(ae=g.get(Ge),ae===void 0&&(ae=[],g.set(Ge,ae)),te.isWebGLMultipleRenderTargets){const qe=te.texture;if(ae.length!==qe.length||ae[0]!==t.COLOR_ATTACHMENT0){for(let $t=0,_n=qe.length;$t<_n;$t++)ae[$t]=t.COLOR_ATTACHMENT0+$t;ae.length=qe.length,Le=!0}}else ae[0]!==t.COLOR_ATTACHMENT0&&(ae[0]=t.COLOR_ATTACHMENT0,Le=!0);else ae[0]!==t.BACK&&(ae[0]=t.BACK,Le=!0);Le&&(n.isWebGL2?t.drawBuffers(ae):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(ae))}function we(te){return x!==te?(t.useProgram(te),x=te,!0):!1}const K={[Es]:t.FUNC_ADD,[lH]:t.FUNC_SUBTRACT,[cH]:t.FUNC_REVERSE_SUBTRACT};if(r)K[y4]=t.MIN,K[x4]=t.MAX;else{const te=e.get("EXT_blend_minmax");te!==null&&(K[y4]=te.MIN_EXT,K[x4]=te.MAX_EXT)}const Se={[mp]:t.ZERO,[uH]:t.ONE,[hH]:t.SRC_COLOR,[Tg]:t.SRC_ALPHA,[mH]:t.SRC_ALPHA_SATURATE,[P5]:t.DST_COLOR,[B5]:t.DST_ALPHA,[fH]:t.ONE_MINUS_SRC_COLOR,[Ig]:t.ONE_MINUS_SRC_ALPHA,[pH]:t.ONE_MINUS_DST_COLOR,[dH]:t.ONE_MINUS_DST_ALPHA};function ve(te,Ge,ae,Le,qe,$t,_n,rr){if(te===Wt){A===!0&&(ke(t.BLEND),A=!1);return}if(A===!1&&(Pe(t.BLEND),A=!0),te!==wg){if(te!==v||rr!==M){if((y!==Es||T!==Es)&&(t.blendEquation(t.FUNC_ADD),y=Es,T=Es),rr)switch(te){case Ba:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case pp:t.blendFunc(t.ONE,t.ONE);break;case A4:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case v4:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",te);break}else switch(te){case Ba:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case pp:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case A4:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case v4:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",te);break}S=null,w=null,b=null,R=null,v=te,M=rr}return}qe=qe||Ge,$t=$t||ae,_n=_n||Le,(Ge!==y||qe!==T)&&(t.blendEquationSeparate(K[Ge],K[qe]),y=Ge,T=qe),(ae!==S||Le!==w||$t!==b||_n!==R)&&(t.blendFuncSeparate(Se[ae],Se[Le],Se[$t],Se[_n]),S=ae,w=Le,b=$t,R=_n),v=te,M=!1}function Be(te,Ge){te.side===ro?ke(t.CULL_FACE):Pe(t.CULL_FACE);let ae=te.side===Ci;Ge&&(ae=!ae),Te(ae),te.blending===Ba&&te.transparent===!1?ve(Wt):ve(te.blending,te.blendEquation,te.blendSrc,te.blendDst,te.blendEquationAlpha,te.blendSrcAlpha,te.blendDstAlpha,te.premultipliedAlpha),l.setFunc(te.depthFunc),l.setTest(te.depthTest),l.setMask(te.depthWrite),a.setMask(te.colorWrite);const Le=te.stencilWrite;c.setTest(Le),Le&&(c.setMask(te.stencilWriteMask),c.setFunc(te.stencilFunc,te.stencilRef,te.stencilFuncMask),c.setOp(te.stencilFail,te.stencilZFail,te.stencilZPass)),ze(te.polygonOffset,te.polygonOffsetFactor,te.polygonOffsetUnits),te.alphaToCoverage===!0?Pe(t.SAMPLE_ALPHA_TO_COVERAGE):ke(t.SAMPLE_ALPHA_TO_COVERAGE)}function Te(te){B!==te&&(te?t.frontFace(t.CW):t.frontFace(t.CCW),B=te)}function Ye(te){te!==sH?(Pe(t.CULL_FACE),te!==L&&(te===g4?t.cullFace(t.BACK):te===oH?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):ke(t.CULL_FACE),L=te}function Qe(te){te!==G&&(Z&&t.lineWidth(te),G=te)}function ze(te,Ge,ae){te?(Pe(t.POLYGON_OFFSET_FILL),(F!==Ge||$!==ae)&&(t.polygonOffset(Ge,ae),F=Ge,$=ae)):ke(t.POLYGON_OFFSET_FILL)}function lt(te){te?Pe(t.SCISSOR_TEST):ke(t.SCISSOR_TEST)}function Et(te){te===void 0&&(te=t.TEXTURE0+W-1),J!==te&&(t.activeTexture(te),J=te)}function ie(te,Ge,ae){ae===void 0&&(J===null?ae=t.TEXTURE0+W-1:ae=J);let Le=V[ae];Le===void 0&&(Le={type:void 0,texture:void 0},V[ae]=Le),(Le.type!==te||Le.texture!==Ge)&&(J!==ae&&(t.activeTexture(ae),J=ae),t.bindTexture(te,Ge||be[te]),Le.type=te,Le.texture=Ge)}function N(){const te=V[J];te!==void 0&&te.type!==void 0&&(t.bindTexture(te.type,null),te.type=void 0,te.texture=void 0)}function D(){try{t.compressedTexImage2D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function ee(){try{t.compressedTexImage3D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function pe(){try{t.texSubImage2D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function fe(){try{t.texSubImage3D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Ie(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function We(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function De(){try{t.texStorage2D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function oe(){try{t.texStorage3D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Y(){try{t.texImage2D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function ye(){try{t.texImage3D.apply(t,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Re(te){he.equals(te)===!1&&(t.scissor(te.x,te.y,te.z,te.w),he.copy(te))}function Oe(te){ge.equals(te)===!1&&(t.viewport(te.x,te.y,te.z,te.w),ge.copy(te))}function He(te,Ge){let ae=h.get(Ge);ae===void 0&&(ae=new WeakMap,h.set(Ge,ae));let Le=ae.get(te);Le===void 0&&(Le=t.getUniformBlockIndex(Ge,te.name),ae.set(te,Le))}function mt(te,Ge){const Le=h.get(Ge).get(te);u.get(Ge)!==Le&&(t.uniformBlockBinding(Ge,Le,te.__bindingPointIndex),u.set(Ge,Le))}function Bt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),f={},J=null,V={},m={},g=new WeakMap,E=[],x=null,A=!1,v=null,y=null,S=null,w=null,T=null,b=null,R=null,M=!1,B=null,L=null,G=null,F=null,$=null,he.set(0,0,t.canvas.width,t.canvas.height),ge.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:Pe,disable:ke,bindFramebuffer:Xe,drawBuffers:Je,useProgram:we,setBlending:ve,setMaterial:Be,setFlipSided:Te,setCullFace:Ye,setLineWidth:Qe,setPolygonOffset:ze,setScissorTest:lt,activeTexture:Et,bindTexture:ie,unbindTexture:N,compressedTexImage2D:D,compressedTexImage3D:ee,texImage2D:Y,texImage3D:ye,updateUBOMapping:He,uniformBlockBinding:mt,texStorage2D:De,texStorage3D:oe,texSubImage2D:pe,texSubImage3D:fe,compressedTexSubImage2D:Ie,compressedTexSubImage3D:We,scissor:Re,viewport:Oe,reset:Bt}}function hce(t,e,n,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,h=i.maxSamples,f=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap;let E;const x=new WeakMap;let A=!1;try{A=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(N,D){return A?new OffscreenCanvas(N,D):Ug("canvas")}function y(N,D,ee,pe){let fe=1;if((N.width>pe||N.height>pe)&&(fe=pe/Math.max(N.width,N.height)),fe<1||D===!0)if(typeof HTMLImageElement<"u"&&N instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&N instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&N instanceof ImageBitmap){const Ie=D?oy:Math.floor,We=Ie(fe*N.width),De=Ie(fe*N.height);E===void 0&&(E=v(We,De));const oe=ee?v(We,De):E;return oe.width=We,oe.height=De,oe.getContext("2d").drawImage(N,0,0,We,De),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+N.width+"x"+N.height+") to ("+We+"x"+De+")."),oe}else return"data"in N&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+N.width+"x"+N.height+")."),N;return N}function S(N){return Q4(N.width)&&Q4(N.height)}function w(N){return a?!1:N.wrapS!==Yn||N.wrapT!==Yn||N.minFilter!==It&&N.minFilter!==yn}function T(N,D){return N.generateMipmaps&&D&&N.minFilter!==It&&N.minFilter!==yn}function b(N){t.generateMipmap(N)}function R(N,D,ee,pe,fe=!1){if(a===!1)return D;if(N!==null){if(t[N]!==void 0)return t[N];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+N+"'")}let Ie=D;return D===t.RED&&(ee===t.FLOAT&&(Ie=t.R32F),ee===t.HALF_FLOAT&&(Ie=t.R16F),ee===t.UNSIGNED_BYTE&&(Ie=t.R8)),D===t.RED_INTEGER&&(ee===t.UNSIGNED_BYTE&&(Ie=t.R8UI),ee===t.UNSIGNED_SHORT&&(Ie=t.R16UI),ee===t.UNSIGNED_INT&&(Ie=t.R32UI),ee===t.BYTE&&(Ie=t.R8I),ee===t.SHORT&&(Ie=t.R16I),ee===t.INT&&(Ie=t.R32I)),D===t.RG&&(ee===t.FLOAT&&(Ie=t.RG32F),ee===t.HALF_FLOAT&&(Ie=t.RG16F),ee===t.UNSIGNED_BYTE&&(Ie=t.RG8)),D===t.RGBA&&(ee===t.FLOAT&&(Ie=t.RGBA32F),ee===t.HALF_FLOAT&&(Ie=t.RGBA16F),ee===t.UNSIGNED_BYTE&&(Ie=pe===In&&fe===!1?t.SRGB8_ALPHA8:t.RGBA8),ee===t.UNSIGNED_SHORT_4_4_4_4&&(Ie=t.RGBA4),ee===t.UNSIGNED_SHORT_5_5_5_1&&(Ie=t.RGB5_A1)),(Ie===t.R16F||Ie===t.R32F||Ie===t.RG16F||Ie===t.RG32F||Ie===t.RGBA16F||Ie===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Ie}function M(N,D,ee){return T(N,ee)===!0||N.isFramebufferTexture&&N.minFilter!==It&&N.minFilter!==yn?Math.log2(Math.max(D.width,D.height))+1:N.mipmaps!==void 0&&N.mipmaps.length>0?N.mipmaps.length:N.isCompressedTexture&&Array.isArray(N.image)?D.mipmaps.length:1}function B(N){return N===It||N===Rg||N===zd?t.NEAREST:t.LINEAR}function L(N){const D=N.target;D.removeEventListener("dispose",L),F(D),D.isVideoTexture&&g.delete(D)}function G(N){const D=N.target;D.removeEventListener("dispose",G),W(D)}function F(N){const D=r.get(N);if(D.__webglInit===void 0)return;const ee=N.source,pe=x.get(ee);if(pe){const fe=pe[D.__cacheKey];fe.usedTimes--,fe.usedTimes===0&&$(N),Object.keys(pe).length===0&&x.delete(ee)}r.remove(N)}function $(N){const D=r.get(N);t.deleteTexture(D.__webglTexture);const ee=N.source,pe=x.get(ee);delete pe[D.__cacheKey],o.memory.textures--}function W(N){const D=N.texture,ee=r.get(N),pe=r.get(D);if(pe.__webglTexture!==void 0&&(t.deleteTexture(pe.__webglTexture),o.memory.textures--),N.depthTexture&&N.depthTexture.dispose(),N.isWebGLCubeRenderTarget)for(let fe=0;fe<6;fe++){if(Array.isArray(ee.__webglFramebuffer[fe]))for(let Ie=0;Ie<ee.__webglFramebuffer[fe].length;Ie++)t.deleteFramebuffer(ee.__webglFramebuffer[fe][Ie]);else t.deleteFramebuffer(ee.__webglFramebuffer[fe]);ee.__webglDepthbuffer&&t.deleteRenderbuffer(ee.__webglDepthbuffer[fe])}else{if(Array.isArray(ee.__webglFramebuffer))for(let fe=0;fe<ee.__webglFramebuffer.length;fe++)t.deleteFramebuffer(ee.__webglFramebuffer[fe]);else t.deleteFramebuffer(ee.__webglFramebuffer);if(ee.__webglDepthbuffer&&t.deleteRenderbuffer(ee.__webglDepthbuffer),ee.__webglMultisampledFramebuffer&&t.deleteFramebuffer(ee.__webglMultisampledFramebuffer),ee.__webglColorRenderbuffer)for(let fe=0;fe<ee.__webglColorRenderbuffer.length;fe++)ee.__webglColorRenderbuffer[fe]&&t.deleteRenderbuffer(ee.__webglColorRenderbuffer[fe]);ee.__webglDepthRenderbuffer&&t.deleteRenderbuffer(ee.__webglDepthRenderbuffer)}if(N.isWebGLMultipleRenderTargets)for(let fe=0,Ie=D.length;fe<Ie;fe++){const We=r.get(D[fe]);We.__webglTexture&&(t.deleteTexture(We.__webglTexture),o.memory.textures--),r.remove(D[fe])}r.remove(D),r.remove(N)}let Z=0;function q(){Z=0}function k(){const N=Z;return N>=l&&console.warn("THREE.WebGLTextures: Trying to use "+N+" texture units while this GPU supports only "+l),Z+=1,N}function J(N){const D=[];return D.push(N.wrapS),D.push(N.wrapT),D.push(N.wrapR||0),D.push(N.magFilter),D.push(N.minFilter),D.push(N.anisotropy),D.push(N.internalFormat),D.push(N.format),D.push(N.type),D.push(N.generateMipmaps),D.push(N.premultiplyAlpha),D.push(N.flipY),D.push(N.unpackAlignment),D.push(N.colorSpace),D.join()}function V(N,D){const ee=r.get(N);if(N.isVideoTexture&&Et(N),N.isRenderTargetTexture===!1&&N.version>0&&ee.__version!==N.version){const pe=N.image;if(pe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(pe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Xe(ee,N,D);return}}n.bindTexture(t.TEXTURE_2D,ee.__webglTexture,t.TEXTURE0+D)}function H(N,D){const ee=r.get(N);if(N.version>0&&ee.__version!==N.version){Xe(ee,N,D);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ee.__webglTexture,t.TEXTURE0+D)}function X(N,D){const ee=r.get(N);if(N.version>0&&ee.__version!==N.version){Xe(ee,N,D);return}n.bindTexture(t.TEXTURE_3D,ee.__webglTexture,t.TEXTURE0+D)}function he(N,D){const ee=r.get(N);if(N.version>0&&ee.__version!==N.version){Je(ee,N,D);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ee.__webglTexture,t.TEXTURE0+D)}const ge={[po]:t.REPEAT,[Yn]:t.CLAMP_TO_EDGE,[gp]:t.MIRRORED_REPEAT},Ce={[It]:t.NEAREST,[Rg]:t.NEAREST_MIPMAP_NEAREST,[zd]:t.NEAREST_MIPMAP_LINEAR,[yn]:t.LINEAR,[L5]:t.LINEAR_MIPMAP_NEAREST,[mo]:t.LINEAR_MIPMAP_LINEAR},be={[HH]:t.NEVER,[KH]:t.ALWAYS,[QH]:t.LESS,[VH]:t.LEQUAL,[zH]:t.EQUAL,[$H]:t.GEQUAL,[WH]:t.GREATER,[jH]:t.NOTEQUAL};function Pe(N,D,ee){if(ee?(t.texParameteri(N,t.TEXTURE_WRAP_S,ge[D.wrapS]),t.texParameteri(N,t.TEXTURE_WRAP_T,ge[D.wrapT]),(N===t.TEXTURE_3D||N===t.TEXTURE_2D_ARRAY)&&t.texParameteri(N,t.TEXTURE_WRAP_R,ge[D.wrapR]),t.texParameteri(N,t.TEXTURE_MAG_FILTER,Ce[D.magFilter]),t.texParameteri(N,t.TEXTURE_MIN_FILTER,Ce[D.minFilter])):(t.texParameteri(N,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(N,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(N===t.TEXTURE_3D||N===t.TEXTURE_2D_ARRAY)&&t.texParameteri(N,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(D.wrapS!==Yn||D.wrapT!==Yn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(N,t.TEXTURE_MAG_FILTER,B(D.magFilter)),t.texParameteri(N,t.TEXTURE_MIN_FILTER,B(D.minFilter)),D.minFilter!==It&&D.minFilter!==yn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),D.compareFunction&&(t.texParameteri(N,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(N,t.TEXTURE_COMPARE_FUNC,be[D.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const pe=e.get("EXT_texture_filter_anisotropic");if(D.magFilter===It||D.minFilter!==zd&&D.minFilter!==mo||D.type===Ui&&e.has("OES_texture_float_linear")===!1||a===!1&&D.type===vr&&e.has("OES_texture_half_float_linear")===!1)return;(D.anisotropy>1||r.get(D).__currentAnisotropy)&&(t.texParameterf(N,pe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(D.anisotropy,i.getMaxAnisotropy())),r.get(D).__currentAnisotropy=D.anisotropy)}}function ke(N,D){let ee=!1;N.__webglInit===void 0&&(N.__webglInit=!0,D.addEventListener("dispose",L));const pe=D.source;let fe=x.get(pe);fe===void 0&&(fe={},x.set(pe,fe));const Ie=J(D);if(Ie!==N.__cacheKey){fe[Ie]===void 0&&(fe[Ie]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,ee=!0),fe[Ie].usedTimes++;const We=fe[N.__cacheKey];We!==void 0&&(fe[N.__cacheKey].usedTimes--,We.usedTimes===0&&$(D)),N.__cacheKey=Ie,N.__webglTexture=fe[Ie].texture}return ee}function Xe(N,D,ee){let pe=t.TEXTURE_2D;(D.isDataArrayTexture||D.isCompressedArrayTexture)&&(pe=t.TEXTURE_2D_ARRAY),D.isData3DTexture&&(pe=t.TEXTURE_3D);const fe=ke(N,D),Ie=D.source;n.bindTexture(pe,N.__webglTexture,t.TEXTURE0+ee);const We=r.get(Ie);if(Ie.version!==We.__version||fe===!0){n.activeTexture(t.TEXTURE0+ee),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,D.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,D.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,D.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const De=w(D)&&S(D.image)===!1;let oe=y(D.image,De,!1,u);oe=ie(D,oe);const Y=S(oe)||a,ye=s.convert(D.format,D.colorSpace);let Re=s.convert(D.type),Oe=R(D.internalFormat,ye,Re,D.colorSpace,D.isVideoTexture);Pe(pe,D,Y);let He;const mt=D.mipmaps,Bt=a&&D.isVideoTexture!==!0,te=We.__version===void 0||fe===!0,Ge=M(D,oe,Y);if(D.isDepthTexture)Oe=t.DEPTH_COMPONENT,a?D.type===Ui?Oe=t.DEPTH_COMPONENT32F:D.type===yl?Oe=t.DEPTH_COMPONENT24:D.type===Tl?Oe=t.DEPTH24_STENCIL8:Oe=t.DEPTH_COMPONENT16:D.type===Ui&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),D.format===Qc&&Oe===t.DEPTH_COMPONENT&&D.type!==sf&&D.type!==yl&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),D.type=yl,Re=s.convert(D.type)),D.format===eu&&Oe===t.DEPTH_COMPONENT&&(Oe=t.DEPTH_STENCIL,D.type!==Tl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),D.type=Tl,Re=s.convert(D.type))),te&&(Bt?n.texStorage2D(t.TEXTURE_2D,1,Oe,oe.width,oe.height):n.texImage2D(t.TEXTURE_2D,0,Oe,oe.width,oe.height,0,ye,Re,null));else if(D.isDataTexture)if(mt.length>0&&Y){Bt&&te&&n.texStorage2D(t.TEXTURE_2D,Ge,Oe,mt[0].width,mt[0].height);for(let ae=0,Le=mt.length;ae<Le;ae++)He=mt[ae],Bt?n.texSubImage2D(t.TEXTURE_2D,ae,0,0,He.width,He.height,ye,Re,He.data):n.texImage2D(t.TEXTURE_2D,ae,Oe,He.width,He.height,0,ye,Re,He.data);D.generateMipmaps=!1}else Bt?(te&&n.texStorage2D(t.TEXTURE_2D,Ge,Oe,oe.width,oe.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,oe.width,oe.height,ye,Re,oe.data)):n.texImage2D(t.TEXTURE_2D,0,Oe,oe.width,oe.height,0,ye,Re,oe.data);else if(D.isCompressedTexture)if(D.isCompressedArrayTexture){Bt&&te&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ge,Oe,mt[0].width,mt[0].height,oe.depth);for(let ae=0,Le=mt.length;ae<Le;ae++)He=mt[ae],D.format!==fr?ye!==null?Bt?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ae,0,0,0,He.width,He.height,oe.depth,ye,He.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,ae,Oe,He.width,He.height,oe.depth,0,He.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Bt?n.texSubImage3D(t.TEXTURE_2D_ARRAY,ae,0,0,0,He.width,He.height,oe.depth,ye,Re,He.data):n.texImage3D(t.TEXTURE_2D_ARRAY,ae,Oe,He.width,He.height,oe.depth,0,ye,Re,He.data)}else{Bt&&te&&n.texStorage2D(t.TEXTURE_2D,Ge,Oe,mt[0].width,mt[0].height);for(let ae=0,Le=mt.length;ae<Le;ae++)He=mt[ae],D.format!==fr?ye!==null?Bt?n.compressedTexSubImage2D(t.TEXTURE_2D,ae,0,0,He.width,He.height,ye,He.data):n.compressedTexImage2D(t.TEXTURE_2D,ae,Oe,He.width,He.height,0,He.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Bt?n.texSubImage2D(t.TEXTURE_2D,ae,0,0,He.width,He.height,ye,Re,He.data):n.texImage2D(t.TEXTURE_2D,ae,Oe,He.width,He.height,0,ye,Re,He.data)}else if(D.isDataArrayTexture)Bt?(te&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ge,Oe,oe.width,oe.height,oe.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,oe.width,oe.height,oe.depth,ye,Re,oe.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,Oe,oe.width,oe.height,oe.depth,0,ye,Re,oe.data);else if(D.isData3DTexture)Bt?(te&&n.texStorage3D(t.TEXTURE_3D,Ge,Oe,oe.width,oe.height,oe.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,oe.width,oe.height,oe.depth,ye,Re,oe.data)):n.texImage3D(t.TEXTURE_3D,0,Oe,oe.width,oe.height,oe.depth,0,ye,Re,oe.data);else if(D.isFramebufferTexture){if(te)if(Bt)n.texStorage2D(t.TEXTURE_2D,Ge,Oe,oe.width,oe.height);else{let ae=oe.width,Le=oe.height;for(let qe=0;qe<Ge;qe++)n.texImage2D(t.TEXTURE_2D,qe,Oe,ae,Le,0,ye,Re,null),ae>>=1,Le>>=1}}else if(mt.length>0&&Y){Bt&&te&&n.texStorage2D(t.TEXTURE_2D,Ge,Oe,mt[0].width,mt[0].height);for(let ae=0,Le=mt.length;ae<Le;ae++)He=mt[ae],Bt?n.texSubImage2D(t.TEXTURE_2D,ae,0,0,ye,Re,He):n.texImage2D(t.TEXTURE_2D,ae,Oe,ye,Re,He);D.generateMipmaps=!1}else Bt?(te&&n.texStorage2D(t.TEXTURE_2D,Ge,Oe,oe.width,oe.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,ye,Re,oe)):n.texImage2D(t.TEXTURE_2D,0,Oe,ye,Re,oe);T(D,Y)&&b(pe),We.__version=Ie.version,D.onUpdate&&D.onUpdate(D)}N.__version=D.version}function Je(N,D,ee){if(D.image.length!==6)return;const pe=ke(N,D),fe=D.source;n.bindTexture(t.TEXTURE_CUBE_MAP,N.__webglTexture,t.TEXTURE0+ee);const Ie=r.get(fe);if(fe.version!==Ie.__version||pe===!0){n.activeTexture(t.TEXTURE0+ee),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,D.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,D.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,D.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const We=D.isCompressedTexture||D.image[0].isCompressedTexture,De=D.image[0]&&D.image[0].isDataTexture,oe=[];for(let ae=0;ae<6;ae++)!We&&!De?oe[ae]=y(D.image[ae],!1,!0,c):oe[ae]=De?D.image[ae].image:D.image[ae],oe[ae]=ie(D,oe[ae]);const Y=oe[0],ye=S(Y)||a,Re=s.convert(D.format,D.colorSpace),Oe=s.convert(D.type),He=R(D.internalFormat,Re,Oe,D.colorSpace),mt=a&&D.isVideoTexture!==!0,Bt=Ie.__version===void 0||pe===!0;let te=M(D,Y,ye);Pe(t.TEXTURE_CUBE_MAP,D,ye);let Ge;if(We){mt&&Bt&&n.texStorage2D(t.TEXTURE_CUBE_MAP,te,He,Y.width,Y.height);for(let ae=0;ae<6;ae++){Ge=oe[ae].mipmaps;for(let Le=0;Le<Ge.length;Le++){const qe=Ge[Le];D.format!==fr?Re!==null?mt?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Le,0,0,qe.width,qe.height,Re,qe.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Le,He,qe.width,qe.height,0,qe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):mt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Le,0,0,qe.width,qe.height,Re,Oe,qe.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Le,He,qe.width,qe.height,0,Re,Oe,qe.data)}}}else{Ge=D.mipmaps,mt&&Bt&&(Ge.length>0&&te++,n.texStorage2D(t.TEXTURE_CUBE_MAP,te,He,oe[0].width,oe[0].height));for(let ae=0;ae<6;ae++)if(De){mt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ae,0,0,0,oe[ae].width,oe[ae].height,Re,Oe,oe[ae].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ae,0,He,oe[ae].width,oe[ae].height,0,Re,Oe,oe[ae].data);for(let Le=0;Le<Ge.length;Le++){const $t=Ge[Le].image[ae].image;mt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Le+1,0,0,$t.width,$t.height,Re,Oe,$t.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Le+1,He,$t.width,$t.height,0,Re,Oe,$t.data)}}else{mt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ae,0,0,0,Re,Oe,oe[ae]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ae,0,He,Re,Oe,oe[ae]);for(let Le=0;Le<Ge.length;Le++){const qe=Ge[Le];mt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Le+1,0,0,Re,Oe,qe.image[ae]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ae,Le+1,He,Re,Oe,qe.image[ae])}}}T(D,ye)&&b(t.TEXTURE_CUBE_MAP),Ie.__version=fe.version,D.onUpdate&&D.onUpdate(D)}N.__version=D.version}function we(N,D,ee,pe,fe,Ie){const We=s.convert(ee.format,ee.colorSpace),De=s.convert(ee.type),oe=R(ee.internalFormat,We,De,ee.colorSpace);if(!r.get(D).__hasExternalTextures){const ye=Math.max(1,D.width>>Ie),Re=Math.max(1,D.height>>Ie);fe===t.TEXTURE_3D||fe===t.TEXTURE_2D_ARRAY?n.texImage3D(fe,Ie,oe,ye,Re,D.depth,0,We,De,null):n.texImage2D(fe,Ie,oe,ye,Re,0,We,De,null)}n.bindFramebuffer(t.FRAMEBUFFER,N),lt(D)?f.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,pe,fe,r.get(ee).__webglTexture,0,ze(D)):(fe===t.TEXTURE_2D||fe>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&fe<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,pe,fe,r.get(ee).__webglTexture,Ie),n.bindFramebuffer(t.FRAMEBUFFER,null)}function K(N,D,ee){if(t.bindRenderbuffer(t.RENDERBUFFER,N),D.depthBuffer&&!D.stencilBuffer){let pe=t.DEPTH_COMPONENT16;if(ee||lt(D)){const fe=D.depthTexture;fe&&fe.isDepthTexture&&(fe.type===Ui?pe=t.DEPTH_COMPONENT32F:fe.type===yl&&(pe=t.DEPTH_COMPONENT24));const Ie=ze(D);lt(D)?f.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ie,pe,D.width,D.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,Ie,pe,D.width,D.height)}else t.renderbufferStorage(t.RENDERBUFFER,pe,D.width,D.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,N)}else if(D.depthBuffer&&D.stencilBuffer){const pe=ze(D);ee&&lt(D)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,pe,t.DEPTH24_STENCIL8,D.width,D.height):lt(D)?f.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,pe,t.DEPTH24_STENCIL8,D.width,D.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,D.width,D.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,N)}else{const pe=D.isWebGLMultipleRenderTargets===!0?D.texture:[D.texture];for(let fe=0;fe<pe.length;fe++){const Ie=pe[fe],We=s.convert(Ie.format,Ie.colorSpace),De=s.convert(Ie.type),oe=R(Ie.internalFormat,We,De,Ie.colorSpace),Y=ze(D);ee&&lt(D)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Y,oe,D.width,D.height):lt(D)?f.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Y,oe,D.width,D.height):t.renderbufferStorage(t.RENDERBUFFER,oe,D.width,D.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Se(N,D){if(D&&D.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,N),!(D.depthTexture&&D.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(D.depthTexture).__webglTexture||D.depthTexture.image.width!==D.width||D.depthTexture.image.height!==D.height)&&(D.depthTexture.image.width=D.width,D.depthTexture.image.height=D.height,D.depthTexture.needsUpdate=!0),V(D.depthTexture,0);const pe=r.get(D.depthTexture).__webglTexture,fe=ze(D);if(D.depthTexture.format===Qc)lt(D)?f.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,pe,0,fe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,pe,0);else if(D.depthTexture.format===eu)lt(D)?f.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,pe,0,fe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,pe,0);else throw new Error("Unknown depthTexture format")}function ve(N){const D=r.get(N),ee=N.isWebGLCubeRenderTarget===!0;if(N.depthTexture&&!D.__autoAllocateDepthBuffer){if(ee)throw new Error("target.depthTexture not supported in Cube render targets");Se(D.__webglFramebuffer,N)}else if(ee){D.__webglDepthbuffer=[];for(let pe=0;pe<6;pe++)n.bindFramebuffer(t.FRAMEBUFFER,D.__webglFramebuffer[pe]),D.__webglDepthbuffer[pe]=t.createRenderbuffer(),K(D.__webglDepthbuffer[pe],N,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,D.__webglFramebuffer),D.__webglDepthbuffer=t.createRenderbuffer(),K(D.__webglDepthbuffer,N,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function Be(N,D,ee){const pe=r.get(N);D!==void 0&&we(pe.__webglFramebuffer,N,N.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ee!==void 0&&ve(N)}function Te(N){const D=N.texture,ee=r.get(N),pe=r.get(D);N.addEventListener("dispose",G),N.isWebGLMultipleRenderTargets!==!0&&(pe.__webglTexture===void 0&&(pe.__webglTexture=t.createTexture()),pe.__version=D.version,o.memory.textures++);const fe=N.isWebGLCubeRenderTarget===!0,Ie=N.isWebGLMultipleRenderTargets===!0,We=S(N)||a;if(fe){ee.__webglFramebuffer=[];for(let De=0;De<6;De++)if(a&&D.mipmaps&&D.mipmaps.length>0){ee.__webglFramebuffer[De]=[];for(let oe=0;oe<D.mipmaps.length;oe++)ee.__webglFramebuffer[De][oe]=t.createFramebuffer()}else ee.__webglFramebuffer[De]=t.createFramebuffer()}else{if(a&&D.mipmaps&&D.mipmaps.length>0){ee.__webglFramebuffer=[];for(let De=0;De<D.mipmaps.length;De++)ee.__webglFramebuffer[De]=t.createFramebuffer()}else ee.__webglFramebuffer=t.createFramebuffer();if(Ie)if(i.drawBuffers){const De=N.texture;for(let oe=0,Y=De.length;oe<Y;oe++){const ye=r.get(De[oe]);ye.__webglTexture===void 0&&(ye.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&N.samples>0&&lt(N)===!1){const De=Ie?D:[D];ee.__webglMultisampledFramebuffer=t.createFramebuffer(),ee.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ee.__webglMultisampledFramebuffer);for(let oe=0;oe<De.length;oe++){const Y=De[oe];ee.__webglColorRenderbuffer[oe]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ee.__webglColorRenderbuffer[oe]);const ye=s.convert(Y.format,Y.colorSpace),Re=s.convert(Y.type),Oe=R(Y.internalFormat,ye,Re,Y.colorSpace,N.isXRRenderTarget===!0),He=ze(N);t.renderbufferStorageMultisample(t.RENDERBUFFER,He,Oe,N.width,N.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+oe,t.RENDERBUFFER,ee.__webglColorRenderbuffer[oe])}t.bindRenderbuffer(t.RENDERBUFFER,null),N.depthBuffer&&(ee.__webglDepthRenderbuffer=t.createRenderbuffer(),K(ee.__webglDepthRenderbuffer,N,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(fe){n.bindTexture(t.TEXTURE_CUBE_MAP,pe.__webglTexture),Pe(t.TEXTURE_CUBE_MAP,D,We);for(let De=0;De<6;De++)if(a&&D.mipmaps&&D.mipmaps.length>0)for(let oe=0;oe<D.mipmaps.length;oe++)we(ee.__webglFramebuffer[De][oe],N,D,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+De,oe);else we(ee.__webglFramebuffer[De],N,D,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+De,0);T(D,We)&&b(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Ie){const De=N.texture;for(let oe=0,Y=De.length;oe<Y;oe++){const ye=De[oe],Re=r.get(ye);n.bindTexture(t.TEXTURE_2D,Re.__webglTexture),Pe(t.TEXTURE_2D,ye,We),we(ee.__webglFramebuffer,N,ye,t.COLOR_ATTACHMENT0+oe,t.TEXTURE_2D,0),T(ye,We)&&b(t.TEXTURE_2D)}n.unbindTexture()}else{let De=t.TEXTURE_2D;if((N.isWebGL3DRenderTarget||N.isWebGLArrayRenderTarget)&&(a?De=N.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(De,pe.__webglTexture),Pe(De,D,We),a&&D.mipmaps&&D.mipmaps.length>0)for(let oe=0;oe<D.mipmaps.length;oe++)we(ee.__webglFramebuffer[oe],N,D,t.COLOR_ATTACHMENT0,De,oe);else we(ee.__webglFramebuffer,N,D,t.COLOR_ATTACHMENT0,De,0);T(D,We)&&b(De),n.unbindTexture()}N.depthBuffer&&ve(N)}function Ye(N){const D=S(N)||a,ee=N.isWebGLMultipleRenderTargets===!0?N.texture:[N.texture];for(let pe=0,fe=ee.length;pe<fe;pe++){const Ie=ee[pe];if(T(Ie,D)){const We=N.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,De=r.get(Ie).__webglTexture;n.bindTexture(We,De),b(We),n.unbindTexture()}}}function Qe(N){if(a&&N.samples>0&&lt(N)===!1){const D=N.isWebGLMultipleRenderTargets?N.texture:[N.texture],ee=N.width,pe=N.height;let fe=t.COLOR_BUFFER_BIT;const Ie=[],We=N.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,De=r.get(N),oe=N.isWebGLMultipleRenderTargets===!0;if(oe)for(let Y=0;Y<D.length;Y++)n.bindFramebuffer(t.FRAMEBUFFER,De.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Y,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,De.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Y,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,De.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,De.__webglFramebuffer);for(let Y=0;Y<D.length;Y++){Ie.push(t.COLOR_ATTACHMENT0+Y),N.depthBuffer&&Ie.push(We);const ye=De.__ignoreDepthValues!==void 0?De.__ignoreDepthValues:!1;if(ye===!1&&(N.depthBuffer&&(fe|=t.DEPTH_BUFFER_BIT),N.stencilBuffer&&(fe|=t.STENCIL_BUFFER_BIT)),oe&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,De.__webglColorRenderbuffer[Y]),ye===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[We]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[We])),oe){const Re=r.get(D[Y]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Re,0)}t.blitFramebuffer(0,0,ee,pe,0,0,ee,pe,fe,t.NEAREST),m&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Ie)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),oe)for(let Y=0;Y<D.length;Y++){n.bindFramebuffer(t.FRAMEBUFFER,De.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Y,t.RENDERBUFFER,De.__webglColorRenderbuffer[Y]);const ye=r.get(D[Y]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,De.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Y,t.TEXTURE_2D,ye,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,De.__webglMultisampledFramebuffer)}}function ze(N){return Math.min(h,N.samples)}function lt(N){const D=r.get(N);return a&&N.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&D.__useRenderToTexture!==!1}function Et(N){const D=o.render.frame;g.get(N)!==D&&(g.set(N,D),N.update())}function ie(N,D){const ee=N.colorSpace,pe=N.format,fe=N.type;return N.isCompressedTexture===!0||N.isVideoTexture===!0||N.format===sy||ee!==Ko&&ee!==Vc&&(ee===In||ee===E3?a===!1?e.has("EXT_sRGB")===!0&&pe===fr?(N.format=sy,N.minFilter=yn,N.generateMipmaps=!1):D=rT.sRGBToLinear(D):(pe!==fr||fe!==Dr)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ee)),D}this.allocateTextureUnit=k,this.resetTextureUnits=q,this.setTexture2D=V,this.setTexture2DArray=H,this.setTexture3D=X,this.setTextureCube=he,this.rebindTextures=Be,this.setupRenderTarget=Te,this.updateRenderTargetMipmap=Ye,this.updateMultisampleRenderTarget=Qe,this.setupDepthRenderbuffer=ve,this.setupFrameBufferTexture=we,this.useMultisampledRTT=lt}const fce=0,Mr=1;function oQ(t,e,n){const r=n.isWebGL2;function i(s,o=Vc){let a;const l=o===In||o===E3?Mr:fce;if(s===Dr)return t.UNSIGNED_BYTE;if(s===j9)return t.UNSIGNED_SHORT_4_4_4_4;if(s===$9)return t.UNSIGNED_SHORT_5_5_5_1;if(s===MH)return t.BYTE;if(s===RH)return t.SHORT;if(s===sf)return t.UNSIGNED_SHORT;if(s===W9)return t.INT;if(s===yl)return t.UNSIGNED_INT;if(s===Ui)return t.FLOAT;if(s===vr)return r?t.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===BH)return t.ALPHA;if(s===fr)return t.RGBA;if(s===K9)return t.LUMINANCE;if(s===PH)return t.LUMINANCE_ALPHA;if(s===Qc)return t.DEPTH_COMPONENT;if(s===eu)return t.DEPTH_STENCIL;if(s===sy)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===mh)return t.RED;if(s===X9)return t.RED_INTEGER;if(s===bd)return t.RG;if(s===J9)return t.RG_INTEGER;if(s===Y9)return t.RGBA_INTEGER;if(s===Vd||s===sv||s===ov||s===Wd)if(l===Mr)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===Vd)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===sv)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===ov)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Wd)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===Vd)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===sv)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===ov)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Wd)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===Bg||s===E4||s===Pg||s===_4)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===Bg)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===E4)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===Pg)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===_4)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===O5)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===Dg||s===Lg)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===Dg)return l===Mr?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===Lg)return l===Mr?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===Og||s===S4||s===C4||s===w4||s===T4||s===I4||s===b4||s===M4||s===R4||s===B4||s===P4||s===D4||s===L4||s===O4)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===Og)return l===Mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===S4)return l===Mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===C4)return l===Mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===w4)return l===Mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===T4)return l===Mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===I4)return l===Mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===b4)return l===Mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===M4)return l===Mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===R4)return l===Mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===B4)return l===Mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===P4)return l===Mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===D4)return l===Mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===L4)return l===Mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===O4)return l===Mr?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===jd||s===F4||s===N4)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===jd)return l===Mr?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===F4)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===N4)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===DH||s===k4||s===U4||s===G4)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===jd)return a.COMPRESSED_RED_RGTC1_EXT;if(s===k4)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===U4)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===G4)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Tl?r?t.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:i}}class aQ extends xn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class xl extends tn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const dce={type:"move"};class D8{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new xl,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new xl,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new O,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new O),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new xl,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new O,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new O),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const E of e.hand.values()){const x=n.getJointPose(E,r),A=this._getHandJoint(c,E);x!==null&&(A.matrix.fromArray(x.transform.matrix),A.matrix.decompose(A.position,A.rotation,A.scale),A.matrixWorldNeedsUpdate=!0,A.jointRadius=x.radius),A.visible=x!==null}const u=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],f=u.position.distanceTo(h.position),m=.02,g=.005;c.inputState.pinching&&f>m+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=m-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(dce)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new xl;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class Jp extends Hn{constructor(e,n,r,i,s,o,a,l,c,u){if(u=u!==void 0?u:Qc,u!==Qc&&u!==eu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===Qc&&(r=yl),r===void 0&&u===eu&&(r=Tl),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:It,this.minFilter=l!==void 0?l:It,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class pce extends Ha{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,h=null,f=null,m=null,g=null;const E=n.getContextAttributes();let x=null,A=null;const v=[],y=[],S=new xn;S.layers.enable(1),S.viewport=new Jt;const w=new xn;w.layers.enable(2),w.viewport=new Jt;const T=[S,w],b=new aQ;b.layers.enable(1),b.layers.enable(2);let R=null,M=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(H){let X=v[H];return X===void 0&&(X=new D8,v[H]=X),X.getTargetRaySpace()},this.getControllerGrip=function(H){let X=v[H];return X===void 0&&(X=new D8,v[H]=X),X.getGripSpace()},this.getHand=function(H){let X=v[H];return X===void 0&&(X=new D8,v[H]=X),X.getHandSpace()};function B(H){const X=y.indexOf(H.inputSource);if(X===-1)return;const he=v[X];he!==void 0&&(he.update(H.inputSource,H.frame,c||o),he.dispatchEvent({type:H.type,data:H.inputSource}))}function L(){i.removeEventListener("select",B),i.removeEventListener("selectstart",B),i.removeEventListener("selectend",B),i.removeEventListener("squeeze",B),i.removeEventListener("squeezestart",B),i.removeEventListener("squeezeend",B),i.removeEventListener("end",L),i.removeEventListener("inputsourceschange",G);for(let H=0;H<v.length;H++){const X=y[H];X!==null&&(y[H]=null,v[H].disconnect(X))}R=null,M=null,e.setRenderTarget(x),m=null,f=null,h=null,i=null,A=null,V.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(H){s=H,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(H){a=H,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(H){c=H},this.getBaseLayer=function(){return f!==null?f:m},this.getBinding=function(){return h},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function(H){if(i=H,i!==null){if(x=e.getRenderTarget(),i.addEventListener("select",B),i.addEventListener("selectstart",B),i.addEventListener("selectend",B),i.addEventListener("squeeze",B),i.addEventListener("squeezestart",B),i.addEventListener("squeezeend",B),i.addEventListener("end",L),i.addEventListener("inputsourceschange",G),E.xrCompatible!==!0&&await n.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const X={antialias:i.renderState.layers===void 0?E.antialias:!0,alpha:!0,depth:E.depth,stencil:E.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,n,X),i.updateRenderState({baseLayer:m}),A=new En(m.framebufferWidth,m.framebufferHeight,{format:fr,type:Dr,colorSpace:e.outputColorSpace,stencilBuffer:E.stencil})}else{let X=null,he=null,ge=null;E.depth&&(ge=E.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,X=E.stencil?eu:Qc,he=E.stencil?Tl:yl);const Ce={colorFormat:n.RGBA8,depthFormat:ge,scaleFactor:s};h=new XRWebGLBinding(i,n),f=h.createProjectionLayer(Ce),i.updateRenderState({layers:[f]}),A=new En(f.textureWidth,f.textureHeight,{format:fr,type:Dr,depthTexture:new Jp(f.textureWidth,f.textureHeight,he,void 0,void 0,void 0,void 0,void 0,void 0,X),stencilBuffer:E.stencil,colorSpace:e.outputColorSpace,samples:E.antialias?4:0});const be=e.properties.get(A);be.__ignoreDepthValues=f.ignoreDepthValues}A.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(a),V.setContext(i),V.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function G(H){for(let X=0;X<H.removed.length;X++){const he=H.removed[X],ge=y.indexOf(he);ge>=0&&(y[ge]=null,v[ge].disconnect(he))}for(let X=0;X<H.added.length;X++){const he=H.added[X];let ge=y.indexOf(he);if(ge===-1){for(let be=0;be<v.length;be++)if(be>=y.length){y.push(he),ge=be;break}else if(y[be]===null){y[be]=he,ge=be;break}if(ge===-1)break}const Ce=v[ge];Ce&&Ce.connect(he)}}const F=new O,$=new O;function W(H,X,he){F.setFromMatrixPosition(X.matrixWorld),$.setFromMatrixPosition(he.matrixWorld);const ge=F.distanceTo($),Ce=X.projectionMatrix.elements,be=he.projectionMatrix.elements,Pe=Ce[14]/(Ce[10]-1),ke=Ce[14]/(Ce[10]+1),Xe=(Ce[9]+1)/Ce[5],Je=(Ce[9]-1)/Ce[5],we=(Ce[8]-1)/Ce[0],K=(be[8]+1)/be[0],Se=Pe*we,ve=Pe*K,Be=ge/(-we+K),Te=Be*-we;X.matrixWorld.decompose(H.position,H.quaternion,H.scale),H.translateX(Te),H.translateZ(Be),H.matrixWorld.compose(H.position,H.quaternion,H.scale),H.matrixWorldInverse.copy(H.matrixWorld).invert();const Ye=Pe+Be,Qe=ke+Be,ze=Se-Te,lt=ve+(ge-Te),Et=Xe*ke/Qe*Ye,ie=Je*ke/Qe*Ye;H.projectionMatrix.makePerspective(ze,lt,Et,ie,Ye,Qe),H.projectionMatrixInverse.copy(H.projectionMatrix).invert()}function Z(H,X){X===null?H.matrixWorld.copy(H.matrix):H.matrixWorld.multiplyMatrices(X.matrixWorld,H.matrix),H.matrixWorldInverse.copy(H.matrixWorld).invert()}this.updateCamera=function(H){if(i===null)return;b.near=w.near=S.near=H.near,b.far=w.far=S.far=H.far,(R!==b.near||M!==b.far)&&(i.updateRenderState({depthNear:b.near,depthFar:b.far}),R=b.near,M=b.far);const X=H.parent,he=b.cameras;Z(b,X);for(let ge=0;ge<he.length;ge++)Z(he[ge],X);he.length===2?W(b,S,w):b.projectionMatrix.copy(S.projectionMatrix),q(H,b,X)};function q(H,X,he){he===null?H.matrix.copy(X.matrixWorld):(H.matrix.copy(he.matrixWorld),H.matrix.invert(),H.matrix.multiply(X.matrixWorld)),H.matrix.decompose(H.position,H.quaternion,H.scale),H.updateMatrixWorld(!0),H.projectionMatrix.copy(X.projectionMatrix),H.projectionMatrixInverse.copy(X.projectionMatrixInverse),H.isPerspectiveCamera&&(H.fov=vp*2*Math.atan(1/H.projectionMatrix.elements[5]),H.zoom=1)}this.getCamera=function(){return b},this.getFoveation=function(){if(!(f===null&&m===null))return l},this.setFoveation=function(H){l=H,f!==null&&(f.fixedFoveation=H),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=H)};let k=null;function J(H,X){if(u=X.getViewerPose(c||o),g=X,u!==null){const he=u.views;m!==null&&(e.setRenderTargetFramebuffer(A,m.framebuffer),e.setRenderTarget(A));let ge=!1;he.length!==b.cameras.length&&(b.cameras.length=0,ge=!0);for(let Ce=0;Ce<he.length;Ce++){const be=he[Ce];let Pe=null;if(m!==null)Pe=m.getViewport(be);else{const Xe=h.getViewSubImage(f,be);Pe=Xe.viewport,Ce===0&&(e.setRenderTargetTextures(A,Xe.colorTexture,f.ignoreDepthValues?void 0:Xe.depthStencilTexture),e.setRenderTarget(A))}let ke=T[Ce];ke===void 0&&(ke=new xn,ke.layers.enable(Ce),ke.viewport=new Jt,T[Ce]=ke),ke.matrix.fromArray(be.transform.matrix),ke.matrix.decompose(ke.position,ke.quaternion,ke.scale),ke.projectionMatrix.fromArray(be.projectionMatrix),ke.projectionMatrixInverse.copy(ke.projectionMatrix).invert(),ke.viewport.set(Pe.x,Pe.y,Pe.width,Pe.height),Ce===0&&(b.matrix.copy(ke.matrix),b.matrix.decompose(b.position,b.quaternion,b.scale)),ge===!0&&b.cameras.push(ke)}}for(let he=0;he<v.length;he++){const ge=y[he],Ce=v[he];ge!==null&&Ce!==void 0&&Ce.update(ge,X,c||o)}k&&k(H,X),X.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:X}),g=null}const V=new tQ;V.setAnimationLoop(J),this.setAnimationLoop=function(H){k=H},this.dispose=function(){}}}function mce(t,e){function n(x,A){x.matrixAutoUpdate===!0&&x.updateMatrix(),A.value.copy(x.matrix)}function r(x,A){A.color.getRGB(x.fogColor.value,eQ(t)),A.isFog?(x.fogNear.value=A.near,x.fogFar.value=A.far):A.isFogExp2&&(x.fogDensity.value=A.density)}function i(x,A,v,y,S){A.isMeshBasicMaterial||A.isMeshLambertMaterial?s(x,A):A.isMeshToonMaterial?(s(x,A),h(x,A)):A.isMeshPhongMaterial?(s(x,A),u(x,A)):A.isMeshStandardMaterial?(s(x,A),f(x,A),A.isMeshPhysicalMaterial&&m(x,A,S)):A.isMeshMatcapMaterial?(s(x,A),g(x,A)):A.isMeshDepthMaterial?s(x,A):A.isMeshDistanceMaterial?(s(x,A),E(x,A)):A.isMeshNormalMaterial?s(x,A):A.isLineBasicMaterial?(o(x,A),A.isLineDashedMaterial&&a(x,A)):A.isPointsMaterial?l(x,A,v,y):A.isSpriteMaterial?c(x,A):A.isShadowMaterial?(x.color.value.copy(A.color),x.opacity.value=A.opacity):A.isShaderMaterial&&(A.uniformsNeedUpdate=!1)}function s(x,A){x.opacity.value=A.opacity,A.color&&x.diffuse.value.copy(A.color),A.emissive&&x.emissive.value.copy(A.emissive).multiplyScalar(A.emissiveIntensity),A.map&&(x.map.value=A.map,n(A.map,x.mapTransform)),A.alphaMap&&(x.alphaMap.value=A.alphaMap,n(A.alphaMap,x.alphaMapTransform)),A.bumpMap&&(x.bumpMap.value=A.bumpMap,n(A.bumpMap,x.bumpMapTransform),x.bumpScale.value=A.bumpScale,A.side===Ci&&(x.bumpScale.value*=-1)),A.normalMap&&(x.normalMap.value=A.normalMap,n(A.normalMap,x.normalMapTransform),x.normalScale.value.copy(A.normalScale),A.side===Ci&&x.normalScale.value.negate()),A.displacementMap&&(x.displacementMap.value=A.displacementMap,n(A.displacementMap,x.displacementMapTransform),x.displacementScale.value=A.displacementScale,x.displacementBias.value=A.displacementBias),A.emissiveMap&&(x.emissiveMap.value=A.emissiveMap,n(A.emissiveMap,x.emissiveMapTransform)),A.specularMap&&(x.specularMap.value=A.specularMap,n(A.specularMap,x.specularMapTransform)),A.alphaTest>0&&(x.alphaTest.value=A.alphaTest);const v=e.get(A).envMap;if(v&&(x.envMap.value=v,x.flipEnvMap.value=v.isCubeTexture&&v.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=A.reflectivity,x.ior.value=A.ior,x.refractionRatio.value=A.refractionRatio),A.lightMap){x.lightMap.value=A.lightMap;const y=t._useLegacyLights===!0?Math.PI:1;x.lightMapIntensity.value=A.lightMapIntensity*y,n(A.lightMap,x.lightMapTransform)}A.aoMap&&(x.aoMap.value=A.aoMap,x.aoMapIntensity.value=A.aoMapIntensity,n(A.aoMap,x.aoMapTransform))}function o(x,A){x.diffuse.value.copy(A.color),x.opacity.value=A.opacity,A.map&&(x.map.value=A.map,n(A.map,x.mapTransform))}function a(x,A){x.dashSize.value=A.dashSize,x.totalSize.value=A.dashSize+A.gapSize,x.scale.value=A.scale}function l(x,A,v,y){x.diffuse.value.copy(A.color),x.opacity.value=A.opacity,x.size.value=A.size*v,x.scale.value=y*.5,A.map&&(x.map.value=A.map,n(A.map,x.uvTransform)),A.alphaMap&&(x.alphaMap.value=A.alphaMap,n(A.alphaMap,x.alphaMapTransform)),A.alphaTest>0&&(x.alphaTest.value=A.alphaTest)}function c(x,A){x.diffuse.value.copy(A.color),x.opacity.value=A.opacity,x.rotation.value=A.rotation,A.map&&(x.map.value=A.map,n(A.map,x.mapTransform)),A.alphaMap&&(x.alphaMap.value=A.alphaMap,n(A.alphaMap,x.alphaMapTransform)),A.alphaTest>0&&(x.alphaTest.value=A.alphaTest)}function u(x,A){x.specular.value.copy(A.specular),x.shininess.value=Math.max(A.shininess,1e-4)}function h(x,A){A.gradientMap&&(x.gradientMap.value=A.gradientMap)}function f(x,A){x.metalness.value=A.metalness,A.metalnessMap&&(x.metalnessMap.value=A.metalnessMap,n(A.metalnessMap,x.metalnessMapTransform)),x.roughness.value=A.roughness,A.roughnessMap&&(x.roughnessMap.value=A.roughnessMap,n(A.roughnessMap,x.roughnessMapTransform)),e.get(A).envMap&&(x.envMapIntensity.value=A.envMapIntensity)}function m(x,A,v){x.ior.value=A.ior,A.sheen>0&&(x.sheenColor.value.copy(A.sheenColor).multiplyScalar(A.sheen),x.sheenRoughness.value=A.sheenRoughness,A.sheenColorMap&&(x.sheenColorMap.value=A.sheenColorMap,n(A.sheenColorMap,x.sheenColorMapTransform)),A.sheenRoughnessMap&&(x.sheenRoughnessMap.value=A.sheenRoughnessMap,n(A.sheenRoughnessMap,x.sheenRoughnessMapTransform))),A.clearcoat>0&&(x.clearcoat.value=A.clearcoat,x.clearcoatRoughness.value=A.clearcoatRoughness,A.clearcoatMap&&(x.clearcoatMap.value=A.clearcoatMap,n(A.clearcoatMap,x.clearcoatMapTransform)),A.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=A.clearcoatRoughnessMap,n(A.clearcoatRoughnessMap,x.clearcoatRoughnessMapTransform)),A.clearcoatNormalMap&&(x.clearcoatNormalMap.value=A.clearcoatNormalMap,n(A.clearcoatNormalMap,x.clearcoatNormalMapTransform),x.clearcoatNormalScale.value.copy(A.clearcoatNormalScale),A.side===Ci&&x.clearcoatNormalScale.value.negate())),A.iridescence>0&&(x.iridescence.value=A.iridescence,x.iridescenceIOR.value=A.iridescenceIOR,x.iridescenceThicknessMinimum.value=A.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=A.iridescenceThicknessRange[1],A.iridescenceMap&&(x.iridescenceMap.value=A.iridescenceMap,n(A.iridescenceMap,x.iridescenceMapTransform)),A.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=A.iridescenceThicknessMap,n(A.iridescenceThicknessMap,x.iridescenceThicknessMapTransform))),A.transmission>0&&(x.transmission.value=A.transmission,x.transmissionSamplerMap.value=v.texture,x.transmissionSamplerSize.value.set(v.width,v.height),A.transmissionMap&&(x.transmissionMap.value=A.transmissionMap,n(A.transmissionMap,x.transmissionMapTransform)),x.thickness.value=A.thickness,A.thicknessMap&&(x.thicknessMap.value=A.thicknessMap,n(A.thicknessMap,x.thicknessMapTransform)),x.attenuationDistance.value=A.attenuationDistance,x.attenuationColor.value.copy(A.attenuationColor)),A.anisotropy>0&&(x.anisotropyVector.value.set(A.anisotropy*Math.cos(A.anisotropyRotation),A.anisotropy*Math.sin(A.anisotropyRotation)),A.anisotropyMap&&(x.anisotropyMap.value=A.anisotropyMap,n(A.anisotropyMap,x.anisotropyMapTransform))),x.specularIntensity.value=A.specularIntensity,x.specularColor.value.copy(A.specularColor),A.specularColorMap&&(x.specularColorMap.value=A.specularColorMap,n(A.specularColorMap,x.specularColorMapTransform)),A.specularIntensityMap&&(x.specularIntensityMap.value=A.specularIntensityMap,n(A.specularIntensityMap,x.specularIntensityMapTransform))}function g(x,A){A.matcap&&(x.matcap.value=A.matcap)}function E(x,A){const v=e.get(A).light;x.referencePosition.value.setFromMatrixPosition(v.matrixWorld),x.nearDistance.value=v.shadow.camera.near,x.farDistance.value=v.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function gce(t,e,n,r){let i={},s={},o=[];const a=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(v,y){const S=y.program;r.uniformBlockBinding(v,S)}function c(v,y){let S=i[v.id];S===void 0&&(g(v),S=u(v),i[v.id]=S,v.addEventListener("dispose",x));const w=y.program;r.updateUBOMapping(v,w);const T=e.render.frame;s[v.id]!==T&&(f(v),s[v.id]=T)}function u(v){const y=h();v.__bindingPointIndex=y;const S=t.createBuffer(),w=v.__size,T=v.usage;return t.bindBuffer(t.UNIFORM_BUFFER,S),t.bufferData(t.UNIFORM_BUFFER,w,T),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,y,S),S}function h(){for(let v=0;v<a;v++)if(o.indexOf(v)===-1)return o.push(v),v;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(v){const y=i[v.id],S=v.uniforms,w=v.__cache;t.bindBuffer(t.UNIFORM_BUFFER,y);for(let T=0,b=S.length;T<b;T++){const R=S[T];if(m(R,T,w)===!0){const M=R.__offset,B=Array.isArray(R.value)?R.value:[R.value];let L=0;for(let G=0;G<B.length;G++){const F=B[G],$=E(F);typeof F=="number"?(R.__data[0]=F,t.bufferSubData(t.UNIFORM_BUFFER,M+L,R.__data)):F.isMatrix3?(R.__data[0]=F.elements[0],R.__data[1]=F.elements[1],R.__data[2]=F.elements[2],R.__data[3]=F.elements[0],R.__data[4]=F.elements[3],R.__data[5]=F.elements[4],R.__data[6]=F.elements[5],R.__data[7]=F.elements[0],R.__data[8]=F.elements[6],R.__data[9]=F.elements[7],R.__data[10]=F.elements[8],R.__data[11]=F.elements[0]):(F.toArray(R.__data,L),L+=$.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,M,R.__data)}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function m(v,y,S){const w=v.value;if(S[y]===void 0){if(typeof w=="number")S[y]=w;else{const T=Array.isArray(w)?w:[w],b=[];for(let R=0;R<T.length;R++)b.push(T[R].clone());S[y]=b}return!0}else if(typeof w=="number"){if(S[y]!==w)return S[y]=w,!0}else{const T=Array.isArray(S[y])?S[y]:[S[y]],b=Array.isArray(w)?w:[w];for(let R=0;R<T.length;R++){const M=T[R];if(M.equals(b[R])===!1)return M.copy(b[R]),!0}}return!1}function g(v){const y=v.uniforms;let S=0;const w=16;let T=0;for(let b=0,R=y.length;b<R;b++){const M=y[b],B={boundary:0,storage:0},L=Array.isArray(M.value)?M.value:[M.value];for(let G=0,F=L.length;G<F;G++){const $=L[G],W=E($);B.boundary+=W.boundary,B.storage+=W.storage}if(M.__data=new Float32Array(B.storage/Float32Array.BYTES_PER_ELEMENT),M.__offset=S,b>0){T=S%w;const G=w-T;T!==0&&G-B.boundary<0&&(S+=w-T,M.__offset=S)}S+=B.storage}return T=S%w,T>0&&(S+=w-T),v.__size=S,v.__cache={},this}function E(v){const y={boundary:0,storage:0};return typeof v=="number"?(y.boundary=4,y.storage=4):v.isVector2?(y.boundary=8,y.storage=8):v.isVector3||v.isColor?(y.boundary=16,y.storage=12):v.isVector4?(y.boundary=16,y.storage=16):v.isMatrix3?(y.boundary=48,y.storage=48):v.isMatrix4?(y.boundary=64,y.storage=64):v.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",v),y}function x(v){const y=v.target;y.removeEventListener("dispose",x);const S=o.indexOf(y.__bindingPointIndex);o.splice(S,1),t.deleteBuffer(i[y.id]),delete i[y.id],delete s[y.id]}function A(){for(const v in i)t.deleteBuffer(i[v]);o=[],i={},s={}}return{bind:l,update:c,dispose:A}}class uT{constructor(e={}){const{canvas:n=YH(),context:r=null,depth:i=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:h=!1}=e;this.isWebGLRenderer=!0;let f;r!==null?f=r.getContextAttributes().alpha:f=o;const m=new Uint32Array(4),g=new Int32Array(4);let E=null,x=null;const A=[],v=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=In,this._useLegacyLights=!1,this.toneMapping=ao,this.toneMappingExposure=1;const y=this;let S=!1,w=0,T=0,b=null,R=-1,M=null;const B=new Jt,L=new Jt;let G=null;const F=new Fe(0);let $=0,W=n.width,Z=n.height,q=1,k=null,J=null;const V=new Jt(0,0,W,Z),H=new Jt(0,0,W,Z);let X=!1;const he=new U5;let ge=!1,Ce=!1,be=null;const Pe=new st,ke=new ue,Xe=new O,Je={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function we(){return b===null?q:1}let K=r;function Se(z,se){for(let Ee=0;Ee<z.length;Ee++){const ce=z[Ee],_e=n.getContext(ce,se);if(_e!==null)return _e}return null}try{const z={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:h};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${Ga}`),n.addEventListener("webglcontextlost",Ge,!1),n.addEventListener("webglcontextrestored",ae,!1),n.addEventListener("webglcontextcreationerror",Le,!1),K===null){const se=["webgl2","webgl","experimental-webgl"];if(y.isWebGL1Renderer===!0&&se.shift(),K=Se(se,z),K===null)throw Se(se)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&K instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),K.getShaderPrecisionFormat===void 0&&(K.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(z){throw console.error("THREE.WebGLRenderer: "+z.message),z}let ve,Be,Te,Ye,Qe,ze,lt,Et,ie,N,D,ee,pe,fe,Ie,We,De,oe,Y,ye,Re,Oe,He,mt;function Bt(){ve=new Bae(K),Be=new wae(K,ve,e),ve.init(Be),Oe=new oQ(K,ve,Be),Te=new uce(K,ve,Be),Ye=new Lae(K),Qe=new qle,ze=new hce(K,ve,Te,Qe,Be,Oe,Ye),lt=new Iae(y),Et=new Rae(y),ie=new Vie(K,Be),He=new Sae(K,ve,ie,Be),N=new Pae(K,ie,Ye,He),D=new kae(K,N,ie,Ye),Y=new Nae(K,Be,ze),We=new Tae(Qe),ee=new Yle(y,lt,Et,ve,Be,He,We),pe=new mce(y,Qe),fe=new ece,Ie=new oce(ve,Be),oe=new _ae(y,lt,Et,Te,D,f,l),De=new cce(y,D,Be),mt=new gce(K,Ye,Be,Te),ye=new Cae(K,ve,Ye,Be),Re=new Dae(K,ve,Ye,Be),Ye.programs=ee.programs,y.capabilities=Be,y.extensions=ve,y.properties=Qe,y.renderLists=fe,y.shadowMap=De,y.state=Te,y.info=Ye}Bt();const te=new pce(y,K);this.xr=te,this.getContext=function(){return K},this.getContextAttributes=function(){return K.getContextAttributes()},this.forceContextLoss=function(){const z=ve.get("WEBGL_lose_context");z&&z.loseContext()},this.forceContextRestore=function(){const z=ve.get("WEBGL_lose_context");z&&z.restoreContext()},this.getPixelRatio=function(){return q},this.setPixelRatio=function(z){z!==void 0&&(q=z,this.setSize(W,Z,!1))},this.getSize=function(z){return z.set(W,Z)},this.setSize=function(z,se,Ee=!0){if(te.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}W=z,Z=se,n.width=Math.floor(z*q),n.height=Math.floor(se*q),Ee===!0&&(n.style.width=z+"px",n.style.height=se+"px"),this.setViewport(0,0,z,se)},this.getDrawingBufferSize=function(z){return z.set(W*q,Z*q).floor()},this.setDrawingBufferSize=function(z,se,Ee){W=z,Z=se,q=Ee,n.width=Math.floor(z*Ee),n.height=Math.floor(se*Ee),this.setViewport(0,0,z,se)},this.getCurrentViewport=function(z){return z.copy(B)},this.getViewport=function(z){return z.copy(V)},this.setViewport=function(z,se,Ee,ce){z.isVector4?V.set(z.x,z.y,z.z,z.w):V.set(z,se,Ee,ce),Te.viewport(B.copy(V).multiplyScalar(q).floor())},this.getScissor=function(z){return z.copy(H)},this.setScissor=function(z,se,Ee,ce){z.isVector4?H.set(z.x,z.y,z.z,z.w):H.set(z,se,Ee,ce),Te.scissor(L.copy(H).multiplyScalar(q).floor())},this.getScissorTest=function(){return X},this.setScissorTest=function(z){Te.setScissorTest(X=z)},this.setOpaqueSort=function(z){k=z},this.setTransparentSort=function(z){J=z},this.getClearColor=function(z){return z.copy(oe.getClearColor())},this.setClearColor=function(){oe.setClearColor.apply(oe,arguments)},this.getClearAlpha=function(){return oe.getClearAlpha()},this.setClearAlpha=function(){oe.setClearAlpha.apply(oe,arguments)},this.clear=function(z=!0,se=!0,Ee=!0){let ce=0;if(z){let _e=!1;if(b!==null){const nt=b.texture.format;_e=nt===Y9||nt===J9||nt===X9}if(_e){const nt=b.texture.type,ft=nt===Dr||nt===yl||nt===sf||nt===Tl||nt===j9||nt===$9,_t=oe.getClearColor(),St=oe.getClearAlpha(),Ut=_t.r,gt=_t.g,Tt=_t.b;ft?(m[0]=Ut,m[1]=gt,m[2]=Tt,m[3]=St,K.clearBufferuiv(K.COLOR,0,m)):(g[0]=Ut,g[1]=gt,g[2]=Tt,g[3]=St,K.clearBufferiv(K.COLOR,0,g))}else ce|=K.COLOR_BUFFER_BIT}se&&(ce|=K.DEPTH_BUFFER_BIT),Ee&&(ce|=K.STENCIL_BUFFER_BIT),K.clear(ce)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Ge,!1),n.removeEventListener("webglcontextrestored",ae,!1),n.removeEventListener("webglcontextcreationerror",Le,!1),fe.dispose(),Ie.dispose(),Qe.dispose(),lt.dispose(),Et.dispose(),D.dispose(),He.dispose(),mt.dispose(),ee.dispose(),te.dispose(),te.removeEventListener("sessionstart",mn),te.removeEventListener("sessionend",us),be&&(be.dispose(),be=null),ti.stop()};function Ge(z){z.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),S=!0}function ae(){console.log("THREE.WebGLRenderer: Context Restored."),S=!1;const z=Ye.autoReset,se=De.enabled,Ee=De.autoUpdate,ce=De.needsUpdate,_e=De.type;Bt(),Ye.autoReset=z,De.enabled=se,De.autoUpdate=Ee,De.needsUpdate=ce,De.type=_e}function Le(z){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",z.statusMessage)}function qe(z){const se=z.target;se.removeEventListener("dispose",qe),$t(se)}function $t(z){_n(z),Qe.remove(z)}function _n(z){const se=Qe.get(z).programs;se!==void 0&&(se.forEach(function(Ee){ee.releaseProgram(Ee)}),z.isShaderMaterial&&ee.releaseShaderCache(z))}this.renderBufferDirect=function(z,se,Ee,ce,_e,nt){se===null&&(se=Je);const ft=_e.isMesh&&_e.matrixWorld.determinant()<0,_t=Ex(z,se,Ee,ce,_e);Te.setMaterial(ce,ft);let St=Ee.index,Ut=1;if(ce.wireframe===!0){if(St=N.getWireframeAttribute(Ee),St===void 0)return;Ut=2}const gt=Ee.drawRange,Tt=Ee.attributes.position;let Sn=gt.start*Ut,Bn=(gt.start+gt.count)*Ut;nt!==null&&(Sn=Math.max(Sn,nt.start*Ut),Bn=Math.min(Bn,(nt.start+nt.count)*Ut)),St!==null?(Sn=Math.max(Sn,0),Bn=Math.min(Bn,St.count)):Tt!=null&&(Sn=Math.max(Sn,0),Bn=Math.min(Bn,Tt.count));const ji=Bn-Sn;if(ji<0||ji===1/0)return;He.setup(_e,ce,_t,Ee,St);let hs,An=ye;if(St!==null&&(hs=ie.get(St),An=Re,An.setIndex(hs)),_e.isMesh)ce.wireframe===!0?(Te.setLineWidth(ce.wireframeLinewidth*we()),An.setMode(K.LINES)):An.setMode(K.TRIANGLES);else if(_e.isLine){let bt=ce.linewidth;bt===void 0&&(bt=1),Te.setLineWidth(bt*we()),_e.isLineSegments?An.setMode(K.LINES):_e.isLineLoop?An.setMode(K.LINE_LOOP):An.setMode(K.LINE_STRIP)}else _e.isPoints?An.setMode(K.POINTS):_e.isSprite&&An.setMode(K.TRIANGLES);if(_e.isInstancedMesh)An.renderInstances(Sn,ji,_e.count);else if(Ee.isInstancedBufferGeometry){const bt=Ee._maxInstanceCount!==void 0?Ee._maxInstanceCount:1/0,un=Math.min(Ee.instanceCount,bt);An.renderInstances(Sn,ji,un)}else An.render(Sn,ji)},this.compile=function(z,se){function Ee(ce,_e,nt){ce.transparent===!0&&ce.side===ro&&ce.forceSinglePass===!1?(ce.side=Ci,ce.needsUpdate=!0,la(ce,_e,nt),ce.side=ka,ce.needsUpdate=!0,la(ce,_e,nt),ce.side=ro):la(ce,_e,nt)}x=Ie.get(z),x.init(),v.push(x),z.traverseVisible(function(ce){ce.isLight&&ce.layers.test(se.layers)&&(x.pushLight(ce),ce.castShadow&&x.pushShadow(ce))}),x.setupLights(y._useLegacyLights),z.traverse(function(ce){const _e=ce.material;if(_e)if(Array.isArray(_e))for(let nt=0;nt<_e.length;nt++){const ft=_e[nt];Ee(ft,z,ce)}else Ee(_e,z,ce)}),v.pop(),x=null};let rr=null;function _o(z){rr&&rr(z)}function mn(){ti.stop()}function us(){ti.start()}const ti=new tQ;ti.setAnimationLoop(_o),typeof self<"u"&&ti.setContext(self),this.setAnimationLoop=function(z){rr=z,te.setAnimationLoop(z),z===null?ti.stop():ti.start()},te.addEventListener("sessionstart",mn),te.addEventListener("sessionend",us),this.render=function(z,se){if(se!==void 0&&se.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(S===!0)return;z.matrixWorldAutoUpdate===!0&&z.updateMatrixWorld(),se.parent===null&&se.matrixWorldAutoUpdate===!0&&se.updateMatrixWorld(),te.enabled===!0&&te.isPresenting===!0&&(te.cameraAutoUpdate===!0&&te.updateCamera(se),se=te.getCamera()),z.isScene===!0&&z.onBeforeRender(y,z,se,b),x=Ie.get(z,v.length),x.init(),v.push(x),Pe.multiplyMatrices(se.projectionMatrix,se.matrixWorldInverse),he.setFromProjectionMatrix(Pe),Ce=this.localClippingEnabled,ge=We.init(this.clippingPlanes,Ce),E=fe.get(z,A.length),E.init(),A.push(E),hA(z,se,0,y.sortObjects),E.finish(),y.sortObjects===!0&&E.sort(k,J),this.info.render.frame++,ge===!0&&We.beginShadows();const Ee=x.state.shadowsArray;if(De.render(Ee,z,se),ge===!0&&We.endShadows(),this.info.autoReset===!0&&this.info.reset(),oe.render(E,z),x.setupLights(y._useLegacyLights),se.isArrayCamera){const ce=se.cameras;for(let _e=0,nt=ce.length;_e<nt;_e++){const ft=ce[_e];fA(E,z,ft,ft.viewport)}}else fA(E,z,se);b!==null&&(ze.updateMultisampleRenderTarget(b),ze.updateRenderTargetMipmap(b)),z.isScene===!0&&z.onAfterRender(y,z,se),He.resetDefaultState(),R=-1,M=null,v.pop(),v.length>0?x=v[v.length-1]:x=null,A.pop(),A.length>0?E=A[A.length-1]:E=null};function hA(z,se,Ee,ce){if(z.visible===!1)return;if(z.layers.test(se.layers)){if(z.isGroup)Ee=z.renderOrder;else if(z.isLOD)z.autoUpdate===!0&&z.update(se);else if(z.isLight)x.pushLight(z),z.castShadow&&x.pushShadow(z);else if(z.isSprite){if(!z.frustumCulled||he.intersectsSprite(z)){ce&&Xe.setFromMatrixPosition(z.matrixWorld).applyMatrix4(Pe);const ft=D.update(z),_t=z.material;_t.visible&&E.push(z,ft,_t,Ee,Xe.z,null)}}else if((z.isMesh||z.isLine||z.isPoints)&&(!z.frustumCulled||he.intersectsObject(z))){const ft=D.update(z),_t=z.material;if(ce&&(z.boundingSphere!==void 0?(z.boundingSphere===null&&z.computeBoundingSphere(),Xe.copy(z.boundingSphere.center)):(ft.boundingSphere===null&&ft.computeBoundingSphere(),Xe.copy(ft.boundingSphere.center)),Xe.applyMatrix4(z.matrixWorld).applyMatrix4(Pe)),Array.isArray(_t)){const St=ft.groups;for(let Ut=0,gt=St.length;Ut<gt;Ut++){const Tt=St[Ut],Sn=_t[Tt.materialIndex];Sn&&Sn.visible&&E.push(z,ft,Sn,Ee,Xe.z,Tt)}}else _t.visible&&E.push(z,ft,_t,Ee,Xe.z,null)}}const nt=z.children;for(let ft=0,_t=nt.length;ft<_t;ft++)hA(nt[ft],se,Ee,ce)}function fA(z,se,Ee,ce){const _e=z.opaque,nt=z.transmissive,ft=z.transparent;x.setupLightsView(Ee),ge===!0&&We.setGlobalState(y.clippingPlanes,Ee),nt.length>0&&dA(_e,nt,se,Ee),ce&&Te.viewport(B.copy(ce)),_e.length>0&&$l(_e,se,Ee),nt.length>0&&$l(nt,se,Ee),ft.length>0&&$l(ft,se,Ee),Te.buffers.depth.setTest(!0),Te.buffers.depth.setMask(!0),Te.buffers.color.setMask(!0),Te.setPolygonOffset(!1)}function dA(z,se,Ee,ce){const _e=Be.isWebGL2;be===null&&(be=new En(1,1,{generateMipmaps:!0,type:ve.has("EXT_color_buffer_half_float")?vr:Dr,minFilter:mo,samples:_e?4:0})),y.getDrawingBufferSize(ke),_e?be.setSize(ke.x,ke.y):be.setSize(oy(ke.x),oy(ke.y));const nt=y.getRenderTarget();y.setRenderTarget(be),y.getClearColor(F),$=y.getClearAlpha(),$<1&&y.setClearColor(16777215,.5),y.clear();const ft=y.toneMapping;y.toneMapping=ao,$l(z,Ee,ce),ze.updateMultisampleRenderTarget(be),ze.updateRenderTargetMipmap(be);let _t=!1;for(let St=0,Ut=se.length;St<Ut;St++){const gt=se[St],Tt=gt.object,Sn=gt.geometry,Bn=gt.material,ji=gt.group;if(Bn.side===ro&&Tt.layers.test(ce.layers)){const hs=Bn.side;Bn.side=Ci,Bn.needsUpdate=!0,pA(Tt,Ee,ce,Sn,Bn,ji),Bn.side=hs,Bn.needsUpdate=!0,_t=!0}}_t===!0&&(ze.updateMultisampleRenderTarget(be),ze.updateRenderTargetMipmap(be)),y.setRenderTarget(nt),y.setClearColor(F,$),y.toneMapping=ft}function $l(z,se,Ee){const ce=se.isScene===!0?se.overrideMaterial:null;for(let _e=0,nt=z.length;_e<nt;_e++){const ft=z[_e],_t=ft.object,St=ft.geometry,Ut=ce===null?ft.material:ce,gt=ft.group;_t.layers.test(Ee.layers)&&pA(_t,se,Ee,St,Ut,gt)}}function pA(z,se,Ee,ce,_e,nt){z.onBeforeRender(y,se,Ee,ce,_e,nt),z.modelViewMatrix.multiplyMatrices(Ee.matrixWorldInverse,z.matrixWorld),z.normalMatrix.getNormalMatrix(z.modelViewMatrix),_e.onBeforeRender(y,se,Ee,ce,z,nt),_e.transparent===!0&&_e.side===ro&&_e.forceSinglePass===!1?(_e.side=Ci,_e.needsUpdate=!0,y.renderBufferDirect(Ee,se,ce,_e,z,nt),_e.side=ka,_e.needsUpdate=!0,y.renderBufferDirect(Ee,se,ce,_e,z,nt),_e.side=ro):y.renderBufferDirect(Ee,se,ce,_e,z,nt),z.onAfterRender(y,se,Ee,ce,_e,nt)}function la(z,se,Ee){se.isScene!==!0&&(se=Je);const ce=Qe.get(z),_e=x.state.lights,nt=x.state.shadowsArray,ft=_e.state.version,_t=ee.getParameters(z,_e.state,nt,se,Ee),St=ee.getProgramCacheKey(_t);let Ut=ce.programs;ce.environment=z.isMeshStandardMaterial?se.environment:null,ce.fog=se.fog,ce.envMap=(z.isMeshStandardMaterial?Et:lt).get(z.envMap||ce.environment),Ut===void 0&&(z.addEventListener("dispose",qe),Ut=new Map,ce.programs=Ut);let gt=Ut.get(St);if(gt!==void 0){if(ce.currentProgram===gt&&ce.lightsStateVersion===ft)return mA(z,_t),gt}else _t.uniforms=ee.getUniforms(z),z.onBuild(Ee,_t,y),z.onBeforeCompile(_t,y),gt=ee.acquireProgram(_t,St),Ut.set(St,gt),ce.uniforms=_t.uniforms;const Tt=ce.uniforms;(!z.isShaderMaterial&&!z.isRawShaderMaterial||z.clipping===!0)&&(Tt.clippingPlanes=We.uniform),mA(z,_t),ce.needsLights=Sx(z),ce.lightsStateVersion=ft,ce.needsLights&&(Tt.ambientLightColor.value=_e.state.ambient,Tt.lightProbe.value=_e.state.probe,Tt.directionalLights.value=_e.state.directional,Tt.directionalLightShadows.value=_e.state.directionalShadow,Tt.spotLights.value=_e.state.spot,Tt.spotLightShadows.value=_e.state.spotShadow,Tt.rectAreaLights.value=_e.state.rectArea,Tt.ltc_1.value=_e.state.rectAreaLTC1,Tt.ltc_2.value=_e.state.rectAreaLTC2,Tt.pointLights.value=_e.state.point,Tt.pointLightShadows.value=_e.state.pointShadow,Tt.hemisphereLights.value=_e.state.hemi,Tt.directionalShadowMap.value=_e.state.directionalShadowMap,Tt.directionalShadowMatrix.value=_e.state.directionalShadowMatrix,Tt.spotShadowMap.value=_e.state.spotShadowMap,Tt.spotLightMatrix.value=_e.state.spotLightMatrix,Tt.spotLightMap.value=_e.state.spotLightMap,Tt.pointShadowMap.value=_e.state.pointShadowMap,Tt.pointShadowMatrix.value=_e.state.pointShadowMatrix);const Sn=gt.getUniforms(),Bn=uv.seqWithValue(Sn.seq,Tt);return ce.currentProgram=gt,ce.uniformsList=Bn,gt}function mA(z,se){const Ee=Qe.get(z);Ee.outputColorSpace=se.outputColorSpace,Ee.instancing=se.instancing,Ee.instancingColor=se.instancingColor,Ee.skinning=se.skinning,Ee.morphTargets=se.morphTargets,Ee.morphNormals=se.morphNormals,Ee.morphColors=se.morphColors,Ee.morphTargetsCount=se.morphTargetsCount,Ee.numClippingPlanes=se.numClippingPlanes,Ee.numIntersection=se.numClipIntersection,Ee.vertexAlphas=se.vertexAlphas,Ee.vertexTangents=se.vertexTangents,Ee.toneMapping=se.toneMapping}function Ex(z,se,Ee,ce,_e){se.isScene!==!0&&(se=Je),ze.resetTextureUnits();const nt=se.fog,ft=ce.isMeshStandardMaterial?se.environment:null,_t=b===null?y.outputColorSpace:b.isXRRenderTarget===!0?b.texture.colorSpace:Ko,St=(ce.isMeshStandardMaterial?Et:lt).get(ce.envMap||ft),Ut=ce.vertexColors===!0&&!!Ee.attributes.color&&Ee.attributes.color.itemSize===4,gt=!!Ee.attributes.tangent&&(!!ce.normalMap||ce.anisotropy>0),Tt=!!Ee.morphAttributes.position,Sn=!!Ee.morphAttributes.normal,Bn=!!Ee.morphAttributes.color;let ji=ao;ce.toneMapped&&(b===null||b.isXRRenderTarget===!0)&&(ji=y.toneMapping);const hs=Ee.morphAttributes.position||Ee.morphAttributes.normal||Ee.morphAttributes.color,An=hs!==void 0?hs.length:0,bt=Qe.get(ce),un=x.state.lights;if(ge===!0&&(Ce===!0||z!==M)){const ui=z===M&&ce.id===R;We.setState(ce,z,ui)}let Ct=!1;ce.version===bt.__version?(bt.needsLights&&bt.lightsStateVersion!==un.state.version||bt.outputColorSpace!==_t||_e.isInstancedMesh&&bt.instancing===!1||!_e.isInstancedMesh&&bt.instancing===!0||_e.isSkinnedMesh&&bt.skinning===!1||!_e.isSkinnedMesh&&bt.skinning===!0||_e.isInstancedMesh&&bt.instancingColor===!0&&_e.instanceColor===null||_e.isInstancedMesh&&bt.instancingColor===!1&&_e.instanceColor!==null||bt.envMap!==St||ce.fog===!0&&bt.fog!==nt||bt.numClippingPlanes!==void 0&&(bt.numClippingPlanes!==We.numPlanes||bt.numIntersection!==We.numIntersection)||bt.vertexAlphas!==Ut||bt.vertexTangents!==gt||bt.morphTargets!==Tt||bt.morphNormals!==Sn||bt.morphColors!==Bn||bt.toneMapping!==ji||Be.isWebGL2===!0&&bt.morphTargetsCount!==An)&&(Ct=!0):(Ct=!0,bt.__version=ce.version);let ci=bt.currentProgram;Ct===!0&&(ci=la(ce,se,_e));let Ir=!1,yr=!1,So=!1;const ir=ci.getUniforms(),sr=bt.uniforms;if(Te.useProgram(ci.program)&&(Ir=!0,yr=!0,So=!0),ce.id!==R&&(R=ce.id,yr=!0),Ir||M!==z){ir.setValue(K,"projectionMatrix",z.projectionMatrix),ir.setValue(K,"viewMatrix",z.matrixWorldInverse);const ui=ir.map.cameraPosition;ui!==void 0&&ui.setValue(K,Xe.setFromMatrixPosition(z.matrixWorld)),Be.logarithmicDepthBuffer&&ir.setValue(K,"logDepthBufFC",2/(Math.log(z.far+1)/Math.LN2)),(ce.isMeshPhongMaterial||ce.isMeshToonMaterial||ce.isMeshLambertMaterial||ce.isMeshBasicMaterial||ce.isMeshStandardMaterial||ce.isShaderMaterial)&&ir.setValue(K,"isOrthographic",z.isOrthographicCamera===!0),M!==z&&(M=z,yr=!0,So=!0)}if(_e.isSkinnedMesh){ir.setOptional(K,_e,"bindMatrix"),ir.setOptional(K,_e,"bindMatrixInverse");const ui=_e.skeleton;ui&&(Be.floatVertexTextures?(ui.boneTexture===null&&ui.computeBoneTexture(),ir.setValue(K,"boneTexture",ui.boneTexture,ze),ir.setValue(K,"boneTextureSize",ui.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Kl=Ee.morphAttributes;if((Kl.position!==void 0||Kl.normal!==void 0||Kl.color!==void 0&&Be.isWebGL2===!0)&&Y.update(_e,Ee,ci),(yr||bt.receiveShadow!==_e.receiveShadow)&&(bt.receiveShadow=_e.receiveShadow,ir.setValue(K,"receiveShadow",_e.receiveShadow)),ce.isMeshGouraudMaterial&&ce.envMap!==null&&(sr.envMap.value=St,sr.flipEnvMap.value=St.isCubeTexture&&St.isRenderTargetTexture===!1?-1:1),yr&&(ir.setValue(K,"toneMappingExposure",y.toneMappingExposure),bt.needsLights&&_x(sr,So),nt&&ce.fog===!0&&pe.refreshFogUniforms(sr,nt),pe.refreshMaterialUniforms(sr,ce,q,Z,be),uv.upload(K,bt.uniformsList,sr,ze)),ce.isShaderMaterial&&ce.uniformsNeedUpdate===!0&&(uv.upload(K,bt.uniformsList,sr,ze),ce.uniformsNeedUpdate=!1),ce.isSpriteMaterial&&ir.setValue(K,"center",_e.center),ir.setValue(K,"modelViewMatrix",_e.modelViewMatrix),ir.setValue(K,"normalMatrix",_e.normalMatrix),ir.setValue(K,"modelMatrix",_e.matrixWorld),ce.isShaderMaterial||ce.isRawShaderMaterial){const ui=ce.uniformsGroups;for(let Ef=0,_f=ui.length;Ef<_f;Ef++)if(Be.isWebGL2){const c0=ui[Ef];mt.update(c0,ci),mt.bind(c0,ci)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return ci}function _x(z,se){z.ambientLightColor.needsUpdate=se,z.lightProbe.needsUpdate=se,z.directionalLights.needsUpdate=se,z.directionalLightShadows.needsUpdate=se,z.pointLights.needsUpdate=se,z.pointLightShadows.needsUpdate=se,z.spotLights.needsUpdate=se,z.spotLightShadows.needsUpdate=se,z.rectAreaLights.needsUpdate=se,z.hemisphereLights.needsUpdate=se}function Sx(z){return z.isMeshLambertMaterial||z.isMeshToonMaterial||z.isMeshPhongMaterial||z.isMeshStandardMaterial||z.isShadowMaterial||z.isShaderMaterial&&z.lights===!0}this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return T},this.getRenderTarget=function(){return b},this.setRenderTargetTextures=function(z,se,Ee){Qe.get(z.texture).__webglTexture=se,Qe.get(z.depthTexture).__webglTexture=Ee;const ce=Qe.get(z);ce.__hasExternalTextures=!0,ce.__hasExternalTextures&&(ce.__autoAllocateDepthBuffer=Ee===void 0,ce.__autoAllocateDepthBuffer||ve.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ce.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(z,se){const Ee=Qe.get(z);Ee.__webglFramebuffer=se,Ee.__useDefaultFramebuffer=se===void 0},this.setRenderTarget=function(z,se=0,Ee=0){b=z,w=se,T=Ee;let ce=!0,_e=null,nt=!1,ft=!1;if(z){const St=Qe.get(z);St.__useDefaultFramebuffer!==void 0?(Te.bindFramebuffer(K.FRAMEBUFFER,null),ce=!1):St.__webglFramebuffer===void 0?ze.setupRenderTarget(z):St.__hasExternalTextures&&ze.rebindTextures(z,Qe.get(z.texture).__webglTexture,Qe.get(z.depthTexture).__webglTexture);const Ut=z.texture;(Ut.isData3DTexture||Ut.isDataArrayTexture||Ut.isCompressedArrayTexture)&&(ft=!0);const gt=Qe.get(z).__webglFramebuffer;z.isWebGLCubeRenderTarget?(Array.isArray(gt[se])?_e=gt[se][Ee]:_e=gt[se],nt=!0):Be.isWebGL2&&z.samples>0&&ze.useMultisampledRTT(z)===!1?_e=Qe.get(z).__webglMultisampledFramebuffer:Array.isArray(gt)?_e=gt[Ee]:_e=gt,B.copy(z.viewport),L.copy(z.scissor),G=z.scissorTest}else B.copy(V).multiplyScalar(q).floor(),L.copy(H).multiplyScalar(q).floor(),G=X;if(Te.bindFramebuffer(K.FRAMEBUFFER,_e)&&Be.drawBuffers&&ce&&Te.drawBuffers(z,_e),Te.viewport(B),Te.scissor(L),Te.setScissorTest(G),nt){const St=Qe.get(z.texture);K.framebufferTexture2D(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_CUBE_MAP_POSITIVE_X+se,St.__webglTexture,Ee)}else if(ft){const St=Qe.get(z.texture),Ut=se||0;K.framebufferTextureLayer(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,St.__webglTexture,Ee||0,Ut)}R=-1},this.readRenderTargetPixels=function(z,se,Ee,ce,_e,nt,ft){if(!(z&&z.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let _t=Qe.get(z).__webglFramebuffer;if(z.isWebGLCubeRenderTarget&&ft!==void 0&&(_t=_t[ft]),_t){Te.bindFramebuffer(K.FRAMEBUFFER,_t);try{const St=z.texture,Ut=St.format,gt=St.type;if(Ut!==fr&&Oe.convert(Ut)!==K.getParameter(K.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Tt=gt===vr&&(ve.has("EXT_color_buffer_half_float")||Be.isWebGL2&&ve.has("EXT_color_buffer_float"));if(gt!==Dr&&Oe.convert(gt)!==K.getParameter(K.IMPLEMENTATION_COLOR_READ_TYPE)&&!(gt===Ui&&(Be.isWebGL2||ve.has("OES_texture_float")||ve.has("WEBGL_color_buffer_float")))&&!Tt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}se>=0&&se<=z.width-ce&&Ee>=0&&Ee<=z.height-_e&&K.readPixels(se,Ee,ce,_e,Oe.convert(Ut),Oe.convert(gt),nt)}finally{const St=b!==null?Qe.get(b).__webglFramebuffer:null;Te.bindFramebuffer(K.FRAMEBUFFER,St)}}},this.copyFramebufferToTexture=function(z,se,Ee=0){const ce=Math.pow(2,-Ee),_e=Math.floor(se.image.width*ce),nt=Math.floor(se.image.height*ce);ze.setTexture2D(se,0),K.copyTexSubImage2D(K.TEXTURE_2D,Ee,0,0,z.x,z.y,_e,nt),Te.unbindTexture()},this.copyTextureToTexture=function(z,se,Ee,ce=0){const _e=se.image.width,nt=se.image.height,ft=Oe.convert(Ee.format),_t=Oe.convert(Ee.type);ze.setTexture2D(Ee,0),K.pixelStorei(K.UNPACK_FLIP_Y_WEBGL,Ee.flipY),K.pixelStorei(K.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ee.premultiplyAlpha),K.pixelStorei(K.UNPACK_ALIGNMENT,Ee.unpackAlignment),se.isDataTexture?K.texSubImage2D(K.TEXTURE_2D,ce,z.x,z.y,_e,nt,ft,_t,se.image.data):se.isCompressedTexture?K.compressedTexSubImage2D(K.TEXTURE_2D,ce,z.x,z.y,se.mipmaps[0].width,se.mipmaps[0].height,ft,se.mipmaps[0].data):K.texSubImage2D(K.TEXTURE_2D,ce,z.x,z.y,ft,_t,se.image),ce===0&&Ee.generateMipmaps&&K.generateMipmap(K.TEXTURE_2D),Te.unbindTexture()},this.copyTextureToTexture3D=function(z,se,Ee,ce,_e=0){if(y.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const nt=z.max.x-z.min.x+1,ft=z.max.y-z.min.y+1,_t=z.max.z-z.min.z+1,St=Oe.convert(ce.format),Ut=Oe.convert(ce.type);let gt;if(ce.isData3DTexture)ze.setTexture3D(ce,0),gt=K.TEXTURE_3D;else if(ce.isDataArrayTexture)ze.setTexture2DArray(ce,0),gt=K.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}K.pixelStorei(K.UNPACK_FLIP_Y_WEBGL,ce.flipY),K.pixelStorei(K.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ce.premultiplyAlpha),K.pixelStorei(K.UNPACK_ALIGNMENT,ce.unpackAlignment);const Tt=K.getParameter(K.UNPACK_ROW_LENGTH),Sn=K.getParameter(K.UNPACK_IMAGE_HEIGHT),Bn=K.getParameter(K.UNPACK_SKIP_PIXELS),ji=K.getParameter(K.UNPACK_SKIP_ROWS),hs=K.getParameter(K.UNPACK_SKIP_IMAGES),An=Ee.isCompressedTexture?Ee.mipmaps[0]:Ee.image;K.pixelStorei(K.UNPACK_ROW_LENGTH,An.width),K.pixelStorei(K.UNPACK_IMAGE_HEIGHT,An.height),K.pixelStorei(K.UNPACK_SKIP_PIXELS,z.min.x),K.pixelStorei(K.UNPACK_SKIP_ROWS,z.min.y),K.pixelStorei(K.UNPACK_SKIP_IMAGES,z.min.z),Ee.isDataTexture||Ee.isData3DTexture?K.texSubImage3D(gt,_e,se.x,se.y,se.z,nt,ft,_t,St,Ut,An.data):Ee.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),K.compressedTexSubImage3D(gt,_e,se.x,se.y,se.z,nt,ft,_t,St,An.data)):K.texSubImage3D(gt,_e,se.x,se.y,se.z,nt,ft,_t,St,Ut,An),K.pixelStorei(K.UNPACK_ROW_LENGTH,Tt),K.pixelStorei(K.UNPACK_IMAGE_HEIGHT,Sn),K.pixelStorei(K.UNPACK_SKIP_PIXELS,Bn),K.pixelStorei(K.UNPACK_SKIP_ROWS,ji),K.pixelStorei(K.UNPACK_SKIP_IMAGES,hs),_e===0&&ce.generateMipmaps&&K.generateMipmap(gt),Te.unbindTexture()},this.initTexture=function(z){z.isCubeTexture?ze.setTextureCube(z,0):z.isData3DTexture?ze.setTexture3D(z,0):z.isDataArrayTexture||z.isCompressedArrayTexture?ze.setTexture2DArray(z,0):ze.setTexture2D(z,0),Te.unbindTexture()},this.resetState=function(){w=0,T=0,b=null,Te.reset(),He.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Sa}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===In?zc:eT}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===zc?In:Ko}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class lQ extends uT{}lQ.prototype.isWebGL1Renderer=!0;class Q5{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Fe(e),this.density=n}clone(){return new Q5(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class z5{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new Fe(e),this.near=n,this.far=r}clone(){return new z5(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class ay extends tn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}}class w3{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Ng,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ts()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ts()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ts()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ri=new O;class tu{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Ri.fromBufferAttribute(this,n),Ri.applyMatrix4(e),this.setXYZ(n,Ri.x,Ri.y,Ri.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Ri.fromBufferAttribute(this,n),Ri.applyNormalMatrix(e),this.setXYZ(n,Ri.x,Ri.y,Ri.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Ri.fromBufferAttribute(this,n),Ri.transformDirection(e),this.setXYZ(n,Ri.x,Ri.y,Ri.z);return this}setX(e,n){return this.normalized&&(n=Ft(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Ft(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Ft(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Ft(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=es(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=es(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=es(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=es(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array),i=Ft(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array),i=Ft(i,this.array),s=Ft(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new ln(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new tu(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class hT extends Tr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Fe(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let qf;const z0=new O,Zf=new O,ed=new O,td=new ue,V0=new ue,cQ=new st,X1=new O,W0=new O,J1=new O,sP=new ue,L8=new ue,oP=new ue;class uQ extends tn{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",qf===void 0){qf=new Mt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new w3(n,5);qf.setIndex([0,1,2,0,2,3]),qf.setAttribute("position",new tu(r,3,0,!1)),qf.setAttribute("uv",new tu(r,2,3,!1))}this.geometry=qf,this.material=e!==void 0?e:new hT,this.center=new ue(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Zf.setFromMatrixScale(this.matrixWorld),cQ.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),ed.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Zf.multiplyScalar(-ed.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;Y1(X1.set(-.5,-.5,0),ed,o,Zf,i,s),Y1(W0.set(.5,-.5,0),ed,o,Zf,i,s),Y1(J1.set(.5,.5,0),ed,o,Zf,i,s),sP.set(0,0),L8.set(1,0),oP.set(1,1);let a=e.ray.intersectTriangle(X1,W0,J1,!1,z0);if(a===null&&(Y1(W0.set(-.5,.5,0),ed,o,Zf,i,s),L8.set(0,1),a=e.ray.intersectTriangle(X1,J1,W0,!1,z0),a===null))return;const l=e.ray.origin.distanceTo(z0);l<e.near||l>e.far||n.push({distance:l,point:z0.clone(),uv:Zi.getInterpolation(z0,X1,W0,J1,sP,L8,oP,new ue),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Y1(t,e,n,r,i,s){td.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(V0.x=s*td.x-i*td.y,V0.y=i*td.x+s*td.y):V0.copy(td),t.copy(e),t.x+=V0.x,t.y+=V0.y,t.applyMatrix4(cQ)}const q1=new O,aP=new O;class hQ extends tn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){q1.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(q1);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){q1.setFromMatrixPosition(e.matrixWorld),aP.setFromMatrixPosition(this.matrixWorld);const r=q1.distanceTo(aP)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const lP=new O,cP=new Jt,uP=new Jt,Ace=new O,hP=new st,nd=new O,O8=new yo,fP=new st,F8=new $p;class fT extends fn{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new st,this.bindMatrixInverse=new st,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Zo),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)nd.fromBufferAttribute(n,r),this.applyBoneTransform(r,nd),this.boundingBox.expandByPoint(nd)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new yo),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)nd.fromBufferAttribute(n,r),this.applyBoneTransform(r,nd),this.boundingSphere.expandByPoint(nd)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),O8.copy(this.boundingSphere),O8.applyMatrix4(i),e.ray.intersectsSphere(O8)!==!1&&(fP.copy(i).invert(),F8.copy(e.ray).applyMatrix4(fP),!(this.boundingBox!==null&&F8.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,F8)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Jt,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;cP.fromBufferAttribute(i.attributes.skinIndex,e),uP.fromBufferAttribute(i.attributes.skinWeight,e),lP.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=uP.getComponent(s);if(o!==0){const a=cP.getComponent(s);hP.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(Ace.copy(lP).applyMatrix4(hP),o)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class V5 extends tn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Pa extends Hn{constructor(e=null,n=1,r=1,i,s,o,a,l,c=It,u=It,h,f){super(null,o,a,l,c,u,i,s,h,f),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const dP=new st,vce=new st;class T3{constructor(e=[],n=[]){this.uuid=Ts(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new st)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new st;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:vce;dP.multiplyMatrices(a,n[s]),dP.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new T3(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=XH(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Pa(n,e,e,fr,Ui);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new V5),this.bones.push(o),this.boneInverses.push(new st().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class xp extends ln{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const rd=new st,pP=new st,Z1=[],mP=new Zo,yce=new st,j0=new fn,$0=new yo;class dT extends fn{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new xp(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,yce)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Zo),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,rd),mP.copy(e.boundingBox).applyMatrix4(rd),this.boundingBox.union(mP)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new yo),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,rd),$0.copy(e.boundingSphere).applyMatrix4(rd),this.boundingSphere.union($0)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(j0.geometry=this.geometry,j0.material=this.material,j0.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),$0.copy(this.boundingSphere),$0.applyMatrix4(r),e.ray.intersectsSphere($0)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,rd),pP.multiplyMatrices(r,rd),j0.matrixWorld=pP,j0.raycast(e,Z1);for(let o=0,a=Z1.length;o<a;o++){const l=Z1[o];l.instanceId=s,l.object=this,n.push(l)}Z1.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new xp(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Ii extends Tr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Fe(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const gP=new O,AP=new O,vP=new st,N8=new $p,e2=new yo;class Fl extends tn{constructor(e=new Mt,n=new Ii){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)gP.fromBufferAttribute(n,i-1),AP.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=gP.distanceTo(AP);e.setAttribute("lineDistance",new at(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),e2.copy(r.boundingSphere),e2.applyMatrix4(i),e2.radius+=s,e.ray.intersectsSphere(e2)===!1)return;vP.copy(i).invert(),N8.copy(e.ray).applyMatrix4(vP);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new O,u=new O,h=new O,f=new O,m=this.isLineSegments?2:1,g=r.index,x=r.attributes.position;if(g!==null){const A=Math.max(0,o.start),v=Math.min(g.count,o.start+o.count);for(let y=A,S=v-1;y<S;y+=m){const w=g.getX(y),T=g.getX(y+1);if(c.fromBufferAttribute(x,w),u.fromBufferAttribute(x,T),N8.distanceSqToSegment(c,u,f,h)>l)continue;f.applyMatrix4(this.matrixWorld);const R=e.ray.origin.distanceTo(f);R<e.near||R>e.far||n.push({distance:R,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}else{const A=Math.max(0,o.start),v=Math.min(x.count,o.start+o.count);for(let y=A,S=v-1;y<S;y+=m){if(c.fromBufferAttribute(x,y),u.fromBufferAttribute(x,y+1),N8.distanceSqToSegment(c,u,f,h)>l)continue;f.applyMatrix4(this.matrixWorld);const T=e.ray.origin.distanceTo(f);T<e.near||T>e.far||n.push({distance:T,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const yP=new O,xP=new O;class ea extends Fl{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)yP.fromBufferAttribute(n,i),xP.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+yP.distanceTo(xP);e.setAttribute("lineDistance",new at(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class pT extends Fl{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class W5 extends Tr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Fe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const EP=new st,W4=new $p,t2=new yo,n2=new O;class j5 extends tn{constructor(e=new Mt,n=new W5){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),t2.copy(r.boundingSphere),t2.applyMatrix4(i),t2.radius+=s,e.ray.intersectsSphere(t2)===!1)return;EP.copy(i).invert(),W4.copy(e.ray).applyMatrix4(EP);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,h=r.attributes.position;if(c!==null){const f=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let g=f,E=m;g<E;g++){const x=c.getX(g);n2.fromBufferAttribute(h,x),_P(n2,x,l,i,e,n,this)}}else{const f=Math.max(0,o.start),m=Math.min(h.count,o.start+o.count);for(let g=f,E=m;g<E;g++)n2.fromBufferAttribute(h,g),_P(n2,g,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function _P(t,e,n,r,i,s,o){const a=W4.distanceSqToPoint(t);if(a<n){const l=new O;W4.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class xce extends Hn{constructor(e,n,r,i,s,o,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:yn,this.magFilter=s!==void 0?s:yn,this.generateMipmaps=!1;const u=this;function h(){u.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Ece extends Hn{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=It,this.minFilter=It,this.generateMipmaps=!1,this.needsUpdate=!0}}class nu extends Hn{constructor(e,n,r,i,s,o,a,l,c,u,h,f){super(null,o,a,l,c,u,i,s,h,f),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}let _ce=class extends nu{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Yn}};class Sce extends nu{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,Ol),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Cce extends Hn{constructor(e,n,r,i,s,o,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class ta{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const u=r[i],f=r[i+1]-u,m=(o-u)/f;return(i+m)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new ue:new O);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new O,i=[],s=[],o=[],a=new O,l=new st;for(let m=0;m<=e;m++){const g=m/e;i[m]=this.getTangentAt(g,new O)}s[0]=new O,o[0]=new O;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),h=Math.abs(i[0].y),f=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),h<=c&&(c=h,r.set(0,1,0)),f<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(cr(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,g))}o[m].crossVectors(i[m],s[m])}if(n===!0){let m=Math.acos(cr(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(i[g],m*g)),o[g].crossVectors(i[g],s[g])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class $5 extends ta{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const r=n||new ue,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),h=Math.sin(this.aRotation),f=l-this.aX,m=c-this.aY;l=f*u-m*h+this.aX,c=f*h+m*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class fQ extends $5{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function mT(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,h){let f=(o-s)/c-(a-s)/(c+u)+(a-o)/u,m=(a-o)/u-(l-o)/(u+h)+(l-a)/h;f*=u,m*=u,i(o,a,f,m)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const r2=new O,k8=new mT,U8=new mT,G8=new mT;class dQ extends ta{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new O){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%s]:(r2.subVectors(i[0],i[1]).add(i[0]),c=r2);const h=i[a%s],f=i[(a+1)%s];if(this.closed||a+2<s?u=i[(a+2)%s]:(r2.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=r2),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let g=Math.pow(c.distanceToSquared(h),m),E=Math.pow(h.distanceToSquared(f),m),x=Math.pow(f.distanceToSquared(u),m);E<1e-4&&(E=1),g<1e-4&&(g=E),x<1e-4&&(x=E),k8.initNonuniformCatmullRom(c.x,h.x,f.x,u.x,g,E,x),U8.initNonuniformCatmullRom(c.y,h.y,f.y,u.y,g,E,x),G8.initNonuniformCatmullRom(c.z,h.z,f.z,u.z,g,E,x)}else this.curveType==="catmullrom"&&(k8.initCatmullRom(c.x,h.x,f.x,u.x,this.tension),U8.initCatmullRom(c.y,h.y,f.y,u.y,this.tension),G8.initCatmullRom(c.z,h.z,f.z,u.z,this.tension));return r.set(k8.calc(l),U8.calc(l),G8.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new O().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function SP(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function wce(t,e){const n=1-t;return n*n*e}function Tce(t,e){return 2*(1-t)*t*e}function Ice(t,e){return t*t*e}function Vm(t,e,n,r){return wce(t,e)+Tce(t,n)+Ice(t,r)}function bce(t,e){const n=1-t;return n*n*n*e}function Mce(t,e){const n=1-t;return 3*n*n*t*e}function Rce(t,e){return 3*(1-t)*t*t*e}function Bce(t,e){return t*t*t*e}function Wm(t,e,n,r,i){return bce(t,e)+Mce(t,n)+Rce(t,r)+Bce(t,i)}class gT extends ta{constructor(e=new ue,n=new ue,r=new ue,i=new ue){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new ue){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Wm(e,i.x,s.x,o.x,a.x),Wm(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class pQ extends ta{constructor(e=new O,n=new O,r=new O,i=new O){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new O){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Wm(e,i.x,s.x,o.x,a.x),Wm(e,i.y,s.y,o.y,a.y),Wm(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class K5 extends ta{constructor(e=new ue,n=new ue){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new ue){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ue){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class mQ extends ta{constructor(e=new O,n=new O){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new O){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new O){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class AT extends ta{constructor(e=new ue,n=new ue,r=new ue){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new ue){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(Vm(e,i.x,s.x,o.x),Vm(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class vT extends ta{constructor(e=new O,n=new O,r=new O){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new O){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(Vm(e,i.x,s.x,o.x),Vm(e,i.y,s.y,o.y),Vm(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class yT extends ta{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new ue){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],h=i[o>i.length-3?i.length-1:o+2];return r.set(SP(a,l.x,c.x,u.x,h.x),SP(a,l.y,c.y,u.y,h.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new ue().fromArray(i))}return this}}var xT=Object.freeze({__proto__:null,ArcCurve:fQ,CatmullRomCurve3:dQ,CubicBezierCurve:gT,CubicBezierCurve3:pQ,EllipseCurve:$5,LineCurve:K5,LineCurve3:mQ,QuadraticBezierCurve:AT,QuadraticBezierCurve3:vT,SplineCurve:yT});class gQ extends ta{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new K5(n,e))}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(n.push(u),r=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new xT[i.type]().fromJSON(i))}return this}}let Gg=class extends gQ{constructor(e){super(),this.type="Path",this.currentPoint=new ue,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new K5(this.currentPoint.clone(),new ue(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new AT(this.currentPoint.clone(),new ue(e,n),new ue(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new gT(this.currentPoint.clone(),new ue(e,n),new ue(r,i),new ue(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new yT(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const c=new $5(e,n,r,i,s,o,a,l);if(this.curves.length>0){const h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class I3 extends Mt{constructor(e=[new ue(0,-.5),new ue(.5,0),new ue(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=cr(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/n,h=new O,f=new ue,m=new O,g=new O,E=new O;let x=0,A=0;for(let v=0;v<=e.length-1;v++)switch(v){case 0:x=e[v+1].x-e[v].x,A=e[v+1].y-e[v].y,m.x=A*1,m.y=-x,m.z=A*0,E.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(E.x,E.y,E.z);break;default:x=e[v+1].x-e[v].x,A=e[v+1].y-e[v].y,m.x=A*1,m.y=-x,m.z=A*0,g.copy(m),m.x+=E.x,m.y+=E.y,m.z+=E.z,m.normalize(),l.push(m.x,m.y,m.z),E.copy(g)}for(let v=0;v<=n;v++){const y=r+v*u*i,S=Math.sin(y),w=Math.cos(y);for(let T=0;T<=e.length-1;T++){h.x=e[T].x*S,h.y=e[T].y,h.z=e[T].x*w,o.push(h.x,h.y,h.z),f.x=v/n,f.y=T/(e.length-1),a.push(f.x,f.y);const b=l[3*T+0]*S,R=l[3*T+1],M=l[3*T+0]*w;c.push(b,R,M)}}for(let v=0;v<n;v++)for(let y=0;y<e.length-1;y++){const S=y+v*e.length,w=S,T=S+e.length,b=S+e.length+1,R=S+1;s.push(w,T,R),s.push(b,R,T)}this.setIndex(s),this.setAttribute("position",new at(o,3)),this.setAttribute("uv",new at(a,2)),this.setAttribute("normal",new at(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new I3(e.points,e.segments,e.phiStart,e.phiLength)}}class X5 extends I3{constructor(e=1,n=1,r=4,i=8){const s=new Gg;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new X5(e.radius,e.length,e.capSegments,e.radialSegments)}}class J5 extends Mt{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],c=new O,u=new ue;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,f=3;h<=n;h++,f+=3){const m=r+h/n*i;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[f]/e+1)/2,u.y=(o[f+1]/e+1)/2,l.push(u.x,u.y)}for(let h=1;h<=n;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new at(o,3)),this.setAttribute("normal",new at(a,3)),this.setAttribute("uv",new at(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new J5(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Yp extends Mt{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],h=[],f=[],m=[];let g=0;const E=[],x=r/2;let A=0;v(),o===!1&&(e>0&&y(!0),n>0&&y(!1)),this.setIndex(u),this.setAttribute("position",new at(h,3)),this.setAttribute("normal",new at(f,3)),this.setAttribute("uv",new at(m,2));function v(){const S=new O,w=new O;let T=0;const b=(n-e)/r;for(let R=0;R<=s;R++){const M=[],B=R/s,L=B*(n-e)+e;for(let G=0;G<=i;G++){const F=G/i,$=F*l+a,W=Math.sin($),Z=Math.cos($);w.x=L*W,w.y=-B*r+x,w.z=L*Z,h.push(w.x,w.y,w.z),S.set(W,b,Z).normalize(),f.push(S.x,S.y,S.z),m.push(F,1-B),M.push(g++)}E.push(M)}for(let R=0;R<i;R++)for(let M=0;M<s;M++){const B=E[M][R],L=E[M+1][R],G=E[M+1][R+1],F=E[M][R+1];u.push(B,L,F),u.push(L,G,F),T+=6}c.addGroup(A,T,0),A+=T}function y(S){const w=g,T=new ue,b=new O;let R=0;const M=S===!0?e:n,B=S===!0?1:-1;for(let G=1;G<=i;G++)h.push(0,x*B,0),f.push(0,B,0),m.push(.5,.5),g++;const L=g;for(let G=0;G<=i;G++){const $=G/i*l+a,W=Math.cos($),Z=Math.sin($);b.x=M*Z,b.y=x*B,b.z=M*W,h.push(b.x,b.y,b.z),f.push(0,B,0),T.x=W*.5+.5,T.y=Z*.5*B+.5,m.push(T.x,T.y),g++}for(let G=0;G<i;G++){const F=w+G,$=L+G;S===!0?u.push($,$+1,F):u.push($+1,$,F),R+=3}c.addGroup(A,R,S===!0?1:2),A+=R}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Yp(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Y5 extends Yp{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Y5(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class gu extends Mt{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),c(r),u(),this.setAttribute("position",new at(s,3)),this.setAttribute("normal",new at(s.slice(),3)),this.setAttribute("uv",new at(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(v){const y=new O,S=new O,w=new O;for(let T=0;T<n.length;T+=3)m(n[T+0],y),m(n[T+1],S),m(n[T+2],w),l(y,S,w,v)}function l(v,y,S,w){const T=w+1,b=[];for(let R=0;R<=T;R++){b[R]=[];const M=v.clone().lerp(S,R/T),B=y.clone().lerp(S,R/T),L=T-R;for(let G=0;G<=L;G++)G===0&&R===T?b[R][G]=M:b[R][G]=M.clone().lerp(B,G/L)}for(let R=0;R<T;R++)for(let M=0;M<2*(T-R)-1;M++){const B=Math.floor(M/2);M%2===0?(f(b[R][B+1]),f(b[R+1][B]),f(b[R][B])):(f(b[R][B+1]),f(b[R+1][B+1]),f(b[R+1][B]))}}function c(v){const y=new O;for(let S=0;S<s.length;S+=3)y.x=s[S+0],y.y=s[S+1],y.z=s[S+2],y.normalize().multiplyScalar(v),s[S+0]=y.x,s[S+1]=y.y,s[S+2]=y.z}function u(){const v=new O;for(let y=0;y<s.length;y+=3){v.x=s[y+0],v.y=s[y+1],v.z=s[y+2];const S=x(v)/2/Math.PI+.5,w=A(v)/Math.PI+.5;o.push(S,1-w)}g(),h()}function h(){for(let v=0;v<o.length;v+=6){const y=o[v+0],S=o[v+2],w=o[v+4],T=Math.max(y,S,w),b=Math.min(y,S,w);T>.9&&b<.1&&(y<.2&&(o[v+0]+=1),S<.2&&(o[v+2]+=1),w<.2&&(o[v+4]+=1))}}function f(v){s.push(v.x,v.y,v.z)}function m(v,y){const S=v*3;y.x=e[S+0],y.y=e[S+1],y.z=e[S+2]}function g(){const v=new O,y=new O,S=new O,w=new O,T=new ue,b=new ue,R=new ue;for(let M=0,B=0;M<s.length;M+=9,B+=6){v.set(s[M+0],s[M+1],s[M+2]),y.set(s[M+3],s[M+4],s[M+5]),S.set(s[M+6],s[M+7],s[M+8]),T.set(o[B+0],o[B+1]),b.set(o[B+2],o[B+3]),R.set(o[B+4],o[B+5]),w.copy(v).add(y).add(S).divideScalar(3);const L=x(w);E(T,B+0,v,L),E(b,B+2,y,L),E(R,B+4,S,L)}}function E(v,y,S,w){w<0&&v.x===1&&(o[y]=v.x-1),S.x===0&&S.z===0&&(o[y]=w/2/Math.PI+.5)}function x(v){return Math.atan2(v.z,-v.x)}function A(v){return Math.atan2(-v.y,Math.sqrt(v.x*v.x+v.z*v.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gu(e.vertices,e.indices,e.radius,e.details)}}class q5 extends gu{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new q5(e.radius,e.detail)}}const i2=new O,s2=new O,H8=new O,o2=new Zi;class AQ extends Mt{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(Ih*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],h=new Array(3),f={},m=[];for(let g=0;g<l;g+=3){o?(c[0]=o.getX(g),c[1]=o.getX(g+1),c[2]=o.getX(g+2)):(c[0]=g,c[1]=g+1,c[2]=g+2);const{a:E,b:x,c:A}=o2;if(E.fromBufferAttribute(a,c[0]),x.fromBufferAttribute(a,c[1]),A.fromBufferAttribute(a,c[2]),o2.getNormal(H8),h[0]=`${Math.round(E.x*i)},${Math.round(E.y*i)},${Math.round(E.z*i)}`,h[1]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,h[2]=`${Math.round(A.x*i)},${Math.round(A.y*i)},${Math.round(A.z*i)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let v=0;v<3;v++){const y=(v+1)%3,S=h[v],w=h[y],T=o2[u[v]],b=o2[u[y]],R=`${S}_${w}`,M=`${w}_${S}`;M in f&&f[M]?(H8.dot(f[M].normal)<=s&&(m.push(T.x,T.y,T.z),m.push(b.x,b.y,b.z)),f[M]=null):R in f||(f[R]={index0:c[v],index1:c[y],normal:H8.clone()})}}for(const g in f)if(f[g]){const{index0:E,index1:x}=f[g];i2.fromBufferAttribute(a,E),s2.fromBufferAttribute(a,x),m.push(i2.x,i2.y,i2.z),m.push(s2.x,s2.y,s2.z)}this.setAttribute("position",new at(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Mh extends Gg{constructor(e){super(e),this.uuid=Ts(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new Gg().fromJSON(i))}return this}}const Pce={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=vQ(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,h,f,m;if(r&&(s=Nce(t,e,s,n)),t.length>80*n){a=c=t[0],l=u=t[1];for(let g=n;g<i;g+=n)h=t[g],f=t[g+1],h<a&&(a=h),f<l&&(l=f),h>c&&(c=h),f>u&&(u=f);m=Math.max(c-a,u-l),m=m!==0?32767/m:0}return Hg(s,o,n,a,l,m,0),o}};function vQ(t,e,n,r,i){let s,o;if(i===Kce(t,e,n,r)>0)for(s=e;s<n;s+=r)o=CP(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=CP(s,t[s],t[s+1],o);return o&&Z5(o,o.next)&&(zg(o),o=o.next),o}function Gh(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(Z5(n,n.next)||Zn(n.prev,n,n.next)===0)){if(zg(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Hg(t,e,n,r,i,s,o){if(!t)return;!o&&s&&Qce(t,r,i,s);let a=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,s?Lce(t,r,i,s):Dce(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),zg(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=Oce(Gh(t),e,n),Hg(t,e,n,r,i,s,2)):o===2&&Fce(t,e,n,r,i,s):Hg(Gh(t),e,n,r,i,s,1);break}}}function Dce(t){const e=t.prev,n=t,r=t.next;if(Zn(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,c=r.y,u=i<s?i<o?i:o:s<o?s:o,h=a<l?a<c?a:c:l<c?l:c,f=i>s?i>o?i:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let g=r.next;for(;g!==e;){if(g.x>=u&&g.x<=f&&g.y>=h&&g.y<=m&&Bd(i,a,s,l,o,c,g.x,g.y)&&Zn(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function Lce(t,e,n,r){const i=t.prev,s=t,o=t.next;if(Zn(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,u=i.y,h=s.y,f=o.y,m=a<l?a<c?a:c:l<c?l:c,g=u<h?u<f?u:f:h<f?h:f,E=a>l?a>c?a:c:l>c?l:c,x=u>h?u>f?u:f:h>f?h:f,A=j4(m,g,e,n,r),v=j4(E,x,e,n,r);let y=t.prevZ,S=t.nextZ;for(;y&&y.z>=A&&S&&S.z<=v;){if(y.x>=m&&y.x<=E&&y.y>=g&&y.y<=x&&y!==i&&y!==o&&Bd(a,u,l,h,c,f,y.x,y.y)&&Zn(y.prev,y,y.next)>=0||(y=y.prevZ,S.x>=m&&S.x<=E&&S.y>=g&&S.y<=x&&S!==i&&S!==o&&Bd(a,u,l,h,c,f,S.x,S.y)&&Zn(S.prev,S,S.next)>=0))return!1;S=S.nextZ}for(;y&&y.z>=A;){if(y.x>=m&&y.x<=E&&y.y>=g&&y.y<=x&&y!==i&&y!==o&&Bd(a,u,l,h,c,f,y.x,y.y)&&Zn(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;S&&S.z<=v;){if(S.x>=m&&S.x<=E&&S.y>=g&&S.y<=x&&S!==i&&S!==o&&Bd(a,u,l,h,c,f,S.x,S.y)&&Zn(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function Oce(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!Z5(i,s)&&yQ(i,r,r.next,s)&&Qg(i,s)&&Qg(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),zg(r),zg(r.next),r=t=s),r=r.next}while(r!==t);return Gh(r)}function Fce(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&Wce(o,a)){let l=xQ(o,a);o=Gh(o,o.next),l=Gh(l,l.next),Hg(o,e,n,r,i,s,0),Hg(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function Nce(t,e,n,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,c=vQ(t,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(Vce(c));for(i.sort(kce),s=0;s<i.length;s++)n=Uce(i[s],n);return n}function kce(t,e){return t.x-e.x}function Uce(t,e){const n=Gce(t,e);if(!n)return e;const r=xQ(n,t);return Gh(r,r.next),Gh(n,n.next)}function Gce(t,e){let n=e,r=-1/0,i;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const f=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=s&&f>r&&(r=f,i=n.x<n.next.x?n:n.next,f===s))return i}n=n.next}while(n!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let u=1/0,h;n=i;do s>=n.x&&n.x>=l&&s!==n.x&&Bd(o<c?s:r,o,l,c,o<c?r:s,o,n.x,n.y)&&(h=Math.abs(o-n.y)/(s-n.x),Qg(n,t)&&(h<u||h===u&&(n.x>i.x||n.x===i.x&&Hce(i,n)))&&(i=n,u=h)),n=n.next;while(n!==a);return i}function Hce(t,e){return Zn(t.prev,t,e.prev)<0&&Zn(e.next,t,t.next)<0}function Qce(t,e,n,r){let i=t;do i.z===0&&(i.z=j4(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,zce(i)}function zce(t){let e,n,r,i,s,o,a,l,c=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,c*=2}while(o>1);return t}function j4(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Vce(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Bd(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function Wce(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!jce(t,e)&&(Qg(t,e)&&Qg(e,t)&&$ce(t,e)&&(Zn(t.prev,t,e.prev)||Zn(t,e.prev,e))||Z5(t,e)&&Zn(t.prev,t,t.next)>0&&Zn(e.prev,e,e.next)>0)}function Zn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Z5(t,e){return t.x===e.x&&t.y===e.y}function yQ(t,e,n,r){const i=l2(Zn(t,e,n)),s=l2(Zn(t,e,r)),o=l2(Zn(n,r,t)),a=l2(Zn(n,r,e));return!!(i!==s&&o!==a||i===0&&a2(t,n,e)||s===0&&a2(t,r,e)||o===0&&a2(n,t,r)||a===0&&a2(n,e,r))}function a2(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function l2(t){return t>0?1:t<0?-1:0}function jce(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&yQ(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Qg(t,e){return Zn(t.prev,t,t.next)<0?Zn(t,e,t.next)>=0&&Zn(t,t.prev,e)>=0:Zn(t,e,t.prev)<0||Zn(t,t.next,e)<0}function $ce(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function xQ(t,e){const n=new $4(t.i,t.x,t.y),r=new $4(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function CP(t,e,n,r){const i=new $4(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function zg(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function $4(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Kce(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class Da{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Da.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];wP(e),TP(r,e);let o=e.length;n.forEach(wP);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,TP(r,n[l]);const a=Pce.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function wP(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function TP(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class e6 extends Mt{constructor(e=new Mh([new ue(.5,.5),new ue(-.5,.5),new ue(-.5,-.5),new ue(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new at(i,3)),this.setAttribute("uv",new at(s,2)),this.computeVertexNormals();function o(a){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,h=n.depth!==void 0?n.depth:1;let f=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,g=n.bevelSize!==void 0?n.bevelSize:m-.1,E=n.bevelOffset!==void 0?n.bevelOffset:0,x=n.bevelSegments!==void 0?n.bevelSegments:3;const A=n.extrudePath,v=n.UVGenerator!==void 0?n.UVGenerator:Xce;let y,S=!1,w,T,b,R;A&&(y=A.getSpacedPoints(u),S=!0,f=!1,w=A.computeFrenetFrames(u,!1),T=new O,b=new O,R=new O),f||(x=0,m=0,g=0,E=0);const M=a.extractPoints(c);let B=M.shape;const L=M.holes;if(!Da.isClockWise(B)){B=B.reverse();for(let K=0,Se=L.length;K<Se;K++){const ve=L[K];Da.isClockWise(ve)&&(L[K]=ve.reverse())}}const F=Da.triangulateShape(B,L),$=B;for(let K=0,Se=L.length;K<Se;K++){const ve=L[K];B=B.concat(ve)}function W(K,Se,ve){return Se||console.error("THREE.ExtrudeGeometry: vec does not exist"),K.clone().addScaledVector(Se,ve)}const Z=B.length,q=F.length;function k(K,Se,ve){let Be,Te,Ye;const Qe=K.x-Se.x,ze=K.y-Se.y,lt=ve.x-K.x,Et=ve.y-K.y,ie=Qe*Qe+ze*ze,N=Qe*Et-ze*lt;if(Math.abs(N)>Number.EPSILON){const D=Math.sqrt(ie),ee=Math.sqrt(lt*lt+Et*Et),pe=Se.x-ze/D,fe=Se.y+Qe/D,Ie=ve.x-Et/ee,We=ve.y+lt/ee,De=((Ie-pe)*Et-(We-fe)*lt)/(Qe*Et-ze*lt);Be=pe+Qe*De-K.x,Te=fe+ze*De-K.y;const oe=Be*Be+Te*Te;if(oe<=2)return new ue(Be,Te);Ye=Math.sqrt(oe/2)}else{let D=!1;Qe>Number.EPSILON?lt>Number.EPSILON&&(D=!0):Qe<-Number.EPSILON?lt<-Number.EPSILON&&(D=!0):Math.sign(ze)===Math.sign(Et)&&(D=!0),D?(Be=-ze,Te=Qe,Ye=Math.sqrt(ie)):(Be=Qe,Te=ze,Ye=Math.sqrt(ie/2))}return new ue(Be/Ye,Te/Ye)}const J=[];for(let K=0,Se=$.length,ve=Se-1,Be=K+1;K<Se;K++,ve++,Be++)ve===Se&&(ve=0),Be===Se&&(Be=0),J[K]=k($[K],$[ve],$[Be]);const V=[];let H,X=J.concat();for(let K=0,Se=L.length;K<Se;K++){const ve=L[K];H=[];for(let Be=0,Te=ve.length,Ye=Te-1,Qe=Be+1;Be<Te;Be++,Ye++,Qe++)Ye===Te&&(Ye=0),Qe===Te&&(Qe=0),H[Be]=k(ve[Be],ve[Ye],ve[Qe]);V.push(H),X=X.concat(H)}for(let K=0;K<x;K++){const Se=K/x,ve=m*Math.cos(Se*Math.PI/2),Be=g*Math.sin(Se*Math.PI/2)+E;for(let Te=0,Ye=$.length;Te<Ye;Te++){const Qe=W($[Te],J[Te],Be);Pe(Qe.x,Qe.y,-ve)}for(let Te=0,Ye=L.length;Te<Ye;Te++){const Qe=L[Te];H=V[Te];for(let ze=0,lt=Qe.length;ze<lt;ze++){const Et=W(Qe[ze],H[ze],Be);Pe(Et.x,Et.y,-ve)}}}const he=g+E;for(let K=0;K<Z;K++){const Se=f?W(B[K],X[K],he):B[K];S?(b.copy(w.normals[0]).multiplyScalar(Se.x),T.copy(w.binormals[0]).multiplyScalar(Se.y),R.copy(y[0]).add(b).add(T),Pe(R.x,R.y,R.z)):Pe(Se.x,Se.y,0)}for(let K=1;K<=u;K++)for(let Se=0;Se<Z;Se++){const ve=f?W(B[Se],X[Se],he):B[Se];S?(b.copy(w.normals[K]).multiplyScalar(ve.x),T.copy(w.binormals[K]).multiplyScalar(ve.y),R.copy(y[K]).add(b).add(T),Pe(R.x,R.y,R.z)):Pe(ve.x,ve.y,h/u*K)}for(let K=x-1;K>=0;K--){const Se=K/x,ve=m*Math.cos(Se*Math.PI/2),Be=g*Math.sin(Se*Math.PI/2)+E;for(let Te=0,Ye=$.length;Te<Ye;Te++){const Qe=W($[Te],J[Te],Be);Pe(Qe.x,Qe.y,h+ve)}for(let Te=0,Ye=L.length;Te<Ye;Te++){const Qe=L[Te];H=V[Te];for(let ze=0,lt=Qe.length;ze<lt;ze++){const Et=W(Qe[ze],H[ze],Be);S?Pe(Et.x,Et.y+y[u-1].y,y[u-1].x+ve):Pe(Et.x,Et.y,h+ve)}}}ge(),Ce();function ge(){const K=i.length/3;if(f){let Se=0,ve=Z*Se;for(let Be=0;Be<q;Be++){const Te=F[Be];ke(Te[2]+ve,Te[1]+ve,Te[0]+ve)}Se=u+x*2,ve=Z*Se;for(let Be=0;Be<q;Be++){const Te=F[Be];ke(Te[0]+ve,Te[1]+ve,Te[2]+ve)}}else{for(let Se=0;Se<q;Se++){const ve=F[Se];ke(ve[2],ve[1],ve[0])}for(let Se=0;Se<q;Se++){const ve=F[Se];ke(ve[0]+Z*u,ve[1]+Z*u,ve[2]+Z*u)}}r.addGroup(K,i.length/3-K,0)}function Ce(){const K=i.length/3;let Se=0;be($,Se),Se+=$.length;for(let ve=0,Be=L.length;ve<Be;ve++){const Te=L[ve];be(Te,Se),Se+=Te.length}r.addGroup(K,i.length/3-K,1)}function be(K,Se){let ve=K.length;for(;--ve>=0;){const Be=ve;let Te=ve-1;Te<0&&(Te=K.length-1);for(let Ye=0,Qe=u+x*2;Ye<Qe;Ye++){const ze=Z*Ye,lt=Z*(Ye+1),Et=Se+Be+ze,ie=Se+Te+ze,N=Se+Te+lt,D=Se+Be+lt;Xe(Et,ie,N,D)}}}function Pe(K,Se,ve){l.push(K),l.push(Se),l.push(ve)}function ke(K,Se,ve){Je(K),Je(Se),Je(ve);const Be=i.length/3,Te=v.generateTopUV(r,i,Be-3,Be-2,Be-1);we(Te[0]),we(Te[1]),we(Te[2])}function Xe(K,Se,ve,Be){Je(K),Je(Se),Je(Be),Je(Se),Je(ve),Je(Be);const Te=i.length/3,Ye=v.generateSideWallUV(r,i,Te-6,Te-3,Te-2,Te-1);we(Ye[0]),we(Ye[1]),we(Ye[3]),we(Ye[1]),we(Ye[2]),we(Ye[3])}function Je(K){i.push(l[K*3+0]),i.push(l[K*3+1]),i.push(l[K*3+2])}function we(K){s.push(K.x),s.push(K.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return Jce(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new xT[i.type]().fromJSON(i)),new e6(r,e.options)}}const Xce={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new ue(s,o),new ue(a,l),new ue(c,u)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],c=e[r*3],u=e[r*3+1],h=e[r*3+2],f=e[i*3],m=e[i*3+1],g=e[i*3+2],E=e[s*3],x=e[s*3+1],A=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new ue(o,1-l),new ue(c,1-h),new ue(f,1-g),new ue(E,1-A)]:[new ue(a,1-l),new ue(u,1-h),new ue(m,1-g),new ue(x,1-A)]}};function Jce(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class t6 extends gu{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new t6(e.radius,e.detail)}}class b3 extends gu{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new b3(e.radius,e.detail)}}class n6 extends Mt{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let h=e;const f=(n-e)/i,m=new O,g=new ue;for(let E=0;E<=i;E++){for(let x=0;x<=r;x++){const A=s+x/r*o;m.x=h*Math.cos(A),m.y=h*Math.sin(A),l.push(m.x,m.y,m.z),c.push(0,0,1),g.x=(m.x/n+1)/2,g.y=(m.y/n+1)/2,u.push(g.x,g.y)}h+=f}for(let E=0;E<i;E++){const x=E*(r+1);for(let A=0;A<r;A++){const v=A+x,y=v,S=v+r+1,w=v+r+2,T=v+1;a.push(y,S,T),a.push(S,w,T)}}this.setIndex(a),this.setAttribute("position",new at(l,3)),this.setAttribute("normal",new at(c,3)),this.setAttribute("uv",new at(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new n6(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class r6 extends Mt{constructor(e=new Mh([new ue(0,.5),new ue(-.5,-.5),new ue(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new at(i,3)),this.setAttribute("normal",new at(s,3)),this.setAttribute("uv",new at(o,2));function c(u){const h=i.length/3,f=u.extractPoints(n);let m=f.shape;const g=f.holes;Da.isClockWise(m)===!1&&(m=m.reverse());for(let x=0,A=g.length;x<A;x++){const v=g[x];Da.isClockWise(v)===!0&&(g[x]=v.reverse())}const E=Da.triangulateShape(m,g);for(let x=0,A=g.length;x<A;x++){const v=g[x];m=m.concat(v)}for(let x=0,A=m.length;x<A;x++){const v=m[x];i.push(v.x,v.y,0),s.push(0,0,1),o.push(v.x,v.y)}for(let x=0,A=E.length;x<A;x++){const v=E[x],y=v[0]+h,S=v[1]+h,w=v[2]+h;r.push(y,S,w),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return Yce(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new r6(r,e.curveSegments)}}function Yce(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class M3 extends Mt{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const u=[],h=new O,f=new O,m=[],g=[],E=[],x=[];for(let A=0;A<=r;A++){const v=[],y=A/r;let S=0;A===0&&o===0?S=.5/n:A===r&&l===Math.PI&&(S=-.5/n);for(let w=0;w<=n;w++){const T=w/n;h.x=-e*Math.cos(i+T*s)*Math.sin(o+y*a),h.y=e*Math.cos(o+y*a),h.z=e*Math.sin(i+T*s)*Math.sin(o+y*a),g.push(h.x,h.y,h.z),f.copy(h).normalize(),E.push(f.x,f.y,f.z),x.push(T+S,1-y),v.push(c++)}u.push(v)}for(let A=0;A<r;A++)for(let v=0;v<n;v++){const y=u[A][v+1],S=u[A][v],w=u[A+1][v],T=u[A+1][v+1];(A!==0||o>0)&&m.push(y,S,T),(A!==r-1||l<Math.PI)&&m.push(S,w,T)}this.setIndex(m),this.setAttribute("position",new at(g,3)),this.setAttribute("normal",new at(E,3)),this.setAttribute("uv",new at(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new M3(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class i6 extends gu{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new i6(e.radius,e.detail)}}class s6 extends Mt{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],u=new O,h=new O,f=new O;for(let m=0;m<=r;m++)for(let g=0;g<=i;g++){const E=g/i*s,x=m/r*Math.PI*2;h.x=(e+n*Math.cos(x))*Math.cos(E),h.y=(e+n*Math.cos(x))*Math.sin(E),h.z=n*Math.sin(x),a.push(h.x,h.y,h.z),u.x=e*Math.cos(E),u.y=e*Math.sin(E),f.subVectors(h,u).normalize(),l.push(f.x,f.y,f.z),c.push(g/i),c.push(m/r)}for(let m=1;m<=r;m++)for(let g=1;g<=i;g++){const E=(i+1)*m+g-1,x=(i+1)*(m-1)+g-1,A=(i+1)*(m-1)+g,v=(i+1)*m+g;o.push(E,x,v),o.push(x,A,v)}this.setIndex(o),this.setAttribute("position",new at(a,3)),this.setAttribute("normal",new at(l,3)),this.setAttribute("uv",new at(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new s6(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class o6 extends Mt{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],h=new O,f=new O,m=new O,g=new O,E=new O,x=new O,A=new O;for(let y=0;y<=r;++y){const S=y/r*s*Math.PI*2;v(S,s,o,e,m),v(S+.01,s,o,e,g),x.subVectors(g,m),A.addVectors(g,m),E.crossVectors(x,A),A.crossVectors(E,x),E.normalize(),A.normalize();for(let w=0;w<=i;++w){const T=w/i*Math.PI*2,b=-n*Math.cos(T),R=n*Math.sin(T);h.x=m.x+(b*A.x+R*E.x),h.y=m.y+(b*A.y+R*E.y),h.z=m.z+(b*A.z+R*E.z),l.push(h.x,h.y,h.z),f.subVectors(h,m).normalize(),c.push(f.x,f.y,f.z),u.push(y/r),u.push(w/i)}}for(let y=1;y<=r;y++)for(let S=1;S<=i;S++){const w=(i+1)*(y-1)+(S-1),T=(i+1)*y+(S-1),b=(i+1)*y+S,R=(i+1)*(y-1)+S;a.push(w,T,R),a.push(T,b,R)}this.setIndex(a),this.setAttribute("position",new at(l,3)),this.setAttribute("normal",new at(c,3)),this.setAttribute("uv",new at(u,2));function v(y,S,w,T,b){const R=Math.cos(y),M=Math.sin(y),B=w/S*y,L=Math.cos(B);b.x=T*(2+L)*.5*R,b.y=T*(2+L)*M*.5,b.z=T*Math.sin(B)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new o6(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class a6 extends Mt{constructor(e=new vT(new O(-1,-1,0),new O(-1,1,0),new O(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new O,l=new O,c=new ue;let u=new O;const h=[],f=[],m=[],g=[];E(),this.setIndex(g),this.setAttribute("position",new at(h,3)),this.setAttribute("normal",new at(f,3)),this.setAttribute("uv",new at(m,2));function E(){for(let y=0;y<n;y++)x(y);x(s===!1?n:0),v(),A()}function x(y){u=e.getPointAt(y/n,u);const S=o.normals[y],w=o.binormals[y];for(let T=0;T<=i;T++){const b=T/i*Math.PI*2,R=Math.sin(b),M=-Math.cos(b);l.x=M*S.x+R*w.x,l.y=M*S.y+R*w.y,l.z=M*S.z+R*w.z,l.normalize(),f.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,h.push(a.x,a.y,a.z)}}function A(){for(let y=1;y<=n;y++)for(let S=1;S<=i;S++){const w=(i+1)*(y-1)+(S-1),T=(i+1)*y+(S-1),b=(i+1)*y+S,R=(i+1)*(y-1)+S;g.push(w,T,R),g.push(T,b,R)}}function v(){for(let y=0;y<=n;y++)for(let S=0;S<=i;S++)c.x=y/n,c.y=S/i,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new a6(new xT[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class EQ extends Mt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new O,s=new O;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const h=l[c],f=h.start,m=h.count;for(let g=f,E=f+m;g<E;g+=3)for(let x=0;x<3;x++){const A=a.getX(g+x),v=a.getX(g+(x+1)%3);i.fromBufferAttribute(o,A),s.fromBufferAttribute(o,v),IP(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,h=3*a+(c+1)%3;i.fromBufferAttribute(o,u),s.fromBufferAttribute(o,h),IP(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new at(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function IP(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var bP=Object.freeze({__proto__:null,BoxGeometry:mu,CapsuleGeometry:X5,CircleGeometry:J5,ConeGeometry:Y5,CylinderGeometry:Yp,DodecahedronGeometry:q5,EdgesGeometry:AQ,ExtrudeGeometry:e6,IcosahedronGeometry:t6,LatheGeometry:I3,OctahedronGeometry:b3,PlaneGeometry:Kp,PolyhedronGeometry:gu,RingGeometry:n6,ShapeGeometry:r6,SphereGeometry:M3,TetrahedronGeometry:i6,TorusGeometry:s6,TorusKnotGeometry:o6,TubeGeometry:a6,WireframeGeometry:EQ});class _Q extends Tr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Fe(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class jm extends en{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class R3 extends Tr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Fe(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pu,this.normalScale=new ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Qa extends R3{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ue(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return cr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Fe(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Fe(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Fe(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class SQ extends Tr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Fe(16777215),this.specular=new Fe(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pu,this.normalScale=new ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=x3,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class CQ extends Tr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Fe(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pu,this.normalScale=new ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class B3 extends Tr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pu,this.normalScale=new ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class wQ extends Tr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Fe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Fe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pu,this.normalScale=new ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=x3,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class TQ extends Tr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Fe(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=pu,this.normalScale=new ue(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class IQ extends Ii{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function qs(t,e,n){return ET(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)}function yh(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function ET(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function bQ(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function K4(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function _T(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function qce(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),h=[],f=[];for(let m=0;m<c.times.length;++m){const g=c.times[m]*i;if(!(g<n||g>=r)){h.push(c.times[m]);for(let E=0;E<u;++E)f.push(c.values[m*u+E])}}h.length!==0&&(c.times=yh(h,c.times.constructor),c.values=yh(f,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function Zce(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(A){return A.name===a.name&&A.ValueTypeName===l});if(c===void 0)continue;let u=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=h/3);let f=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=m/3);const g=a.times.length-1;let E;if(s<=a.times[0]){const A=u,v=h-u;E=qs(a.values,A,v)}else if(s>=a.times[g]){const A=g*h+u,v=A+h-u;E=qs(a.values,A,v)}else{const A=a.createInterpolant(),v=u,y=h-u;A.evaluate(s),E=qs(A.resultBuffer,v,y)}l==="quaternion"&&new Fr().fromArray(E).normalize().conjugate().toArray(E);const x=c.times.length;for(let A=0;A<x;++A){const v=A*m+f;if(l==="quaternion")Fr.multiplyQuaternionsFlat(c.values,v,E,0,c.values,v);else{const y=m-f*2;for(let S=0;S<y;++S)c.values[v+S]-=E[S]}}}return t.blendMode=q9,t}const eue={arraySlice:qs,convertArray:yh,isTypedArray:ET,getKeyframeOrder:bQ,sortedArray:K4,flattenJSON:_T,subclip:qce,makeClipAdditive:Zce};class qp{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class MQ extends qp{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:gh,endingEnd:gh}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Ah:s=e,a=2*n-r;break;case Fg:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Ah:o=e,l=2*r-n;break;case Fg:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const c=(r-n)*.5,u=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,h=this._offsetNext,f=this._weightPrev,m=this._weightNext,g=(r-n)/(i-n),E=g*g,x=E*g,A=-f*x+2*f*E-f*g,v=(1+f)*x+(-1.5-2*f)*E+(-.5+f)*g+1,y=(-1-m)*x+(1.5+m)*E+.5*g,S=m*x-m*E;for(let w=0;w!==a;++w)s[w]=A*o[u+w]+v*o[c+w]+y*o[l+w]+S*o[h+w];return s}}class ST extends qp{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-n)/(i-n),h=1-u;for(let f=0;f!==a;++f)s[f]=o[c+f]*h+o[l+f]*u;return s}}class RQ extends qp{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class na{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=yh(n,this.TimeBufferType),this.values=yh(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:yh(e.times,Array),values:yh(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new RQ(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new ST(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new MQ(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Ap:n=this.InterpolantFactoryMethodDiscrete;break;case Uh:n=this.InterpolantFactoryMethodLinear;break;case av:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Ap;case this.InterpolantFactoryMethodLinear:return Uh;case this.InterpolantFactoryMethodSmooth:return av}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=qs(r,s,o),this.values=qs(this.values,s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&ET(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=qs(this.times),n=qs(this.values),r=this.getValueSize(),i=this.getInterpolation()===av,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const h=a*r,f=h-r,m=h+r;for(let g=0;g!==r;++g){const E=n[h+g];if(E!==n[f+g]||E!==n[m+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*r,f=o*r;for(let m=0;m!==r;++m)n[f+m]=n[h+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)n[l+c]=n[a+c];++o}return o!==e.length?(this.times=qs(e,0,o),this.values=qs(n,0,o*r)):(this.times=e,this.values=n),this}clone(){const e=qs(this.times,0),n=qs(this.values,0),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}na.prototype.TimeBufferType=Float32Array;na.prototype.ValueBufferType=Float32Array;na.prototype.DefaultInterpolation=Uh;class of extends na{}of.prototype.ValueTypeName="bool";of.prototype.ValueBufferType=Array;of.prototype.DefaultInterpolation=Ap;of.prototype.InterpolantFactoryMethodLinear=void 0;of.prototype.InterpolantFactoryMethodSmooth=void 0;class CT extends na{}CT.prototype.ValueTypeName="color";class Ep extends na{}Ep.prototype.ValueTypeName="number";class BQ extends qp{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let c=e*a;for(let u=c+a;c!==u;c+=4)Fr.slerpFlat(s,0,o,c-a,o,c,l);return s}}class ru extends na{InterpolantFactoryMethodLinear(e){return new BQ(this.times,this.values,this.getValueSize(),e)}}ru.prototype.ValueTypeName="quaternion";ru.prototype.DefaultInterpolation=Uh;ru.prototype.InterpolantFactoryMethodSmooth=void 0;class af extends na{}af.prototype.ValueTypeName="string";af.prototype.ValueBufferType=Array;af.prototype.DefaultInterpolation=Ap;af.prototype.InterpolantFactoryMethodLinear=void 0;af.prototype.InterpolantFactoryMethodSmooth=void 0;class _p extends na{}_p.prototype.ValueTypeName="vector";class Sp{constructor(e,n=-1,r,i=F5){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Ts(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(nue(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)n.push(na.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=bQ(l);l=K4(l,1,u),c=K4(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new Ep(".morphTargetInfluences["+n[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const h=u[1];let f=i[h];f||(i[h]=f=[]),f.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(h,f,m,g,E){if(m.length!==0){const x=[],A=[];_T(m,x,A,g),x.length!==0&&E.push(new h(f,x,A))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let h=0;h<c.length;h++){const f=c[h].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const m={};let g;for(g=0;g<f.length;g++)if(f[g].morphTargets)for(let E=0;E<f[g].morphTargets.length;E++)m[f[g].morphTargets[E]]=-1;for(const E in m){const x=[],A=[];for(let v=0;v!==f[g].morphTargets.length;++v){const y=f[g];x.push(y.time),A.push(y.morphTarget===E?1:0)}i.push(new Ep(".morphTargetInfluence["+E+"]",x,A))}l=m.length*o}else{const m=".bones["+n[h].name+"]";r(_p,m+".position",f,"pos",i),r(ru,m+".quaternion",f,"rot",i),r(_p,m+".scale",f,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function tue(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ep;case"vector":case"vector2":case"vector3":case"vector4":return _p;case"color":return CT;case"quaternion":return ru;case"bool":case"boolean":return of;case"string":return af}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function nue(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=tue(t.type);if(t.times===void 0){const n=[],r=[];_T(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Hh={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class wT{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(u){a++,s===!1&&i.onStart!==void 0&&i.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,h){return c.push(u,h),this},this.removeHandler=function(u){const h=c.indexOf(u);return h!==-1&&c.splice(h,2),this},this.getHandler=function(u){for(let h=0,f=c.length;h<f;h+=2){const m=c[h],g=c[h+1];if(m.global&&(m.lastIndex=0),m.test(u))return g}return null}}}const Pd=new wT;class Zr{constructor(e){this.manager=e!==void 0?e:Pd,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Zr.DEFAULT_MATERIAL_NAME="__DEFAULT";const cl={};class rue extends Error{constructor(e,n){super(e),this.response=n}}class Nr extends Zr{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Hh.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(cl[e]!==void 0){cl[e].push({onLoad:n,onProgress:r,onError:i});return}cl[e]=[],cl[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=cl[e],h=c.body.getReader(),f=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=f?parseInt(f):0,g=m!==0;let E=0;const x=new ReadableStream({start(A){v();function v(){h.read().then(({done:y,value:S})=>{if(y)A.close();else{E+=S.byteLength;const w=new ProgressEvent("progress",{lengthComputable:g,loaded:E,total:m});for(let T=0,b=u.length;T<b;T++){const R=u[T];R.onProgress&&R.onProgress(w)}A.enqueue(S),v()}})}}});return new Response(x)}else throw new rue(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),f=h&&h[1]?h[1].toLowerCase():void 0,m=new TextDecoder(f);return c.arrayBuffer().then(g=>m.decode(g))}}}).then(c=>{Hh.add(e,c);const u=cl[e];delete cl[e];for(let h=0,f=u.length;h<f;h++){const m=u[h];m.onLoad&&m.onLoad(c)}}).catch(c=>{const u=cl[e];if(u===void 0)throw this.manager.itemError(e),c;delete cl[e];for(let h=0,f=u.length;h<f;h++){const m=u[h];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class iue extends Zr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Nr(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=Sp.parse(e[r]);n.push(i)}return n}}class sue extends Zr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new nu,l=new Nr(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(h){l.load(e[h],function(f){const m=s.parse(f,!0);o[h]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=yn),a.image=o,a.format=m.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let h=0,f=e.length;h<f;++h)u(h);else l.load(e,function(h){const f=s.parse(h,!0);if(f.isCubemap){const m=f.mipmaps.length/f.mipmapCount;for(let g=0;g<m;g++){o[g]={mipmaps:[]};for(let E=0;E<f.mipmapCount;E++)o[g].mipmaps.push(f.mipmaps[g*f.mipmapCount+E]),o[g].format=f.format,o[g].width=f.width,o[g].height=f.height}a.image=o}else a.image.width=f.width,a.image.height=f.height,a.mipmaps=f.mipmaps;f.mipmapCount===1&&(a.minFilter=yn),a.format=f.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class Vg extends Zr{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Hh.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=Ug("img");function l(){u(),Hh.add(e,this),n&&n(this),s.manager.itemEnd(e)}function c(h){u(),i&&i(h),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class oue extends Zr{constructor(e){super(e)}load(e,n,r,i){const s=new C3;s.colorSpace=In;const o=new Vg(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class aue extends Zr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Pa,a=new Nr(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(u){if(i!==void 0)i(u);else{console.error(u);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Yn,o.wrapT=c.wrapT!==void 0?c.wrapT:Yn,o.magFilter=c.magFilter!==void 0?c.magFilter:yn,o.minFilter=c.minFilter!==void 0?c.minFilter:yn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?o.colorSpace=c.colorSpace:c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=mo),c.mipmapCount===1&&(o.minFilter=yn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,n&&n(o,c)},r,i),o}}class PQ extends Zr{constructor(e){super(e)}load(e,n,r,i){const s=new Hn,o=new Vg(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class Au extends tn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Fe(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class DQ extends Au{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(tn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Fe(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const Q8=new st,MP=new O,RP=new O;class TT{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ue(512,512),this.map=null,this.mapPass=null,this.matrix=new st,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new U5,this._frameExtents=new ue(1,1),this._viewportCount=1,this._viewports=[new Jt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;MP.setFromMatrixPosition(e.matrixWorld),n.position.copy(MP),RP.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(RP),n.updateMatrixWorld(),Q8.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Q8),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(Q8)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class lue extends TT{constructor(){super(new xn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=vp*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class IT extends Au{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(tn.DEFAULT_UP),this.updateMatrix(),this.target=new tn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new lue}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const BP=new st,K0=new O,z8=new O;class cue extends TT{constructor(){super(new xn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ue(4,2),this._viewportCount=6,this._viewports=[new Jt(2,1,1,1),new Jt(0,1,1,1),new Jt(3,1,1,1),new Jt(1,1,1,1),new Jt(3,0,1,1),new Jt(1,0,1,1)],this._cubeDirections=[new O(1,0,0),new O(-1,0,0),new O(0,0,1),new O(0,0,-1),new O(0,1,0),new O(0,-1,0)],this._cubeUps=[new O(0,1,0),new O(0,1,0),new O(0,1,0),new O(0,1,0),new O(0,0,1),new O(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),K0.setFromMatrixPosition(e.matrixWorld),r.position.copy(K0),z8.copy(r.position),z8.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(z8),r.updateMatrixWorld(),i.makeTranslation(-K0.x,-K0.y,-K0.z),BP.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(BP)}}class bT extends Au{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new cue}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class uue extends TT{constructor(){super(new lo(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class MT extends Au{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(tn.DEFAULT_UP),this.updateMatrix(),this.target=new tn,this.shadow=new uue}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class LQ extends Au{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class OQ extends Au{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class FQ{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new O)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class l6 extends Au{constructor(e=new FQ,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class c6 extends Zr{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new Nr(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=c6.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Fe().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new Fe().setHex(o.value);break;case"v2":i.uniforms[s].value=new ue().fromArray(o.value);break;case"v3":i.uniforms[s].value=new O().fromArray(o.value);break;case"v4":i.uniforms[s].value=new Jt().fromArray(o.value);break;case"m3":i.uniforms[s].value=new kt().fromArray(o.value);break;case"m4":i.uniforms[s].value=new st().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new ue().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new ue().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:_Q,SpriteMaterial:hT,RawShaderMaterial:jm,ShaderMaterial:en,PointsMaterial:W5,MeshPhysicalMaterial:Qa,MeshStandardMaterial:R3,MeshPhongMaterial:SQ,MeshToonMaterial:CQ,MeshNormalMaterial:B3,MeshLambertMaterial:wQ,MeshDepthMaterial:H5,MeshDistanceMaterial:cT,MeshBasicMaterial:oi,MeshMatcapMaterial:TQ,LineDashedMaterial:IQ,LineBasicMaterial:Ii,Material:Tr};return new n[e]}}class La{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class NQ extends Mt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class kQ extends Zr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Nr(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(m,g){if(n[g]!==void 0)return n[g];const x=m.interleavedBuffers[g],A=s(m,x.buffer),v=Md(x.type,A),y=new w3(v,x.stride);return y.uuid=x.uuid,n[g]=y,y}function s(m,g){if(r[g]!==void 0)return r[g];const x=m.arrayBuffers[g],A=new Uint32Array(x).buffer;return r[g]=A,A}const o=e.isInstancedBufferGeometry?new NQ:new Mt,a=e.data.index;if(a!==void 0){const m=Md(a.type,a.array);o.setIndex(new ln(m,1))}const l=e.data.attributes;for(const m in l){const g=l[m];let E;if(g.isInterleavedBufferAttribute){const x=i(e.data,g.data);E=new tu(x,g.itemSize,g.offset,g.normalized)}else{const x=Md(g.type,g.array),A=g.isInstancedBufferAttribute?xp:ln;E=new A(x,g.itemSize,g.normalized)}g.name!==void 0&&(E.name=g.name),g.usage!==void 0&&E.setUsage(g.usage),g.updateRange!==void 0&&(E.updateRange.offset=g.updateRange.offset,E.updateRange.count=g.updateRange.count),o.setAttribute(m,E)}const c=e.data.morphAttributes;if(c)for(const m in c){const g=c[m],E=[];for(let x=0,A=g.length;x<A;x++){const v=g[x];let y;if(v.isInterleavedBufferAttribute){const S=i(e.data,v.data);y=new tu(S,v.itemSize,v.offset,v.normalized)}else{const S=Md(v.type,v.array);y=new ln(S,v.itemSize,v.normalized)}v.name!==void 0&&(y.name=v.name),E.push(y)}o.morphAttributes[m]=E}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let m=0,g=h.length;m!==g;++m){const E=h[m];o.addGroup(E.start,E.count,E.materialIndex)}const f=e.data.boundingSphere;if(f!==void 0){const m=new O;f.center!==void 0&&m.fromArray(f.center),o.boundingSphere=new yo(m,f.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class hue extends Zr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?La.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Nr(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(h){i!==void 0&&i(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?La.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Nr(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),n!==void 0){let h=!1;for(const f in o)if(o[f].data instanceof HTMLImageElement){h=!0;break}h===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Mh().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new T3().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new kQ;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in bP?a=bP[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new c6;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Sp.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(u)}else return l.data?{data:Md(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new wT(n);s=new Vg(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const h=e[c],f=h.url;if(Array.isArray(f)){const m=[];for(let g=0,E=f.length;g<E;g++){const x=f[g],A=a(x);A!==null&&(A instanceof HTMLImageElement?m.push(A):m.push(new Pa(A.data,A.width,A.height)))}i[h.uuid]=new vh(m)}else{const m=a(h.url);i[h.uuid]=new vh(m)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Md(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Vg(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let h=0,f=c.length;h<f;h++){const m=c[h],g=await s(m);g!==null&&(g instanceof HTMLImageElement?u.push(g):u.push(new Pa(g.data,g.width,g.height)))}r[l.uuid]=new vh(u)}else{const u=await s(l.url);r[l.uuid]=new vh(u)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],c=l.data;let u;Array.isArray(c)?(u=new C3,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new Pa:u=new Hn,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,fue)),a.channel!==void 0&&(u.channel=a.channel),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],PP),u.wrapT=r(a.wrap[1],PP)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.colorSpace!==void 0&&(u.colorSpace=a.colorSpace),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,DP)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,DP)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(u.compareFunction=a.compareFunction),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,n,r,i,s){let o;function a(f){return n[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",f),n[f]}function l(f){if(f!==void 0){if(Array.isArray(f)){const m=[];for(let g=0,E=f.length;g<E;g++){const x=f[g];r[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),m.push(r[x])}return m}return r[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",f),r[f]}}function c(f){return i[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",f),i[f]}let u,h;switch(e.type){case"Scene":o=new ay,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Fe(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new z5(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new Q5(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new xn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new lo(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new LQ(e.color,e.intensity);break;case"DirectionalLight":o=new MT(e.color,e.intensity);break;case"PointLight":o=new bT(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new OQ(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new IT(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new DQ(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new l6().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),h=l(e.material),o=new fT(u,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),h=l(e.material),o=new fn(u,h);break;case"InstancedMesh":u=a(e.geometry),h=l(e.material);const f=e.count,m=e.instanceMatrix,g=e.instanceColor;o=new dT(u,h,f),o.instanceMatrix=new xp(new Float32Array(m.array),16),g!==void 0&&(o.instanceColor=new xp(new Float32Array(g.array),g.itemSize));break;case"LOD":o=new hQ;break;case"Line":o=new Fl(a(e.geometry),l(e.material));break;case"LineLoop":o=new pT(a(e.geometry),l(e.material));break;case"LineSegments":o=new ea(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new j5(a(e.geometry),l(e.material));break;case"Sprite":o=new uQ(l(e.material));break;case"Group":o=new xl;break;case"Bone":o=new V5;break;default:o=new tn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const f=e.children;for(let m=0;m<f.length;m++)o.add(this.parseObject(f[m],n,r,i,s))}if(e.animations!==void 0){const f=e.animations;for(let m=0;m<f.length;m++){const g=f[m];o.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const f=e.levels;for(let m=0;m<f.length;m++){const g=f[m],E=o.getObjectByProperty("uuid",g.object);E!==void 0&&o.addLevel(E,g.distance,g.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const fue={UVMapping:D5,CubeReflectionMapping:Ol,CubeRefractionMapping:Zc,EquirectangularReflectionMapping:bg,EquirectangularRefractionMapping:Mg,CubeUVReflectionMapping:jp},PP={RepeatWrapping:po,ClampToEdgeWrapping:Yn,MirroredRepeatWrapping:gp},DP={NearestFilter:It,NearestMipmapNearestFilter:Rg,NearestMipmapLinearFilter:zd,LinearFilter:yn,LinearMipmapNearestFilter:L5,LinearMipmapLinearFilter:mo};class UQ extends Zr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Hh.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Hh.add(e,l),n&&n(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let c2;class RT{static getContext(){return c2===void 0&&(c2=new(window.AudioContext||window.webkitAudioContext)),c2}static setContext(e){c2=e}}class due extends Zr{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Nr(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);RT.getContext().decodeAudioData(c,function(h){n(h)},a)}catch(c){a(c)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}class pue extends l6{constructor(e,n,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new Fe().set(e),s=new Fe().set(n),o=new O(i.r,i.g,i.b),a=new O(s.r,s.g,s.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}class mue extends l6{constructor(e,n=1){super(void 0,n),this.isAmbientLightProbe=!0;const r=new Fe().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const LP=new st,OP=new st,Nu=new st;class gue{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new xn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new xn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Nu.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(Ih*n.fov*.5)/n.zoom;let a,l;OP.elements[12]=-i,LP.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,Nu.elements[0]=2*n.near/(l-a),Nu.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Nu),a=-o*n.aspect-s,l=o*n.aspect-s,Nu.elements[0]=2*n.near/(l-a),Nu.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Nu)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(OP),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(LP)}}class u6{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=FP(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=FP();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function FP(){return(typeof performance>"u"?Date:performance).now()}const ku=new O,NP=new Fr,Aue=new O,Uu=new O;class vue extends tn{constructor(){super(),this.type="AudioListener",this.context=RT.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new u6}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ku,NP,Aue),Uu.set(0,0,-1).applyQuaternion(NP),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(ku.x,i),n.positionY.linearRampToValueAtTime(ku.y,i),n.positionZ.linearRampToValueAtTime(ku.z,i),n.forwardX.linearRampToValueAtTime(Uu.x,i),n.forwardY.linearRampToValueAtTime(Uu.y,i),n.forwardZ.linearRampToValueAtTime(Uu.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(ku.x,ku.y,ku.z),n.setOrientation(Uu.x,Uu.y,Uu.z,r.x,r.y,r.z)}}class GQ extends tn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Gu=new O,kP=new Fr,yue=new O,Hu=new O;class xue extends GQ{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Gu,kP,yue),Hu.set(0,0,1).applyQuaternion(kP);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Gu.x,r),n.positionY.linearRampToValueAtTime(Gu.y,r),n.positionZ.linearRampToValueAtTime(Gu.z,r),n.orientationX.linearRampToValueAtTime(Hu.x,r),n.orientationY.linearRampToValueAtTime(Hu.y,r),n.orientationZ.linearRampToValueAtTime(Hu.z,r)}else n.setPosition(Gu.x,Gu.y,Gu.z),n.setOrientation(Hu.x,Hu.y,Hu.z)}}class Eue{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class HQ{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){Fr.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;Fr.multiplyQuaternionsFlat(e,o,e,n,e,r),Fr.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const BT="\\[\\]\\.:\\/",_ue=new RegExp("["+BT+"]","g"),PT="[^"+BT+"]",Sue="[^"+BT.replace("\\.","")+"]",Cue=/((?:WC+[\/:])*)/.source.replace("WC",PT),wue=/(WCOD+)?/.source.replace("WCOD",Sue),Tue=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",PT),Iue=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",PT),bue=new RegExp("^"+Cue+wue+Tue+Iue+"$"),Mue=["material","materials","bones","map"];class Rue{constructor(e,n,r){const i=r||Yt.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Yt{constructor(e,n,r){this.path=n,this.parsedPath=r||Yt.parseTrackName(n),this.node=Yt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Yt.Composite(e,n,r):new Yt(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(_ue,"")}static parseTrackName(e){const n=bue.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);Mue.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=Yt.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Yt.Composite=Rue;Yt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Yt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Yt.prototype.GetterByBindingType=[Yt.prototype._getValue_direct,Yt.prototype._getValue_array,Yt.prototype._getValue_arrayElement,Yt.prototype._getValue_toArray];Yt.prototype.SetterByBindingTypeAndVersioning=[[Yt.prototype._setValue_direct,Yt.prototype._setValue_direct_setNeedsUpdate,Yt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Yt.prototype._setValue_array,Yt.prototype._setValue_array_setNeedsUpdate,Yt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Yt.prototype._setValue_arrayElement,Yt.prototype._setValue_arrayElement_setNeedsUpdate,Yt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Yt.prototype._setValue_fromArray,Yt.prototype._setValue_fromArray_setNeedsUpdate,Yt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Bue{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ts(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,h=arguments.length;u!==h;++u){const f=arguments[u],m=f.uuid;let g=n[m];if(g===void 0){g=l++,n[m]=g,e.push(f);for(let E=0,x=o;E!==x;++E)s[E].push(new Yt(f,r[E],i[E]))}else if(g<c){a=e[g];const E=--c,x=e[E];n[x.uuid]=g,e[g]=x,n[m]=E,e[E]=f;for(let A=0,v=o;A!==v;++A){const y=s[A],S=y[E];let w=y[g];y[g]=S,w===void 0&&(w=new Yt(f,r[A],i[A])),y[E]=w}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=n[c];if(u!==void 0&&u>=s){const h=s++,f=e[h];n[f.uuid]=u,e[u]=f,n[c]=h,e[h]=l;for(let m=0,g=i;m!==g;++m){const E=r[m],x=E[h],A=E[u];E[u]=x,E[h]=A}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,h=n[u];if(h!==void 0)if(delete n[u],h<s){const f=--s,m=e[f],g=--o,E=e[g];n[m.uuid]=h,e[h]=m,n[E.uuid]=f,e[f]=E,e.pop();for(let x=0,A=i;x!==A;++x){const v=r[x],y=v[f],S=v[g];v[h]=y,v[f]=S,v.pop()}}else{const f=--o,m=e[f];f>0&&(n[m.uuid]=h),e[h]=m,e.pop();for(let g=0,E=i;g!==E;++g){const x=r[g];x[h]=x[f],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,h=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(h);for(let f=u,m=l.length;f!==m;++f){const g=l[f];h[f]=new Yt(g,e,n)}return h}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];n[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class QQ{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:gh,endingEnd:gh};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=OH,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case q9:for(let u=0,h=l.length;u!==h;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case F5:default:for(let u=0,h=l.length;u!==h;++u)l[u].evaluate(o),c[u].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===FH;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===LH){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Ah,i.endingEnd=Ah):(e?i.endingStart=this.zeroSlopeAtStart?Ah:gh:i.endingStart=Fg,n?i.endingEnd=this.zeroSlopeAtEnd?Ah:gh:i.endingEnd=Fg)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const Pue=new Float32Array(1);class Due extends Ha{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let h=0;h!==s;++h){const f=i[h],m=f.name;let g=u[m];if(g!==void 0)++g.referenceCount,o[h]=g;else{if(g=o[h],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,m));continue}const E=n&&n._propertyBindings[h].binding.parsedPath;g=new HQ(Yt.create(r,m,E),f.ValueTypeName,f.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,m),o[h]=g}a[h].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,f=(e._localRoot||this._root).uuid;delete h[f],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new ST(new Float32Array(2),new Float32Array(2),1,Pue),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?Sp.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=F5),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===r)return h;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new QQ(this,o,n,r);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?Sp.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,h=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=u,n[u]=h,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class DT{constructor(e){this.value=e}clone(){return new DT(this.value.clone===void 0?this.value:this.value.clone())}}let Lue=0;class Oue extends Ha{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Lue++}),this.name="",this.usage=Ng,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++)this.uniforms.push(n[r].clone());return this}clone(){return new this.constructor().copy(this)}}class Fue extends w3{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class Nue{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class zQ{constructor(e,n,r=0,i=1/0){this.ray=new $p(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new bh,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return X4(e,this,r,n),r.sort(UP),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)X4(e[i],this,r,n);return r.sort(UP),r}}function UP(t,e){return t.distance-e.distance}function X4(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let s=0,o=i.length;s<o;s++)X4(i[s],e,n,!0)}}class ly{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(cr(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class kue{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const GP=new ue;class VQ{constructor(e=new ue(1/0,1/0),n=new ue(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=GP.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,GP).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const HP=new O,u2=new O;class Uue{constructor(e=new O,n=new O){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){HP.subVectors(e,this.start),u2.subVectors(this.end,this.start);const r=u2.dot(u2);let s=u2.dot(HP)/r;return n&&(s=cr(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const QP=new O;class Gue extends tn{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new Mt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new at(i,3));const s=new Ii({fog:!1,toneMapped:!1});this.cone=new ea(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),QP.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(QP),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const lc=new O,h2=new st,V8=new st;class Hue extends ea{constructor(e){const n=WQ(e),r=new Mt,i=[],s=[],o=new Fe(0,0,1),a=new Fe(0,1,0);for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new at(i,3)),r.setAttribute("color",new at(s,3));const l=new Ii({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");V8.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(h2.multiplyMatrices(V8,a.matrixWorld),lc.setFromMatrixPosition(h2),i.setXYZ(o,lc.x,lc.y,lc.z),h2.multiplyMatrices(V8,a.parent.matrixWorld),lc.setFromMatrixPosition(h2),i.setXYZ(o+1,lc.x,lc.y,lc.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function WQ(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,WQ(t.children[n]));return e}class Que extends fn{constructor(e,n,r){const i=new M3(n,4,2),s=new oi({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const zue=new O,zP=new Fe,VP=new Fe;class Vue extends tn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new b3(n);i.rotateY(Math.PI*.5),this.material=new oi({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new ln(o,3)),this.add(new fn(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");zP.copy(this.light.color),VP.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?zP:VP;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(zue.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Wue extends ea{constructor(e=10,n=10,r=4473924,i=8947848){r=new Fe(r),i=new Fe(i);const s=n/2,o=e/n,a=e/2,l=[],c=[];for(let f=0,m=0,g=-a;f<=n;f++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const E=f===s?r:i;E.toArray(c,m),m+=3,E.toArray(c,m),m+=3,E.toArray(c,m),m+=3,E.toArray(c,m),m+=3}const u=new Mt;u.setAttribute("position",new at(l,3)),u.setAttribute("color",new at(c,3));const h=new Ii({vertexColors:!0,toneMapped:!1});super(u,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class jue extends ea{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new Fe(s),o=new Fe(o);const a=[],l=[];if(n>1)for(let h=0;h<n;h++){const f=h/n*(Math.PI*2),m=Math.sin(f)*e,g=Math.cos(f)*e;a.push(0,0,0),a.push(m,0,g);const E=h&1?s:o;l.push(E.r,E.g,E.b),l.push(E.r,E.g,E.b)}for(let h=0;h<r;h++){const f=h&1?s:o,m=e-e/r*h;for(let g=0;g<i;g++){let E=g/i*(Math.PI*2),x=Math.sin(E)*m,A=Math.cos(E)*m;a.push(x,0,A),l.push(f.r,f.g,f.b),E=(g+1)/i*(Math.PI*2),x=Math.sin(E)*m,A=Math.cos(E)*m,a.push(x,0,A),l.push(f.r,f.g,f.b)}}const c=new Mt;c.setAttribute("position",new at(a,3)),c.setAttribute("color",new at(l,3));const u=new Ii({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const WP=new O,f2=new O,jP=new O;class $ue extends tn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new Mt;i.setAttribute("position",new at([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new Ii({fog:!1,toneMapped:!1});this.lightPlane=new Fl(i,s),this.add(this.lightPlane),i=new Mt,i.setAttribute("position",new at([0,0,0,0,0,1],3)),this.targetLine=new Fl(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),WP.setFromMatrixPosition(this.light.matrixWorld),f2.setFromMatrixPosition(this.light.target.matrixWorld),jP.subVectors(f2,WP),this.lightPlane.lookAt(f2),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(f2),this.targetLine.scale.z=jP.length()}}const d2=new O,ar=new S3;class Kue extends ea{constructor(e){const n=new Mt,r=new Ii({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(g,E){l(g),l(E)}function l(g){i.push(0,0,0),s.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(i.length/3-1)}n.setAttribute("position",new at(i,3)),n.setAttribute("color",new at(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new Fe(16755200),u=new Fe(16711680),h=new Fe(43775),f=new Fe(16777215),m=new Fe(3355443);this.setColors(c,u,h,f,m)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;ar.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),gr("c",n,e,ar,0,0,-1),gr("t",n,e,ar,0,0,1),gr("n1",n,e,ar,-r,-i,-1),gr("n2",n,e,ar,r,-i,-1),gr("n3",n,e,ar,-r,i,-1),gr("n4",n,e,ar,r,i,-1),gr("f1",n,e,ar,-r,-i,1),gr("f2",n,e,ar,r,-i,1),gr("f3",n,e,ar,-r,i,1),gr("f4",n,e,ar,r,i,1),gr("u1",n,e,ar,r*.7,i*1.1,-1),gr("u2",n,e,ar,-r*.7,i*1.1,-1),gr("u3",n,e,ar,0,i*2,-1),gr("cf1",n,e,ar,-r,0,1),gr("cf2",n,e,ar,r,0,1),gr("cf3",n,e,ar,0,-i,1),gr("cf4",n,e,ar,0,i,1),gr("cn1",n,e,ar,-r,0,-1),gr("cn2",n,e,ar,r,0,-1),gr("cn3",n,e,ar,0,-i,-1),gr("cn4",n,e,ar,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function gr(t,e,n,r,i,s,o){d2.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],d2.x,d2.y,d2.z)}}const p2=new Zo;class Xue extends ea{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Mt;s.setIndex(new ln(r,1)),s.setAttribute("position",new ln(i,3)),super(s,new Ii({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&p2.setFromObject(this.object),p2.isEmpty())return;const n=p2.min,r=p2.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Jue extends ea{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Mt;s.setIndex(new ln(r,1)),s.setAttribute("position",new at(i,3)),super(s,new Ii({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Yue extends Fl{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Mt;o.setAttribute("position",new at(s,3)),o.computeBoundingSphere(),super(o,new Ii({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Mt;l.setAttribute("position",new at(a,3)),l.computeBoundingSphere(),this.add(new fn(l,new oi({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const $P=new O;let m2,W8;class que extends tn{constructor(e=new O(0,0,1),n=new O(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",m2===void 0&&(m2=new Mt,m2.setAttribute("position",new at([0,0,0,0,1,0],3)),W8=new Yp(0,.5,1,5,1),W8.translate(0,-.5,0)),this.position.copy(n),this.line=new Fl(m2,new Ii({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new fn(W8,new oi({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{$P.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle($P,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Zue extends ea{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Mt;i.setAttribute("position",new at(n,3)),i.setAttribute("color",new at(r,3));const s=new Ii({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new Fe,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class jQ{constructor(){this.type="ShapePath",this.color=new Fe,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Gg,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(A){const v=[];for(let y=0,S=A.length;y<S;y++){const w=A[y],T=new Mh;T.curves=w.curves,v.push(T)}return v}function r(A,v){const y=v.length;let S=!1;for(let w=y-1,T=0;T<y;w=T++){let b=v[w],R=v[T],M=R.x-b.x,B=R.y-b.y;if(Math.abs(B)>Number.EPSILON){if(B<0&&(b=v[T],M=-M,R=v[w],B=-B),A.y<b.y||A.y>R.y)continue;if(A.y===b.y){if(A.x===b.x)return!0}else{const L=B*(A.x-b.x)-M*(A.y-b.y);if(L===0)return!0;if(L<0)continue;S=!S}}else{if(A.y!==b.y)continue;if(R.x<=A.x&&A.x<=b.x||b.x<=A.x&&A.x<=R.x)return!0}}return S}const i=Da.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new Mh,l.curves=a.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const h=[],f=[];let m=[],g=0,E;f[g]=void 0,m[g]=[];for(let A=0,v=s.length;A<v;A++)a=s[A],E=a.getPoints(),o=i(E),o=e?!o:o,o?(!u&&f[g]&&g++,f[g]={s:new Mh,p:E},f[g].s.curves=a.curves,u&&g++,m[g]=[]):m[g].push({h:a,p:E[0]});if(!f[0])return n(s);if(f.length>1){let A=!1,v=0;for(let y=0,S=f.length;y<S;y++)h[y]=[];for(let y=0,S=f.length;y<S;y++){const w=m[y];for(let T=0;T<w.length;T++){const b=w[T];let R=!0;for(let M=0;M<f.length;M++)r(b.p,f[M].p)&&(y!==M&&v++,R?(R=!1,h[M].push(b)):A=!0);R&&h[y].push(b)}}v>0&&A===!1&&(m=h)}let x;for(let A=0,v=f.length;A<v;A++){l=f[A].s,c.push(l),x=m[A];for(let y=0,S=x.length;y<S;y++)l.holes.push(x[y].h)}return c}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Ga}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Ga);const ehe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:V9,AddEquation:Es,AddOperation:CH,AdditiveAnimationBlendMode:q9,AdditiveBlending:pp,AlphaFormat:BH,AlwaysCompare:KH,AlwaysDepth:AH,AlwaysStencilFunc:GH,AmbientLight:LQ,AmbientLightProbe:mue,AnimationAction:QQ,AnimationClip:Sp,AnimationLoader:iue,AnimationMixer:Due,AnimationObjectGroup:Bue,AnimationUtils:eue,ArcCurve:fQ,ArrayCamera:aQ,ArrowHelper:que,Audio:GQ,AudioAnalyser:Eue,AudioContext:RT,AudioListener:vue,AudioLoader:due,AxesHelper:Zue,BackSide:Ci,BasicDepthPacking:kH,BasicShadowMap:aH,Bone:V5,BooleanKeyframeTrack:of,Box2:VQ,Box3:Zo,Box3Helper:Jue,BoxGeometry:mu,BoxHelper:Xue,BufferAttribute:ln,BufferGeometry:Mt,BufferGeometryLoader:kQ,ByteType:MH,Cache:Hh,Camera:S3,CameraHelper:Kue,CanvasTexture:Cce,CapsuleGeometry:X5,CatmullRomCurve3:dQ,CineonToneMapping:IH,CircleGeometry:J5,ClampToEdgeWrapping:Yn,Clock:u6,Color:Fe,ColorKeyframeTrack:CT,ColorManagement:Js,CompressedArrayTexture:_ce,CompressedCubeTexture:Sce,CompressedTexture:nu,CompressedTextureLoader:sue,ConeGeometry:Y5,CubeCamera:oT,CubeReflectionMapping:Ol,CubeRefractionMapping:Zc,CubeTexture:C3,CubeTextureLoader:oue,CubeUVReflectionMapping:jp,CubicBezierCurve:gT,CubicBezierCurve3:pQ,CubicInterpolant:MQ,CullFaceBack:g4,CullFaceFront:oH,CullFaceFrontBack:yre,CullFaceNone:sH,Curve:ta,CurvePath:gQ,CustomBlending:wg,CustomToneMapping:bH,CylinderGeometry:Yp,Cylindrical:kue,Data3DTexture:iT,DataArrayTexture:N5,DataTexture:Pa,DataTextureLoader:aue,DataUtils:Mie,DecrementStencilOp:Mre,DecrementWrapStencilOp:Bre,DefaultLoadingManager:Pd,DepthFormat:Qc,DepthStencilFormat:eu,DepthTexture:Jp,DirectionalLight:MT,DirectionalLightHelper:$ue,DiscreteInterpolant:RQ,DisplayP3ColorSpace:E3,DodecahedronGeometry:q5,DoubleSide:ro,DstAlphaFactor:B5,DstColorFactor:P5,DynamicCopyUsage:Wre,DynamicDrawUsage:cv,DynamicReadUsage:Qre,EdgesGeometry:AQ,EllipseCurve:$5,EqualCompare:zH,EqualDepth:yH,EqualStencilFunc:Ore,EquirectangularReflectionMapping:bg,EquirectangularRefractionMapping:Mg,Euler:_3,EventDispatcher:Ha,ExtrudeGeometry:e6,FileLoader:Nr,Float16BufferAttribute:Oie,Float32BufferAttribute:at,Float64BufferAttribute:Fie,FloatType:Ui,Fog:z5,FogExp2:Q5,FramebufferTexture:Ece,FrontSide:ka,Frustum:U5,GLBufferAttribute:Nue,GLSL1:$re,GLSL3:H4,GreaterCompare:WH,GreaterDepth:EH,GreaterEqualCompare:$H,GreaterEqualDepth:xH,GreaterEqualStencilFunc:Ure,GreaterStencilFunc:Nre,GridHelper:Wue,Group:xl,HalfFloatType:vr,HemisphereLight:DQ,HemisphereLightHelper:Vue,HemisphereLightProbe:pue,IcosahedronGeometry:t6,ImageBitmapLoader:UQ,ImageLoader:Vg,ImageUtils:rT,IncrementStencilOp:bre,IncrementWrapStencilOp:Rre,InstancedBufferAttribute:xp,InstancedBufferGeometry:NQ,InstancedInterleavedBuffer:Fue,InstancedMesh:dT,Int16BufferAttribute:Die,Int32BufferAttribute:Lie,Int8BufferAttribute:Rie,IntType:W9,InterleavedBuffer:w3,InterleavedBufferAttribute:tu,Interpolant:qp,InterpolateDiscrete:Ap,InterpolateLinear:Uh,InterpolateSmooth:av,InvertStencilOp:Pre,KeepStencilOp:lv,KeyframeTrack:na,LOD:hQ,LatheGeometry:I3,Layers:bh,LessCompare:QH,LessDepth:vH,LessEqualCompare:VH,LessEqualDepth:ry,LessEqualStencilFunc:Fre,LessStencilFunc:Lre,Light:Au,LightProbe:l6,Line:Fl,Line3:Uue,LineBasicMaterial:Ii,LineCurve:K5,LineCurve3:mQ,LineDashedMaterial:IQ,LineLoop:pT,LineSegments:ea,LinearDisplayP3ColorSpace:wre,LinearEncoding:eT,LinearFilter:yn,LinearInterpolant:ST,LinearMipMapLinearFilter:Cre,LinearMipMapNearestFilter:Sre,LinearMipmapLinearFilter:mo,LinearMipmapNearestFilter:L5,LinearSRGBColorSpace:Ko,LinearToneMapping:wH,Loader:Zr,LoaderUtils:La,LoadingManager:wT,LoopOnce:LH,LoopPingPong:FH,LoopRepeat:OH,LuminanceAlphaFormat:PH,LuminanceFormat:K9,MOUSE:Yu,Material:Tr,MaterialLoader:c6,MathUtils:$d,Matrix3:kt,Matrix4:st,MaxEquation:x4,Mesh:fn,MeshBasicMaterial:oi,MeshDepthMaterial:H5,MeshDistanceMaterial:cT,MeshLambertMaterial:wQ,MeshMatcapMaterial:TQ,MeshNormalMaterial:B3,MeshPhongMaterial:SQ,MeshPhysicalMaterial:Qa,MeshStandardMaterial:R3,MeshToonMaterial:CQ,MinEquation:y4,MirroredRepeatWrapping:gp,MixOperation:SH,MultiplyBlending:v4,MultiplyOperation:x3,NearestFilter:It,NearestMipMapLinearFilter:_re,NearestMipMapNearestFilter:Ere,NearestMipmapLinearFilter:zd,NearestMipmapNearestFilter:Rg,NeverCompare:HH,NeverDepth:gH,NeverStencilFunc:Dre,NoBlending:Wt,NoColorSpace:Vc,NoToneMapping:ao,NormalAnimationBlendMode:F5,NormalBlending:Ba,NotEqualCompare:jH,NotEqualDepth:_H,NotEqualStencilFunc:kre,NumberKeyframeTrack:Ep,Object3D:tn,ObjectLoader:hue,ObjectSpaceNormalMap:UH,OctahedronGeometry:b3,OneFactor:uH,OneMinusDstAlphaFactor:dH,OneMinusDstColorFactor:pH,OneMinusSrcAlphaFactor:Ig,OneMinusSrcColorFactor:fH,OrthographicCamera:lo,PCFShadowMap:R5,PCFSoftShadowMap:Hm,PMREMGenerator:z4,Path:Gg,PerspectiveCamera:xn,Plane:no,PlaneGeometry:Kp,PlaneHelper:Yue,PointLight:bT,PointLightHelper:Que,Points:j5,PointsMaterial:W5,PolarGridHelper:jue,PolyhedronGeometry:gu,PositionalAudio:xue,PropertyBinding:Yt,PropertyMixer:HQ,QuadraticBezierCurve:AT,QuadraticBezierCurve3:vT,Quaternion:Fr,QuaternionKeyframeTrack:ru,QuaternionLinearInterpolant:BQ,RED_GREEN_RGTC2_Format:U4,RED_RGTC1_Format:DH,REVISION:Ga,RGBADepthPacking:tT,RGBAFormat:fr,RGBAIntegerFormat:Y9,RGBA_ASTC_10x10_Format:D4,RGBA_ASTC_10x5_Format:R4,RGBA_ASTC_10x6_Format:B4,RGBA_ASTC_10x8_Format:P4,RGBA_ASTC_12x10_Format:L4,RGBA_ASTC_12x12_Format:O4,RGBA_ASTC_4x4_Format:Og,RGBA_ASTC_5x4_Format:S4,RGBA_ASTC_5x5_Format:C4,RGBA_ASTC_6x5_Format:w4,RGBA_ASTC_6x6_Format:T4,RGBA_ASTC_8x5_Format:I4,RGBA_ASTC_8x6_Format:b4,RGBA_ASTC_8x8_Format:M4,RGBA_BPTC_Format:jd,RGBA_ETC2_EAC_Format:Lg,RGBA_PVRTC_2BPPV1_Format:_4,RGBA_PVRTC_4BPPV1_Format:Pg,RGBA_S3TC_DXT1_Format:sv,RGBA_S3TC_DXT3_Format:ov,RGBA_S3TC_DXT5_Format:Wd,RGB_BPTC_SIGNED_Format:F4,RGB_BPTC_UNSIGNED_Format:N4,RGB_ETC1_Format:O5,RGB_ETC2_Format:Dg,RGB_PVRTC_2BPPV1_Format:E4,RGB_PVRTC_4BPPV1_Format:Bg,RGB_S3TC_DXT1_Format:Vd,RGFormat:bd,RGIntegerFormat:J9,RawShaderMaterial:jm,Ray:$p,Raycaster:zQ,RectAreaLight:OQ,RedFormat:mh,RedIntegerFormat:X9,ReinhardToneMapping:TH,RenderTarget:qH,RepeatWrapping:po,ReplaceStencilOp:Ire,ReverseSubtractEquation:cH,RingGeometry:n6,SIGNED_RED_GREEN_RGTC2_Format:G4,SIGNED_RED_RGTC1_Format:k4,SRGBColorSpace:In,Scene:ay,ShaderChunk:Ot,ShaderLib:Uo,ShaderMaterial:en,ShadowMaterial:_Q,Shape:Mh,ShapeGeometry:r6,ShapePath:jQ,ShapeUtils:Da,ShortType:RH,Skeleton:T3,SkeletonHelper:Hue,SkinnedMesh:fT,Source:vh,Sphere:yo,SphereGeometry:M3,Spherical:ly,SphericalHarmonics3:FQ,SplineCurve:yT,SpotLight:IT,SpotLightHelper:Gue,Sprite:uQ,SpriteMaterial:hT,SrcAlphaFactor:Tg,SrcAlphaSaturateFactor:mH,SrcColorFactor:hH,StaticCopyUsage:Vre,StaticDrawUsage:Ng,StaticReadUsage:Hre,StereoCamera:gue,StreamCopyUsage:jre,StreamDrawUsage:Gre,StreamReadUsage:zre,StringKeyframeTrack:af,SubtractEquation:lH,SubtractiveBlending:A4,TOUCH:qu,TangentSpaceNormalMap:pu,TetrahedronGeometry:i6,Texture:Hn,TextureLoader:PQ,TorusGeometry:s6,TorusKnotGeometry:o6,Triangle:Zi,TriangleFanDrawMode:iy,TriangleStripDrawMode:Z9,TrianglesDrawMode:NH,TubeGeometry:a6,TwoPassDoubleSide:xre,UVMapping:D5,Uint16BufferAttribute:sT,Uint32BufferAttribute:k5,Uint8BufferAttribute:Bie,Uint8ClampedBufferAttribute:Pie,Uniform:DT,UniformsGroup:Oue,UniformsLib:Ve,UniformsUtils:qn,UnsignedByteType:Dr,UnsignedInt248Type:Tl,UnsignedIntType:yl,UnsignedShort4444Type:j9,UnsignedShort5551Type:$9,UnsignedShortType:sf,VSMShadowMap:Fo,Vector2:ue,Vector3:O,Vector4:Jt,VectorKeyframeTrack:_p,VideoTexture:xce,WebGL1Renderer:lQ,WebGL3DRenderTarget:Aie,WebGLArrayRenderTarget:gie,WebGLCoordinateSystem:Sa,WebGLCubeRenderTarget:aT,WebGLMultipleRenderTargets:vie,WebGLRenderTarget:En,WebGLRenderer:uT,WebGLUtils:oQ,WebGPUCoordinateSystem:kg,WireframeGeometry:EQ,WrapAroundEnding:Fg,ZeroCurvatureEnding:gh,ZeroFactor:mp,ZeroSlopeEnding:Ah,ZeroStencilOp:Tre,_SRGBAFormat:sy,createCanvasElement:YH,sRGBEncoding:zc},Symbol.toStringTag,{value:"Module"}));var $Q={exports:{}},lf={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */lf.ConcurrentRoot=1;lf.ContinuousEventPriority=4;lf.DefaultEventPriority=16;lf.DiscreteEventPriority=1;lf.IdleEventPriority=536870912;lf.LegacyRoot=0;$Q.exports=lf;var Dd=$Q.exports;function the(t){let e;const n=new Set,r=(c,u)=>{const h=typeof c=="function"?c(e):c;if(h!==e){const f=e;e=u?h:Object.assign({},e,h),n.forEach(m=>m(e,f))}},i=()=>e,s=(c,u=i,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let f=u(e);function m(){const g=u(e);if(!h(f,g)){const E=f;c(f=g,E)}}return n.add(m),()=>n.delete(m)},l={setState:r,getState:i,subscribe:(c,u,h)=>u||h?s(c,u,h):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,l),l}const nhe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),KP=nhe?Q.useEffect:Q.useLayoutEffect;function KQ(t){const e=typeof t=="function"?the(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=Q.useReducer(x=>x+1,0),o=e.getState(),a=Q.useRef(o),l=Q.useRef(r),c=Q.useRef(i),u=Q.useRef(!1),h=Q.useRef();h.current===void 0&&(h.current=r(o));let f,m=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(f=r(o),m=!i(h.current,f)),KP(()=>{m&&(h.current=f),a.current=o,l.current=r,c.current=i,u.current=!1});const g=Q.useRef(o);KP(()=>{const x=()=>{try{const v=e.getState(),y=l.current(v);c.current(h.current,y)||(a.current=v,h.current=y,s())}catch{u.current=!0,s()}},A=e.subscribe(x);return e.getState()!==g.current&&x(),A},[]);const E=m?f:h.current;return Q.useDebugValue(E),E};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var XQ={exports:{}},JQ={exports:{}},YQ={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,J){var V=k.length;k.push(J);e:for(;0<V;){var H=V-1>>>1,X=k[H];if(0<i(X,J))k[H]=J,k[V]=X,V=H;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var J=k[0],V=k.pop();if(V!==J){k[0]=V;e:for(var H=0,X=k.length,he=X>>>1;H<he;){var ge=2*(H+1)-1,Ce=k[ge],be=ge+1,Pe=k[be];if(0>i(Ce,V))be<X&&0>i(Pe,Ce)?(k[H]=Pe,k[be]=V,H=be):(k[H]=Ce,k[ge]=V,H=ge);else if(be<X&&0>i(Pe,V))k[H]=Pe,k[be]=V,H=be;else break e}}return J}function i(k,J){var V=k.sortIndex-J.sortIndex;return V!==0?V:k.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,m=!1,g=!1,E=!1,x=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(k){for(var J=n(c);J!==null;){if(J.callback===null)r(c);else if(J.startTime<=k)r(c),J.sortIndex=J.expirationTime,e(l,J);else break;J=n(c)}}function S(k){if(E=!1,y(k),!g)if(n(l)!==null)g=!0,Z(w);else{var J=n(c);J!==null&&q(S,J.startTime-k)}}function w(k,J){g=!1,E&&(E=!1,A(R),R=-1),m=!0;var V=f;try{for(y(J),h=n(l);h!==null&&(!(h.expirationTime>J)||k&&!L());){var H=h.callback;if(typeof H=="function"){h.callback=null,f=h.priorityLevel;var X=H(h.expirationTime<=J);J=t.unstable_now(),typeof X=="function"?h.callback=X:h===n(l)&&r(l),y(J)}else r(l);h=n(l)}if(h!==null)var he=!0;else{var ge=n(c);ge!==null&&q(S,ge.startTime-J),he=!1}return he}finally{h=null,f=V,m=!1}}var T=!1,b=null,R=-1,M=5,B=-1;function L(){return!(t.unstable_now()-B<M)}function G(){if(b!==null){var k=t.unstable_now();B=k;var J=!0;try{J=b(!0,k)}finally{J?F():(T=!1,b=null)}}else T=!1}var F;if(typeof v=="function")F=function(){v(G)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,W=$.port2;$.port1.onmessage=G,F=function(){W.postMessage(null)}}else F=function(){x(G,0)};function Z(k){b=k,T||(T=!0,F())}function q(k,J){R=x(function(){k(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,Z(w))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(k){switch(f){case 1:case 2:case 3:var J=3;break;default:J=f}var V=f;f=J;try{return k()}finally{f=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,J){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var V=f;f=k;try{return J()}finally{f=V}},t.unstable_scheduleCallback=function(k,J,V){var H=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?H+V:H):V=H,k){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=V+X,k={id:u++,callback:J,priorityLevel:k,startTime:V,expirationTime:X,sortIndex:-1},V>H?(k.sortIndex=V,e(c,k),n(l)===null&&k===n(c)&&(E?(A(R),R=-1):E=!0,q(S,V-H))):(k.sortIndex=X,e(l,k),g||m||(g=!0,Z(w))),k},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(k){var J=f;return function(){var V=f;f=J;try{return k.apply(this,arguments)}finally{f=V}}}})(YQ);JQ.exports=YQ;var J4=JQ.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rhe=function(e){var n={},r=Q,i=J4,s=Object.assign;function o(d){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+d,_=1;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),w=Symbol.iterator;function T(d){return d===null||typeof d!="object"?null:(d=w&&d[w]||d["@@iterator"],typeof d=="function"?d:null)}function b(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case u:return"Fragment";case c:return"Portal";case f:return"Profiler";case h:return"StrictMode";case x:return"Suspense";case A:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case g:return(d.displayName||"Context")+".Consumer";case m:return(d._context.displayName||"Context")+".Provider";case E:var p=d.render;return d=d.displayName,d||(d=p.displayName||p.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case v:return p=d.displayName||null,p!==null?p:b(d.type)||"Memo";case y:p=d._payload,d=d._init;try{return b(d(p))}catch{}}return null}function R(d){var p=d.type;switch(d.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=p.render,d=d.displayName||d.name||"",p.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return b(p);case 8:return p===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function M(d){var p=d,_=d;if(d.alternate)for(;p.return;)p=p.return;else{d=p;do p=d,p.flags&4098&&(_=p.return),d=p.return;while(d)}return p.tag===3?_:null}function B(d){if(M(d)!==d)throw Error(o(188))}function L(d){var p=d.alternate;if(!p){if(p=M(d),p===null)throw Error(o(188));return p!==d?null:d}for(var _=d,C=p;;){var I=_.return;if(I===null)break;var P=I.alternate;if(P===null){if(C=I.return,C!==null){_=C;continue}break}if(I.child===P.child){for(P=I.child;P;){if(P===_)return B(I),d;if(P===C)return B(I),p;P=P.sibling}throw Error(o(188))}if(_.return!==C.return)_=I,C=P;else{for(var j=!1,ne=I.child;ne;){if(ne===_){j=!0,_=I,C=P;break}if(ne===C){j=!0,C=I,_=P;break}ne=ne.sibling}if(!j){for(ne=P.child;ne;){if(ne===_){j=!0,_=P,C=I;break}if(ne===C){j=!0,C=P,_=I;break}ne=ne.sibling}if(!j)throw Error(o(189))}}if(_.alternate!==C)throw Error(o(190))}if(_.tag!==3)throw Error(o(188));return _.stateNode.current===_?d:p}function G(d){return d=L(d),d!==null?F(d):null}function F(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var p=F(d);if(p!==null)return p;d=d.sibling}return null}function $(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){if(d.tag!==4){var p=$(d);if(p!==null)return p}d=d.sibling}return null}var W=Array.isArray,Z=e.getPublicInstance,q=e.getRootHostContext,k=e.getChildHostContext,J=e.prepareForCommit,V=e.resetAfterCommit,H=e.createInstance,X=e.appendInitialChild,he=e.finalizeInitialChildren,ge=e.prepareUpdate,Ce=e.shouldSetTextContent,be=e.createTextInstance,Pe=e.scheduleTimeout,ke=e.cancelTimeout,Xe=e.noTimeout,Je=e.isPrimaryRenderer,we=e.supportsMutation,K=e.supportsPersistence,Se=e.supportsHydration,ve=e.getInstanceFromNode,Be=e.preparePortalMount,Te=e.getCurrentEventPriority,Ye=e.detachDeletedInstance,Qe=e.supportsMicrotasks,ze=e.scheduleMicrotask,lt=e.supportsTestSelectors,Et=e.findFiberRoot,ie=e.getBoundingRect,N=e.getTextContent,D=e.isHiddenSubtree,ee=e.matchAccessibilityRole,pe=e.setFocusIfFocusable,fe=e.setupIntersectionObserver,Ie=e.appendChild,We=e.appendChildToContainer,De=e.commitTextUpdate,oe=e.commitMount,Y=e.commitUpdate,ye=e.insertBefore,Re=e.insertInContainerBefore,Oe=e.removeChild,He=e.removeChildFromContainer,mt=e.resetTextContent,Bt=e.hideInstance,te=e.hideTextInstance,Ge=e.unhideInstance,ae=e.unhideTextInstance,Le=e.clearContainer,qe=e.cloneInstance,$t=e.createContainerChildSet,_n=e.appendChildToContainerChildSet,rr=e.finalizeContainerChildren,_o=e.replaceContainerChildren,mn=e.cloneHiddenInstance,us=e.cloneHiddenTextInstance,ti=e.canHydrateInstance,hA=e.canHydrateTextInstance,fA=e.canHydrateSuspenseInstance,dA=e.isSuspenseInstancePending,$l=e.isSuspenseInstanceFallback,pA=e.registerSuspenseInstanceRetry,la=e.getNextHydratableSibling,mA=e.getFirstHydratableChild,Ex=e.getFirstHydratableChildWithinContainer,_x=e.getFirstHydratableChildWithinSuspenseInstance,Sx=e.hydrateInstance,z=e.hydrateTextInstance,se=e.hydrateSuspenseInstance,Ee=e.getNextHydratableInstanceAfterSuspenseInstance,ce=e.commitHydratedContainer,_e=e.commitHydratedSuspenseInstance,nt=e.clearSuspenseBoundary,ft=e.clearSuspenseBoundaryFromContainer,_t=e.shouldDeleteUnhydratedTailInstances,St=e.didNotMatchHydratedContainerTextInstance,Ut=e.didNotMatchHydratedTextInstance,gt;function Tt(d){if(gt===void 0)try{throw Error()}catch(_){var p=_.stack.trim().match(/\n( *(at )?)/);gt=p&&p[1]||""}return`
`+gt+d}var Sn=!1;function Bn(d,p){if(!d||Sn)return"";Sn=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(Ue){var C=Ue}Reflect.construct(d,[],p)}else{try{p.call()}catch(Ue){C=Ue}d.call(p.prototype)}else{try{throw Error()}catch(Ue){C=Ue}d()}}catch(Ue){if(Ue&&C&&typeof Ue.stack=="string"){for(var I=Ue.stack.split(`
`),P=C.stack.split(`
`),j=I.length-1,ne=P.length-1;1<=j&&0<=ne&&I[j]!==P[ne];)ne--;for(;1<=j&&0<=ne;j--,ne--)if(I[j]!==P[ne]){if(j!==1||ne!==1)do if(j--,ne--,0>ne||I[j]!==P[ne]){var xe=`
`+I[j].replace(" at new "," at ");return d.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",d.displayName)),xe}while(1<=j&&0<=ne);break}}}finally{Sn=!1,Error.prepareStackTrace=_}return(d=d?d.displayName||d.name:"")?Tt(d):""}var ji=Object.prototype.hasOwnProperty,hs=[],An=-1;function bt(d){return{current:d}}function un(d){0>An||(d.current=hs[An],hs[An]=null,An--)}function Ct(d,p){An++,hs[An]=d.current,d.current=p}var ci={},Ir=bt(ci),yr=bt(!1),So=ci;function ir(d,p){var _=d.type.contextTypes;if(!_)return ci;var C=d.stateNode;if(C&&C.__reactInternalMemoizedUnmaskedChildContext===p)return C.__reactInternalMemoizedMaskedChildContext;var I={},P;for(P in _)I[P]=p[P];return C&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=p,d.__reactInternalMemoizedMaskedChildContext=I),I}function sr(d){return d=d.childContextTypes,d!=null}function Kl(){un(yr),un(Ir)}function ui(d,p,_){if(Ir.current!==ci)throw Error(o(168));Ct(Ir,p),Ct(yr,_)}function Ef(d,p,_){var C=d.stateNode;if(p=p.childContextTypes,typeof C.getChildContext!="function")return _;C=C.getChildContext();for(var I in C)if(!(I in p))throw Error(o(108,R(d)||"Unknown",I));return s({},_,C)}function _f(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||ci,So=Ir.current,Ct(Ir,d),Ct(yr,yr.current),!0}function c0(d,p,_){var C=d.stateNode;if(!C)throw Error(o(169));_?(d=Ef(d,p,So),C.__reactInternalMemoizedMergedChildContext=d,un(yr),un(Ir),Ct(Ir,d)):un(yr),Ct(yr,_)}var Co=Math.clz32?Math.clz32:JK,KK=Math.log,XK=Math.LN2;function JK(d){return d>>>=0,d===0?32:31-(KK(d)/XK|0)|0}var gA=64,AA=4194304;function u0(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function vA(d,p){var _=d.pendingLanes;if(_===0)return 0;var C=0,I=d.suspendedLanes,P=d.pingedLanes,j=_&268435455;if(j!==0){var ne=j&~I;ne!==0?C=u0(ne):(P&=j,P!==0&&(C=u0(P)))}else j=_&~I,j!==0?C=u0(j):P!==0&&(C=u0(P));if(C===0)return 0;if(p!==0&&p!==C&&!(p&I)&&(I=C&-C,P=p&-p,I>=P||I===16&&(P&4194240)!==0))return p;if(C&4&&(C|=_&16),p=d.entangledLanes,p!==0)for(d=d.entanglements,p&=C;0<p;)_=31-Co(p),I=1<<_,C|=d[_],p&=~I;return C}function YK(d,p){switch(d){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qK(d,p){for(var _=d.suspendedLanes,C=d.pingedLanes,I=d.expirationTimes,P=d.pendingLanes;0<P;){var j=31-Co(P),ne=1<<j,xe=I[j];xe===-1?(!(ne&_)||ne&C)&&(I[j]=YK(ne,p)):xe<=p&&(d.expiredLanes|=ne),P&=~ne}}function Cx(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function wx(d){for(var p=[],_=0;31>_;_++)p.push(d);return p}function h0(d,p,_){d.pendingLanes|=p,p!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,p=31-Co(p),d[p]=_}function ZK(d,p){var _=d.pendingLanes&~p;d.pendingLanes=p,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=p,d.mutableReadLanes&=p,d.entangledLanes&=p,p=d.entanglements;var C=d.eventTimes;for(d=d.expirationTimes;0<_;){var I=31-Co(_),P=1<<I;p[I]=0,C[I]=-1,d[I]=-1,_&=~P}}function Tx(d,p){var _=d.entangledLanes|=p;for(d=d.entanglements;_;){var C=31-Co(_),I=1<<C;I&p|d[C]&p&&(d[C]|=p),_&=~I}}var sn=0;function TI(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var Ix=i.unstable_scheduleCallback,II=i.unstable_cancelCallback,eX=i.unstable_shouldYield,tX=i.unstable_requestPaint,Hr=i.unstable_now,bx=i.unstable_ImmediatePriority,nX=i.unstable_UserBlockingPriority,Mx=i.unstable_NormalPriority,rX=i.unstable_IdlePriority,yA=null,ca=null;function iX(d){if(ca&&typeof ca.onCommitFiberRoot=="function")try{ca.onCommitFiberRoot(yA,d,void 0,(d.current.flags&128)===128)}catch{}}function sX(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var ua=typeof Object.is=="function"?Object.is:sX,Ya=null,xA=!1,Rx=!1;function bI(d){Ya===null?Ya=[d]:Ya.push(d)}function oX(d){xA=!0,bI(d)}function ha(){if(!Rx&&Ya!==null){Rx=!0;var d=0,p=sn;try{var _=Ya;for(sn=1;d<_.length;d++){var C=_[d];do C=C(!0);while(C!==null)}Ya=null,xA=!1}catch(I){throw Ya!==null&&(Ya=Ya.slice(d+1)),Ix(bx,ha),I}finally{sn=p,Rx=!1}}return null}var aX=a.ReactCurrentBatchConfig;function EA(d,p){if(ua(d,p))return!0;if(typeof d!="object"||d===null||typeof p!="object"||p===null)return!1;var _=Object.keys(d),C=Object.keys(p);if(_.length!==C.length)return!1;for(C=0;C<_.length;C++){var I=_[C];if(!ji.call(p,I)||!ua(d[I],p[I]))return!1}return!0}function lX(d){switch(d.tag){case 5:return Tt(d.type);case 16:return Tt("Lazy");case 13:return Tt("Suspense");case 19:return Tt("SuspenseList");case 0:case 2:case 15:return d=Bn(d.type,!1),d;case 11:return d=Bn(d.type.render,!1),d;case 1:return d=Bn(d.type,!0),d;default:return""}}function wo(d,p){if(d&&d.defaultProps){p=s({},p),d=d.defaultProps;for(var _ in d)p[_]===void 0&&(p[_]=d[_]);return p}return p}var _A=bt(null),SA=null,Sf=null,Bx=null;function Px(){Bx=Sf=SA=null}function MI(d,p,_){Je?(Ct(_A,p._currentValue),p._currentValue=_):(Ct(_A,p._currentValue2),p._currentValue2=_)}function Dx(d){var p=_A.current;un(_A),Je?d._currentValue=p:d._currentValue2=p}function Lx(d,p,_){for(;d!==null;){var C=d.alternate;if((d.childLanes&p)!==p?(d.childLanes|=p,C!==null&&(C.childLanes|=p)):C!==null&&(C.childLanes&p)!==p&&(C.childLanes|=p),d===_)break;d=d.return}}function Cf(d,p){SA=d,Bx=Sf=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&p&&(ps=!0),d.firstContext=null)}function Us(d){var p=Je?d._currentValue:d._currentValue2;if(Bx!==d)if(d={context:d,memoizedValue:p,next:null},Sf===null){if(SA===null)throw Error(o(308));Sf=d,SA.dependencies={lanes:0,firstContext:d}}else Sf=Sf.next=d;return p}var fa=null,Xl=!1;function Ox(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function RI(d,p){d=d.updateQueue,p.updateQueue===d&&(p.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function qa(d,p){return{eventTime:d,lane:p,tag:0,payload:null,callback:null,next:null}}function Jl(d,p){var _=d.updateQueue;_!==null&&(_=_.shared,xr!==null&&d.mode&1&&!(Gt&2)?(d=_.interleaved,d===null?(p.next=p,fa===null?fa=[_]:fa.push(_)):(p.next=d.next,d.next=p),_.interleaved=p):(d=_.pending,d===null?p.next=p:(p.next=d.next,d.next=p),_.pending=p))}function CA(d,p,_){if(p=p.updateQueue,p!==null&&(p=p.shared,(_&4194240)!==0)){var C=p.lanes;C&=d.pendingLanes,_|=C,p.lanes=_,Tx(d,_)}}function BI(d,p){var _=d.updateQueue,C=d.alternate;if(C!==null&&(C=C.updateQueue,_===C)){var I=null,P=null;if(_=_.firstBaseUpdate,_!==null){do{var j={eventTime:_.eventTime,lane:_.lane,tag:_.tag,payload:_.payload,callback:_.callback,next:null};P===null?I=P=j:P=P.next=j,_=_.next}while(_!==null);P===null?I=P=p:P=P.next=p}else I=P=p;_={baseState:C.baseState,firstBaseUpdate:I,lastBaseUpdate:P,shared:C.shared,effects:C.effects},d.updateQueue=_;return}d=_.lastBaseUpdate,d===null?_.firstBaseUpdate=p:d.next=p,_.lastBaseUpdate=p}function wA(d,p,_,C){var I=d.updateQueue;Xl=!1;var P=I.firstBaseUpdate,j=I.lastBaseUpdate,ne=I.shared.pending;if(ne!==null){I.shared.pending=null;var xe=ne,Ue=xe.next;xe.next=null,j===null?P=Ue:j.next=Ue,j=xe;var rt=d.alternate;rt!==null&&(rt=rt.updateQueue,ne=rt.lastBaseUpdate,ne!==j&&(ne===null?rt.firstBaseUpdate=Ue:ne.next=Ue,rt.lastBaseUpdate=xe))}if(P!==null){var Pt=I.baseState;j=0,rt=Ue=xe=null,ne=P;do{var dt=ne.lane,vn=ne.eventTime;if((C&dt)===dt){rt!==null&&(rt=rt.next={eventTime:vn,lane:0,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null});e:{var ut=d,pi=ne;switch(dt=p,vn=_,pi.tag){case 1:if(ut=pi.payload,typeof ut=="function"){Pt=ut.call(vn,Pt,dt);break e}Pt=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=pi.payload,dt=typeof ut=="function"?ut.call(vn,Pt,dt):ut,dt==null)break e;Pt=s({},Pt,dt);break e;case 2:Xl=!0}}ne.callback!==null&&ne.lane!==0&&(d.flags|=64,dt=I.effects,dt===null?I.effects=[ne]:dt.push(ne))}else vn={eventTime:vn,lane:dt,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null},rt===null?(Ue=rt=vn,xe=Pt):rt=rt.next=vn,j|=dt;if(ne=ne.next,ne===null){if(ne=I.shared.pending,ne===null)break;dt=ne,ne=dt.next,dt.next=null,I.lastBaseUpdate=dt,I.shared.pending=null}}while(1);if(rt===null&&(xe=Pt),I.baseState=xe,I.firstBaseUpdate=Ue,I.lastBaseUpdate=rt,p=I.shared.interleaved,p!==null){I=p;do j|=I.lane,I=I.next;while(I!==p)}else P===null&&(I.shared.lanes=0);Df|=j,d.lanes=j,d.memoizedState=Pt}}function PI(d,p,_){if(d=p.effects,p.effects=null,d!==null)for(p=0;p<d.length;p++){var C=d[p],I=C.callback;if(I!==null){if(C.callback=null,C=_,typeof I!="function")throw Error(o(191,I));I.call(C)}}}var DI=new r.Component().refs;function Fx(d,p,_,C){p=d.memoizedState,_=_(C,p),_=_==null?p:s({},p,_),d.memoizedState=_,d.lanes===0&&(d.updateQueue.baseState=_)}var TA={isMounted:function(d){return(d=d._reactInternals)?M(d)===d:!1},enqueueSetState:function(d,p,_){d=d._reactInternals;var C=Mi(),I=Zl(d),P=qa(C,I);P.payload=p,_!=null&&(P.callback=_),Jl(d,P),p=Vs(d,I,C),p!==null&&CA(p,d,I)},enqueueReplaceState:function(d,p,_){d=d._reactInternals;var C=Mi(),I=Zl(d),P=qa(C,I);P.tag=1,P.payload=p,_!=null&&(P.callback=_),Jl(d,P),p=Vs(d,I,C),p!==null&&CA(p,d,I)},enqueueForceUpdate:function(d,p){d=d._reactInternals;var _=Mi(),C=Zl(d),I=qa(_,C);I.tag=2,p!=null&&(I.callback=p),Jl(d,I),p=Vs(d,C,_),p!==null&&CA(p,d,C)}};function LI(d,p,_,C,I,P,j){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(C,P,j):p.prototype&&p.prototype.isPureReactComponent?!EA(_,C)||!EA(I,P):!0}function OI(d,p,_){var C=!1,I=ci,P=p.contextType;return typeof P=="object"&&P!==null?P=Us(P):(I=sr(p)?So:Ir.current,C=p.contextTypes,P=(C=C!=null)?ir(d,I):ci),p=new p(_,P),d.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=TA,d.stateNode=p,p._reactInternals=d,C&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=I,d.__reactInternalMemoizedMaskedChildContext=P),p}function FI(d,p,_,C){d=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(_,C),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(_,C),p.state!==d&&TA.enqueueReplaceState(p,p.state,null)}function Nx(d,p,_,C){var I=d.stateNode;I.props=_,I.state=d.memoizedState,I.refs=DI,Ox(d);var P=p.contextType;typeof P=="object"&&P!==null?I.context=Us(P):(P=sr(p)?So:Ir.current,I.context=ir(d,P)),I.state=d.memoizedState,P=p.getDerivedStateFromProps,typeof P=="function"&&(Fx(d,p,P,_),I.state=d.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(p=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),p!==I.state&&TA.enqueueReplaceState(I,I.state,null),wA(d,_,I,C),I.state=d.memoizedState),typeof I.componentDidMount=="function"&&(d.flags|=4194308)}var wf=[],Tf=0,IA=null,bA=0,Gs=[],Hs=0,Su=null,Za=1,el="";function Cu(d,p){wf[Tf++]=bA,wf[Tf++]=IA,IA=d,bA=p}function NI(d,p,_){Gs[Hs++]=Za,Gs[Hs++]=el,Gs[Hs++]=Su,Su=d;var C=Za;d=el;var I=32-Co(C)-1;C&=~(1<<I),_+=1;var P=32-Co(p)+I;if(30<P){var j=I-I%5;P=(C&(1<<j)-1).toString(32),C>>=j,I-=j,Za=1<<32-Co(p)+I|_<<I|C,el=P+d}else Za=1<<P|_<<I|C,el=d}function kx(d){d.return!==null&&(Cu(d,1),NI(d,1,0))}function Ux(d){for(;d===IA;)IA=wf[--Tf],wf[Tf]=null,bA=wf[--Tf],wf[Tf]=null;for(;d===Su;)Su=Gs[--Hs],Gs[Hs]=null,el=Gs[--Hs],Gs[Hs]=null,Za=Gs[--Hs],Gs[Hs]=null}var fs=null,ds=null,zn=!1,f0=!1,To=null;function kI(d,p){var _=Ws(5,null,null,0);_.elementType="DELETED",_.stateNode=p,_.return=d,p=d.deletions,p===null?(d.deletions=[_],d.flags|=16):p.push(_)}function UI(d,p){switch(d.tag){case 5:return p=ti(p,d.type,d.pendingProps),p!==null?(d.stateNode=p,fs=d,ds=mA(p),!0):!1;case 6:return p=hA(p,d.pendingProps),p!==null?(d.stateNode=p,fs=d,ds=null,!0):!1;case 13:if(p=fA(p),p!==null){var _=Su!==null?{id:Za,overflow:el}:null;return d.memoizedState={dehydrated:p,treeContext:_,retryLane:1073741824},_=Ws(18,null,null,0),_.stateNode=p,_.return=d,d.child=_,fs=d,ds=null,!0}return!1;default:return!1}}function Gx(d){return(d.mode&1)!==0&&(d.flags&128)===0}function Hx(d){if(zn){var p=ds;if(p){var _=p;if(!UI(d,p)){if(Gx(d))throw Error(o(418));p=la(_);var C=fs;p&&UI(d,p)?kI(C,_):(d.flags=d.flags&-4097|2,zn=!1,fs=d)}}else{if(Gx(d))throw Error(o(418));d.flags=d.flags&-4097|2,zn=!1,fs=d}}}function GI(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;fs=d}function d0(d){if(!Se||d!==fs)return!1;if(!zn)return GI(d),zn=!0,!1;if(d.tag!==3&&(d.tag!==5||_t(d.type)&&!Ce(d.type,d.memoizedProps))){var p=ds;if(p){if(Gx(d)){for(d=ds;d;)d=la(d);throw Error(o(418))}for(;p;)kI(d,p),p=la(p)}}if(GI(d),d.tag===13){if(!Se)throw Error(o(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));ds=Ee(d)}else ds=fs?la(d.stateNode):null;return!0}function If(){Se&&(ds=fs=null,f0=zn=!1)}function Qx(d){To===null?To=[d]:To.push(d)}function p0(d,p,_){if(d=_.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(_._owner){if(_=_._owner,_){if(_.tag!==1)throw Error(o(309));var C=_.stateNode}if(!C)throw Error(o(147,d));var I=C,P=""+d;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===P?p.ref:(p=function(j){var ne=I.refs;ne===DI&&(ne=I.refs={}),j===null?delete ne[P]:ne[P]=j},p._stringRef=P,p)}if(typeof d!="string")throw Error(o(284));if(!_._owner)throw Error(o(290,d))}return d}function MA(d,p){throw d=Object.prototype.toString.call(p),Error(o(31,d==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":d))}function HI(d){var p=d._init;return p(d._payload)}function QI(d){function p(le,re){if(d){var me=le.deletions;me===null?(le.deletions=[re],le.flags|=16):me.push(re)}}function _(le,re){if(!d)return null;for(;re!==null;)p(le,re),re=re.sibling;return null}function C(le,re){for(le=new Map;re!==null;)re.key!==null?le.set(re.key,re):le.set(re.index,re),re=re.sibling;return le}function I(le,re){return le=tc(le,re),le.index=0,le.sibling=null,le}function P(le,re,me){return le.index=me,d?(me=le.alternate,me!==null?(me=me.index,me<re?(le.flags|=2,re):me):(le.flags|=2,re)):(le.flags|=1048576,re)}function j(le){return d&&le.alternate===null&&(le.flags|=2),le}function ne(le,re,me,et){return re===null||re.tag!==6?(re=wE(me,le.mode,et),re.return=le,re):(re=I(re,me),re.return=le,re)}function xe(le,re,me,et){var ct=me.type;return ct===u?rt(le,re,me.props.children,et,me.key):re!==null&&(re.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===y&&HI(ct)===re.type)?(et=I(re,me.props),et.ref=p0(le,re,me),et.return=le,et):(et=o1(me.type,me.key,me.props,null,le.mode,et),et.ref=p0(le,re,me),et.return=le,et)}function Ue(le,re,me,et){return re===null||re.tag!==4||re.stateNode.containerInfo!==me.containerInfo||re.stateNode.implementation!==me.implementation?(re=TE(me,le.mode,et),re.return=le,re):(re=I(re,me.children||[]),re.return=le,re)}function rt(le,re,me,et,ct){return re===null||re.tag!==7?(re=Bu(me,le.mode,et,ct),re.return=le,re):(re=I(re,me),re.return=le,re)}function Pt(le,re,me){if(typeof re=="string"&&re!==""||typeof re=="number")return re=wE(""+re,le.mode,me),re.return=le,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case l:return me=o1(re.type,re.key,re.props,null,le.mode,me),me.ref=p0(le,null,re),me.return=le,me;case c:return re=TE(re,le.mode,me),re.return=le,re;case y:var et=re._init;return Pt(le,et(re._payload),me)}if(W(re)||T(re))return re=Bu(re,le.mode,me,null),re.return=le,re;MA(le,re)}return null}function dt(le,re,me,et){var ct=re!==null?re.key:null;if(typeof me=="string"&&me!==""||typeof me=="number")return ct!==null?null:ne(le,re,""+me,et);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case l:return me.key===ct?xe(le,re,me,et):null;case c:return me.key===ct?Ue(le,re,me,et):null;case y:return ct=me._init,dt(le,re,ct(me._payload),et)}if(W(me)||T(me))return ct!==null?null:rt(le,re,me,et,null);MA(le,me)}return null}function vn(le,re,me,et,ct){if(typeof et=="string"&&et!==""||typeof et=="number")return le=le.get(me)||null,ne(re,le,""+et,ct);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case l:return le=le.get(et.key===null?me:et.key)||null,xe(re,le,et,ct);case c:return le=le.get(et.key===null?me:et.key)||null,Ue(re,le,et,ct);case y:var Nt=et._init;return vn(le,re,me,Nt(et._payload),ct)}if(W(et)||T(et))return le=le.get(me)||null,rt(re,le,et,ct,null);MA(re,et)}return null}function ut(le,re,me,et){for(var ct=null,Nt=null,Dt=re,on=re=0,zr=null;Dt!==null&&on<me.length;on++){Dt.index>on?(zr=Dt,Dt=null):zr=Dt.sibling;var an=dt(le,Dt,me[on],et);if(an===null){Dt===null&&(Dt=zr);break}d&&Dt&&an.alternate===null&&p(le,Dt),re=P(an,re,on),Nt===null?ct=an:Nt.sibling=an,Nt=an,Dt=zr}if(on===me.length)return _(le,Dt),zn&&Cu(le,on),ct;if(Dt===null){for(;on<me.length;on++)Dt=Pt(le,me[on],et),Dt!==null&&(re=P(Dt,re,on),Nt===null?ct=Dt:Nt.sibling=Dt,Nt=Dt);return zn&&Cu(le,on),ct}for(Dt=C(le,Dt);on<me.length;on++)zr=vn(Dt,le,on,me[on],et),zr!==null&&(d&&zr.alternate!==null&&Dt.delete(zr.key===null?on:zr.key),re=P(zr,re,on),Nt===null?ct=zr:Nt.sibling=zr,Nt=zr);return d&&Dt.forEach(function(nc){return p(le,nc)}),zn&&Cu(le,on),ct}function pi(le,re,me,et){var ct=T(me);if(typeof ct!="function")throw Error(o(150));if(me=ct.call(me),me==null)throw Error(o(151));for(var Nt=ct=null,Dt=re,on=re=0,zr=null,an=me.next();Dt!==null&&!an.done;on++,an=me.next()){Dt.index>on?(zr=Dt,Dt=null):zr=Dt.sibling;var nc=dt(le,Dt,an.value,et);if(nc===null){Dt===null&&(Dt=zr);break}d&&Dt&&nc.alternate===null&&p(le,Dt),re=P(nc,re,on),Nt===null?ct=nc:Nt.sibling=nc,Nt=nc,Dt=zr}if(an.done)return _(le,Dt),zn&&Cu(le,on),ct;if(Dt===null){for(;!an.done;on++,an=me.next())an=Pt(le,an.value,et),an!==null&&(re=P(an,re,on),Nt===null?ct=an:Nt.sibling=an,Nt=an);return zn&&Cu(le,on),ct}for(Dt=C(le,Dt);!an.done;on++,an=me.next())an=vn(Dt,le,on,an.value,et),an!==null&&(d&&an.alternate!==null&&Dt.delete(an.key===null?on:an.key),re=P(an,re,on),Nt===null?ct=an:Nt.sibling=an,Nt=an);return d&&Dt.forEach(function(kX){return p(le,kX)}),zn&&Cu(le,on),ct}function js(le,re,me,et){if(typeof me=="object"&&me!==null&&me.type===u&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case l:e:{for(var ct=me.key,Nt=re;Nt!==null;){if(Nt.key===ct){if(ct=me.type,ct===u){if(Nt.tag===7){_(le,Nt.sibling),re=I(Nt,me.props.children),re.return=le,le=re;break e}}else if(Nt.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===y&&HI(ct)===Nt.type){_(le,Nt.sibling),re=I(Nt,me.props),re.ref=p0(le,Nt,me),re.return=le,le=re;break e}_(le,Nt);break}else p(le,Nt);Nt=Nt.sibling}me.type===u?(re=Bu(me.props.children,le.mode,et,me.key),re.return=le,le=re):(et=o1(me.type,me.key,me.props,null,le.mode,et),et.ref=p0(le,re,me),et.return=le,le=et)}return j(le);case c:e:{for(Nt=me.key;re!==null;){if(re.key===Nt)if(re.tag===4&&re.stateNode.containerInfo===me.containerInfo&&re.stateNode.implementation===me.implementation){_(le,re.sibling),re=I(re,me.children||[]),re.return=le,le=re;break e}else{_(le,re);break}else p(le,re);re=re.sibling}re=TE(me,le.mode,et),re.return=le,le=re}return j(le);case y:return Nt=me._init,js(le,re,Nt(me._payload),et)}if(W(me))return ut(le,re,me,et);if(T(me))return pi(le,re,me,et);MA(le,me)}return typeof me=="string"&&me!==""||typeof me=="number"?(me=""+me,re!==null&&re.tag===6?(_(le,re.sibling),re=I(re,me),re.return=le,le=re):(_(le,re),re=wE(me,le.mode,et),re.return=le,le=re),j(le)):_(le,re)}return js}var bf=QI(!0),zI=QI(!1),m0={},Qs=bt(m0),g0=bt(m0),Mf=bt(m0);function da(d){if(d===m0)throw Error(o(174));return d}function zx(d,p){Ct(Mf,p),Ct(g0,d),Ct(Qs,m0),d=q(p),un(Qs),Ct(Qs,d)}function Rf(){un(Qs),un(g0),un(Mf)}function VI(d){var p=da(Mf.current),_=da(Qs.current);p=k(_,d.type,p),_!==p&&(Ct(g0,d),Ct(Qs,p))}function Vx(d){g0.current===d&&(un(Qs),un(g0))}var $n=bt(0);function RA(d){for(var p=d;p!==null;){if(p.tag===13){var _=p.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||dA(_)||$l(_)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if(p.flags&128)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var Wx=[];function jx(){for(var d=0;d<Wx.length;d++){var p=Wx[d];Je?p._workInProgressVersionPrimary=null:p._workInProgressVersionSecondary=null}Wx.length=0}var BA=a.ReactCurrentDispatcher,zs=a.ReactCurrentBatchConfig,Bf=0,or=null,hi=null,Qr=null,PA=!1,A0=!1,v0=0,cX=0;function fi(){throw Error(o(321))}function $x(d,p){if(p===null)return!1;for(var _=0;_<p.length&&_<d.length;_++)if(!ua(d[_],p[_]))return!1;return!0}function Kx(d,p,_,C,I,P){if(Bf=P,or=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,BA.current=d===null||d.memoizedState===null?dX:pX,d=_(C,I),A0){P=0;do{if(A0=!1,v0=0,25<=P)throw Error(o(301));P+=1,Qr=hi=null,p.updateQueue=null,BA.current=mX,d=_(C,I)}while(A0)}if(BA.current=NA,p=hi!==null&&hi.next!==null,Bf=0,Qr=hi=or=null,PA=!1,p)throw Error(o(300));return d}function Xx(){var d=v0!==0;return v0=0,d}function tl(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qr===null?or.memoizedState=Qr=d:Qr=Qr.next=d,Qr}function pa(){if(hi===null){var d=or.alternate;d=d!==null?d.memoizedState:null}else d=hi.next;var p=Qr===null?or.memoizedState:Qr.next;if(p!==null)Qr=p,hi=d;else{if(d===null)throw Error(o(310));hi=d,d={memoizedState:hi.memoizedState,baseState:hi.baseState,baseQueue:hi.baseQueue,queue:hi.queue,next:null},Qr===null?or.memoizedState=Qr=d:Qr=Qr.next=d}return Qr}function wu(d,p){return typeof p=="function"?p(d):p}function DA(d){var p=pa(),_=p.queue;if(_===null)throw Error(o(311));_.lastRenderedReducer=d;var C=hi,I=C.baseQueue,P=_.pending;if(P!==null){if(I!==null){var j=I.next;I.next=P.next,P.next=j}C.baseQueue=I=P,_.pending=null}if(I!==null){P=I.next,C=C.baseState;var ne=j=null,xe=null,Ue=P;do{var rt=Ue.lane;if((Bf&rt)===rt)xe!==null&&(xe=xe.next={lane:0,action:Ue.action,hasEagerState:Ue.hasEagerState,eagerState:Ue.eagerState,next:null}),C=Ue.hasEagerState?Ue.eagerState:d(C,Ue.action);else{var Pt={lane:rt,action:Ue.action,hasEagerState:Ue.hasEagerState,eagerState:Ue.eagerState,next:null};xe===null?(ne=xe=Pt,j=C):xe=xe.next=Pt,or.lanes|=rt,Df|=rt}Ue=Ue.next}while(Ue!==null&&Ue!==P);xe===null?j=C:xe.next=ne,ua(C,p.memoizedState)||(ps=!0),p.memoizedState=C,p.baseState=j,p.baseQueue=xe,_.lastRenderedState=C}if(d=_.interleaved,d!==null){I=d;do P=I.lane,or.lanes|=P,Df|=P,I=I.next;while(I!==d)}else I===null&&(_.lanes=0);return[p.memoizedState,_.dispatch]}function LA(d){var p=pa(),_=p.queue;if(_===null)throw Error(o(311));_.lastRenderedReducer=d;var C=_.dispatch,I=_.pending,P=p.memoizedState;if(I!==null){_.pending=null;var j=I=I.next;do P=d(P,j.action),j=j.next;while(j!==I);ua(P,p.memoizedState)||(ps=!0),p.memoizedState=P,p.baseQueue===null&&(p.baseState=P),_.lastRenderedState=P}return[P,C]}function WI(){}function jI(d,p){var _=or,C=pa(),I=p(),P=!ua(C.memoizedState,I);if(P&&(C.memoizedState=I,ps=!0),C=C.queue,x0(XI.bind(null,_,C,d),[d]),C.getSnapshot!==p||P||Qr!==null&&Qr.memoizedState.tag&1){if(_.flags|=2048,y0(9,KI.bind(null,_,C,I,p),void 0,null),xr===null)throw Error(o(349));Bf&30||$I(_,p,I)}return I}function $I(d,p,_){d.flags|=16384,d={getSnapshot:p,value:_},p=or.updateQueue,p===null?(p={lastEffect:null,stores:null},or.updateQueue=p,p.stores=[d]):(_=p.stores,_===null?p.stores=[d]:_.push(d))}function KI(d,p,_,C){p.value=_,p.getSnapshot=C,JI(p)&&Vs(d,1,-1)}function XI(d,p,_){return _(function(){JI(p)&&Vs(d,1,-1)})}function JI(d){var p=d.getSnapshot;d=d.value;try{var _=p();return!ua(d,_)}catch{return!0}}function Jx(d){var p=tl();return typeof d=="function"&&(d=d()),p.memoizedState=p.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wu,lastRenderedState:d},p.queue=d,d=d.dispatch=fX.bind(null,or,d),[p.memoizedState,d]}function y0(d,p,_,C){return d={tag:d,create:p,destroy:_,deps:C,next:null},p=or.updateQueue,p===null?(p={lastEffect:null,stores:null},or.updateQueue=p,p.lastEffect=d.next=d):(_=p.lastEffect,_===null?p.lastEffect=d.next=d:(C=_.next,_.next=d,d.next=C,p.lastEffect=d)),d}function YI(){return pa().memoizedState}function OA(d,p,_,C){var I=tl();or.flags|=d,I.memoizedState=y0(1|p,_,void 0,C===void 0?null:C)}function FA(d,p,_,C){var I=pa();C=C===void 0?null:C;var P=void 0;if(hi!==null){var j=hi.memoizedState;if(P=j.destroy,C!==null&&$x(C,j.deps)){I.memoizedState=y0(p,_,P,C);return}}or.flags|=d,I.memoizedState=y0(1|p,_,P,C)}function Yx(d,p){return OA(8390656,8,d,p)}function x0(d,p){return FA(2048,8,d,p)}function qI(d,p){return FA(4,2,d,p)}function ZI(d,p){return FA(4,4,d,p)}function eb(d,p){if(typeof p=="function")return d=d(),p(d),function(){p(null)};if(p!=null)return d=d(),p.current=d,function(){p.current=null}}function tb(d,p,_){return _=_!=null?_.concat([d]):null,FA(4,4,eb.bind(null,p,d),_)}function qx(){}function nb(d,p){var _=pa();p=p===void 0?null:p;var C=_.memoizedState;return C!==null&&p!==null&&$x(p,C[1])?C[0]:(_.memoizedState=[d,p],d)}function rb(d,p){var _=pa();p=p===void 0?null:p;var C=_.memoizedState;return C!==null&&p!==null&&$x(p,C[1])?C[0]:(d=d(),_.memoizedState=[d,p],d)}function uX(d,p){var _=sn;sn=_!==0&&4>_?_:4,d(!0);var C=zs.transition;zs.transition={};try{d(!1),p()}finally{sn=_,zs.transition=C}}function ib(){return pa().memoizedState}function hX(d,p,_){var C=Zl(d);_={lane:C,action:_,hasEagerState:!1,eagerState:null,next:null},sb(d)?ob(p,_):(ab(d,p,_),_=Mi(),d=Vs(d,C,_),d!==null&&lb(d,p,C))}function fX(d,p,_){var C=Zl(d),I={lane:C,action:_,hasEagerState:!1,eagerState:null,next:null};if(sb(d))ob(p,I);else{ab(d,p,I);var P=d.alternate;if(d.lanes===0&&(P===null||P.lanes===0)&&(P=p.lastRenderedReducer,P!==null))try{var j=p.lastRenderedState,ne=P(j,_);if(I.hasEagerState=!0,I.eagerState=ne,ua(ne,j))return}catch{}finally{}_=Mi(),d=Vs(d,C,_),d!==null&&lb(d,p,C)}}function sb(d){var p=d.alternate;return d===or||p!==null&&p===or}function ob(d,p){A0=PA=!0;var _=d.pending;_===null?p.next=p:(p.next=_.next,_.next=p),d.pending=p}function ab(d,p,_){xr!==null&&d.mode&1&&!(Gt&2)?(d=p.interleaved,d===null?(_.next=_,fa===null?fa=[p]:fa.push(p)):(_.next=d.next,d.next=_),p.interleaved=_):(d=p.pending,d===null?_.next=_:(_.next=d.next,d.next=_),p.pending=_)}function lb(d,p,_){if(_&4194240){var C=p.lanes;C&=d.pendingLanes,_|=C,p.lanes=_,Tx(d,_)}}var NA={readContext:Us,useCallback:fi,useContext:fi,useEffect:fi,useImperativeHandle:fi,useInsertionEffect:fi,useLayoutEffect:fi,useMemo:fi,useReducer:fi,useRef:fi,useState:fi,useDebugValue:fi,useDeferredValue:fi,useTransition:fi,useMutableSource:fi,useSyncExternalStore:fi,useId:fi,unstable_isNewReconciler:!1},dX={readContext:Us,useCallback:function(d,p){return tl().memoizedState=[d,p===void 0?null:p],d},useContext:Us,useEffect:Yx,useImperativeHandle:function(d,p,_){return _=_!=null?_.concat([d]):null,OA(4194308,4,eb.bind(null,p,d),_)},useLayoutEffect:function(d,p){return OA(4194308,4,d,p)},useInsertionEffect:function(d,p){return OA(4,2,d,p)},useMemo:function(d,p){var _=tl();return p=p===void 0?null:p,d=d(),_.memoizedState=[d,p],d},useReducer:function(d,p,_){var C=tl();return p=_!==void 0?_(p):p,C.memoizedState=C.baseState=p,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:p},C.queue=d,d=d.dispatch=hX.bind(null,or,d),[C.memoizedState,d]},useRef:function(d){var p=tl();return d={current:d},p.memoizedState=d},useState:Jx,useDebugValue:qx,useDeferredValue:function(d){var p=Jx(d),_=p[0],C=p[1];return Yx(function(){var I=zs.transition;zs.transition={};try{C(d)}finally{zs.transition=I}},[d]),_},useTransition:function(){var d=Jx(!1),p=d[0];return d=uX.bind(null,d[1]),tl().memoizedState=d,[p,d]},useMutableSource:function(){},useSyncExternalStore:function(d,p,_){var C=or,I=tl();if(zn){if(_===void 0)throw Error(o(407));_=_()}else{if(_=p(),xr===null)throw Error(o(349));Bf&30||$I(C,p,_)}I.memoizedState=_;var P={value:_,getSnapshot:p};return I.queue=P,Yx(XI.bind(null,C,P,d),[d]),C.flags|=2048,y0(9,KI.bind(null,C,P,_,p),void 0,null),_},useId:function(){var d=tl(),p=xr.identifierPrefix;if(zn){var _=el,C=Za;_=(C&~(1<<32-Co(C)-1)).toString(32)+_,p=":"+p+"R"+_,_=v0++,0<_&&(p+="H"+_.toString(32)),p+=":"}else _=cX++,p=":"+p+"r"+_.toString(32)+":";return d.memoizedState=p},unstable_isNewReconciler:!1},pX={readContext:Us,useCallback:nb,useContext:Us,useEffect:x0,useImperativeHandle:tb,useInsertionEffect:qI,useLayoutEffect:ZI,useMemo:rb,useReducer:DA,useRef:YI,useState:function(){return DA(wu)},useDebugValue:qx,useDeferredValue:function(d){var p=DA(wu),_=p[0],C=p[1];return x0(function(){var I=zs.transition;zs.transition={};try{C(d)}finally{zs.transition=I}},[d]),_},useTransition:function(){var d=DA(wu)[0],p=pa().memoizedState;return[d,p]},useMutableSource:WI,useSyncExternalStore:jI,useId:ib,unstable_isNewReconciler:!1},mX={readContext:Us,useCallback:nb,useContext:Us,useEffect:x0,useImperativeHandle:tb,useInsertionEffect:qI,useLayoutEffect:ZI,useMemo:rb,useReducer:LA,useRef:YI,useState:function(){return LA(wu)},useDebugValue:qx,useDeferredValue:function(d){var p=LA(wu),_=p[0],C=p[1];return x0(function(){var I=zs.transition;zs.transition={};try{C(d)}finally{zs.transition=I}},[d]),_},useTransition:function(){var d=LA(wu)[0],p=pa().memoizedState;return[d,p]},useMutableSource:WI,useSyncExternalStore:jI,useId:ib,unstable_isNewReconciler:!1};function Zx(d,p){try{var _="",C=p;do _+=lX(C),C=C.return;while(C);var I=_}catch(P){I=`
Error generating stack: `+P.message+`
`+P.stack}return{value:d,source:p,stack:I}}function eE(d,p){try{console.error(p.value)}catch(_){setTimeout(function(){throw _})}}var gX=typeof WeakMap=="function"?WeakMap:Map;function cb(d,p,_){_=qa(-1,_),_.tag=3,_.payload={element:null};var C=p.value;return _.callback=function(){ZA||(ZA=!0,vE=C),eE(d,p)},_}function ub(d,p,_){_=qa(-1,_),_.tag=3;var C=d.type.getDerivedStateFromError;if(typeof C=="function"){var I=p.value;_.payload=function(){return C(I)},_.callback=function(){eE(d,p)}}var P=d.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(_.callback=function(){eE(d,p),typeof C!="function"&&(Yl===null?Yl=new Set([this]):Yl.add(this));var j=p.stack;this.componentDidCatch(p.value,{componentStack:j!==null?j:""})}),_}function hb(d,p,_){var C=d.pingCache;if(C===null){C=d.pingCache=new gX;var I=new Set;C.set(p,I)}else I=C.get(p),I===void 0&&(I=new Set,C.set(p,I));I.has(_)||(I.add(_),d=RX.bind(null,d,p,_),p.then(d,d))}function fb(d){do{var p;if((p=d.tag===13)&&(p=d.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return d;d=d.return}while(d!==null);return null}function db(d,p,_,C,I){return d.mode&1?(d.flags|=65536,d.lanes=I,d):(d===p?d.flags|=65536:(d.flags|=128,_.flags|=131072,_.flags&=-52805,_.tag===1&&(_.alternate===null?_.tag=17:(p=qa(-1,1),p.tag=2,Jl(_,p))),_.lanes|=1),d)}function ma(d){d.flags|=4}function pb(d,p){if(d!==null&&d.child===p.child)return!0;if(p.flags&16)return!1;for(d=p.child;d!==null;){if(d.flags&12854||d.subtreeFlags&12854)return!1;d=d.sibling}return!0}var E0,_0,kA,UA;if(we)E0=function(d,p){for(var _=p.child;_!==null;){if(_.tag===5||_.tag===6)X(d,_.stateNode);else if(_.tag!==4&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===p)break;for(;_.sibling===null;){if(_.return===null||_.return===p)return;_=_.return}_.sibling.return=_.return,_=_.sibling}},_0=function(){},kA=function(d,p,_,C,I){if(d=d.memoizedProps,d!==C){var P=p.stateNode,j=da(Qs.current);_=ge(P,_,d,C,I,j),(p.updateQueue=_)&&ma(p)}},UA=function(d,p,_,C){_!==C&&ma(p)};else if(K){E0=function(d,p,_,C){for(var I=p.child;I!==null;){if(I.tag===5){var P=I.stateNode;_&&C&&(P=mn(P,I.type,I.memoizedProps,I)),X(d,P)}else if(I.tag===6)P=I.stateNode,_&&C&&(P=us(P,I.memoizedProps,I)),X(d,P);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)P=I.child,P!==null&&(P.return=I),E0(d,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===p)break;for(;I.sibling===null;){if(I.return===null||I.return===p)return;I=I.return}I.sibling.return=I.return,I=I.sibling}};var mb=function(d,p,_,C){for(var I=p.child;I!==null;){if(I.tag===5){var P=I.stateNode;_&&C&&(P=mn(P,I.type,I.memoizedProps,I)),_n(d,P)}else if(I.tag===6)P=I.stateNode,_&&C&&(P=us(P,I.memoizedProps,I)),_n(d,P);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)P=I.child,P!==null&&(P.return=I),mb(d,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===p)break;for(;I.sibling===null;){if(I.return===null||I.return===p)return;I=I.return}I.sibling.return=I.return,I=I.sibling}};_0=function(d,p){var _=p.stateNode;if(!pb(d,p)){d=_.containerInfo;var C=$t(d);mb(C,p,!1,!1),_.pendingChildren=C,ma(p),rr(d,C)}},kA=function(d,p,_,C,I){var P=d.stateNode,j=d.memoizedProps;if((d=pb(d,p))&&j===C)p.stateNode=P;else{var ne=p.stateNode,xe=da(Qs.current),Ue=null;j!==C&&(Ue=ge(ne,_,j,C,I,xe)),d&&Ue===null?p.stateNode=P:(P=qe(P,Ue,_,j,C,p,d,ne),he(P,_,C,I,xe)&&ma(p),p.stateNode=P,d?ma(p):E0(P,p,!1,!1))}},UA=function(d,p,_,C){_!==C?(d=da(Mf.current),_=da(Qs.current),p.stateNode=be(C,d,_,p),ma(p)):p.stateNode=d.stateNode}}else _0=function(){},kA=function(){},UA=function(){};function S0(d,p){if(!zn)switch(d.tailMode){case"hidden":p=d.tail;for(var _=null;p!==null;)p.alternate!==null&&(_=p),p=p.sibling;_===null?d.tail=null:_.sibling=null;break;case"collapsed":_=d.tail;for(var C=null;_!==null;)_.alternate!==null&&(C=_),_=_.sibling;C===null?p||d.tail===null?d.tail=null:d.tail.sibling=null:C.sibling=null}}function di(d){var p=d.alternate!==null&&d.alternate.child===d.child,_=0,C=0;if(p)for(var I=d.child;I!==null;)_|=I.lanes|I.childLanes,C|=I.subtreeFlags&14680064,C|=I.flags&14680064,I.return=d,I=I.sibling;else for(I=d.child;I!==null;)_|=I.lanes|I.childLanes,C|=I.subtreeFlags,C|=I.flags,I.return=d,I=I.sibling;return d.subtreeFlags|=C,d.childLanes=_,p}function AX(d,p,_){var C=p.pendingProps;switch(Ux(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return di(p),null;case 1:return sr(p.type)&&Kl(),di(p),null;case 3:return C=p.stateNode,Rf(),un(yr),un(Ir),jx(),C.pendingContext&&(C.context=C.pendingContext,C.pendingContext=null),(d===null||d.child===null)&&(d0(p)?ma(p):d===null||d.memoizedState.isDehydrated&&!(p.flags&256)||(p.flags|=1024,To!==null&&(EE(To),To=null))),_0(d,p),di(p),null;case 5:Vx(p),_=da(Mf.current);var I=p.type;if(d!==null&&p.stateNode!=null)kA(d,p,I,C,_),d.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!C){if(p.stateNode===null)throw Error(o(166));return di(p),null}if(d=da(Qs.current),d0(p)){if(!Se)throw Error(o(175));d=Sx(p.stateNode,p.type,p.memoizedProps,_,d,p,!f0),p.updateQueue=d,d!==null&&ma(p)}else{var P=H(I,C,_,d,p);E0(P,p,!1,!1),p.stateNode=P,he(P,I,C,_,d)&&ma(p)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return di(p),null;case 6:if(d&&p.stateNode!=null)UA(d,p,d.memoizedProps,C);else{if(typeof C!="string"&&p.stateNode===null)throw Error(o(166));if(d=da(Mf.current),_=da(Qs.current),d0(p)){if(!Se)throw Error(o(176));if(d=p.stateNode,C=p.memoizedProps,(_=z(d,C,p,!f0))&&(I=fs,I!==null))switch(P=(I.mode&1)!==0,I.tag){case 3:St(I.stateNode.containerInfo,d,C,P);break;case 5:Ut(I.type,I.memoizedProps,I.stateNode,d,C,P)}_&&ma(p)}else p.stateNode=be(C,d,_,p)}return di(p),null;case 13:if(un($n),C=p.memoizedState,zn&&ds!==null&&p.mode&1&&!(p.flags&128)){for(d=ds;d;)d=la(d);return If(),p.flags|=98560,p}if(C!==null&&C.dehydrated!==null){if(C=d0(p),d===null){if(!C)throw Error(o(318));if(!Se)throw Error(o(344));if(d=p.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));se(d,p)}else If(),!(p.flags&128)&&(p.memoizedState=null),p.flags|=4;return di(p),null}return To!==null&&(EE(To),To=null),p.flags&128?(p.lanes=_,p):(C=C!==null,_=!1,d===null?d0(p):_=d.memoizedState!==null,C&&!_&&(p.child.flags|=8192,p.mode&1&&(d===null||$n.current&1?br===0&&(br=3):SE())),p.updateQueue!==null&&(p.flags|=4),di(p),null);case 4:return Rf(),_0(d,p),d===null&&Be(p.stateNode.containerInfo),di(p),null;case 10:return Dx(p.type._context),di(p),null;case 17:return sr(p.type)&&Kl(),di(p),null;case 19:if(un($n),I=p.memoizedState,I===null)return di(p),null;if(C=(p.flags&128)!==0,P=I.rendering,P===null)if(C)S0(I,!1);else{if(br!==0||d!==null&&d.flags&128)for(d=p.child;d!==null;){if(P=RA(d),P!==null){for(p.flags|=128,S0(I,!1),d=P.updateQueue,d!==null&&(p.updateQueue=d,p.flags|=4),p.subtreeFlags=0,d=_,C=p.child;C!==null;)_=C,I=d,_.flags&=14680066,P=_.alternate,P===null?(_.childLanes=0,_.lanes=I,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=P.childLanes,_.lanes=P.lanes,_.child=P.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=P.memoizedProps,_.memoizedState=P.memoizedState,_.updateQueue=P.updateQueue,_.type=P.type,I=P.dependencies,_.dependencies=I===null?null:{lanes:I.lanes,firstContext:I.firstContext}),C=C.sibling;return Ct($n,$n.current&1|2),p.child}d=d.sibling}I.tail!==null&&Hr()>AE&&(p.flags|=128,C=!0,S0(I,!1),p.lanes=4194304)}else{if(!C)if(d=RA(P),d!==null){if(p.flags|=128,C=!0,d=d.updateQueue,d!==null&&(p.updateQueue=d,p.flags|=4),S0(I,!0),I.tail===null&&I.tailMode==="hidden"&&!P.alternate&&!zn)return di(p),null}else 2*Hr()-I.renderingStartTime>AE&&_!==1073741824&&(p.flags|=128,C=!0,S0(I,!1),p.lanes=4194304);I.isBackwards?(P.sibling=p.child,p.child=P):(d=I.last,d!==null?d.sibling=P:p.child=P,I.last=P)}return I.tail!==null?(p=I.tail,I.rendering=p,I.tail=p.sibling,I.renderingStartTime=Hr(),p.sibling=null,d=$n.current,Ct($n,C?d&1|2:d&1),p):(di(p),null);case 22:case 23:return _E(),C=p.memoizedState!==null,d!==null&&d.memoizedState!==null!==C&&(p.flags|=8192),C&&p.mode&1?ms&1073741824&&(di(p),we&&p.subtreeFlags&6&&(p.flags|=8192)):di(p),null;case 24:return null;case 25:return null}throw Error(o(156,p.tag))}var vX=a.ReactCurrentOwner,ps=!1;function bi(d,p,_,C){p.child=d===null?zI(p,null,_,C):bf(p,d.child,_,C)}function gb(d,p,_,C,I){_=_.render;var P=p.ref;return Cf(p,I),C=Kx(d,p,_,C,P,I),_=Xx(),d!==null&&!ps?(p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~I,nl(d,p,I)):(zn&&_&&kx(p),p.flags|=1,bi(d,p,C,I),p.child)}function Ab(d,p,_,C,I){if(d===null){var P=_.type;return typeof P=="function"&&!CE(P)&&P.defaultProps===void 0&&_.compare===null&&_.defaultProps===void 0?(p.tag=15,p.type=P,vb(d,p,P,C,I)):(d=o1(_.type,null,C,p,p.mode,I),d.ref=p.ref,d.return=p,p.child=d)}if(P=d.child,!(d.lanes&I)){var j=P.memoizedProps;if(_=_.compare,_=_!==null?_:EA,_(j,C)&&d.ref===p.ref)return nl(d,p,I)}return p.flags|=1,d=tc(P,C),d.ref=p.ref,d.return=p,p.child=d}function vb(d,p,_,C,I){if(d!==null&&EA(d.memoizedProps,C)&&d.ref===p.ref)if(ps=!1,(d.lanes&I)!==0)d.flags&131072&&(ps=!0);else return p.lanes=d.lanes,nl(d,p,I);return tE(d,p,_,C,I)}function yb(d,p,_){var C=p.pendingProps,I=C.children,P=d!==null?d.memoizedState:null;if(C.mode==="hidden")if(!(p.mode&1))p.memoizedState={baseLanes:0,cachePool:null},Ct(Pf,ms),ms|=_;else if(_&1073741824)p.memoizedState={baseLanes:0,cachePool:null},C=P!==null?P.baseLanes:_,Ct(Pf,ms),ms|=C;else return d=P!==null?P.baseLanes|_:_,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:d,cachePool:null},p.updateQueue=null,Ct(Pf,ms),ms|=d,null;else P!==null?(C=P.baseLanes|_,p.memoizedState=null):C=_,Ct(Pf,ms),ms|=C;return bi(d,p,I,_),p.child}function xb(d,p){var _=p.ref;(d===null&&_!==null||d!==null&&d.ref!==_)&&(p.flags|=512,p.flags|=2097152)}function tE(d,p,_,C,I){var P=sr(_)?So:Ir.current;return P=ir(p,P),Cf(p,I),_=Kx(d,p,_,C,P,I),C=Xx(),d!==null&&!ps?(p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~I,nl(d,p,I)):(zn&&C&&kx(p),p.flags|=1,bi(d,p,_,I),p.child)}function Eb(d,p,_,C,I){if(sr(_)){var P=!0;_f(p)}else P=!1;if(Cf(p,I),p.stateNode===null)d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2),OI(p,_,C),Nx(p,_,C,I),C=!0;else if(d===null){var j=p.stateNode,ne=p.memoizedProps;j.props=ne;var xe=j.context,Ue=_.contextType;typeof Ue=="object"&&Ue!==null?Ue=Us(Ue):(Ue=sr(_)?So:Ir.current,Ue=ir(p,Ue));var rt=_.getDerivedStateFromProps,Pt=typeof rt=="function"||typeof j.getSnapshotBeforeUpdate=="function";Pt||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(ne!==C||xe!==Ue)&&FI(p,j,C,Ue),Xl=!1;var dt=p.memoizedState;j.state=dt,wA(p,C,j,I),xe=p.memoizedState,ne!==C||dt!==xe||yr.current||Xl?(typeof rt=="function"&&(Fx(p,_,rt,C),xe=p.memoizedState),(ne=Xl||LI(p,_,ne,C,dt,xe,Ue))?(Pt||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(p.flags|=4194308)):(typeof j.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=C,p.memoizedState=xe),j.props=C,j.state=xe,j.context=Ue,C=ne):(typeof j.componentDidMount=="function"&&(p.flags|=4194308),C=!1)}else{j=p.stateNode,RI(d,p),ne=p.memoizedProps,Ue=p.type===p.elementType?ne:wo(p.type,ne),j.props=Ue,Pt=p.pendingProps,dt=j.context,xe=_.contextType,typeof xe=="object"&&xe!==null?xe=Us(xe):(xe=sr(_)?So:Ir.current,xe=ir(p,xe));var vn=_.getDerivedStateFromProps;(rt=typeof vn=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(ne!==Pt||dt!==xe)&&FI(p,j,C,xe),Xl=!1,dt=p.memoizedState,j.state=dt,wA(p,C,j,I);var ut=p.memoizedState;ne!==Pt||dt!==ut||yr.current||Xl?(typeof vn=="function"&&(Fx(p,_,vn,C),ut=p.memoizedState),(Ue=Xl||LI(p,_,Ue,C,dt,ut,xe)||!1)?(rt||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(C,ut,xe),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(C,ut,xe)),typeof j.componentDidUpdate=="function"&&(p.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof j.componentDidUpdate!="function"||ne===d.memoizedProps&&dt===d.memoizedState||(p.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||ne===d.memoizedProps&&dt===d.memoizedState||(p.flags|=1024),p.memoizedProps=C,p.memoizedState=ut),j.props=C,j.state=ut,j.context=xe,C=Ue):(typeof j.componentDidUpdate!="function"||ne===d.memoizedProps&&dt===d.memoizedState||(p.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||ne===d.memoizedProps&&dt===d.memoizedState||(p.flags|=1024),C=!1)}return nE(d,p,_,C,P,I)}function nE(d,p,_,C,I,P){xb(d,p);var j=(p.flags&128)!==0;if(!C&&!j)return I&&c0(p,_,!1),nl(d,p,P);C=p.stateNode,vX.current=p;var ne=j&&typeof _.getDerivedStateFromError!="function"?null:C.render();return p.flags|=1,d!==null&&j?(p.child=bf(p,d.child,null,P),p.child=bf(p,null,ne,P)):bi(d,p,ne,P),p.memoizedState=C.state,I&&c0(p,_,!0),p.child}function _b(d){var p=d.stateNode;p.pendingContext?ui(d,p.pendingContext,p.pendingContext!==p.context):p.context&&ui(d,p.context,!1),zx(d,p.containerInfo)}function Sb(d,p,_,C,I){return If(),Qx(I),p.flags|=256,bi(d,p,_,C),p.child}var GA={dehydrated:null,treeContext:null,retryLane:0};function HA(d){return{baseLanes:d,cachePool:null}}function Cb(d,p,_){var C=p.pendingProps,I=$n.current,P=!1,j=(p.flags&128)!==0,ne;if((ne=j)||(ne=d!==null&&d.memoizedState===null?!1:(I&2)!==0),ne?(P=!0,p.flags&=-129):(d===null||d.memoizedState!==null)&&(I|=1),Ct($n,I&1),d===null)return Hx(p),d=p.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(p.mode&1?$l(d)?p.lanes=8:p.lanes=1073741824:p.lanes=1,null):(I=C.children,d=C.fallback,P?(C=p.mode,P=p.child,I={mode:"hidden",children:I},!(C&1)&&P!==null?(P.childLanes=0,P.pendingProps=I):P=a1(I,C,0,null),d=Bu(d,C,_,null),P.return=p,d.return=p,P.sibling=d,p.child=P,p.child.memoizedState=HA(_),p.memoizedState=GA,d):rE(p,I));if(I=d.memoizedState,I!==null){if(ne=I.dehydrated,ne!==null){if(j)return p.flags&256?(p.flags&=-257,QA(d,p,_,Error(o(422)))):p.memoizedState!==null?(p.child=d.child,p.flags|=128,null):(P=C.fallback,I=p.mode,C=a1({mode:"visible",children:C.children},I,0,null),P=Bu(P,I,_,null),P.flags|=2,C.return=p,P.return=p,C.sibling=P,p.child=C,p.mode&1&&bf(p,d.child,null,_),p.child.memoizedState=HA(_),p.memoizedState=GA,P);if(!(p.mode&1))p=QA(d,p,_,null);else if($l(ne))p=QA(d,p,_,Error(o(419)));else if(C=(_&d.childLanes)!==0,ps||C){if(C=xr,C!==null){switch(_&-_){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}C=P&(C.suspendedLanes|_)?0:P,C!==0&&C!==I.retryLane&&(I.retryLane=C,Vs(d,C,-1))}SE(),p=QA(d,p,_,Error(o(421)))}else dA(ne)?(p.flags|=128,p.child=d.child,p=BX.bind(null,d),pA(ne,p),p=null):(_=I.treeContext,Se&&(ds=_x(ne),fs=p,zn=!0,To=null,f0=!1,_!==null&&(Gs[Hs++]=Za,Gs[Hs++]=el,Gs[Hs++]=Su,Za=_.id,el=_.overflow,Su=p)),p=rE(p,p.pendingProps.children),p.flags|=4096);return p}return P?(C=Tb(d,p,C.children,C.fallback,_),P=p.child,I=d.child.memoizedState,P.memoizedState=I===null?HA(_):{baseLanes:I.baseLanes|_,cachePool:null},P.childLanes=d.childLanes&~_,p.memoizedState=GA,C):(_=wb(d,p,C.children,_),p.memoizedState=null,_)}return P?(C=Tb(d,p,C.children,C.fallback,_),P=p.child,I=d.child.memoizedState,P.memoizedState=I===null?HA(_):{baseLanes:I.baseLanes|_,cachePool:null},P.childLanes=d.childLanes&~_,p.memoizedState=GA,C):(_=wb(d,p,C.children,_),p.memoizedState=null,_)}function rE(d,p){return p=a1({mode:"visible",children:p},d.mode,0,null),p.return=d,d.child=p}function wb(d,p,_,C){var I=d.child;return d=I.sibling,_=tc(I,{mode:"visible",children:_}),!(p.mode&1)&&(_.lanes=C),_.return=p,_.sibling=null,d!==null&&(C=p.deletions,C===null?(p.deletions=[d],p.flags|=16):C.push(d)),p.child=_}function Tb(d,p,_,C,I){var P=p.mode;d=d.child;var j=d.sibling,ne={mode:"hidden",children:_};return!(P&1)&&p.child!==d?(_=p.child,_.childLanes=0,_.pendingProps=ne,p.deletions=null):(_=tc(d,ne),_.subtreeFlags=d.subtreeFlags&14680064),j!==null?C=tc(j,C):(C=Bu(C,P,I,null),C.flags|=2),C.return=p,_.return=p,_.sibling=C,p.child=_,C}function QA(d,p,_,C){return C!==null&&Qx(C),bf(p,d.child,null,_),d=rE(p,p.pendingProps.children),d.flags|=2,p.memoizedState=null,d}function Ib(d,p,_){d.lanes|=p;var C=d.alternate;C!==null&&(C.lanes|=p),Lx(d.return,p,_)}function iE(d,p,_,C,I){var P=d.memoizedState;P===null?d.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:C,tail:_,tailMode:I}:(P.isBackwards=p,P.rendering=null,P.renderingStartTime=0,P.last=C,P.tail=_,P.tailMode=I)}function bb(d,p,_){var C=p.pendingProps,I=C.revealOrder,P=C.tail;if(bi(d,p,C.children,_),C=$n.current,C&2)C=C&1|2,p.flags|=128;else{if(d!==null&&d.flags&128)e:for(d=p.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&Ib(d,_,p);else if(d.tag===19)Ib(d,_,p);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===p)break e;for(;d.sibling===null;){if(d.return===null||d.return===p)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}C&=1}if(Ct($n,C),!(p.mode&1))p.memoizedState=null;else switch(I){case"forwards":for(_=p.child,I=null;_!==null;)d=_.alternate,d!==null&&RA(d)===null&&(I=_),_=_.sibling;_=I,_===null?(I=p.child,p.child=null):(I=_.sibling,_.sibling=null),iE(p,!1,I,_,P);break;case"backwards":for(_=null,I=p.child,p.child=null;I!==null;){if(d=I.alternate,d!==null&&RA(d)===null){p.child=I;break}d=I.sibling,I.sibling=_,_=I,I=d}iE(p,!0,_,null,P);break;case"together":iE(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function nl(d,p,_){if(d!==null&&(p.dependencies=d.dependencies),Df|=p.lanes,!(_&p.childLanes))return null;if(d!==null&&p.child!==d.child)throw Error(o(153));if(p.child!==null){for(d=p.child,_=tc(d,d.pendingProps),p.child=_,_.return=p;d.sibling!==null;)d=d.sibling,_=_.sibling=tc(d,d.pendingProps),_.return=p;_.sibling=null}return p.child}function yX(d,p,_){switch(p.tag){case 3:_b(p),If();break;case 5:VI(p);break;case 1:sr(p.type)&&_f(p);break;case 4:zx(p,p.stateNode.containerInfo);break;case 10:MI(p,p.type._context,p.memoizedProps.value);break;case 13:var C=p.memoizedState;if(C!==null)return C.dehydrated!==null?(Ct($n,$n.current&1),p.flags|=128,null):_&p.child.childLanes?Cb(d,p,_):(Ct($n,$n.current&1),d=nl(d,p,_),d!==null?d.sibling:null);Ct($n,$n.current&1);break;case 19:if(C=(_&p.childLanes)!==0,d.flags&128){if(C)return bb(d,p,_);p.flags|=128}var I=p.memoizedState;if(I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),Ct($n,$n.current),C)break;return null;case 22:case 23:return p.lanes=0,yb(d,p,_)}return nl(d,p,_)}function xX(d,p){switch(Ux(p),p.tag){case 1:return sr(p.type)&&Kl(),d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 3:return Rf(),un(yr),un(Ir),jx(),d=p.flags,d&65536&&!(d&128)?(p.flags=d&-65537|128,p):null;case 5:return Vx(p),null;case 13:if(un($n),d=p.memoizedState,d!==null&&d.dehydrated!==null){if(p.alternate===null)throw Error(o(340));If()}return d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 19:return un($n),null;case 4:return Rf(),null;case 10:return Dx(p.type._context),null;case 22:case 23:return _E(),null;case 24:return null;default:return null}}var zA=!1,Tu=!1,EX=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function VA(d,p){var _=d.ref;if(_!==null)if(typeof _=="function")try{_(null)}catch(C){Xi(d,p,C)}else _.current=null}function sE(d,p,_){try{_()}catch(C){Xi(d,p,C)}}var Mb=!1;function _X(d,p){for(J(d.containerInfo),Ke=p;Ke!==null;)if(d=Ke,p=d.child,(d.subtreeFlags&1028)!==0&&p!==null)p.return=d,Ke=p;else for(;Ke!==null;){d=Ke;try{var _=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var C=_.memoizedProps,I=_.memoizedState,P=d.stateNode,j=P.getSnapshotBeforeUpdate(d.elementType===d.type?C:wo(d.type,C),I);P.__reactInternalSnapshotBeforeUpdate=j}break;case 3:we&&Le(d.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ne){Xi(d,d.return,ne)}if(p=d.sibling,p!==null){p.return=d.return,Ke=p;break}Ke=d.return}return _=Mb,Mb=!1,_}function Iu(d,p,_){var C=p.updateQueue;if(C=C!==null?C.lastEffect:null,C!==null){var I=C=C.next;do{if((I.tag&d)===d){var P=I.destroy;I.destroy=void 0,P!==void 0&&sE(p,_,P)}I=I.next}while(I!==C)}}function C0(d,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var _=p=p.next;do{if((_.tag&d)===d){var C=_.create;_.destroy=C()}_=_.next}while(_!==p)}}function oE(d){var p=d.ref;if(p!==null){var _=d.stateNode;switch(d.tag){case 5:d=Z(_);break;default:d=_}typeof p=="function"?p(d):p.current=d}}function Rb(d,p,_){if(ca&&typeof ca.onCommitFiberUnmount=="function")try{ca.onCommitFiberUnmount(yA,p)}catch{}switch(p.tag){case 0:case 11:case 14:case 15:if(d=p.updateQueue,d!==null&&(d=d.lastEffect,d!==null)){var C=d=d.next;do{var I=C,P=I.destroy;I=I.tag,P!==void 0&&(I&2||I&4)&&sE(p,_,P),C=C.next}while(C!==d)}break;case 1:if(VA(p,_),d=p.stateNode,typeof d.componentWillUnmount=="function")try{d.props=p.memoizedProps,d.state=p.memoizedState,d.componentWillUnmount()}catch(j){Xi(p,_,j)}break;case 5:VA(p,_);break;case 4:we?Fb(d,p,_):K&&K&&(p=p.stateNode.containerInfo,_=$t(p),_o(p,_))}}function Bb(d,p,_){for(var C=p;;)if(Rb(d,C,_),C.child===null||we&&C.tag===4){if(C===p)break;for(;C.sibling===null;){if(C.return===null||C.return===p)return;C=C.return}C.sibling.return=C.return,C=C.sibling}else C.child.return=C,C=C.child}function Pb(d){var p=d.alternate;p!==null&&(d.alternate=null,Pb(p)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(p=d.stateNode,p!==null&&Ye(p)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function Db(d){return d.tag===5||d.tag===3||d.tag===4}function Lb(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||Db(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function Ob(d){if(we){e:{for(var p=d.return;p!==null;){if(Db(p))break e;p=p.return}throw Error(o(160))}var _=p;switch(_.tag){case 5:p=_.stateNode,_.flags&32&&(mt(p),_.flags&=-33),_=Lb(d),lE(d,_,p);break;case 3:case 4:p=_.stateNode.containerInfo,_=Lb(d),aE(d,_,p);break;default:throw Error(o(161))}}}function aE(d,p,_){var C=d.tag;if(C===5||C===6)d=d.stateNode,p?Re(_,d,p):We(_,d);else if(C!==4&&(d=d.child,d!==null))for(aE(d,p,_),d=d.sibling;d!==null;)aE(d,p,_),d=d.sibling}function lE(d,p,_){var C=d.tag;if(C===5||C===6)d=d.stateNode,p?ye(_,d,p):Ie(_,d);else if(C!==4&&(d=d.child,d!==null))for(lE(d,p,_),d=d.sibling;d!==null;)lE(d,p,_),d=d.sibling}function Fb(d,p,_){for(var C=p,I=!1,P,j;;){if(!I){I=C.return;e:for(;;){if(I===null)throw Error(o(160));switch(P=I.stateNode,I.tag){case 5:j=!1;break e;case 3:P=P.containerInfo,j=!0;break e;case 4:P=P.containerInfo,j=!0;break e}I=I.return}I=!0}if(C.tag===5||C.tag===6)Bb(d,C,_),j?He(P,C.stateNode):Oe(P,C.stateNode);else if(C.tag===18)j?ft(P,C.stateNode):nt(P,C.stateNode);else if(C.tag===4){if(C.child!==null){P=C.stateNode.containerInfo,j=!0,C.child.return=C,C=C.child;continue}}else if(Rb(d,C,_),C.child!==null){C.child.return=C,C=C.child;continue}if(C===p)break;for(;C.sibling===null;){if(C.return===null||C.return===p)return;C=C.return,C.tag===4&&(I=!1)}C.sibling.return=C.return,C=C.sibling}}function cE(d,p){if(we){switch(p.tag){case 0:case 11:case 14:case 15:Iu(3,p,p.return),C0(3,p),Iu(5,p,p.return);return;case 1:return;case 5:var _=p.stateNode;if(_!=null){var C=p.memoizedProps;d=d!==null?d.memoizedProps:C;var I=p.type,P=p.updateQueue;p.updateQueue=null,P!==null&&Y(_,P,I,d,C,p)}return;case 6:if(p.stateNode===null)throw Error(o(162));_=p.memoizedProps,De(p.stateNode,d!==null?d.memoizedProps:_,_);return;case 3:Se&&d!==null&&d.memoizedState.isDehydrated&&ce(p.stateNode.containerInfo);return;case 12:return;case 13:WA(p);return;case 19:WA(p);return;case 17:return}throw Error(o(163))}switch(p.tag){case 0:case 11:case 14:case 15:Iu(3,p,p.return),C0(3,p),Iu(5,p,p.return);return;case 12:return;case 13:WA(p);return;case 19:WA(p);return;case 3:Se&&d!==null&&d.memoizedState.isDehydrated&&ce(p.stateNode.containerInfo);break;case 22:case 23:return}e:if(K){switch(p.tag){case 1:case 5:case 6:break e;case 3:case 4:p=p.stateNode,_o(p.containerInfo,p.pendingChildren);break e}throw Error(o(163))}}function WA(d){var p=d.updateQueue;if(p!==null){d.updateQueue=null;var _=d.stateNode;_===null&&(_=d.stateNode=new EX),p.forEach(function(C){var I=PX.bind(null,d,C);_.has(C)||(_.add(C),C.then(I,I))})}}function SX(d,p){for(Ke=p;Ke!==null;){p=Ke;var _=p.deletions;if(_!==null)for(var C=0;C<_.length;C++){var I=_[C];try{var P=d;we?Fb(P,I,p):Bb(P,I,p);var j=I.alternate;j!==null&&(j.return=null),I.return=null}catch(ct){Xi(I,p,ct)}}if(_=p.child,p.subtreeFlags&12854&&_!==null)_.return=p,Ke=_;else for(;Ke!==null;){p=Ke;try{var ne=p.flags;if(ne&32&&we&&mt(p.stateNode),ne&512){var xe=p.alternate;if(xe!==null){var Ue=xe.ref;Ue!==null&&(typeof Ue=="function"?Ue(null):Ue.current=null)}}if(ne&8192)switch(p.tag){case 13:if(p.memoizedState!==null){var rt=p.alternate;(rt===null||rt.memoizedState===null)&&(gE=Hr())}break;case 22:var Pt=p.memoizedState!==null,dt=p.alternate,vn=dt!==null&&dt.memoizedState!==null;if(_=p,we){e:if(C=_,I=Pt,P=null,we)for(var ut=C;;){if(ut.tag===5){if(P===null){P=ut;var pi=ut.stateNode;I?Bt(pi):Ge(ut.stateNode,ut.memoizedProps)}}else if(ut.tag===6){if(P===null){var js=ut.stateNode;I?te(js):ae(js,ut.memoizedProps)}}else if((ut.tag!==22&&ut.tag!==23||ut.memoizedState===null||ut===C)&&ut.child!==null){ut.child.return=ut,ut=ut.child;continue}if(ut===C)break;for(;ut.sibling===null;){if(ut.return===null||ut.return===C)break e;P===ut&&(P=null),ut=ut.return}P===ut&&(P=null),ut.sibling.return=ut.return,ut=ut.sibling}}if(Pt&&!vn&&_.mode&1){Ke=_;for(var le=_.child;le!==null;){for(_=Ke=le;Ke!==null;){C=Ke;var re=C.child;switch(C.tag){case 0:case 11:case 14:case 15:Iu(4,C,C.return);break;case 1:VA(C,C.return);var me=C.stateNode;if(typeof me.componentWillUnmount=="function"){var et=C.return;try{me.props=C.memoizedProps,me.state=C.memoizedState,me.componentWillUnmount()}catch(ct){Xi(C,et,ct)}}break;case 5:VA(C,C.return);break;case 22:if(C.memoizedState!==null){Ub(_);continue}}re!==null?(re.return=C,Ke=re):Ub(_)}le=le.sibling}}}switch(ne&4102){case 2:Ob(p),p.flags&=-3;break;case 6:Ob(p),p.flags&=-3,cE(p.alternate,p);break;case 4096:p.flags&=-4097;break;case 4100:p.flags&=-4097,cE(p.alternate,p);break;case 4:cE(p.alternate,p)}}catch(ct){Xi(p,p.return,ct)}if(_=p.sibling,_!==null){_.return=p.return,Ke=_;break}Ke=p.return}}}function CX(d,p,_){Ke=d,Nb(d)}function Nb(d,p,_){for(var C=(d.mode&1)!==0;Ke!==null;){var I=Ke,P=I.child;if(I.tag===22&&C){var j=I.memoizedState!==null||zA;if(!j){var ne=I.alternate,xe=ne!==null&&ne.memoizedState!==null||Tu;ne=zA;var Ue=Tu;if(zA=j,(Tu=xe)&&!Ue)for(Ke=I;Ke!==null;)j=Ke,xe=j.child,j.tag===22&&j.memoizedState!==null?Gb(I):xe!==null?(xe.return=j,Ke=xe):Gb(I);for(;P!==null;)Ke=P,Nb(P),P=P.sibling;Ke=I,zA=ne,Tu=Ue}kb(d)}else I.subtreeFlags&8772&&P!==null?(P.return=I,Ke=P):kb(d)}}function kb(d){for(;Ke!==null;){var p=Ke;if(p.flags&8772){var _=p.alternate;try{if(p.flags&8772)switch(p.tag){case 0:case 11:case 15:Tu||C0(5,p);break;case 1:var C=p.stateNode;if(p.flags&4&&!Tu)if(_===null)C.componentDidMount();else{var I=p.elementType===p.type?_.memoizedProps:wo(p.type,_.memoizedProps);C.componentDidUpdate(I,_.memoizedState,C.__reactInternalSnapshotBeforeUpdate)}var P=p.updateQueue;P!==null&&PI(p,P,C);break;case 3:var j=p.updateQueue;if(j!==null){if(_=null,p.child!==null)switch(p.child.tag){case 5:_=Z(p.child.stateNode);break;case 1:_=p.child.stateNode}PI(p,j,_)}break;case 5:var ne=p.stateNode;_===null&&p.flags&4&&oe(ne,p.type,p.memoizedProps,p);break;case 6:break;case 4:break;case 12:break;case 13:if(Se&&p.memoizedState===null){var xe=p.alternate;if(xe!==null){var Ue=xe.memoizedState;if(Ue!==null){var rt=Ue.dehydrated;rt!==null&&_e(rt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Tu||p.flags&512&&oE(p)}catch(Pt){Xi(p,p.return,Pt)}}if(p===d){Ke=null;break}if(_=p.sibling,_!==null){_.return=p.return,Ke=_;break}Ke=p.return}}function Ub(d){for(;Ke!==null;){var p=Ke;if(p===d){Ke=null;break}var _=p.sibling;if(_!==null){_.return=p.return,Ke=_;break}Ke=p.return}}function Gb(d){for(;Ke!==null;){var p=Ke;try{switch(p.tag){case 0:case 11:case 15:var _=p.return;try{C0(4,p)}catch(xe){Xi(p,_,xe)}break;case 1:var C=p.stateNode;if(typeof C.componentDidMount=="function"){var I=p.return;try{C.componentDidMount()}catch(xe){Xi(p,I,xe)}}var P=p.return;try{oE(p)}catch(xe){Xi(p,P,xe)}break;case 5:var j=p.return;try{oE(p)}catch(xe){Xi(p,j,xe)}}}catch(xe){Xi(p,p.return,xe)}if(p===d){Ke=null;break}var ne=p.sibling;if(ne!==null){ne.return=p.return,Ke=ne;break}Ke=p.return}}var jA=0,$A=1,KA=2,XA=3,JA=4;if(typeof Symbol=="function"&&Symbol.for){var w0=Symbol.for;jA=w0("selector.component"),$A=w0("selector.has_pseudo_class"),KA=w0("selector.role"),XA=w0("selector.test_id"),JA=w0("selector.text")}function uE(d){var p=ve(d);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(o(364));return p}if(d=Et(d),d===null)throw Error(o(362));return d.stateNode.current}function hE(d,p){switch(p.$$typeof){case jA:if(d.type===p.value)return!0;break;case $A:e:{p=p.value,d=[d,0];for(var _=0;_<d.length;){var C=d[_++],I=d[_++],P=p[I];if(C.tag!==5||!D(C)){for(;P!=null&&hE(C,P);)I++,P=p[I];if(I===p.length){p=!0;break e}else for(C=C.child;C!==null;)d.push(C,I),C=C.sibling}}p=!1}return p;case KA:if(d.tag===5&&ee(d.stateNode,p.value))return!0;break;case JA:if((d.tag===5||d.tag===6)&&(d=N(d),d!==null&&0<=d.indexOf(p.value)))return!0;break;case XA:if(d.tag===5&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function fE(d){switch(d.$$typeof){case jA:return"<"+(b(d.value)||"Unknown")+">";case $A:return":has("+(fE(d)||"")+")";case KA:return'[role="'+d.value+'"]';case JA:return'"'+d.value+'"';case XA:return'[data-testname="'+d.value+'"]';default:throw Error(o(365))}}function Hb(d,p){var _=[];d=[d,0];for(var C=0;C<d.length;){var I=d[C++],P=d[C++],j=p[P];if(I.tag!==5||!D(I)){for(;j!=null&&hE(I,j);)P++,j=p[P];if(P===p.length)_.push(I);else for(I=I.child;I!==null;)d.push(I,P),I=I.sibling}}return _}function dE(d,p){if(!lt)throw Error(o(363));d=uE(d),d=Hb(d,p),p=[],d=Array.from(d);for(var _=0;_<d.length;){var C=d[_++];if(C.tag===5)D(C)||p.push(C.stateNode);else for(C=C.child;C!==null;)d.push(C),C=C.sibling}return p}var wX=Math.ceil,YA=a.ReactCurrentDispatcher,pE=a.ReactCurrentOwner,mr=a.ReactCurrentBatchConfig,Gt=0,xr=null,Er=null,ni=0,ms=0,Pf=bt(0),br=0,T0=null,Df=0,qA=0,mE=0,I0=null,$i=null,gE=0,AE=1/0;function Lf(){AE=Hr()+500}var ZA=!1,vE=null,Yl=null,e1=!1,ql=null,t1=0,b0=0,yE=null,n1=-1,r1=0;function Mi(){return Gt&6?Hr():n1!==-1?n1:n1=Hr()}function Zl(d){return d.mode&1?Gt&2&&ni!==0?ni&-ni:aX.transition!==null?(r1===0&&(d=gA,gA<<=1,!(gA&4194240)&&(gA=64),r1=d),r1):(d=sn,d!==0?d:Te()):1}function Vs(d,p,_){if(50<b0)throw b0=0,yE=null,Error(o(185));var C=i1(d,p);return C===null?null:(h0(C,p,_),(!(Gt&2)||C!==xr)&&(C===xr&&(!(Gt&2)&&(qA|=p),br===4&&ec(C,ni)),Ki(C,_),p===1&&Gt===0&&!(d.mode&1)&&(Lf(),xA&&ha())),C)}function i1(d,p){d.lanes|=p;var _=d.alternate;for(_!==null&&(_.lanes|=p),_=d,d=d.return;d!==null;)d.childLanes|=p,_=d.alternate,_!==null&&(_.childLanes|=p),_=d,d=d.return;return _.tag===3?_.stateNode:null}function Ki(d,p){var _=d.callbackNode;qK(d,p);var C=vA(d,d===xr?ni:0);if(C===0)_!==null&&II(_),d.callbackNode=null,d.callbackPriority=0;else if(p=C&-C,d.callbackPriority!==p){if(_!=null&&II(_),p===1)d.tag===0?oX(zb.bind(null,d)):bI(zb.bind(null,d)),Qe?ze(function(){Gt===0&&ha()}):Ix(bx,ha),_=null;else{switch(TI(C)){case 1:_=bx;break;case 4:_=nX;break;case 16:_=Mx;break;case 536870912:_=rX;break;default:_=Mx}_=qb(_,Qb.bind(null,d))}d.callbackPriority=p,d.callbackNode=_}}function Qb(d,p){if(n1=-1,r1=0,Gt&6)throw Error(o(327));var _=d.callbackNode;if(Ru()&&d.callbackNode!==_)return null;var C=vA(d,d===xr?ni:0);if(C===0)return null;if(C&30||C&d.expiredLanes||p)p=s1(d,C);else{p=C;var I=Gt;Gt|=2;var P=jb();(xr!==d||ni!==p)&&(Lf(),bu(d,p));do try{bX();break}catch(ne){Wb(d,ne)}while(1);Px(),YA.current=P,Gt=I,Er!==null?p=0:(xr=null,ni=0,p=br)}if(p!==0){if(p===2&&(I=Cx(d),I!==0&&(C=I,p=xE(d,I))),p===1)throw _=T0,bu(d,0),ec(d,C),Ki(d,Hr()),_;if(p===6)ec(d,C);else{if(I=d.current.alternate,!(C&30)&&!TX(I)&&(p=s1(d,C),p===2&&(P=Cx(d),P!==0&&(C=P,p=xE(d,P))),p===1))throw _=T0,bu(d,0),ec(d,C),Ki(d,Hr()),_;switch(d.finishedWork=I,d.finishedLanes=C,p){case 0:case 1:throw Error(o(345));case 2:Mu(d,$i);break;case 3:if(ec(d,C),(C&130023424)===C&&(p=gE+500-Hr(),10<p)){if(vA(d,0)!==0)break;if(I=d.suspendedLanes,(I&C)!==C){Mi(),d.pingedLanes|=d.suspendedLanes&I;break}d.timeoutHandle=Pe(Mu.bind(null,d,$i),p);break}Mu(d,$i);break;case 4:if(ec(d,C),(C&4194240)===C)break;for(p=d.eventTimes,I=-1;0<C;){var j=31-Co(C);P=1<<j,j=p[j],j>I&&(I=j),C&=~P}if(C=I,C=Hr()-C,C=(120>C?120:480>C?480:1080>C?1080:1920>C?1920:3e3>C?3e3:4320>C?4320:1960*wX(C/1960))-C,10<C){d.timeoutHandle=Pe(Mu.bind(null,d,$i),C);break}Mu(d,$i);break;case 5:Mu(d,$i);break;default:throw Error(o(329))}}}return Ki(d,Hr()),d.callbackNode===_?Qb.bind(null,d):null}function xE(d,p){var _=I0;return d.current.memoizedState.isDehydrated&&(bu(d,p).flags|=256),d=s1(d,p),d!==2&&(p=$i,$i=_,p!==null&&EE(p)),d}function EE(d){$i===null?$i=d:$i.push.apply($i,d)}function TX(d){for(var p=d;;){if(p.flags&16384){var _=p.updateQueue;if(_!==null&&(_=_.stores,_!==null))for(var C=0;C<_.length;C++){var I=_[C],P=I.getSnapshot;I=I.value;try{if(!ua(P(),I))return!1}catch{return!1}}}if(_=p.child,p.subtreeFlags&16384&&_!==null)_.return=p,p=_;else{if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function ec(d,p){for(p&=~mE,p&=~qA,d.suspendedLanes|=p,d.pingedLanes&=~p,d=d.expirationTimes;0<p;){var _=31-Co(p),C=1<<_;d[_]=-1,p&=~C}}function zb(d){if(Gt&6)throw Error(o(327));Ru();var p=vA(d,0);if(!(p&1))return Ki(d,Hr()),null;var _=s1(d,p);if(d.tag!==0&&_===2){var C=Cx(d);C!==0&&(p=C,_=xE(d,C))}if(_===1)throw _=T0,bu(d,0),ec(d,p),Ki(d,Hr()),_;if(_===6)throw Error(o(345));return d.finishedWork=d.current.alternate,d.finishedLanes=p,Mu(d,$i),Ki(d,Hr()),null}function Vb(d){ql!==null&&ql.tag===0&&!(Gt&6)&&Ru();var p=Gt;Gt|=1;var _=mr.transition,C=sn;try{if(mr.transition=null,sn=1,d)return d()}finally{sn=C,mr.transition=_,Gt=p,!(Gt&6)&&ha()}}function _E(){ms=Pf.current,un(Pf)}function bu(d,p){d.finishedWork=null,d.finishedLanes=0;var _=d.timeoutHandle;if(_!==Xe&&(d.timeoutHandle=Xe,ke(_)),Er!==null)for(_=Er.return;_!==null;){var C=_;switch(Ux(C),C.tag){case 1:C=C.type.childContextTypes,C!=null&&Kl();break;case 3:Rf(),un(yr),un(Ir),jx();break;case 5:Vx(C);break;case 4:Rf();break;case 13:un($n);break;case 19:un($n);break;case 10:Dx(C.type._context);break;case 22:case 23:_E()}_=_.return}if(xr=d,Er=d=tc(d.current,null),ni=ms=p,br=0,T0=null,mE=qA=Df=0,$i=I0=null,fa!==null){for(p=0;p<fa.length;p++)if(_=fa[p],C=_.interleaved,C!==null){_.interleaved=null;var I=C.next,P=_.pending;if(P!==null){var j=P.next;P.next=I,C.next=j}_.pending=C}fa=null}return d}function Wb(d,p){do{var _=Er;try{if(Px(),BA.current=NA,PA){for(var C=or.memoizedState;C!==null;){var I=C.queue;I!==null&&(I.pending=null),C=C.next}PA=!1}if(Bf=0,Qr=hi=or=null,A0=!1,v0=0,pE.current=null,_===null||_.return===null){br=1,T0=p,Er=null;break}e:{var P=d,j=_.return,ne=_,xe=p;if(p=ni,ne.flags|=32768,xe!==null&&typeof xe=="object"&&typeof xe.then=="function"){var Ue=xe,rt=ne,Pt=rt.tag;if(!(rt.mode&1)&&(Pt===0||Pt===11||Pt===15)){var dt=rt.alternate;dt?(rt.updateQueue=dt.updateQueue,rt.memoizedState=dt.memoizedState,rt.lanes=dt.lanes):(rt.updateQueue=null,rt.memoizedState=null)}var vn=fb(j);if(vn!==null){vn.flags&=-257,db(vn,j,ne,P,p),vn.mode&1&&hb(P,Ue,p),p=vn,xe=Ue;var ut=p.updateQueue;if(ut===null){var pi=new Set;pi.add(xe),p.updateQueue=pi}else ut.add(xe);break e}else{if(!(p&1)){hb(P,Ue,p),SE();break e}xe=Error(o(426))}}else if(zn&&ne.mode&1){var js=fb(j);if(js!==null){!(js.flags&65536)&&(js.flags|=256),db(js,j,ne,P,p),Qx(xe);break e}}P=xe,br!==4&&(br=2),I0===null?I0=[P]:I0.push(P),xe=Zx(xe,ne),ne=j;do{switch(ne.tag){case 3:ne.flags|=65536,p&=-p,ne.lanes|=p;var le=cb(ne,xe,p);BI(ne,le);break e;case 1:P=xe;var re=ne.type,me=ne.stateNode;if(!(ne.flags&128)&&(typeof re.getDerivedStateFromError=="function"||me!==null&&typeof me.componentDidCatch=="function"&&(Yl===null||!Yl.has(me)))){ne.flags|=65536,p&=-p,ne.lanes|=p;var et=ub(ne,P,p);BI(ne,et);break e}}ne=ne.return}while(ne!==null)}Kb(_)}catch(ct){p=ct,Er===_&&_!==null&&(Er=_=_.return);continue}break}while(1)}function jb(){var d=YA.current;return YA.current=NA,d===null?NA:d}function SE(){(br===0||br===3||br===2)&&(br=4),xr===null||!(Df&268435455)&&!(qA&268435455)||ec(xr,ni)}function s1(d,p){var _=Gt;Gt|=2;var C=jb();xr===d&&ni===p||bu(d,p);do try{IX();break}catch(I){Wb(d,I)}while(1);if(Px(),Gt=_,YA.current=C,Er!==null)throw Error(o(261));return xr=null,ni=0,br}function IX(){for(;Er!==null;)$b(Er)}function bX(){for(;Er!==null&&!eX();)$b(Er)}function $b(d){var p=Yb(d.alternate,d,ms);d.memoizedProps=d.pendingProps,p===null?Kb(d):Er=p,pE.current=null}function Kb(d){var p=d;do{var _=p.alternate;if(d=p.return,p.flags&32768){if(_=xX(_,p),_!==null){_.flags&=32767,Er=_;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{br=6,Er=null;return}}else if(_=AX(_,p,ms),_!==null){Er=_;return}if(p=p.sibling,p!==null){Er=p;return}Er=p=d}while(p!==null);br===0&&(br=5)}function Mu(d,p){var _=sn,C=mr.transition;try{mr.transition=null,sn=1,MX(d,p,_)}finally{mr.transition=C,sn=_}return null}function MX(d,p,_){do Ru();while(ql!==null);if(Gt&6)throw Error(o(327));var C=d.finishedWork,I=d.finishedLanes;if(C===null)return null;if(d.finishedWork=null,d.finishedLanes=0,C===d.current)throw Error(o(177));d.callbackNode=null,d.callbackPriority=0;var P=C.lanes|C.childLanes;if(ZK(d,P),d===xr&&(Er=xr=null,ni=0),!(C.subtreeFlags&2064)&&!(C.flags&2064)||e1||(e1=!0,qb(Mx,function(){return Ru(),null})),P=(C.flags&15990)!==0,C.subtreeFlags&15990||P){P=mr.transition,mr.transition=null;var j=sn;sn=1;var ne=Gt;Gt|=4,pE.current=null,_X(d,C),SX(d,C),V(d.containerInfo),d.current=C,CX(C),tX(),Gt=ne,sn=j,mr.transition=P}else d.current=C;if(e1&&(e1=!1,ql=d,t1=I),P=d.pendingLanes,P===0&&(Yl=null),iX(C.stateNode),Ki(d,Hr()),p!==null)for(_=d.onRecoverableError,C=0;C<p.length;C++)_(p[C]);if(ZA)throw ZA=!1,d=vE,vE=null,d;return t1&1&&d.tag!==0&&Ru(),P=d.pendingLanes,P&1?d===yE?b0++:(b0=0,yE=d):b0=0,ha(),null}function Ru(){if(ql!==null){var d=TI(t1),p=mr.transition,_=sn;try{if(mr.transition=null,sn=16>d?16:d,ql===null)var C=!1;else{if(d=ql,ql=null,t1=0,Gt&6)throw Error(o(331));var I=Gt;for(Gt|=4,Ke=d.current;Ke!==null;){var P=Ke,j=P.child;if(Ke.flags&16){var ne=P.deletions;if(ne!==null){for(var xe=0;xe<ne.length;xe++){var Ue=ne[xe];for(Ke=Ue;Ke!==null;){var rt=Ke;switch(rt.tag){case 0:case 11:case 15:Iu(8,rt,P)}var Pt=rt.child;if(Pt!==null)Pt.return=rt,Ke=Pt;else for(;Ke!==null;){rt=Ke;var dt=rt.sibling,vn=rt.return;if(Pb(rt),rt===Ue){Ke=null;break}if(dt!==null){dt.return=vn,Ke=dt;break}Ke=vn}}}var ut=P.alternate;if(ut!==null){var pi=ut.child;if(pi!==null){ut.child=null;do{var js=pi.sibling;pi.sibling=null,pi=js}while(pi!==null)}}Ke=P}}if(P.subtreeFlags&2064&&j!==null)j.return=P,Ke=j;else e:for(;Ke!==null;){if(P=Ke,P.flags&2048)switch(P.tag){case 0:case 11:case 15:Iu(9,P,P.return)}var le=P.sibling;if(le!==null){le.return=P.return,Ke=le;break e}Ke=P.return}}var re=d.current;for(Ke=re;Ke!==null;){j=Ke;var me=j.child;if(j.subtreeFlags&2064&&me!==null)me.return=j,Ke=me;else e:for(j=re;Ke!==null;){if(ne=Ke,ne.flags&2048)try{switch(ne.tag){case 0:case 11:case 15:C0(9,ne)}}catch(ct){Xi(ne,ne.return,ct)}if(ne===j){Ke=null;break e}var et=ne.sibling;if(et!==null){et.return=ne.return,Ke=et;break e}Ke=ne.return}}if(Gt=I,ha(),ca&&typeof ca.onPostCommitFiberRoot=="function")try{ca.onPostCommitFiberRoot(yA,d)}catch{}C=!0}return C}finally{sn=_,mr.transition=p}}return!1}function Xb(d,p,_){p=Zx(_,p),p=cb(d,p,1),Jl(d,p),p=Mi(),d=i1(d,1),d!==null&&(h0(d,1,p),Ki(d,p))}function Xi(d,p,_){if(d.tag===3)Xb(d,d,_);else for(;p!==null;){if(p.tag===3){Xb(p,d,_);break}else if(p.tag===1){var C=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(Yl===null||!Yl.has(C))){d=Zx(_,d),d=ub(p,d,1),Jl(p,d),d=Mi(),p=i1(p,1),p!==null&&(h0(p,1,d),Ki(p,d));break}}p=p.return}}function RX(d,p,_){var C=d.pingCache;C!==null&&C.delete(p),p=Mi(),d.pingedLanes|=d.suspendedLanes&_,xr===d&&(ni&_)===_&&(br===4||br===3&&(ni&130023424)===ni&&500>Hr()-gE?bu(d,0):mE|=_),Ki(d,p)}function Jb(d,p){p===0&&(d.mode&1?(p=AA,AA<<=1,!(AA&130023424)&&(AA=4194304)):p=1);var _=Mi();d=i1(d,p),d!==null&&(h0(d,p,_),Ki(d,_))}function BX(d){var p=d.memoizedState,_=0;p!==null&&(_=p.retryLane),Jb(d,_)}function PX(d,p){var _=0;switch(d.tag){case 13:var C=d.stateNode,I=d.memoizedState;I!==null&&(_=I.retryLane);break;case 19:C=d.stateNode;break;default:throw Error(o(314))}C!==null&&C.delete(p),Jb(d,_)}var Yb;Yb=function(d,p,_){if(d!==null)if(d.memoizedProps!==p.pendingProps||yr.current)ps=!0;else{if(!(d.lanes&_)&&!(p.flags&128))return ps=!1,yX(d,p,_);ps=!!(d.flags&131072)}else ps=!1,zn&&p.flags&1048576&&NI(p,bA,p.index);switch(p.lanes=0,p.tag){case 2:var C=p.type;d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2),d=p.pendingProps;var I=ir(p,Ir.current);Cf(p,_),I=Kx(null,p,C,d,I,_);var P=Xx();return p.flags|=1,typeof I=="object"&&I!==null&&typeof I.render=="function"&&I.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,sr(C)?(P=!0,_f(p)):P=!1,p.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,Ox(p),I.updater=TA,p.stateNode=I,I._reactInternals=p,Nx(p,C,d,_),p=nE(null,p,C,!0,P,_)):(p.tag=0,zn&&P&&kx(p),bi(null,p,I,_),p=p.child),p;case 16:C=p.elementType;e:{switch(d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2),d=p.pendingProps,I=C._init,C=I(C._payload),p.type=C,I=p.tag=LX(C),d=wo(C,d),I){case 0:p=tE(null,p,C,d,_);break e;case 1:p=Eb(null,p,C,d,_);break e;case 11:p=gb(null,p,C,d,_);break e;case 14:p=Ab(null,p,C,wo(C.type,d),_);break e}throw Error(o(306,C,""))}return p;case 0:return C=p.type,I=p.pendingProps,I=p.elementType===C?I:wo(C,I),tE(d,p,C,I,_);case 1:return C=p.type,I=p.pendingProps,I=p.elementType===C?I:wo(C,I),Eb(d,p,C,I,_);case 3:e:{if(_b(p),d===null)throw Error(o(387));C=p.pendingProps,P=p.memoizedState,I=P.element,RI(d,p),wA(p,C,null,_);var j=p.memoizedState;if(C=j.element,Se&&P.isDehydrated)if(P={element:C,isDehydrated:!1,cache:j.cache,transitions:j.transitions},p.updateQueue.baseState=P,p.memoizedState=P,p.flags&256){I=Error(o(423)),p=Sb(d,p,C,_,I);break e}else if(C!==I){I=Error(o(424)),p=Sb(d,p,C,_,I);break e}else for(Se&&(ds=Ex(p.stateNode.containerInfo),fs=p,zn=!0,To=null,f0=!1),_=zI(p,null,C,_),p.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(If(),C===I){p=nl(d,p,_);break e}bi(d,p,C,_)}p=p.child}return p;case 5:return VI(p),d===null&&Hx(p),C=p.type,I=p.pendingProps,P=d!==null?d.memoizedProps:null,j=I.children,Ce(C,I)?j=null:P!==null&&Ce(C,P)&&(p.flags|=32),xb(d,p),bi(d,p,j,_),p.child;case 6:return d===null&&Hx(p),null;case 13:return Cb(d,p,_);case 4:return zx(p,p.stateNode.containerInfo),C=p.pendingProps,d===null?p.child=bf(p,null,C,_):bi(d,p,C,_),p.child;case 11:return C=p.type,I=p.pendingProps,I=p.elementType===C?I:wo(C,I),gb(d,p,C,I,_);case 7:return bi(d,p,p.pendingProps,_),p.child;case 8:return bi(d,p,p.pendingProps.children,_),p.child;case 12:return bi(d,p,p.pendingProps.children,_),p.child;case 10:e:{if(C=p.type._context,I=p.pendingProps,P=p.memoizedProps,j=I.value,MI(p,C,j),P!==null)if(ua(P.value,j)){if(P.children===I.children&&!yr.current){p=nl(d,p,_);break e}}else for(P=p.child,P!==null&&(P.return=p);P!==null;){var ne=P.dependencies;if(ne!==null){j=P.child;for(var xe=ne.firstContext;xe!==null;){if(xe.context===C){if(P.tag===1){xe=qa(-1,_&-_),xe.tag=2;var Ue=P.updateQueue;if(Ue!==null){Ue=Ue.shared;var rt=Ue.pending;rt===null?xe.next=xe:(xe.next=rt.next,rt.next=xe),Ue.pending=xe}}P.lanes|=_,xe=P.alternate,xe!==null&&(xe.lanes|=_),Lx(P.return,_,p),ne.lanes|=_;break}xe=xe.next}}else if(P.tag===10)j=P.type===p.type?null:P.child;else if(P.tag===18){if(j=P.return,j===null)throw Error(o(341));j.lanes|=_,ne=j.alternate,ne!==null&&(ne.lanes|=_),Lx(j,_,p),j=P.sibling}else j=P.child;if(j!==null)j.return=P;else for(j=P;j!==null;){if(j===p){j=null;break}if(P=j.sibling,P!==null){P.return=j.return,j=P;break}j=j.return}P=j}bi(d,p,I.children,_),p=p.child}return p;case 9:return I=p.type,C=p.pendingProps.children,Cf(p,_),I=Us(I),C=C(I),p.flags|=1,bi(d,p,C,_),p.child;case 14:return C=p.type,I=wo(C,p.pendingProps),I=wo(C.type,I),Ab(d,p,C,I,_);case 15:return vb(d,p,p.type,p.pendingProps,_);case 17:return C=p.type,I=p.pendingProps,I=p.elementType===C?I:wo(C,I),d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2),p.tag=1,sr(C)?(d=!0,_f(p)):d=!1,Cf(p,_),OI(p,C,I),Nx(p,C,I,_),nE(null,p,C,!0,d,_);case 19:return bb(d,p,_);case 22:return yb(d,p,_)}throw Error(o(156,p.tag))};function qb(d,p){return Ix(d,p)}function DX(d,p,_,C){this.tag=d,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(d,p,_,C){return new DX(d,p,_,C)}function CE(d){return d=d.prototype,!(!d||!d.isReactComponent)}function LX(d){if(typeof d=="function")return CE(d)?1:0;if(d!=null){if(d=d.$$typeof,d===E)return 11;if(d===v)return 14}return 2}function tc(d,p){var _=d.alternate;return _===null?(_=Ws(d.tag,p,d.key,d.mode),_.elementType=d.elementType,_.type=d.type,_.stateNode=d.stateNode,_.alternate=d,d.alternate=_):(_.pendingProps=p,_.type=d.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=d.flags&14680064,_.childLanes=d.childLanes,_.lanes=d.lanes,_.child=d.child,_.memoizedProps=d.memoizedProps,_.memoizedState=d.memoizedState,_.updateQueue=d.updateQueue,p=d.dependencies,_.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},_.sibling=d.sibling,_.index=d.index,_.ref=d.ref,_}function o1(d,p,_,C,I,P){var j=2;if(C=d,typeof d=="function")CE(d)&&(j=1);else if(typeof d=="string")j=5;else e:switch(d){case u:return Bu(_.children,I,P,p);case h:j=8,I|=8;break;case f:return d=Ws(12,_,p,I|2),d.elementType=f,d.lanes=P,d;case x:return d=Ws(13,_,p,I),d.elementType=x,d.lanes=P,d;case A:return d=Ws(19,_,p,I),d.elementType=A,d.lanes=P,d;case S:return a1(_,I,P,p);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case m:j=10;break e;case g:j=9;break e;case E:j=11;break e;case v:j=14;break e;case y:j=16,C=null;break e}throw Error(o(130,d==null?d:typeof d,""))}return p=Ws(j,_,p,I),p.elementType=d,p.type=C,p.lanes=P,p}function Bu(d,p,_,C){return d=Ws(7,d,C,p),d.lanes=_,d}function a1(d,p,_,C){return d=Ws(22,d,C,p),d.elementType=S,d.lanes=_,d.stateNode={},d}function wE(d,p,_){return d=Ws(6,d,null,p),d.lanes=_,d}function TE(d,p,_){return p=Ws(4,d.children!==null?d.children:[],d.key,p),p.lanes=_,p.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},p}function OX(d,p,_,C,I){this.tag=p,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Xe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wx(0),this.expirationTimes=wx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wx(0),this.identifierPrefix=C,this.onRecoverableError=I,Se&&(this.mutableSourceEagerHydrationData=null)}function Zb(d,p,_,C,I,P,j,ne,xe){return d=new OX(d,p,_,ne,xe),p===1?(p=1,P===!0&&(p|=8)):p=0,P=Ws(3,null,null,p),d.current=P,P.stateNode=d,P.memoizedState={element:C,isDehydrated:_,cache:null,transitions:null},Ox(P),d}function eM(d){if(!d)return ci;d=d._reactInternals;e:{if(M(d)!==d||d.tag!==1)throw Error(o(170));var p=d;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(sr(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(o(171))}if(d.tag===1){var _=d.type;if(sr(_))return Ef(d,_,p)}return p}function tM(d){var p=d._reactInternals;if(p===void 0)throw typeof d.render=="function"?Error(o(188)):(d=Object.keys(d).join(","),Error(o(268,d)));return d=G(p),d===null?null:d.stateNode}function nM(d,p){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var _=d.retryLane;d.retryLane=_!==0&&_<p?_:p}}function IE(d,p){nM(d,p),(d=d.alternate)&&nM(d,p)}function FX(d){return d=G(d),d===null?null:d.stateNode}function NX(){return null}return n.attemptContinuousHydration=function(d){if(d.tag===13){var p=Mi();Vs(d,134217728,p),IE(d,134217728)}},n.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13){var p=Mi(),_=Zl(d);Vs(d,_,p),IE(d,_)}},n.attemptSynchronousHydration=function(d){switch(d.tag){case 3:var p=d.stateNode;if(p.current.memoizedState.isDehydrated){var _=u0(p.pendingLanes);_!==0&&(Tx(p,_|1),Ki(p,Hr()),!(Gt&6)&&(Lf(),ha()))}break;case 13:var C=Mi();Vb(function(){return Vs(d,1,C)}),IE(d,1)}},n.batchedUpdates=function(d,p){var _=Gt;Gt|=1;try{return d(p)}finally{Gt=_,Gt===0&&(Lf(),xA&&ha())}},n.createComponentSelector=function(d){return{$$typeof:jA,value:d}},n.createContainer=function(d,p,_,C,I,P,j){return Zb(d,p,!1,null,_,C,I,P,j)},n.createHasPseudoClassSelector=function(d){return{$$typeof:$A,value:d}},n.createHydrationContainer=function(d,p,_,C,I,P,j,ne,xe){return d=Zb(_,C,!0,d,I,P,j,ne,xe),d.context=eM(null),_=d.current,C=Mi(),I=Zl(_),P=qa(C,I),P.callback=p??null,Jl(_,P),d.current.lanes=I,h0(d,I,C),Ki(d,C),d},n.createPortal=function(d,p,_){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:C==null?null:""+C,children:d,containerInfo:p,implementation:_}},n.createRoleSelector=function(d){return{$$typeof:KA,value:d}},n.createTestNameSelector=function(d){return{$$typeof:XA,value:d}},n.createTextSelector=function(d){return{$$typeof:JA,value:d}},n.deferredUpdates=function(d){var p=sn,_=mr.transition;try{return mr.transition=null,sn=16,d()}finally{sn=p,mr.transition=_}},n.discreteUpdates=function(d,p,_,C,I){var P=sn,j=mr.transition;try{return mr.transition=null,sn=1,d(p,_,C,I)}finally{sn=P,mr.transition=j,Gt===0&&Lf()}},n.findAllNodes=dE,n.findBoundingRects=function(d,p){if(!lt)throw Error(o(363));p=dE(d,p),d=[];for(var _=0;_<p.length;_++)d.push(ie(p[_]));for(p=d.length-1;0<p;p--){_=d[p];for(var C=_.x,I=C+_.width,P=_.y,j=P+_.height,ne=p-1;0<=ne;ne--)if(p!==ne){var xe=d[ne],Ue=xe.x,rt=Ue+xe.width,Pt=xe.y,dt=Pt+xe.height;if(C>=Ue&&P>=Pt&&I<=rt&&j<=dt){d.splice(p,1);break}else if(C!==Ue||_.width!==xe.width||dt<P||Pt>j){if(!(P!==Pt||_.height!==xe.height||rt<C||Ue>I)){Ue>C&&(xe.width+=Ue-C,xe.x=C),rt<I&&(xe.width=I-Ue),d.splice(p,1);break}}else{Pt>P&&(xe.height+=Pt-P,xe.y=P),dt<j&&(xe.height=j-Pt),d.splice(p,1);break}}}return d},n.findHostInstance=tM,n.findHostInstanceWithNoPortals=function(d){return d=L(d),d=d!==null?$(d):null,d===null?null:d.stateNode},n.findHostInstanceWithWarning=function(d){return tM(d)},n.flushControlled=function(d){var p=Gt;Gt|=1;var _=mr.transition,C=sn;try{mr.transition=null,sn=1,d()}finally{sn=C,mr.transition=_,Gt=p,Gt===0&&(Lf(),ha())}},n.flushPassiveEffects=Ru,n.flushSync=Vb,n.focusWithin=function(d,p){if(!lt)throw Error(o(363));for(d=uE(d),p=Hb(d,p),p=Array.from(p),d=0;d<p.length;){var _=p[d++];if(!D(_)){if(_.tag===5&&pe(_.stateNode))return!0;for(_=_.child;_!==null;)p.push(_),_=_.sibling}}return!1},n.getCurrentUpdatePriority=function(){return sn},n.getFindAllNodesFailureDescription=function(d,p){if(!lt)throw Error(o(363));var _=0,C=[];d=[uE(d),0];for(var I=0;I<d.length;){var P=d[I++],j=d[I++],ne=p[j];if((P.tag!==5||!D(P))&&(hE(P,ne)&&(C.push(fE(ne)),j++,j>_&&(_=j)),j<p.length))for(P=P.child;P!==null;)d.push(P,j),P=P.sibling}if(_<p.length){for(d=[];_<p.length;_++)d.push(fE(p[_]));return`findAllNodes was able to match part of the selector:
  `+(C.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},n.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return Z(d.child.stateNode);default:return d.child.stateNode}},n.injectIntoDevTools=function(d){if(d={bundleType:d.bundleType,version:d.version,rendererPackageName:d.rendererPackageName,rendererConfig:d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:FX,findFiberByHostInstance:d.findFiberByHostInstance||NX,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)d=!0;else{try{yA=p.inject(d),ca=p}catch{}d=!!p.checkDCE}}return d},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(d,p,_,C){if(!lt)throw Error(o(363));d=dE(d,p);var I=fe(d,_,C).disconnect;return{disconnect:function(){I()}}},n.registerMutableSourceForHydration=function(d,p){var _=p._getVersion;_=_(p._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[p,_]:d.mutableSourceEagerHydrationData.push(p,_)},n.runWithPriority=function(d,p){var _=sn;try{return sn=d,p()}finally{sn=_}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(d,p,_,C){var I=p.current,P=Mi(),j=Zl(I);return _=eM(_),p.context===null?p.context=_:p.pendingContext=_,p=qa(P,j),p.payload={element:d},C=C===void 0?null:C,C!==null&&(p.callback=C),Jl(I,p),d=Vs(I,j,P),d!==null&&CA(d,I,j),j},n};XQ.exports=rhe;var ihe=XQ.exports;const she=Gp(ihe),ohe=t=>typeof t=="object"&&typeof t.then=="function",xh=[];function qQ(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function ZQ(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const s of xh)if(qQ(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=xh.indexOf(i);s!==-1&&xh.splice(s,1)},promise:(ohe(t)?t:t(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(xh.push(i),!n)throw i.promise}const ahe=(t,e,n)=>ZQ(t,e,!1,n),lhe=(t,e,n)=>void ZQ(t,e,!0,n),che=t=>{if(t===void 0||t.length===0)xh.splice(0,xh.length);else{const e=xh.find(n=>qQ(t,n.keys,n.equal));e&&e.remove()}},LT={},uhe=t=>void Object.assign(LT,t);function hhe(t,e){function n(u,{args:h=[],attach:f,...m},g){let E=`${u[0].toUpperCase()}${u.slice(1)}`,x;if(u==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const A=m.object;x=ud(A,{type:u,root:g,attach:f,primitive:!0})}else{const A=LT[E];if(!A)throw new Error(`R3F: ${E} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");x=ud(new A(...h),{type:u,root:g,attach:f,memoizedProps:{args:h}})}return x.__r3f.attach===void 0&&(x instanceof Mt?x.__r3f.attach="geometry":x instanceof Tr&&(x.__r3f.attach="material")),E!=="inject"&&K8(x,m),x}function r(u,h){let f=!1;if(h){var m,g;(m=h.__r3f)!=null&&m.attach?$8(u,h,h.__r3f.attach):h.isObject3D&&u.isObject3D&&(u.add(h),f=!0),f||(g=u.__r3f)==null||g.objects.push(h),h.__r3f||ud(h,{}),h.__r3f.parent=u,q4(h),hd(h)}}function i(u,h,f){let m=!1;if(h){var g,E;if((g=h.__r3f)!=null&&g.attach)$8(u,h,h.__r3f.attach);else if(h.isObject3D&&u.isObject3D){h.parent=u,h.dispatchEvent({type:"added"});const x=u.children.filter(v=>v!==h),A=x.indexOf(f);u.children=[...x.slice(0,A),h,...x.slice(A)],m=!0}m||(E=u.__r3f)==null||E.objects.push(h),h.__r3f||ud(h,{}),h.__r3f.parent=u,q4(h),hd(h)}}function s(u,h,f=!1){u&&[...u].forEach(m=>o(h,m,f))}function o(u,h,f){if(h){var m,g,E;if(h.__r3f&&(h.__r3f.parent=null),(m=u.__r3f)!=null&&m.objects&&(u.__r3f.objects=u.__r3f.objects.filter(S=>S!==h)),(g=h.__r3f)!=null&&g.attach)ZP(u,h,h.__r3f.attach);else if(h.isObject3D&&u.isObject3D){var x;u.remove(h),(x=h.__r3f)!=null&&x.root&&yhe(h.__r3f.root,h)}const v=(E=h.__r3f)==null?void 0:E.primitive,y=f===void 0?h.dispose!==null&&!v:f;if(!v){var A;s((A=h.__r3f)==null?void 0:A.objects,h,y),s(h.children,h,y)}delete h.__r3f,y&&h.dispose&&h.type!=="Scene"&&J4.unstable_scheduleCallback(J4.unstable_IdlePriority,()=>{try{h.dispose()}catch{}}),hd(u)}}function a(u,h,f,m){var g;const E=(g=u.__r3f)==null?void 0:g.parent;if(!E)return;const x=n(h,f,u.__r3f.root);if(u.children){for(const A of u.children)A.__r3f&&r(x,A);u.children=u.children.filter(A=>!A.__r3f)}u.__r3f.objects.forEach(A=>r(x,A)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(E,u),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),r(E,x),x.raycast&&x.__r3f.eventCount&&x.__r3f.root.getState().internal.interaction.push(x),[m,m.alternate].forEach(A=>{A!==null&&(A.stateNode=x,A.ref&&(typeof A.ref=="function"?A.ref(x):A.ref.current=x))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:she({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,h)=>{if(!h)return;const f=u.getState().scene;f.__r3f&&(f.__r3f.root=u,r(f,h))},removeChildFromContainer:(u,h)=>{h&&o(u.getState().scene,h)},insertInContainerBefore:(u,h,f)=>{if(!h||!f)return;const m=u.getState().scene;m.__r3f&&i(m,h,f)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var h;return!!((h=u==null?void 0:u.__r3f)!=null?h:{}).handlers},prepareUpdate(u,h,f,m){var g;if(((g=u==null?void 0:u.__r3f)!=null?g:{}).primitive&&m.object&&m.object!==u)return[!0];{const{args:x=[],children:A,...v}=m,{args:y=[],children:S,...w}=f;if(!Array.isArray(x))throw new Error("R3F: the args prop must be an array!");if(x.some((b,R)=>b!==y[R]))return[!0];const T=oz(u,v,w,!0);return T.changes.length?[!1,T]:null}},commitUpdate(u,[h,f],m,g,E,x){h?a(u,m,E,x):K8(u,f)},commitMount(u,h,f,m){var g;const E=(g=u.__r3f)!=null?g:{};u.raycast&&E.handlers&&E.eventCount&&u.__r3f.root.getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>ud(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var h;const{attach:f,parent:m}=(h=u.__r3f)!=null?h:{};f&&m&&ZP(m,u,f),u.isObject3D&&(u.visible=!1),hd(u)},unhideInstance(u,h){var f;const{attach:m,parent:g}=(f=u.__r3f)!=null?f:{};m&&g&&$8(g,u,m),(u.isObject3D&&h.visible==null||h.visible)&&(u.visible=!0),hd(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Dd.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Fn.fun(performance.now)?performance.now:Fn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Fn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Fn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:K8}}var XP,JP;const j8=t=>"colorSpace"in t||"outputColorSpace"in t,ez=()=>{var t;return(t=LT.ColorManagement)!=null?t:null},tz=t=>t&&t.isOrthographicCamera,fhe=t=>t&&t.hasOwnProperty("current"),P3=typeof window<"u"&&((XP=window.document)!=null&&XP.createElement||((JP=window.navigator)==null?void 0:JP.product)==="ReactNative")?Q.useLayoutEffect:Q.useEffect;function nz(t){const e=Q.useRef(t);return P3(()=>void(e.current=t),[t]),e}function dhe({set:t}){return P3(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class rz extends Q.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}rz.getDerivedStateFromError=()=>({error:!0});const iz="__default",YP=new Map,phe=t=>t&&!!t.memoized&&!!t.changes;function sz(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const X0=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()},Fn={obj:t=>t===Object(t)&&!Fn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Fn.str(t)||Fn.num(t))return t===e;const s=Fn.obj(t);if(s&&r==="reference")return t===e;const o=Fn.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!Fn.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(Fn.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function mhe(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function ghe(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function ud(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function Y4(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const qP=/-\d+$/;function $8(t,e,n){if(Fn.str(n)){if(qP.test(n)){const s=n.replace(qP,""),{target:o,key:a}=Y4(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=Y4(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function ZP(t,e,n){var r,i;if(Fn.str(n)){const{target:s,key:o}=Y4(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function oz(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){var u;const h=(u=t==null?void 0:t.__r3f)!=null?u:{},f=Object.entries(i),m=[];if(c){const E=Object.keys(l);for(let x=0;x<E.length;x++)i.hasOwnProperty(E[x])||f.unshift([E[x],iz+"remove"])}f.forEach(([E,x])=>{var A;if((A=t.__r3f)!=null&&A.primitive&&E==="object"||Fn.equ(x,l[E]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(E))return m.push([E,x,!0,[]]);let v=[];E.includes("-")&&(v=E.split("-")),m.push([E,x,!1,v]);for(const y in i){const S=i[y];y.startsWith(`${E}-`)&&m.push([y,S,!1,y.split("-")])}});const g={...i};return h.memoizedProps&&h.memoizedProps.args&&(g.args=h.memoizedProps.args),h.memoizedProps&&h.memoizedProps.attach&&(g.attach=h.memoizedProps.attach),{memoized:g,changes:m}}function K8(t,e){var n,r,i;const s=(n=t.__r3f)!=null?n:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:c}=phe(e)?e:oz(t,e),u=s.eventCount;t.__r3f&&(t.__r3f.memoizedProps=l);for(let f=0;f<c.length;f++){let[m,g,E,x]=c[f];if(j8(t)){const S="srgb",w="srgb-linear";m==="encoding"?(m="colorSpace",g=g===3001?S:w):m==="outputEncoding"&&(m="outputColorSpace",g=g===3001?S:w)}let A=t,v=A[m];if(x.length&&(v=x.reduce((y,S)=>y[S],t),!(v&&v.set))){const[y,...S]=x.reverse();A=S.reverse().reduce((w,T)=>w[T],t),m=y}if(g===iz+"remove")if(A.constructor){let y=YP.get(A.constructor);y||(y=new A.constructor,YP.set(A.constructor,y)),g=y[m]}else g=0;if(E)g?s.handlers[m]=g:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(v&&v.set&&(v.copy||v instanceof bh)){if(Array.isArray(g))v.fromArray?v.fromArray(g):v.set(...g);else if(v.copy&&g&&g.constructor&&v.constructor===g.constructor)v.copy(g);else if(g!==void 0){const y=v instanceof Fe;!y&&v.setScalar?v.setScalar(g):v instanceof bh&&g instanceof bh?v.mask=g.mask:v.set(g),!ez()&&!a.linear&&y&&v.convertSRGBToLinear()}}else if(A[m]=g,A[m]instanceof Hn&&A[m].format===fr&&A[m].type===Dr){const y=A[m];j8(y)&&j8(a.gl)?y.colorSpace=a.gl.outputColorSpace:y.encoding=a.gl.outputEncoding}hd(t)}if(s.parent&&a.internal&&t.raycast&&u!==s.eventCount){const f=a.internal.interaction.indexOf(t);f>-1&&a.internal.interaction.splice(f,1),s.eventCount&&a.internal.interaction.push(t)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(i=t.__r3f)!=null&&i.parent&&q4(t),t}function hd(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function q4(t){t.onUpdate==null||t.onUpdate(t)}function Ahe(t,e){t.manual||(tz(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function g2(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function vhe(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Dd.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Dd.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Dd.ContinuousEventPriority;default:return Dd.DefaultEventPriority}}function az(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function yhe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{az(n.capturedMap,e,r,i)})}function xhe(t){function e(l){const{internal:c}=t.getState(),u=l.offsetX-c.initialClick[0],h=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+h*h))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var h;return(h=c.__r3f)==null?void 0:h.handlers["onPointer"+u]}))}function r(l,c){const u=t.getState(),h=new Set,f=[],m=c?c(u.internal.interaction):u.internal.interaction;for(let A=0;A<m.length;A++){const v=X0(m[A]);v&&(v.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function g(A){const v=X0(A);if(!v||!v.events.enabled||v.raycaster.camera===null)return[];if(v.raycaster.camera===void 0){var y;v.events.compute==null||v.events.compute(l,v,(y=v.previousRoot)==null?void 0:y.getState()),v.raycaster.camera===void 0&&(v.raycaster.camera=null)}return v.raycaster.camera?v.raycaster.intersectObject(A,!0):[]}let E=m.flatMap(g).sort((A,v)=>{const y=X0(A.object),S=X0(v.object);return!y||!S?A.distance-v.distance:S.events.priority-y.events.priority||A.distance-v.distance}).filter(A=>{const v=g2(A);return h.has(v)?!1:(h.add(v),!0)});u.events.filter&&(E=u.events.filter(E,u));for(const A of E){let v=A.object;for(;v;){var x;(x=v.__r3f)!=null&&x.eventCount&&f.push({...A,eventObject:v}),v=v.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let A of u.internal.capturedMap.get(l.pointerId).values())h.has(g2(A.intersection))||f.push(A.intersection);return f}function i(l,c,u,h){const f=t.getState();if(l.length){const m={stopped:!1};for(const g of l){const E=X0(g.object)||f,{raycaster:x,pointer:A,camera:v,internal:y}=E,S=new O(A.x,A.y,0).unproject(v),w=B=>{var L,G;return(L=(G=y.capturedMap.get(B))==null?void 0:G.has(g.eventObject))!=null?L:!1},T=B=>{const L={intersection:g,target:c.target};y.capturedMap.has(B)?y.capturedMap.get(B).set(g.eventObject,L):y.capturedMap.set(B,new Map([[g.eventObject,L]])),c.target.setPointerCapture(B)},b=B=>{const L=y.capturedMap.get(B);L&&az(y.capturedMap,g.eventObject,L,B)};let R={};for(let B in c){let L=c[B];typeof L!="function"&&(R[B]=L)}let M={...g,...R,pointer:A,intersections:l,stopped:m.stopped,delta:u,unprojectedPoint:S,ray:x.ray,camera:v,stopPropagation(){const B="pointerId"in c&&y.capturedMap.get(c.pointerId);if((!B||B.has(g.eventObject))&&(M.stopped=m.stopped=!0,y.hovered.size&&Array.from(y.hovered.values()).find(L=>L.eventObject===g.eventObject))){const L=l.slice(0,l.indexOf(g));s([...L,g])}},target:{hasPointerCapture:w,setPointerCapture:T,releasePointerCapture:b},currentTarget:{hasPointerCapture:w,setPointerCapture:T,releasePointerCapture:b},nativeEvent:c};if(h(M),m.stopped===!0)break}}return l}function s(l){const{internal:c}=t.getState();for(const u of c.hovered.values())if(!l.length||!l.find(h=>h.object===u.object&&h.index===u.index&&h.instanceId===u.instanceId)){const f=u.eventObject.__r3f,m=f==null?void 0:f.handlers;if(c.hovered.delete(g2(u)),f!=null&&f.eventCount){const g={...u,intersections:l};m.onPointerOut==null||m.onPointerOut(g),m.onPointerLeave==null||m.onPointerLeave(g)}}}function o(l,c){for(let u=0;u<c.length;u++){const h=c[u].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=t.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:h,internal:f}=t.getState();f.lastEvent.current=u;const m=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=r(u,m?n:void 0),A=g?e(u):0;l==="onPointerDown"&&(f.initialClick=[u.offsetX,u.offsetY],f.initialHits=x.map(y=>y.eventObject)),g&&!x.length&&A<=2&&(o(u,f.interaction),h&&h(u)),m&&s(x);function v(y){const S=y.eventObject,w=S.__r3f,T=w==null?void 0:w.handlers;if(w!=null&&w.eventCount)if(m){if(T.onPointerOver||T.onPointerEnter||T.onPointerOut||T.onPointerLeave){const b=g2(y),R=f.hovered.get(b);R?R.stopped&&y.stopPropagation():(f.hovered.set(b,y),T.onPointerOver==null||T.onPointerOver(y),T.onPointerEnter==null||T.onPointerEnter(y))}T.onPointerMove==null||T.onPointerMove(y)}else{const b=T[l];b?(!g||f.initialHits.includes(S))&&(o(u,f.interaction.filter(R=>!f.initialHits.includes(R))),b(y)):g&&f.initialHits.includes(S)&&o(u,f.interaction.filter(R=>!f.initialHits.includes(R)))}}i(x,u,A,v)}}return{handlePointer:a}}const lz=t=>!!(t!=null&&t.render),cz=Q.createContext(null),Ehe=(t,e)=>{const n=KQ((a,l)=>{const c=new O,u=new O,h=new O;function f(A=l().camera,v=u,y=l().size){const{width:S,height:w,top:T,left:b}=y,R=S/w;v instanceof O?h.copy(v):h.set(...v);const M=A.getWorldPosition(c).distanceTo(h);if(tz(A))return{width:S/A.zoom,height:w/A.zoom,top:T,left:b,factor:1,distance:M,aspect:R};{const B=A.fov*Math.PI/180,L=2*Math.tan(B/2)*M,G=L*(S/w);return{width:G,height:L,top:T,left:b,factor:S/G,distance:M,aspect:R}}}let m;const g=A=>a(v=>({performance:{...v.performance,current:A}})),E=new ue;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(A=1)=>t(l(),A),advance:(A,v)=>e(A,v,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new u6,pointer:E,mouse:E,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const A=l();m&&clearTimeout(m),A.performance.current!==A.performance.min&&g(A.performance.min),m=setTimeout(()=>g(l().performance.max),A.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:f},setEvents:A=>a(v=>({...v,events:{...v.events,...A}})),setSize:(A,v,y,S,w)=>{const T=l().camera,b={width:A,height:v,top:S||0,left:w||0,updateStyle:y};a(R=>({size:b,viewport:{...R.viewport,...f(T,u,b)}}))},setDpr:A=>a(v=>{const y=sz(A);return{viewport:{...v.viewport,dpr:y,initialDpr:v.viewport.initialDpr||y}}}),setFrameloop:(A="always")=>{const v=l().clock;v.stop(),v.elapsedTime=0,A!=="never"&&(v.start(),v.elapsedTime=0),a(()=>({frameloop:A}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:Q.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(A,v,y)=>{const S=l().internal;return S.priority=S.priority+(v>0?1:0),S.subscribers.push({ref:A,priority:v,store:y}),S.subscribers=S.subscribers.sort((w,T)=>w.priority-T.priority),()=>{const w=l().internal;w!=null&&w.subscribers&&(w.priority=w.priority-(v>0?1:0),w.subscribers=w.subscribers.filter(T=>T.ref!==A))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:h}=n.getState();if(l!==i||c.dpr!==s){var f;i=l,s=c.dpr,Ahe(a,l),u.setPixelRatio(c.dpr);const m=(f=l.updateStyle)!=null?f:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,m)}a!==o&&(o=a,h(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let A2,_he=new Set,She=new Set,Che=new Set;function X8(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function J0(t,e){switch(t){case"before":return X8(_he,e);case"after":return X8(She,e);case"tail":return X8(Che,e)}}let J8,Y8;function q8(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),J8=e.internal.subscribers,A2=0;A2<J8.length;A2++)Y8=J8[A2],Y8.ref.current(Y8.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function whe(t){let e=!1,n,r,i;function s(l){r=requestAnimationFrame(s),e=!0,n=0,J0("before",l);for(const u of t.values()){var c;i=u.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((c=i.gl.xr)!=null&&c.isPresenting)&&(n+=q8(l,i))}if(J0("after",l),n===0)return J0("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,c=1){var u;if(!l)return t.forEach(h=>o(h.store.getState()),c);(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,u,h){if(c&&J0("before",l),u)q8(l,u,h);else for(const f of t.values())q8(l,f.store.getState());c&&J0("after",l)}return{loop:s,invalidate:o,advance:a}}function uz(){const t=Q.useContext(cz);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Zs(t=n=>n,e){return uz()(t,e)}function h6(t,e=0){const n=uz(),r=n.getState().internal.subscribe,i=nz(t);return P3(()=>r(i,e,n),[e,r,n]),null}const eD=new WeakMap;function hz(t,e){return function(n,...r){let i=eD.get(n);return i||(i=new n,eD.set(n,i)),t&&t(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,mhe(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l.message}`)))))).finally(()=>i.dispose==null?void 0:i.dispose())}}function D3(t,e,n,r){const i=Array.isArray(e)?e:[e],s=ahe(hz(n,r),[t,...i],{equal:Fn.equ});return Array.isArray(e)?s:s[0]}D3.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return lhe(hz(n),[t,...r])};D3.clear=function(t,e){const n=Array.isArray(e)?e:[e];return che([t,...n])};const Cp=new Map,{invalidate:tD,advance:nD}=whe(Cp),{reconciler:cy,applyProps:id}=hhe(Cp,vhe),sd={objects:"shallow",strict:!1},The=(t,e)=>{const n=typeof t=="function"?t(e):t;return lz(n)?n:new uT({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function Ihe(t,e){if(e)return e;if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:n,height:r,top:i,left:s}=t.parentElement.getBoundingClientRect();return{width:n,height:r,top:i,left:s}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function bhe(t){const e=Cp.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||Ehe(tD,nD),o=n||cy.createContainer(s,Dd.ConcurrentRoot,null,!1,null,"",i,null);e||Cp.set(t,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:h,size:f,scene:m,events:g,onCreated:E,shadows:x=!1,linear:A=!1,flat:v=!1,legacy:y=!1,orthographic:S=!1,frameloop:w="always",dpr:T=[1,2],performance:b,raycaster:R,camera:M,onPointerMissed:B}=u,L=s.getState(),G=L.gl;L.gl||L.set({gl:G=The(h,t)});let F=L.raycaster;F||L.set({raycaster:F=new zQ});const{params:$,...W}=R||{};if(Fn.equ(W,F,sd)||id(F,{...W}),Fn.equ($,F.params,sd)||id(F,{params:{...F.params,...$}}),!L.camera||L.camera===c&&!Fn.equ(c,M,sd)){c=M;const X=M instanceof S3,he=X?M:S?new lo(0,0,0,0,.1,1e3):new xn(75,0,.1,1e3);X||(he.position.z=5,M&&id(he,M),!L.camera&&!(M!=null&&M.rotation)&&he.lookAt(0,0,0)),L.set({camera:he})}if(!L.scene){let X;m instanceof ay?X=m:(X=new ay,m&&id(X,m)),L.set({scene:ud(X)})}if(!L.xr){var Z;const X=(Ce,be)=>{const Pe=s.getState();Pe.frameloop!=="never"&&nD(Ce,!0,Pe,be)},he=()=>{const Ce=s.getState();Ce.gl.xr.enabled=Ce.gl.xr.isPresenting,Ce.gl.xr.setAnimationLoop(Ce.gl.xr.isPresenting?X:null),Ce.gl.xr.isPresenting||tD(Ce)},ge={connect(){const Ce=s.getState().gl;Ce.xr.addEventListener("sessionstart",he),Ce.xr.addEventListener("sessionend",he)},disconnect(){const Ce=s.getState().gl;Ce.xr.removeEventListener("sessionstart",he),Ce.xr.removeEventListener("sessionend",he)}};typeof((Z=G.xr)==null?void 0:Z.addEventListener)=="function"&&ge.connect(),L.set({xr:ge})}if(G.shadowMap){const X=G.shadowMap.enabled,he=G.shadowMap.type;if(G.shadowMap.enabled=!!x,Fn.boo(x))G.shadowMap.type=Hm;else if(Fn.str(x)){var q;const ge={basic:aH,percentage:R5,soft:Hm,variance:Fo};G.shadowMap.type=(q=ge[x])!=null?q:Hm}else Fn.obj(x)&&Object.assign(G.shadowMap,x);(X!==G.shadowMap.enabled||he!==G.shadowMap.type)&&(G.shadowMap.needsUpdate=!0)}const k=ez();k&&("enabled"in k?k.enabled=!y:"legacyMode"in k&&(k.legacyMode=y)),id(G,{outputEncoding:A?3e3:3001,toneMapping:v?ao:V9}),L.legacy!==y&&L.set(()=>({legacy:y})),L.linear!==A&&L.set(()=>({linear:A})),L.flat!==v&&L.set(()=>({flat:v})),h&&!Fn.fun(h)&&!lz(h)&&!Fn.equ(h,G,sd)&&id(G,h),g&&!L.events.handlers&&L.set({events:g(s)});const H=Ihe(t,f);return Fn.equ(H,L.size,sd)||L.setSize(H.width,H.height,H.updateStyle,H.top,H.left),T&&L.viewport.dpr!==sz(T)&&L.setDpr(T),L.frameloop!==w&&L.setFrameloop(w),L.onPointerMissed||L.set({onPointerMissed:B}),b&&!Fn.equ(b,L.performance,sd)&&L.set(X=>({performance:{...X.performance,...b}})),a=E,l=!0,this},render(u){return l||this.configure(),cy.updateContainer(Q.createElement(Mhe,{store:s,children:u,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){fz(t)}}}function Mhe({store:t,children:e,onCreated:n,rootElement:r}){return P3(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),Q.createElement(cz.Provider,{value:t},e)}function fz(t,e){const n=Cp.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),cy.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),ghe(i),Cp.delete(t),e&&e(t)}catch{}},500)})}}cy.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:Q.version});function wp(){return wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wp.apply(this,arguments)}function Z4(t,e,n){var r,i,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,n||(a=t.apply(s,i),s=i=null))}var c=function(){s=this,i=arguments,o=Date.now();var u=n&&!r;return r||(r=setTimeout(l,e)),u&&(a=t.apply(s,i),s=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=t.apply(s,i),s=i=null,clearTimeout(r),r=null)},c}Z4.debounce=Z4;var Rhe=Z4;const rD=Gp(Rhe);function Bhe(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=Q.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=Q.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,h=Q.useRef(!1);Q.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[f,m,g]=Q.useMemo(()=>{const v=()=>{if(!l.current.element)return;const{left:y,top:S,width:w,height:T,bottom:b,right:R,x:M,y:B}=l.current.element.getBoundingClientRect(),L={left:y,top:S,width:w,height:T,bottom:b,right:R,x:M,y:B};l.current.element instanceof HTMLElement&&i&&(L.height=l.current.element.offsetHeight,L.width=l.current.element.offsetWidth),Object.freeze(L),h.current&&!Ohe(l.current.lastBounds,L)&&a(l.current.lastBounds=L)};return[v,u?rD(v,u):v,c?rD(v,c):v]},[a,i,c,u]);function E(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(v=>v.removeEventListener("scroll",g,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function x(){l.current.element&&(l.current.resizeObserver=new s(g),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(v=>v.addEventListener("scroll",g,{capture:!0,passive:!0})))}const A=v=>{!v||v===l.current.element||(E(),l.current.element=v,l.current.scrollContainers=dz(v),x())};return Dhe(g,!!n),Phe(m),Q.useEffect(()=>{E(),x()},[n,g,m]),Q.useEffect(()=>E,[]),[A,o,f]}function Phe(t){Q.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function Dhe(t,e){Q.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function dz(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...dz(t.parentElement)]}const Lhe=["x","y","top","bottom","left","right","width","height"],Ohe=(t,e)=>Lhe.every(n=>t[n]===e[n]);var Fhe=Object.defineProperty,Nhe=Object.defineProperties,khe=Object.getOwnPropertyDescriptors,iD=Object.getOwnPropertySymbols,Uhe=Object.prototype.hasOwnProperty,Ghe=Object.prototype.propertyIsEnumerable,sD=(t,e,n)=>e in t?Fhe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,oD=(t,e)=>{for(var n in e||(e={}))Uhe.call(e,n)&&sD(t,n,e[n]);if(iD)for(var n of iD(e))Ghe.call(e,n)&&sD(t,n,e[n]);return t},Hhe=(t,e)=>Nhe(t,khe(e));function pz(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=pz(r,e,n);if(i)return i;r=e?null:r.sibling}}function mz(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const OT=mz(Q.createContext(null));class gz extends Q.Component{render(){return Q.createElement(OT.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:aD,ReactCurrentDispatcher:lD}=Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Qhe(){const t=Q.useContext(OT);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=Q.useId();return Q.useMemo(()=>{for(const r of[aD==null?void 0:aD.current,t,t==null?void 0:t.alternate]){if(!r)continue;const i=pz(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function zhe(){var t,e;const n=Qhe(),[r]=Q.useState(()=>new Map);r.clear();let i=n;for(;i;){const s=(t=i.type)==null?void 0:t._context;s&&s!==OT&&!r.has(s)&&r.set(s,(e=lD==null?void 0:lD.current)==null?void 0:e.readContext(mz(s))),i=i.return}return r}function Vhe(){const t=zhe();return Q.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>Q.createElement(e,null,Q.createElement(n.Provider,Hhe(oD({},r),{value:t.get(n)}))),e=>Q.createElement(gz,oD({},e))),[t])}const Z8={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Whe(t){const{handlePointer:e}=xhe(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(Z8).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=Z8[o];n.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=Z8[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}const jhe=Q.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=Whe,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:h,legacy:f,orthographic:m,frameloop:g,dpr:E,performance:x,raycaster:A,camera:v,scene:y,onPointerMissed:S,onCreated:w,...T},b){Q.useMemo(()=>uhe(ehe),[]);const R=Vhe(),[M,B]=Bhe({scroll:!0,debounce:{scroll:50,resize:0},...r}),L=Q.useRef(null),G=Q.useRef(null);Q.useImperativeHandle(b,()=>L.current);const F=nz(S),[$,W]=Q.useState(!1),[Z,q]=Q.useState(!1);if($)throw $;if(Z)throw Z;const k=Q.useRef(null);P3(()=>{const V=L.current;B.width>0&&B.height>0&&V&&(k.current||(k.current=bhe(V)),k.current.configure({gl:s,events:o,shadows:c,linear:u,flat:h,legacy:f,orthographic:m,frameloop:g,dpr:E,performance:x,raycaster:A,camera:v,scene:y,size:B,onPointerMissed:(...H)=>F.current==null?void 0:F.current(...H),onCreated:H=>{H.events.connect==null||H.events.connect(a?fhe(a)?a.current:a:G.current),l&&H.setEvents({compute:(X,he)=>{const ge=X[l+"X"],Ce=X[l+"Y"];he.pointer.set(ge/he.size.width*2-1,-(Ce/he.size.height)*2+1),he.raycaster.setFromCamera(he.pointer,he.camera)}}),w==null||w(H)}}),k.current.render(Q.createElement(R,null,Q.createElement(rz,{set:q},Q.createElement(Q.Suspense,{fallback:Q.createElement(dhe,{set:W})},e)))))}),Q.useEffect(()=>{const V=L.current;if(V)return()=>fz(V)},[]);const J=a?"none":"auto";return Q.createElement("div",wp({ref:G,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:J,...i}},T),Q.createElement("div",{ref:M,style:{width:"100%",height:"100%"}},Q.createElement("canvas",{ref:L,style:{display:"block"}},n)))}),FT=Q.forwardRef(function(e,n){return Q.createElement(gz,null,Q.createElement(jhe,wp({},e,{ref:n})))}),L3=new O,NT=new O,$he=new O;function Khe(t,e,n){const r=L3.setFromMatrixPosition(t.matrixWorld);r.project(e);const i=n.width/2,s=n.height/2;return[r.x*i+i,-(r.y*s)+s]}function Xhe(t,e){const n=L3.setFromMatrixPosition(t.matrixWorld),r=NT.setFromMatrixPosition(e.matrixWorld),i=n.sub(r),s=e.getWorldDirection($he);return i.angleTo(s)>Math.PI/2}function Jhe(t,e,n,r){const i=L3.setFromMatrixPosition(t.matrixWorld),s=i.clone();s.project(e),n.setFromCamera(s,e);const o=n.intersectObjects(r,!0);if(o.length){const a=o[0].distance;return i.distanceTo(n.ray.origin)<a}return!0}function Yhe(t,e){if(e instanceof lo)return e.zoom;if(e instanceof xn){const n=L3.setFromMatrixPosition(t.matrixWorld),r=NT.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,s=n.distanceTo(r);return 1/(2*Math.tan(i/2)*s)}else return 1}function qhe(t,e,n){if(e instanceof xn||e instanceof lo){const r=L3.setFromMatrixPosition(t.matrixWorld),i=NT.setFromMatrixPosition(e.matrixWorld),s=r.distanceTo(i),o=(n[1]-n[0])/(e.far-e.near),a=n[1]-o*e.far;return Math.round(o*s+a)}}const eC=t=>Math.abs(t)<1e-10?0:t;function Az(t,e,n=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=eC(e[i]*t.elements[i])+(i!==15?",":")");return n+r}const Zhe=(t=>e=>Az(e,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),efe=(t=>(e,n)=>Az(e,t(n),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]);function tfe(t){return t&&typeof t=="object"&&"current"in t}const nfe=Q.forwardRef(({children:t,eps:e=.001,style:n,className:r,prepend:i,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:c=!1,transform:u=!1,occlude:h,onOcclude:f,castShadow:m,receiveShadow:g,material:E,geometry:x,zIndexRange:A=[16777271,0],calculatePosition:v=Khe,as:y="div",wrapperClass:S,pointerEvents:w="auto",...T},b)=>{const{gl:R,camera:M,scene:B,size:L,raycaster:G,events:F,viewport:$}=Zs(),[W]=Q.useState(()=>document.createElement(y)),Z=Q.useRef(),q=Q.useRef(null),k=Q.useRef(0),J=Q.useRef([0,0]),V=Q.useRef(null),H=Q.useRef(null),X=(a==null?void 0:a.current)||F.connected||R.domElement.parentNode,he=Q.useRef(null),ge=Q.useRef(!1),Ce=Q.useMemo(()=>h&&h!=="blending"||Array.isArray(h)&&h.length&&tfe(h[0]),[h]);Q.useLayoutEffect(()=>{const Je=R.domElement;h&&h==="blending"?(Je.style.zIndex=`${Math.floor(A[0]/2)}`,Je.style.position="absolute",Je.style.pointerEvents="none"):(Je.style.zIndex=null,Je.style.position=null,Je.style.pointerEvents=null)},[h]),Q.useLayoutEffect(()=>{if(q.current){const Je=Z.current=kU(W);if(B.updateMatrixWorld(),u)W.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const we=v(q.current,M,L);W.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${we[0]}px,${we[1]}px,0);transform-origin:0 0;`}return X&&(i?X.prepend(W):X.appendChild(W)),()=>{X&&X.removeChild(W),Je.unmount()}}},[X,u]),Q.useLayoutEffect(()=>{S&&(W.className=S)},[S]);const be=Q.useMemo(()=>u?{position:"absolute",top:0,left:0,width:L.width,height:L.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-L.height/2,left:-L.width/2,width:L.width,height:L.height},...n},[n,s,o,L,u]),Pe=Q.useMemo(()=>({position:"absolute",pointerEvents:w}),[w]);Q.useLayoutEffect(()=>{if(ge.current=!1,u){var Je;(Je=Z.current)==null||Je.render(Q.createElement("div",{ref:V,style:be},Q.createElement("div",{ref:H,style:Pe},Q.createElement("div",{ref:b,className:r,style:n,children:t}))))}else{var we;(we=Z.current)==null||we.render(Q.createElement("div",{ref:b,style:be,className:r,children:t}))}});const ke=Q.useRef(!0);h6(Je=>{if(q.current){M.updateMatrixWorld(),q.current.updateWorldMatrix(!0,!1);const we=u?J.current:v(q.current,M,L);if(u||Math.abs(k.current-M.zoom)>e||Math.abs(J.current[0]-we[0])>e||Math.abs(J.current[1]-we[1])>e){const K=Xhe(q.current,M);let Se=!1;Ce&&(Array.isArray(h)?Se=h.map(Ye=>Ye.current):h!=="blending"&&(Se=[B]));const ve=ke.current;if(Se){const Ye=Jhe(q.current,M,G,Se);ke.current=Ye&&!K}else ke.current=!K;ve!==ke.current&&(f?f(!ke.current):W.style.display=ke.current?"block":"none");const Be=Math.floor(A[0]/2),Te=h?Ce?[A[0],Be]:[Be-1,0]:A;if(W.style.zIndex=`${qhe(q.current,M,Te)}`,u){const[Ye,Qe]=[L.width/2,L.height/2],ze=M.projectionMatrix.elements[5]*Qe,{isOrthographicCamera:lt,top:Et,left:ie,bottom:N,right:D}=M,ee=Zhe(M.matrixWorldInverse),pe=lt?`scale(${ze})translate(${eC(-(D+ie)/2)}px,${eC((Et+N)/2)}px)`:`translateZ(${ze}px)`;let fe=q.current.matrixWorld;c&&(fe=M.matrixWorldInverse.clone().transpose().copyPosition(fe).scale(q.current.scale),fe.elements[3]=fe.elements[7]=fe.elements[11]=0,fe.elements[15]=1),W.style.width=L.width+"px",W.style.height=L.height+"px",W.style.perspective=lt?"":`${ze}px`,V.current&&H.current&&(V.current.style.transform=`${pe}${ee}translate(${Ye}px,${Qe}px)`,H.current.style.transform=efe(fe,1/((l||10)/400)))}else{const Ye=l===void 0?1:Yhe(q.current,M)*l;W.style.transform=`translate3d(${we[0]}px,${we[1]}px,0) scale(${Ye})`}J.current=we,k.current=M.zoom}}if(!Ce&&he.current&&!ge.current)if(u){if(V.current){const we=V.current.children[0];if(we!=null&&we.clientWidth&&we!=null&&we.clientHeight){const{isOrthographicCamera:K}=M;if(K||x)T.scale&&(Array.isArray(T.scale)?T.scale instanceof O?he.current.scale.copy(T.scale.clone().divideScalar(1)):he.current.scale.set(1/T.scale[0],1/T.scale[1],1/T.scale[2]):he.current.scale.setScalar(1/T.scale));else{const Se=(l||10)/400,ve=we.clientWidth*Se,Be=we.clientHeight*Se;he.current.scale.set(ve,Be,1)}ge.current=!0}}}else{const we=W.children[0];if(we!=null&&we.clientWidth&&we!=null&&we.clientHeight){const K=1/$.factor,Se=we.clientWidth*K,ve=we.clientHeight*K;he.current.scale.set(Se,ve,1),ge.current=!0}he.current.lookAt(Je.camera.position)}});const Xe=Q.useMemo(()=>({vertexShader:u?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[u]);return Q.createElement("group",wp({},T,{ref:q}),h&&!Ce&&Q.createElement("mesh",{castShadow:m,receiveShadow:g,ref:he},x||Q.createElement("planeGeometry",null),E||Q.createElement("shaderMaterial",{side:ro,vertexShader:Xe.vertexShader,fragmentShader:Xe.fragmentShader})))});let Y0=0;const rfe=KQ(t=>(Pd.onStart=(e,n,r)=>{t({active:!0,item:e,loaded:n,total:r,progress:(n-Y0)/(r-Y0)*100})},Pd.onLoad=()=>{t({active:!1})},Pd.onError=e=>t(n=>({errors:[...n.errors,e]})),Pd.onProgress=(e,n,r)=>{n===r&&(Y0=r),t({active:!0,item:e,loaded:n,total:r,progress:(n-Y0)/(r-Y0)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function kT(){}kT.prototype.s2u=function(t){for(var e=this.s2uTable,n="",r=0;r<t.length;){var i=t[r++];if(!(i>=0&&i<=126||i>=161&&i<=223)&&r<t.length&&(i=i<<8|t[r++]),e[i]===void 0)return console.error("unknown char code "+i+"."),n;n+=String.fromCharCode(e[i])}return n};kT.prototype.s2uTable={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:92,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:126,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:65340,33120:65374,33121:8741,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:65293,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:65504,33170:65505,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:65506,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34624:9312,34625:9313,34626:9314,34627:9315,34628:9316,34629:9317,34630:9318,34631:9319,34632:9320,34633:9321,34634:9322,34635:9323,34636:9324,34637:9325,34638:9326,34639:9327,34640:9328,34641:9329,34642:9330,34643:9331,34644:8544,34645:8545,34646:8546,34647:8547,34648:8548,34649:8549,34650:8550,34651:8551,34652:8552,34653:8553,34655:13129,34656:13076,34657:13090,34658:13133,34659:13080,34660:13095,34661:13059,34662:13110,34663:13137,34664:13143,34665:13069,34666:13094,34667:13091,34668:13099,34669:13130,34670:13115,34671:13212,34672:13213,34673:13214,34674:13198,34675:13199,34676:13252,34677:13217,34686:13179,34688:12317,34689:12319,34690:8470,34691:13261,34692:8481,34693:12964,34694:12965,34695:12966,34696:12967,34697:12968,34698:12849,34699:12850,34700:12857,34701:13182,34702:13181,34703:13180,34704:8786,34705:8801,34706:8747,34707:8750,34708:8721,34709:8730,34710:8869,34711:8736,34712:8735,34713:8895,34714:8757,34715:8745,34716:8746,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081,60736:32394,60737:35100,60738:37704,60739:37512,60740:34012,60741:20425,60742:28859,60743:26161,60744:26824,60745:37625,60746:26363,60747:24389,60748:20008,60749:20193,60750:20220,60751:20224,60752:20227,60753:20281,60754:20310,60755:20370,60756:20362,60757:20378,60758:20372,60759:20429,60760:20544,60761:20514,60762:20479,60763:20510,60764:20550,60765:20592,60766:20546,60767:20628,60768:20724,60769:20696,60770:20810,60771:20836,60772:20893,60773:20926,60774:20972,60775:21013,60776:21148,60777:21158,60778:21184,60779:21211,60780:21248,60781:21255,60782:21284,60783:21362,60784:21395,60785:21426,60786:21469,60787:64014,60788:21660,60789:21642,60790:21673,60791:21759,60792:21894,60793:22361,60794:22373,60795:22444,60796:22472,60797:22471,60798:64015,60800:64016,60801:22686,60802:22706,60803:22795,60804:22867,60805:22875,60806:22877,60807:22883,60808:22948,60809:22970,60810:23382,60811:23488,60812:29999,60813:23512,60814:23532,60815:23582,60816:23718,60817:23738,60818:23797,60819:23847,60820:23891,60821:64017,60822:23874,60823:23917,60824:23992,60825:23993,60826:24016,60827:24353,60828:24372,60829:24423,60830:24503,60831:24542,60832:24669,60833:24709,60834:24714,60835:24798,60836:24789,60837:24864,60838:24818,60839:24849,60840:24887,60841:24880,60842:24984,60843:25107,60844:25254,60845:25589,60846:25696,60847:25757,60848:25806,60849:25934,60850:26112,60851:26133,60852:26171,60853:26121,60854:26158,60855:26142,60856:26148,60857:26213,60858:26199,60859:26201,60860:64018,60861:26227,60862:26265,60863:26272,60864:26290,60865:26303,60866:26362,60867:26382,60868:63785,60869:26470,60870:26555,60871:26706,60872:26560,60873:26625,60874:26692,60875:26831,60876:64019,60877:26984,60878:64020,60879:27032,60880:27106,60881:27184,60882:27243,60883:27206,60884:27251,60885:27262,60886:27362,60887:27364,60888:27606,60889:27711,60890:27740,60891:27782,60892:27759,60893:27866,60894:27908,60895:28039,60896:28015,60897:28054,60898:28076,60899:28111,60900:28152,60901:28146,60902:28156,60903:28217,60904:28252,60905:28199,60906:28220,60907:28351,60908:28552,60909:28597,60910:28661,60911:28677,60912:28679,60913:28712,60914:28805,60915:28843,60916:28943,60917:28932,60918:29020,60919:28998,60920:28999,60921:64021,60922:29121,60923:29182,60924:29361,60992:29374,60993:29476,60994:64022,60995:29559,60996:29629,60997:29641,60998:29654,60999:29667,61e3:29650,61001:29703,61002:29685,61003:29734,61004:29738,61005:29737,61006:29742,61007:29794,61008:29833,61009:29855,61010:29953,61011:30063,61012:30338,61013:30364,61014:30366,61015:30363,61016:30374,61017:64023,61018:30534,61019:21167,61020:30753,61021:30798,61022:30820,61023:30842,61024:31024,61025:64024,61026:64025,61027:64026,61028:31124,61029:64027,61030:31131,61031:31441,61032:31463,61033:64028,61034:31467,61035:31646,61036:64029,61037:32072,61038:32092,61039:32183,61040:32160,61041:32214,61042:32338,61043:32583,61044:32673,61045:64030,61046:33537,61047:33634,61048:33663,61049:33735,61050:33782,61051:33864,61052:33972,61053:34131,61054:34137,61056:34155,61057:64031,61058:34224,61059:64032,61060:64033,61061:34823,61062:35061,61063:35346,61064:35383,61065:35449,61066:35495,61067:35518,61068:35551,61069:64034,61070:35574,61071:35667,61072:35711,61073:36080,61074:36084,61075:36114,61076:36214,61077:64035,61078:36559,61079:64036,61080:64037,61081:36967,61082:37086,61083:64038,61084:37141,61085:37159,61086:37338,61087:37335,61088:37342,61089:37357,61090:37358,61091:37348,61092:37349,61093:37382,61094:37392,61095:37386,61096:37434,61097:37440,61098:37436,61099:37454,61100:37465,61101:37457,61102:37433,61103:37479,61104:37543,61105:37495,61106:37496,61107:37607,61108:37591,61109:37593,61110:37584,61111:64039,61112:37589,61113:37600,61114:37587,61115:37669,61116:37665,61117:37627,61118:64040,61119:37662,61120:37631,61121:37661,61122:37634,61123:37744,61124:37719,61125:37796,61126:37830,61127:37854,61128:37880,61129:37937,61130:37957,61131:37960,61132:38290,61133:63964,61134:64041,61135:38557,61136:38575,61137:38707,61138:38715,61139:38723,61140:38733,61141:38735,61142:38737,61143:38741,61144:38999,61145:39013,61146:64042,61147:64043,61148:39207,61149:64044,61150:39326,61151:39502,61152:39641,61153:39644,61154:39797,61155:39794,61156:39823,61157:39857,61158:39867,61159:39936,61160:40304,61161:40299,61162:64045,61163:40473,61164:40657,61167:8560,61168:8561,61169:8562,61170:8563,61171:8564,61172:8565,61173:8566,61174:8567,61175:8568,61176:8569,61177:65506,61178:65508,61179:65287,61180:65282,61504:57344,61505:57345,61506:57346,61507:57347,61508:57348,61509:57349,61510:57350,61511:57351,61512:57352,61513:57353,61514:57354,61515:57355,61516:57356,61517:57357,61518:57358,61519:57359,61520:57360,61521:57361,61522:57362,61523:57363,61524:57364,61525:57365,61526:57366,61527:57367,61528:57368,61529:57369,61530:57370,61531:57371,61532:57372,61533:57373,61534:57374,61535:57375,61536:57376,61537:57377,61538:57378,61539:57379,61540:57380,61541:57381,61542:57382,61543:57383,61544:57384,61545:57385,61546:57386,61547:57387,61548:57388,61549:57389,61550:57390,61551:57391,61552:57392,61553:57393,61554:57394,61555:57395,61556:57396,61557:57397,61558:57398,61559:57399,61560:57400,61561:57401,61562:57402,61563:57403,61564:57404,61565:57405,61566:57406,61568:57407,61569:57408,61570:57409,61571:57410,61572:57411,61573:57412,61574:57413,61575:57414,61576:57415,61577:57416,61578:57417,61579:57418,61580:57419,61581:57420,61582:57421,61583:57422,61584:57423,61585:57424,61586:57425,61587:57426,61588:57427,61589:57428,61590:57429,61591:57430,61592:57431,61593:57432,61594:57433,61595:57434,61596:57435,61597:57436,61598:57437,61599:57438,61600:57439,61601:57440,61602:57441,61603:57442,61604:57443,61605:57444,61606:57445,61607:57446,61608:57447,61609:57448,61610:57449,61611:57450,61612:57451,61613:57452,61614:57453,61615:57454,61616:57455,61617:57456,61618:57457,61619:57458,61620:57459,61621:57460,61622:57461,61623:57462,61624:57463,61625:57464,61626:57465,61627:57466,61628:57467,61629:57468,61630:57469,61631:57470,61632:57471,61633:57472,61634:57473,61635:57474,61636:57475,61637:57476,61638:57477,61639:57478,61640:57479,61641:57480,61642:57481,61643:57482,61644:57483,61645:57484,61646:57485,61647:57486,61648:57487,61649:57488,61650:57489,61651:57490,61652:57491,61653:57492,61654:57493,61655:57494,61656:57495,61657:57496,61658:57497,61659:57498,61660:57499,61661:57500,61662:57501,61663:57502,61664:57503,61665:57504,61666:57505,61667:57506,61668:57507,61669:57508,61670:57509,61671:57510,61672:57511,61673:57512,61674:57513,61675:57514,61676:57515,61677:57516,61678:57517,61679:57518,61680:57519,61681:57520,61682:57521,61683:57522,61684:57523,61685:57524,61686:57525,61687:57526,61688:57527,61689:57528,61690:57529,61691:57530,61692:57531,61760:57532,61761:57533,61762:57534,61763:57535,61764:57536,61765:57537,61766:57538,61767:57539,61768:57540,61769:57541,61770:57542,61771:57543,61772:57544,61773:57545,61774:57546,61775:57547,61776:57548,61777:57549,61778:57550,61779:57551,61780:57552,61781:57553,61782:57554,61783:57555,61784:57556,61785:57557,61786:57558,61787:57559,61788:57560,61789:57561,61790:57562,61791:57563,61792:57564,61793:57565,61794:57566,61795:57567,61796:57568,61797:57569,61798:57570,61799:57571,61800:57572,61801:57573,61802:57574,61803:57575,61804:57576,61805:57577,61806:57578,61807:57579,61808:57580,61809:57581,61810:57582,61811:57583,61812:57584,61813:57585,61814:57586,61815:57587,61816:57588,61817:57589,61818:57590,61819:57591,61820:57592,61821:57593,61822:57594,61824:57595,61825:57596,61826:57597,61827:57598,61828:57599,61829:57600,61830:57601,61831:57602,61832:57603,61833:57604,61834:57605,61835:57606,61836:57607,61837:57608,61838:57609,61839:57610,61840:57611,61841:57612,61842:57613,61843:57614,61844:57615,61845:57616,61846:57617,61847:57618,61848:57619,61849:57620,61850:57621,61851:57622,61852:57623,61853:57624,61854:57625,61855:57626,61856:57627,61857:57628,61858:57629,61859:57630,61860:57631,61861:57632,61862:57633,61863:57634,61864:57635,61865:57636,61866:57637,61867:57638,61868:57639,61869:57640,61870:57641,61871:57642,61872:57643,61873:57644,61874:57645,61875:57646,61876:57647,61877:57648,61878:57649,61879:57650,61880:57651,61881:57652,61882:57653,61883:57654,61884:57655,61885:57656,61886:57657,61887:57658,61888:57659,61889:57660,61890:57661,61891:57662,61892:57663,61893:57664,61894:57665,61895:57666,61896:57667,61897:57668,61898:57669,61899:57670,61900:57671,61901:57672,61902:57673,61903:57674,61904:57675,61905:57676,61906:57677,61907:57678,61908:57679,61909:57680,61910:57681,61911:57682,61912:57683,61913:57684,61914:57685,61915:57686,61916:57687,61917:57688,61918:57689,61919:57690,61920:57691,61921:57692,61922:57693,61923:57694,61924:57695,61925:57696,61926:57697,61927:57698,61928:57699,61929:57700,61930:57701,61931:57702,61932:57703,61933:57704,61934:57705,61935:57706,61936:57707,61937:57708,61938:57709,61939:57710,61940:57711,61941:57712,61942:57713,61943:57714,61944:57715,61945:57716,61946:57717,61947:57718,61948:57719,62016:57720,62017:57721,62018:57722,62019:57723,62020:57724,62021:57725,62022:57726,62023:57727,62024:57728,62025:57729,62026:57730,62027:57731,62028:57732,62029:57733,62030:57734,62031:57735,62032:57736,62033:57737,62034:57738,62035:57739,62036:57740,62037:57741,62038:57742,62039:57743,62040:57744,62041:57745,62042:57746,62043:57747,62044:57748,62045:57749,62046:57750,62047:57751,62048:57752,62049:57753,62050:57754,62051:57755,62052:57756,62053:57757,62054:57758,62055:57759,62056:57760,62057:57761,62058:57762,62059:57763,62060:57764,62061:57765,62062:57766,62063:57767,62064:57768,62065:57769,62066:57770,62067:57771,62068:57772,62069:57773,62070:57774,62071:57775,62072:57776,62073:57777,62074:57778,62075:57779,62076:57780,62077:57781,62078:57782,62080:57783,62081:57784,62082:57785,62083:57786,62084:57787,62085:57788,62086:57789,62087:57790,62088:57791,62089:57792,62090:57793,62091:57794,62092:57795,62093:57796,62094:57797,62095:57798,62096:57799,62097:57800,62098:57801,62099:57802,62100:57803,62101:57804,62102:57805,62103:57806,62104:57807,62105:57808,62106:57809,62107:57810,62108:57811,62109:57812,62110:57813,62111:57814,62112:57815,62113:57816,62114:57817,62115:57818,62116:57819,62117:57820,62118:57821,62119:57822,62120:57823,62121:57824,62122:57825,62123:57826,62124:57827,62125:57828,62126:57829,62127:57830,62128:57831,62129:57832,62130:57833,62131:57834,62132:57835,62133:57836,62134:57837,62135:57838,62136:57839,62137:57840,62138:57841,62139:57842,62140:57843,62141:57844,62142:57845,62143:57846,62144:57847,62145:57848,62146:57849,62147:57850,62148:57851,62149:57852,62150:57853,62151:57854,62152:57855,62153:57856,62154:57857,62155:57858,62156:57859,62157:57860,62158:57861,62159:57862,62160:57863,62161:57864,62162:57865,62163:57866,62164:57867,62165:57868,62166:57869,62167:57870,62168:57871,62169:57872,62170:57873,62171:57874,62172:57875,62173:57876,62174:57877,62175:57878,62176:57879,62177:57880,62178:57881,62179:57882,62180:57883,62181:57884,62182:57885,62183:57886,62184:57887,62185:57888,62186:57889,62187:57890,62188:57891,62189:57892,62190:57893,62191:57894,62192:57895,62193:57896,62194:57897,62195:57898,62196:57899,62197:57900,62198:57901,62199:57902,62200:57903,62201:57904,62202:57905,62203:57906,62204:57907,62272:57908,62273:57909,62274:57910,62275:57911,62276:57912,62277:57913,62278:57914,62279:57915,62280:57916,62281:57917,62282:57918,62283:57919,62284:57920,62285:57921,62286:57922,62287:57923,62288:57924,62289:57925,62290:57926,62291:57927,62292:57928,62293:57929,62294:57930,62295:57931,62296:57932,62297:57933,62298:57934,62299:57935,62300:57936,62301:57937,62302:57938,62303:57939,62304:57940,62305:57941,62306:57942,62307:57943,62308:57944,62309:57945,62310:57946,62311:57947,62312:57948,62313:57949,62314:57950,62315:57951,62316:57952,62317:57953,62318:57954,62319:57955,62320:57956,62321:57957,62322:57958,62323:57959,62324:57960,62325:57961,62326:57962,62327:57963,62328:57964,62329:57965,62330:57966,62331:57967,62332:57968,62333:57969,62334:57970,62336:57971,62337:57972,62338:57973,62339:57974,62340:57975,62341:57976,62342:57977,62343:57978,62344:57979,62345:57980,62346:57981,62347:57982,62348:57983,62349:57984,62350:57985,62351:57986,62352:57987,62353:57988,62354:57989,62355:57990,62356:57991,62357:57992,62358:57993,62359:57994,62360:57995,62361:57996,62362:57997,62363:57998,62364:57999,62365:58e3,62366:58001,62367:58002,62368:58003,62369:58004,62370:58005,62371:58006,62372:58007,62373:58008,62374:58009,62375:58010,62376:58011,62377:58012,62378:58013,62379:58014,62380:58015,62381:58016,62382:58017,62383:58018,62384:58019,62385:58020,62386:58021,62387:58022,62388:58023,62389:58024,62390:58025,62391:58026,62392:58027,62393:58028,62394:58029,62395:58030,62396:58031,62397:58032,62398:58033,62399:58034,62400:58035,62401:58036,62402:58037,62403:58038,62404:58039,62405:58040,62406:58041,62407:58042,62408:58043,62409:58044,62410:58045,62411:58046,62412:58047,62413:58048,62414:58049,62415:58050,62416:58051,62417:58052,62418:58053,62419:58054,62420:58055,62421:58056,62422:58057,62423:58058,62424:58059,62425:58060,62426:58061,62427:58062,62428:58063,62429:58064,62430:58065,62431:58066,62432:58067,62433:58068,62434:58069,62435:58070,62436:58071,62437:58072,62438:58073,62439:58074,62440:58075,62441:58076,62442:58077,62443:58078,62444:58079,62445:58080,62446:58081,62447:58082,62448:58083,62449:58084,62450:58085,62451:58086,62452:58087,62453:58088,62454:58089,62455:58090,62456:58091,62457:58092,62458:58093,62459:58094,62460:58095,62528:58096,62529:58097,62530:58098,62531:58099,62532:58100,62533:58101,62534:58102,62535:58103,62536:58104,62537:58105,62538:58106,62539:58107,62540:58108,62541:58109,62542:58110,62543:58111,62544:58112,62545:58113,62546:58114,62547:58115,62548:58116,62549:58117,62550:58118,62551:58119,62552:58120,62553:58121,62554:58122,62555:58123,62556:58124,62557:58125,62558:58126,62559:58127,62560:58128,62561:58129,62562:58130,62563:58131,62564:58132,62565:58133,62566:58134,62567:58135,62568:58136,62569:58137,62570:58138,62571:58139,62572:58140,62573:58141,62574:58142,62575:58143,62576:58144,62577:58145,62578:58146,62579:58147,62580:58148,62581:58149,62582:58150,62583:58151,62584:58152,62585:58153,62586:58154,62587:58155,62588:58156,62589:58157,62590:58158,62592:58159,62593:58160,62594:58161,62595:58162,62596:58163,62597:58164,62598:58165,62599:58166,62600:58167,62601:58168,62602:58169,62603:58170,62604:58171,62605:58172,62606:58173,62607:58174,62608:58175,62609:58176,62610:58177,62611:58178,62612:58179,62613:58180,62614:58181,62615:58182,62616:58183,62617:58184,62618:58185,62619:58186,62620:58187,62621:58188,62622:58189,62623:58190,62624:58191,62625:58192,62626:58193,62627:58194,62628:58195,62629:58196,62630:58197,62631:58198,62632:58199,62633:58200,62634:58201,62635:58202,62636:58203,62637:58204,62638:58205,62639:58206,62640:58207,62641:58208,62642:58209,62643:58210,62644:58211,62645:58212,62646:58213,62647:58214,62648:58215,62649:58216,62650:58217,62651:58218,62652:58219,62653:58220,62654:58221,62655:58222,62656:58223,62657:58224,62658:58225,62659:58226,62660:58227,62661:58228,62662:58229,62663:58230,62664:58231,62665:58232,62666:58233,62667:58234,62668:58235,62669:58236,62670:58237,62671:58238,62672:58239,62673:58240,62674:58241,62675:58242,62676:58243,62677:58244,62678:58245,62679:58246,62680:58247,62681:58248,62682:58249,62683:58250,62684:58251,62685:58252,62686:58253,62687:58254,62688:58255,62689:58256,62690:58257,62691:58258,62692:58259,62693:58260,62694:58261,62695:58262,62696:58263,62697:58264,62698:58265,62699:58266,62700:58267,62701:58268,62702:58269,62703:58270,62704:58271,62705:58272,62706:58273,62707:58274,62708:58275,62709:58276,62710:58277,62711:58278,62712:58279,62713:58280,62714:58281,62715:58282,62716:58283,62784:58284,62785:58285,62786:58286,62787:58287,62788:58288,62789:58289,62790:58290,62791:58291,62792:58292,62793:58293,62794:58294,62795:58295,62796:58296,62797:58297,62798:58298,62799:58299,62800:58300,62801:58301,62802:58302,62803:58303,62804:58304,62805:58305,62806:58306,62807:58307,62808:58308,62809:58309,62810:58310,62811:58311,62812:58312,62813:58313,62814:58314,62815:58315,62816:58316,62817:58317,62818:58318,62819:58319,62820:58320,62821:58321,62822:58322,62823:58323,62824:58324,62825:58325,62826:58326,62827:58327,62828:58328,62829:58329,62830:58330,62831:58331,62832:58332,62833:58333,62834:58334,62835:58335,62836:58336,62837:58337,62838:58338,62839:58339,62840:58340,62841:58341,62842:58342,62843:58343,62844:58344,62845:58345,62846:58346,62848:58347,62849:58348,62850:58349,62851:58350,62852:58351,62853:58352,62854:58353,62855:58354,62856:58355,62857:58356,62858:58357,62859:58358,62860:58359,62861:58360,62862:58361,62863:58362,62864:58363,62865:58364,62866:58365,62867:58366,62868:58367,62869:58368,62870:58369,62871:58370,62872:58371,62873:58372,62874:58373,62875:58374,62876:58375,62877:58376,62878:58377,62879:58378,62880:58379,62881:58380,62882:58381,62883:58382,62884:58383,62885:58384,62886:58385,62887:58386,62888:58387,62889:58388,62890:58389,62891:58390,62892:58391,62893:58392,62894:58393,62895:58394,62896:58395,62897:58396,62898:58397,62899:58398,62900:58399,62901:58400,62902:58401,62903:58402,62904:58403,62905:58404,62906:58405,62907:58406,62908:58407,62909:58408,62910:58409,62911:58410,62912:58411,62913:58412,62914:58413,62915:58414,62916:58415,62917:58416,62918:58417,62919:58418,62920:58419,62921:58420,62922:58421,62923:58422,62924:58423,62925:58424,62926:58425,62927:58426,62928:58427,62929:58428,62930:58429,62931:58430,62932:58431,62933:58432,62934:58433,62935:58434,62936:58435,62937:58436,62938:58437,62939:58438,62940:58439,62941:58440,62942:58441,62943:58442,62944:58443,62945:58444,62946:58445,62947:58446,62948:58447,62949:58448,62950:58449,62951:58450,62952:58451,62953:58452,62954:58453,62955:58454,62956:58455,62957:58456,62958:58457,62959:58458,62960:58459,62961:58460,62962:58461,62963:58462,62964:58463,62965:58464,62966:58465,62967:58466,62968:58467,62969:58468,62970:58469,62971:58470,62972:58471,63040:58472,63041:58473,63042:58474,63043:58475,63044:58476,63045:58477,63046:58478,63047:58479,63048:58480,63049:58481,63050:58482,63051:58483,63052:58484,63053:58485,63054:58486,63055:58487,63056:58488,63057:58489,63058:58490,63059:58491,63060:58492,63061:58493,63062:58494,63063:58495,63064:58496,63065:58497,63066:58498,63067:58499,63068:58500,63069:58501,63070:58502,63071:58503,63072:58504,63073:58505,63074:58506,63075:58507,63076:58508,63077:58509,63078:58510,63079:58511,63080:58512,63081:58513,63082:58514,63083:58515,63084:58516,63085:58517,63086:58518,63087:58519,63088:58520,63089:58521,63090:58522,63091:58523,63092:58524,63093:58525,63094:58526,63095:58527,63096:58528,63097:58529,63098:58530,63099:58531,63100:58532,63101:58533,63102:58534,63104:58535,63105:58536,63106:58537,63107:58538,63108:58539,63109:58540,63110:58541,63111:58542,63112:58543,63113:58544,63114:58545,63115:58546,63116:58547,63117:58548,63118:58549,63119:58550,63120:58551,63121:58552,63122:58553,63123:58554,63124:58555,63125:58556,63126:58557,63127:58558,63128:58559,63129:58560,63130:58561,63131:58562,63132:58563,63133:58564,63134:58565,63135:58566,63136:58567,63137:58568,63138:58569,63139:58570,63140:58571,63141:58572,63142:58573,63143:58574,63144:58575,63145:58576,63146:58577,63147:58578,63148:58579,63149:58580,63150:58581,63151:58582,63152:58583,63153:58584,63154:58585,63155:58586,63156:58587,63157:58588,63158:58589,63159:58590,63160:58591,63161:58592,63162:58593,63163:58594,63164:58595,63165:58596,63166:58597,63167:58598,63168:58599,63169:58600,63170:58601,63171:58602,63172:58603,63173:58604,63174:58605,63175:58606,63176:58607,63177:58608,63178:58609,63179:58610,63180:58611,63181:58612,63182:58613,63183:58614,63184:58615,63185:58616,63186:58617,63187:58618,63188:58619,63189:58620,63190:58621,63191:58622,63192:58623,63193:58624,63194:58625,63195:58626,63196:58627,63197:58628,63198:58629,63199:58630,63200:58631,63201:58632,63202:58633,63203:58634,63204:58635,63205:58636,63206:58637,63207:58638,63208:58639,63209:58640,63210:58641,63211:58642,63212:58643,63213:58644,63214:58645,63215:58646,63216:58647,63217:58648,63218:58649,63219:58650,63220:58651,63221:58652,63222:58653,63223:58654,63224:58655,63225:58656,63226:58657,63227:58658,63228:58659,63296:58660,63297:58661,63298:58662,63299:58663,63300:58664,63301:58665,63302:58666,63303:58667,63304:58668,63305:58669,63306:58670,63307:58671,63308:58672,63309:58673,63310:58674,63311:58675,63312:58676,63313:58677,63314:58678,63315:58679,63316:58680,63317:58681,63318:58682,63319:58683,63320:58684,63321:58685,63322:58686,63323:58687,63324:58688,63325:58689,63326:58690,63327:58691,63328:58692,63329:58693,63330:58694,63331:58695,63332:58696,63333:58697,63334:58698,63335:58699,63336:58700,63337:58701,63338:58702,63339:58703,63340:58704,63341:58705,63342:58706,63343:58707,63344:58708,63345:58709,63346:58710,63347:58711,63348:58712,63349:58713,63350:58714,63351:58715,63352:58716,63353:58717,63354:58718,63355:58719,63356:58720,63357:58721,63358:58722,63360:58723,63361:58724,63362:58725,63363:58726,63364:58727,63365:58728,63366:58729,63367:58730,63368:58731,63369:58732,63370:58733,63371:58734,63372:58735,63373:58736,63374:58737,63375:58738,63376:58739,63377:58740,63378:58741,63379:58742,63380:58743,63381:58744,63382:58745,63383:58746,63384:58747,63385:58748,63386:58749,63387:58750,63388:58751,63389:58752,63390:58753,63391:58754,63392:58755,63393:58756,63394:58757,63395:58758,63396:58759,63397:58760,63398:58761,63399:58762,63400:58763,63401:58764,63402:58765,63403:58766,63404:58767,63405:58768,63406:58769,63407:58770,63408:58771,63409:58772,63410:58773,63411:58774,63412:58775,63413:58776,63414:58777,63415:58778,63416:58779,63417:58780,63418:58781,63419:58782,63420:58783,63421:58784,63422:58785,63423:58786,63424:58787,63425:58788,63426:58789,63427:58790,63428:58791,63429:58792,63430:58793,63431:58794,63432:58795,63433:58796,63434:58797,63435:58798,63436:58799,63437:58800,63438:58801,63439:58802,63440:58803,63441:58804,63442:58805,63443:58806,63444:58807,63445:58808,63446:58809,63447:58810,63448:58811,63449:58812,63450:58813,63451:58814,63452:58815,63453:58816,63454:58817,63455:58818,63456:58819,63457:58820,63458:58821,63459:58822,63460:58823,63461:58824,63462:58825,63463:58826,63464:58827,63465:58828,63466:58829,63467:58830,63468:58831,63469:58832,63470:58833,63471:58834,63472:58835,63473:58836,63474:58837,63475:58838,63476:58839,63477:58840,63478:58841,63479:58842,63480:58843,63481:58844,63482:58845,63483:58846,63484:58847,63552:58848,63553:58849,63554:58850,63555:58851,63556:58852,63557:58853,63558:58854,63559:58855,63560:58856,63561:58857,63562:58858,63563:58859,63564:58860,63565:58861,63566:58862,63567:58863,63568:58864,63569:58865,63570:58866,63571:58867,63572:58868,63573:58869,63574:58870,63575:58871,63576:58872,63577:58873,63578:58874,63579:58875,63580:58876,63581:58877,63582:58878,63583:58879,63584:58880,63585:58881,63586:58882,63587:58883,63588:58884,63589:58885,63590:58886,63591:58887,63592:58888,63593:58889,63594:58890,63595:58891,63596:58892,63597:58893,63598:58894,63599:58895,63600:58896,63601:58897,63602:58898,63603:58899,63604:58900,63605:58901,63606:58902,63607:58903,63608:58904,63609:58905,63610:58906,63611:58907,63612:58908,63613:58909,63614:58910,63616:58911,63617:58912,63618:58913,63619:58914,63620:58915,63621:58916,63622:58917,63623:58918,63624:58919,63625:58920,63626:58921,63627:58922,63628:58923,63629:58924,63630:58925,63631:58926,63632:58927,63633:58928,63634:58929,63635:58930,63636:58931,63637:58932,63638:58933,63639:58934,63640:58935,63641:58936,63642:58937,63643:58938,63644:58939,63645:58940,63646:58941,63647:58942,63648:58943,63649:58944,63650:58945,63651:58946,63652:58947,63653:58948,63654:58949,63655:58950,63656:58951,63657:58952,63658:58953,63659:58954,63660:58955,63661:58956,63662:58957,63663:58958,63664:58959,63665:58960,63666:58961,63667:58962,63668:58963,63669:58964,63670:58965,63671:58966,63672:58967,63673:58968,63674:58969,63675:58970,63676:58971,63677:58972,63678:58973,63679:58974,63680:58975,63681:58976,63682:58977,63683:58978,63684:58979,63685:58980,63686:58981,63687:58982,63688:58983,63689:58984,63690:58985,63691:58986,63692:58987,63693:58988,63694:58989,63695:58990,63696:58991,63697:58992,63698:58993,63699:58994,63700:58995,63701:58996,63702:58997,63703:58998,63704:58999,63705:59e3,63706:59001,63707:59002,63708:59003,63709:59004,63710:59005,63711:59006,63712:59007,63713:59008,63714:59009,63715:59010,63716:59011,63717:59012,63718:59013,63719:59014,63720:59015,63721:59016,63722:59017,63723:59018,63724:59019,63725:59020,63726:59021,63727:59022,63728:59023,63729:59024,63730:59025,63731:59026,63732:59027,63733:59028,63734:59029,63735:59030,63736:59031,63737:59032,63738:59033,63739:59034,63740:59035,64064:8560,64065:8561,64066:8562,64067:8563,64068:8564,64069:8565,64070:8566,64071:8567,64072:8568,64073:8569,64074:8544,64075:8545,64076:8546,64077:8547,64078:8548,64079:8549,64080:8550,64081:8551,64082:8552,64083:8553,64084:65506,64085:65508,64086:65287,64087:65282,64088:12849,64089:8470,64090:8481,64091:8757,64092:32394,64093:35100,64094:37704,64095:37512,64096:34012,64097:20425,64098:28859,64099:26161,64100:26824,64101:37625,64102:26363,64103:24389,64104:20008,64105:20193,64106:20220,64107:20224,64108:20227,64109:20281,64110:20310,64111:20370,64112:20362,64113:20378,64114:20372,64115:20429,64116:20544,64117:20514,64118:20479,64119:20510,64120:20550,64121:20592,64122:20546,64123:20628,64124:20724,64125:20696,64126:20810,64128:20836,64129:20893,64130:20926,64131:20972,64132:21013,64133:21148,64134:21158,64135:21184,64136:21211,64137:21248,64138:21255,64139:21284,64140:21362,64141:21395,64142:21426,64143:21469,64144:64014,64145:21660,64146:21642,64147:21673,64148:21759,64149:21894,64150:22361,64151:22373,64152:22444,64153:22472,64154:22471,64155:64015,64156:64016,64157:22686,64158:22706,64159:22795,64160:22867,64161:22875,64162:22877,64163:22883,64164:22948,64165:22970,64166:23382,64167:23488,64168:29999,64169:23512,64170:23532,64171:23582,64172:23718,64173:23738,64174:23797,64175:23847,64176:23891,64177:64017,64178:23874,64179:23917,64180:23992,64181:23993,64182:24016,64183:24353,64184:24372,64185:24423,64186:24503,64187:24542,64188:24669,64189:24709,64190:24714,64191:24798,64192:24789,64193:24864,64194:24818,64195:24849,64196:24887,64197:24880,64198:24984,64199:25107,64200:25254,64201:25589,64202:25696,64203:25757,64204:25806,64205:25934,64206:26112,64207:26133,64208:26171,64209:26121,64210:26158,64211:26142,64212:26148,64213:26213,64214:26199,64215:26201,64216:64018,64217:26227,64218:26265,64219:26272,64220:26290,64221:26303,64222:26362,64223:26382,64224:63785,64225:26470,64226:26555,64227:26706,64228:26560,64229:26625,64230:26692,64231:26831,64232:64019,64233:26984,64234:64020,64235:27032,64236:27106,64237:27184,64238:27243,64239:27206,64240:27251,64241:27262,64242:27362,64243:27364,64244:27606,64245:27711,64246:27740,64247:27782,64248:27759,64249:27866,64250:27908,64251:28039,64252:28015,64320:28054,64321:28076,64322:28111,64323:28152,64324:28146,64325:28156,64326:28217,64327:28252,64328:28199,64329:28220,64330:28351,64331:28552,64332:28597,64333:28661,64334:28677,64335:28679,64336:28712,64337:28805,64338:28843,64339:28943,64340:28932,64341:29020,64342:28998,64343:28999,64344:64021,64345:29121,64346:29182,64347:29361,64348:29374,64349:29476,64350:64022,64351:29559,64352:29629,64353:29641,64354:29654,64355:29667,64356:29650,64357:29703,64358:29685,64359:29734,64360:29738,64361:29737,64362:29742,64363:29794,64364:29833,64365:29855,64366:29953,64367:30063,64368:30338,64369:30364,64370:30366,64371:30363,64372:30374,64373:64023,64374:30534,64375:21167,64376:30753,64377:30798,64378:30820,64379:30842,64380:31024,64381:64024,64382:64025,64384:64026,64385:31124,64386:64027,64387:31131,64388:31441,64389:31463,64390:64028,64391:31467,64392:31646,64393:64029,64394:32072,64395:32092,64396:32183,64397:32160,64398:32214,64399:32338,64400:32583,64401:32673,64402:64030,64403:33537,64404:33634,64405:33663,64406:33735,64407:33782,64408:33864,64409:33972,64410:34131,64411:34137,64412:34155,64413:64031,64414:34224,64415:64032,64416:64033,64417:34823,64418:35061,64419:35346,64420:35383,64421:35449,64422:35495,64423:35518,64424:35551,64425:64034,64426:35574,64427:35667,64428:35711,64429:36080,64430:36084,64431:36114,64432:36214,64433:64035,64434:36559,64435:64036,64436:64037,64437:36967,64438:37086,64439:64038,64440:37141,64441:37159,64442:37338,64443:37335,64444:37342,64445:37357,64446:37358,64447:37348,64448:37349,64449:37382,64450:37392,64451:37386,64452:37434,64453:37440,64454:37436,64455:37454,64456:37465,64457:37457,64458:37433,64459:37479,64460:37543,64461:37495,64462:37496,64463:37607,64464:37591,64465:37593,64466:37584,64467:64039,64468:37589,64469:37600,64470:37587,64471:37669,64472:37665,64473:37627,64474:64040,64475:37662,64476:37631,64477:37661,64478:37634,64479:37744,64480:37719,64481:37796,64482:37830,64483:37854,64484:37880,64485:37937,64486:37957,64487:37960,64488:38290,64489:63964,64490:64041,64491:38557,64492:38575,64493:38707,64494:38715,64495:38723,64496:38733,64497:38735,64498:38737,64499:38741,64500:38999,64501:39013,64502:64042,64503:64043,64504:39207,64505:64044,64506:39326,64507:39502,64508:39641,64576:39644,64577:39797,64578:39794,64579:39823,64580:39857,64581:39867,64582:39936,64583:40304,64584:40299,64585:64045,64586:40473,64587:40657};function cD(t,e){this.dv=new DataView(t),this.offset=0,this.littleEndian=e!==void 0?e:!0,this.encoder=new kT}cD.prototype={constructor:cD,getInt8:function(){var t=this.dv.getInt8(this.offset);return this.offset+=1,t},getInt8Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt8());return e},getUint8:function(){var t=this.dv.getUint8(this.offset);return this.offset+=1,t},getUint8Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getUint8());return e},getInt16:function(){var t=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,t},getInt16Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt16());return e},getUint16:function(){var t=this.dv.getUint16(this.offset,this.littleEndian);return this.offset+=2,t},getUint16Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getUint16());return e},getInt32:function(){var t=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,t},getInt32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getInt32());return e},getUint32:function(){var t=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,t},getUint32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getUint32());return e},getFloat32:function(){var t=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t},getFloat32Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getFloat32());return e},getFloat64:function(){var t=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t},getFloat64Array:function(t){for(var e=[],n=0;n<t;n++)e.push(this.getFloat64());return e},getIndex:function(t,e){switch(t){case 1:return e===!0?this.getUint8():this.getInt8();case 2:return e===!0?this.getUint16():this.getInt16();case 4:return this.getInt32();default:throw"unknown number type "+t+" exception."}},getIndexArray:function(t,e,n){for(var r=[],i=0;i<e;i++)r.push(this.getIndex(t,n));return r},getChars:function(t){for(var e="";t>0;){var n=this.getUint8();if(t--,n===0)break;e+=String.fromCharCode(n)}for(;t>0;)this.getUint8(),t--;return e},getSjisStringsAsUnicode:function(t){for(var e=[];t>0;){var n=this.getUint8();if(t--,n===0)break;e.push(n)}for(;t>0;)this.getUint8(),t--;return this.encoder.s2u(new Uint8Array(e))},getUnicodeStrings:function(t){for(var e="";t>0;){var n=this.getUint16();if(t-=2,n===0)break;e+=String.fromCharCode(n)}for(;t>0;)this.getUint8(),t--;return e},getTextBuffer:function(){var t=this.getUint32();return this.getUnicodeStrings(t)}};function uD(){}uD.prototype={constructor:uD,leftToRightVector3:function(t){t[2]=-t[2]},leftToRightQuaternion:function(t){t[0]=-t[0],t[1]=-t[1]},leftToRightEuler:function(t){t[0]=-t[0],t[1]=-t[1]},leftToRightIndexOrder:function(t){var e=t[2];t[2]=t[0],t[0]=e},leftToRightVector3Range:function(t,e){var n=-e[2];e[2]=-t[2],t[2]=n},leftToRightEulerRange:function(t,e){var n=-e[0],r=-e[1];e[0]=-t[0],e[1]=-t[1],t[0]=n,t[1]=r}};const vz=0,ife=2,sfe=0,ofe=0,afe=2,lfe=0,cfe=0,ufe=1,tC=2,hfe=1,ffe=64,yz=0,xz=9,UT=15,Ez=16,GT=22,_z=37,HT=43,Sz=76,Cz=83,wz=97,Tz=100,Iz=103,bz=109;class dfe{constructor(){this.vkFormat=yz,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=vz,this.levels=[],this.dataFormatDescriptor=[{vendorId:ofe,descriptorType:sfe,descriptorBlockSize:0,versionNumber:afe,colorModel:lfe,colorPrimaries:hfe,transferFunction:tC,flags:cfe,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class q0{constructor(e,n,r,i){this._dataView=void 0,this._littleEndian=void 0,this._offset=void 0,this._dataView=new DataView(e.buffer,e.byteOffset+n,r),this._littleEndian=i,this._offset=0}_nextUint8(){const e=this._dataView.getUint8(this._offset);return this._offset+=1,e}_nextUint16(){const e=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,e}_nextUint32(){const e=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,e}_nextUint64(){const e=this._dataView.getUint32(this._offset,this._littleEndian),n=this._dataView.getUint32(this._offset+4,this._littleEndian),r=e+2**32*n;return this._offset+=8,r}_nextInt32(){const e=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,e}_skip(e){return this._offset+=e,this}_scan(e,n=0){const r=this._offset;let i=0;for(;this._dataView.getUint8(this._offset)!==n&&i<e;)i++,this._offset++;return i<e&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+r,i)}}const Bi=[171,75,84,88,32,50,48,187,13,10,26,10];function hD(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):Buffer.from(t).toString("utf8")}function pfe(t){const e=new Uint8Array(t.buffer,t.byteOffset,Bi.length);if(e[0]!==Bi[0]||e[1]!==Bi[1]||e[2]!==Bi[2]||e[3]!==Bi[3]||e[4]!==Bi[4]||e[5]!==Bi[5]||e[6]!==Bi[6]||e[7]!==Bi[7]||e[8]!==Bi[8]||e[9]!==Bi[9]||e[10]!==Bi[10]||e[11]!==Bi[11])throw new Error("Missing KTX 2.0 identifier.");const n=new dfe,r=17*Uint32Array.BYTES_PER_ELEMENT,i=new q0(t,Bi.length,r,!0);n.vkFormat=i._nextUint32(),n.typeSize=i._nextUint32(),n.pixelWidth=i._nextUint32(),n.pixelHeight=i._nextUint32(),n.pixelDepth=i._nextUint32(),n.layerCount=i._nextUint32(),n.faceCount=i._nextUint32();const s=i._nextUint32();n.supercompressionScheme=i._nextUint32();const o=i._nextUint32(),a=i._nextUint32(),l=i._nextUint32(),c=i._nextUint32(),u=i._nextUint64(),h=i._nextUint64(),f=s*3*8,m=new q0(t,Bi.length+r,f,!0);for(let V=0;V<s;V++)n.levels.push({levelData:new Uint8Array(t.buffer,t.byteOffset+m._nextUint64(),m._nextUint64()),uncompressedByteLength:m._nextUint64()});const g=new q0(t,o,a,!0),E={vendorId:g._skip(4)._nextUint16(),descriptorType:g._nextUint16(),versionNumber:g._nextUint16(),descriptorBlockSize:g._nextUint16(),colorModel:g._nextUint8(),colorPrimaries:g._nextUint8(),transferFunction:g._nextUint8(),flags:g._nextUint8(),texelBlockDimension:[g._nextUint8(),g._nextUint8(),g._nextUint8(),g._nextUint8()],bytesPlane:[g._nextUint8(),g._nextUint8(),g._nextUint8(),g._nextUint8(),g._nextUint8(),g._nextUint8(),g._nextUint8(),g._nextUint8()],samples:[]},x=6,A=4,v=(E.descriptorBlockSize/4-x)/A;for(let V=0;V<v;V++){const H={bitOffset:g._nextUint16(),bitLength:g._nextUint8(),channelType:g._nextUint8(),samplePosition:[g._nextUint8(),g._nextUint8(),g._nextUint8(),g._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};H.channelType&ffe?(H.sampleLower=g._nextInt32(),H.sampleUpper=g._nextInt32()):(H.sampleLower=g._nextUint32(),H.sampleUpper=g._nextUint32()),E.samples[V]=H}n.dataFormatDescriptor.length=0,n.dataFormatDescriptor.push(E);const y=new q0(t,l,c,!0);for(;y._offset<c;){const V=y._nextUint32(),H=y._scan(V),X=hD(H),he=y._scan(V-H.byteLength);n.keyValue[X]=X.match(/^ktx/i)?hD(he):he,y._offset%4&&y._skip(4-y._offset%4)}if(h<=0)return n;const S=new q0(t,u,h,!0),w=S._nextUint16(),T=S._nextUint16(),b=S._nextUint32(),R=S._nextUint32(),M=S._nextUint32(),B=S._nextUint32(),L=[];for(let V=0;V<s;V++)L.push({imageFlags:S._nextUint32(),rgbSliceByteOffset:S._nextUint32(),rgbSliceByteLength:S._nextUint32(),alphaSliceByteOffset:S._nextUint32(),alphaSliceByteLength:S._nextUint32()});const G=u+S._offset,F=G+b,$=F+R,W=$+M,Z=new Uint8Array(t.buffer,t.byteOffset+G,b),q=new Uint8Array(t.buffer,t.byteOffset+F,R),k=new Uint8Array(t.buffer,t.byteOffset+$,M),J=new Uint8Array(t.buffer,t.byteOffset+W,B);return n.globalData={endpointCount:w,selectorCount:T,imageDescs:L,endpointsData:Z,selectorsData:q,tablesData:k,extendedData:J},n}let e_,ul,nC;const t_={env:{emscripten_notify_memory_growth:function(t){nC=new Uint8Array(ul.exports.memory.buffer)}}};class mfe{init(){return e_||(e_=typeof fetch<"u"?fetch("data:application/wasm;base64,"+fD).then(e=>e.arrayBuffer()).then(e=>WebAssembly.instantiate(e,t_)).then(this._init):WebAssembly.instantiate(Buffer.from(fD,"base64"),t_).then(this._init),e_)}_init(e){ul=e.instance,t_.env.emscripten_notify_memory_growth(0)}decode(e,n=0){if(!ul)throw new Error("ZSTDDecoder: Await .init() before decoding.");const r=e.byteLength,i=ul.exports.malloc(r);nC.set(e,i),n=n||Number(ul.exports.ZSTD_findDecompressedSize(i,r));const s=ul.exports.malloc(n),o=ul.exports.ZSTD_decompress(s,n,i,r),a=nC.slice(s,s+o);return ul.exports.free(i),ul.exports.free(s),a}}const fD="AGFzbQEAAAABpQEVYAF/AX9gAn9/AGADf39/AX9gBX9/f39/AX9gAX8AYAJ/fwF/YAR/f39/AX9gA39/fwBgBn9/f39/fwF/YAd/f39/f39/AX9gAn9/AX5gAn5+AX5gAABgBX9/f39/AGAGf39/f39/AGAIf39/f39/f38AYAl/f39/f39/f38AYAABf2AIf39/f39/f38Bf2ANf39/f39/f39/f39/fwF/YAF/AX4CJwEDZW52H2Vtc2NyaXB0ZW5fbm90aWZ5X21lbW9yeV9ncm93dGgABANpaAEFAAAFAgEFCwACAQABAgIFBQcAAwABDgsBAQcAEhMHAAUBDAQEAAANBwQCAgYCBAgDAwMDBgEACQkHBgICAAYGAgQUBwYGAwIGAAMCAQgBBwUGCgoEEQAEBAEIAwgDBQgDEA8IAAcABAUBcAECAgUEAQCAAgYJAX8BQaCgwAILB2AHBm1lbW9yeQIABm1hbGxvYwAoBGZyZWUAJgxaU1REX2lzRXJyb3IAaBlaU1REX2ZpbmREZWNvbXByZXNzZWRTaXplAFQPWlNURF9kZWNvbXByZXNzAEoGX3N0YXJ0ACQJBwEAQQELASQKussBaA8AIAAgACgCBCABajYCBAsZACAAKAIAIAAoAgRBH3F0QQAgAWtBH3F2CwgAIABBiH9LC34BBH9BAyEBIAAoAgQiA0EgTQRAIAAoAggiASAAKAIQTwRAIAAQDQ8LIAAoAgwiAiABRgRAQQFBAiADQSBJGw8LIAAgASABIAJrIANBA3YiBCABIARrIAJJIgEbIgJrIgQ2AgggACADIAJBA3RrNgIEIAAgBCgAADYCAAsgAQsUAQF/IAAgARACIQIgACABEAEgAgv3AQECfyACRQRAIABCADcCACAAQQA2AhAgAEIANwIIQbh/DwsgACABNgIMIAAgAUEEajYCECACQQRPBEAgACABIAJqIgFBfGoiAzYCCCAAIAMoAAA2AgAgAUF/ai0AACIBBEAgAEEIIAEQFGs2AgQgAg8LIABBADYCBEF/DwsgACABNgIIIAAgAS0AACIDNgIAIAJBfmoiBEEBTQRAIARBAWtFBEAgACABLQACQRB0IANyIgM2AgALIAAgAS0AAUEIdCADajYCAAsgASACakF/ai0AACIBRQRAIABBADYCBEFsDwsgAEEoIAEQFCACQQN0ams2AgQgAgsWACAAIAEpAAA3AAAgACABKQAINwAICy8BAX8gAUECdEGgHWooAgAgACgCAEEgIAEgACgCBGprQR9xdnEhAiAAIAEQASACCyEAIAFCz9bTvtLHq9lCfiAAfEIfiUKHla+vmLbem55/fgsdAQF/IAAoAgggACgCDEYEfyAAKAIEQSBGBUEACwuCBAEDfyACQYDAAE8EQCAAIAEgAhBnIAAPCyAAIAJqIQMCQCAAIAFzQQNxRQRAAkAgAkEBSARAIAAhAgwBCyAAQQNxRQRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADTw0BIAJBA3ENAAsLAkAgA0F8cSIEQcAASQ0AIAIgBEFAaiIFSw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBU0NAAsLIAIgBE8NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIARJDQALDAELIANBBEkEQCAAIQIMAQsgA0F8aiIEIABJBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsgAAsMACAAIAEpAAA3AAALQQECfyAAKAIIIgEgACgCEEkEQEEDDwsgACAAKAIEIgJBB3E2AgQgACABIAJBA3ZrIgE2AgggACABKAAANgIAQQALDAAgACABKAIANgAAC/cCAQJ/AkAgACABRg0AAkAgASACaiAASwRAIAAgAmoiBCABSw0BCyAAIAEgAhALDwsgACABc0EDcSEDAkACQCAAIAFJBEAgAwRAIAAhAwwDCyAAQQNxRQRAIAAhAwwCCyAAIQMDQCACRQ0EIAMgAS0AADoAACABQQFqIQEgAkF/aiECIANBAWoiA0EDcQ0ACwwBCwJAIAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQhBSAGQQR2IQRBICAAdCIAQQFyIQkgASgCACEPQQAhAiADIQYCQANAIAlBAkggAiAPS3JFBEAgAiEHAkAgCARAA0AgBEH//wNxQf//A0YEQCAHQRhqIQcgBiAQSQR/IAZBAmoiBigAACAFdgUgBUEQaiEFIARBEHYLIQQMAQsLA0AgBEEDcSIIQQNGBEAgBUECaiEFIARBAnYhBCAHQQNqIQcMAQsLIAcgCGoiByAPSw0EIAVBAmohBQNAIAIgB0kEQCANIAJBAXRqQQA7AQAgAkEBaiECDAELCyAGIA5LQQAgBiAFQQN1aiIHIAxLG0UEQCAHKAAAIAVBB3EiBXYhBAwCCyAEQQJ2IQQLIAYhBwsCfyALQX9qIAQgAEF/anEiBiAAQQF0QX9qIgggCWsiEUkNABogBCAIcSIEQQAgESAEIABIG2shBiALCyEIIA0gAkEBdGogBkF/aiIEOwEAIAlBASAGayAEIAZBAUgbayEJA0AgCSAASARAIABBAXUhACALQX9qIQsMAQsLAn8gByAOS0EAIAcgBSAIaiIFQQN1aiIGIAxLG0UEQCAFQQdxDAELIAUgDCIGIAdrQQN0awshBSACQQFqIQIgBEUhCCAGKAAAIAVBH3F2IQQMAQsLQWwgCUEBRyAFQSBKcg0BGiABIAJBf2o2AgAgBiAFQQdqQQN1aiADawwBC0FQCyEAIApBEGokACAACwkAQQFBBSAAGwsMACAAIAEoAAA2AAALqgMBCn8jAEHwAGsiCiQAIAJBAWohDiAAQQhqIQtBgIAEIAVBf2p0QRB1IQxBACECQQEhBkEBIAV0IglBf2oiDyEIA0AgAiAORkUEQAJAIAEgAkEBdCINai8BACIHQf//A0YEQCALIAhBA3RqIAI2AgQgCEF/aiEIQQEhBwwBCyAGQQAgDCAHQRB0QRB1ShshBgsgCiANaiAHOwEAIAJBAWohAgwBCwsgACAFNgIEIAAgBjYCACAJQQN2IAlBAXZqQQNqIQxBACEAQQAhBkEAIQIDQCAGIA5GBEADQAJAIAAgCUYNACAKIAsgAEEDdGoiASgCBCIGQQF0aiICIAIvAQAiAkEBajsBACABIAUgAhAUayIIOgADIAEgAiAIQf8BcXQgCWs7AQAgASAEIAZBAnQiAmooAgA6AAIgASACIANqKAIANgIEIABBAWohAAwBCwsFIAEgBkEBdGouAQAhDUEAIQcDQCAHIA1ORQRAIAsgAkEDdGogBjYCBANAIAIgDGogD3EiAiAISw0ACyAHQQFqIQcMAQsLIAZBAWohBgwBCwsgCkHwAGokAAsjAEIAIAEQCSAAhUKHla+vmLbem55/fkLj3MqV/M7y9YV/fAsQACAAQn43AwggACABNgIACyQBAX8gAARAIAEoAgQiAgRAIAEoAgggACACEQEADwsgABAmCwsfACAAIAEgAi8BABAINgIAIAEQBBogACACQQRqNgIEC0oBAX9BoCAoAgAiASAAaiIAQX9MBEBBiCBBMDYCAEF/DwsCQCAAPwBBEHRNDQAgABBmDQBBiCBBMDYCAEF/DwtBoCAgADYCACABC9cBAQh/Qbp/IQoCQCACKAIEIgggAigCACIJaiIOIAEgAGtLDQBBbCEKIAkgBCADKAIAIgtrSw0AIAAgCWoiBCACKAIIIgxrIQ0gACABQWBqIg8gCyAJQQAQKSADIAkgC2o2AgACQAJAIAwgBCAFa00EQCANIQUMAQsgDCAEIAZrSw0CIAcgDSAFayIAaiIBIAhqIAdNBEAgBCABIAgQDxoMAgsgBCABQQAgAGsQDyEBIAIgACAIaiIINgIEIAEgAGshBAsgBCAPIAUgCEEBECkLIA4hCgsgCgubAgEBfyMAQYABayINJAAgDSADNgJ8AkAgAkEDSwRAQX8hCQwBCwJAAkACQAJAIAJBAWsOAwADAgELIAZFBEBBuH8hCQwEC0FsIQkgBS0AACICIANLDQMgACAHIAJBAnQiAmooAgAgAiAIaigCABA7IAEgADYCAEEBIQkMAwsgASAJNgIAQQAhCQwCCyAKRQRAQWwhCQwCC0EAIQkgC0UgDEEZSHINAUEIIAR0QQhqIQBBACECA0AgAiAATw0CIAJBQGshAgwAAAsAC0FsIQkgDSANQfwAaiANQfgAaiAFIAYQFSICEAMNACANKAJ4IgMgBEsNACAAIA0gDSgCfCAHIAggAxAYIAEgADYCACACIQkLIA1BgAFqJAAgCQsLACAAIAEgAhALGgsQACAALwAAIAAtAAJBEHRyCy8AAn9BuH8gAUEISQ0AGkFyIAAoAAQiAEF3Sw0AGkG4fyAAQQhqIgAgACABSxsLCwkAIAAgATsAAAsDAAELigYBBX8gACAAKAIAIgVBfnE2AgBBACAAIAVBAXZqQYQgKAIAIgQgAEYbIQECQAJAIAAoAgQiAkUNACACKAIAIgNBAXENACACQQhqIgUgA0EBdkF4aiIDQQggA0EISxtnQR9zQQJ0QYAfaiIDKAIARgRAIAMgAigCDDYCAAsgAigCCCIDBEAgAyACKAIMNgIECyACKAIMIgMEQCADIAIoAgg2AgALIAIgAigCACAAKAIAQX5xajYCAEGEICEAAkACQCABRQ0AIAEgAjYCBCABKAIAIgNBAXENASADQQF2QXhqIgNBCCADQQhLG2dBH3NBAnRBgB9qIgMoAgAgAUEIakYEQCADIAEoAgw2AgALIAEoAggiAwRAIAMgASgCDDYCBAsgASgCDCIDBEAgAyABKAIINgIAQYQgKAIAIQQLIAIgAigCACABKAIAQX5xajYCACABIARGDQAgASABKAIAQQF2akEEaiEACyAAIAI2AgALIAIoAgBBAXZBeGoiAEEIIABBCEsbZ0Efc0ECdEGAH2oiASgCACEAIAEgBTYCACACIAA2AgwgAkEANgIIIABFDQEgACAFNgIADwsCQCABRQ0AIAEoAgAiAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAigCACABQQhqRgRAIAIgASgCDDYCAAsgASgCCCICBEAgAiABKAIMNgIECyABKAIMIgIEQCACIAEoAgg2AgBBhCAoAgAhBAsgACAAKAIAIAEoAgBBfnFqIgI2AgACQCABIARHBEAgASABKAIAQQF2aiAANgIEIAAoAgAhAgwBC0GEICAANgIACyACQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgIoAgAhASACIABBCGoiAjYCACAAIAE2AgwgAEEANgIIIAFFDQEgASACNgIADwsgBUEBdkF4aiIBQQggAUEISxtnQR9zQQJ0QYAfaiICKAIAIQEgAiAAQQhqIgI2AgAgACABNgIMIABBADYCCCABRQ0AIAEgAjYCAAsLDgAgAARAIABBeGoQJQsLgAIBA38CQCAAQQ9qQXhxQYQgKAIAKAIAQQF2ayICEB1Bf0YNAAJAQYQgKAIAIgAoAgAiAUEBcQ0AIAFBAXZBeGoiAUEIIAFBCEsbZ0Efc0ECdEGAH2oiASgCACAAQQhqRgRAIAEgACgCDDYCAAsgACgCCCIBBEAgASAAKAIMNgIECyAAKAIMIgFFDQAgASAAKAIINgIAC0EBIQEgACAAKAIAIAJBAXRqIgI2AgAgAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAygCACECIAMgAEEIaiIDNgIAIAAgAjYCDCAAQQA2AgggAkUNACACIAM2AgALIAELtwIBA38CQAJAIABBASAAGyICEDgiAA0AAkACQEGEICgCACIARQ0AIAAoAgAiA0EBcQ0AIAAgA0EBcjYCACADQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgAgAEEIakYEQCABIAAoAgw2AgALIAAoAggiAQRAIAEgACgCDDYCBAsgACgCDCIBBEAgASAAKAIINgIACyACECchAkEAIQFBhCAoAgAhACACDQEgACAAKAIAQX5xNgIAQQAPCyACQQ9qQXhxIgMQHSICQX9GDQIgAkEHakF4cSIAIAJHBEAgACACaxAdQX9GDQMLAkBBhCAoAgAiAUUEQEGAICAANgIADAELIAAgATYCBAtBhCAgADYCACAAIANBAXRBAXI2AgAMAQsgAEUNAQsgAEEIaiEBCyABC7kDAQJ/IAAgA2ohBQJAIANBB0wEQANAIAAgBU8NAiAAIAItAAA6AAAgAEEBaiEAIAJBAWohAgwAAAsACyAEQQFGBEACQCAAIAJrIgZBB00EQCAAIAItAAA6AAAgACACLQABOgABIAAgAi0AAjoAAiAAIAItAAM6AAMgAEEEaiACIAZBAnQiBkHAHmooAgBqIgIQFyACIAZB4B5qKAIAayECDAELIAAgAhAMCyACQQhqIQIgAEEIaiEACwJAAkACQAJAIAUgAU0EQCAAIANqIQEgBEEBRyAAIAJrQQ9Kcg0BA0AgACACEAwgAkEIaiECIABBCGoiACABSQ0ACwwFCyAAIAFLBEAgACEBDAQLIARBAUcgACACa0EPSnINASAAIQMgAiEEA0AgAyAEEAwgBEEIaiEEIANBCGoiAyABSQ0ACwwCCwNAIAAgAhAHIAJBEGohAiAAQRBqIgAgAUkNAAsMAwsgACEDIAIhBANAIAMgBBAHIARBEGohBCADQRBqIgMgAUkNAAsLIAIgASAAa2ohAgsDQCABIAVPDQEgASACLQAAOgAAIAFBAWohASACQQFqIQIMAAALAAsLQQECfyAAIAAoArjgASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigCACACaiAAQQZ2IgFBAnRBsB5qKAIAaiAAQSBxIgBFaiABRSAAQQV2cWoFQbh/CwsdACAAKAKQ4gEQWiAAQQA2AqDiASAAQgA3A5DiAQu1AwEFfyMAQZACayIKJABBuH8hBgJAIAVFDQAgBCwAACIIQf8BcSEHAkAgCEF/TARAIAdBgn9qQQF2IgggBU8NAkFsIQYgB0GBf2oiBUGAAk8NAiAEQQFqIQdBACEGA0AgBiAFTwRAIAUhBiAIIQcMAwUgACAGaiAHIAZBAXZqIgQtAABBBHY6AAAgACAGQQFyaiAELQAAQQ9xOgAAIAZBAmohBgwBCwAACwALIAcgBU8NASAAIARBAWogByAKEFMiBhADDQELIAYhBEEAIQYgAUEAQTQQECEJQQAhBQNAIAQgBkcEQCAAIAZqIggtAAAiAUELSwRAQWwhBgwDBSAJIAFBAnRqIgEgASgCAEEBajYCACAGQQFqIQZBASAILQAAdEEBdSAFaiEFDAILAAsLQWwhBiAFRQ0AIAUQFEEBaiIBQQxLDQAgAyABNgIAQQFBASABdCAFayIDEBQiAXQgA0cNACAAIARqIAFBAWoiADoAACAJIABBAnRqIgAgACgCAEEBajYCACAJKAIEIgBBAkkgAEEBcXINACACIARBAWo2AgAgB0EBaiEGCyAKQZACaiQAIAYLxhEBDH8jAEHwAGsiBSQAQWwhCwJAIANBCkkNACACLwAAIQogAi8AAiEJIAIvAAQhByAFQQhqIAQQDgJAIAMgByAJIApqakEGaiIMSQ0AIAUtAAohCCAFQdgAaiACQQZqIgIgChAGIgsQAw0BIAVBQGsgAiAKaiICIAkQBiILEAMNASAFQShqIAIgCWoiAiAHEAYiCxADDQEgBUEQaiACIAdqIAMgDGsQBiILEAMNASAAIAFqIg9BfWohECAEQQRqIQZBASELIAAgAUEDakECdiIDaiIMIANqIgIgA2oiDiEDIAIhBCAMIQcDQCALIAMgEElxBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgCS0AAyELIAcgBiAFQUBrIAgQAkECdGoiCS8BADsAACAFQUBrIAktAAIQASAJLQADIQogBCAGIAVBKGogCBACQQJ0aiIJLwEAOwAAIAVBKGogCS0AAhABIAktAAMhCSADIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgDS0AAyENIAAgC2oiCyAGIAVB2ABqIAgQAkECdGoiAC8BADsAACAFQdgAaiAALQACEAEgAC0AAyEAIAcgCmoiCiAGIAVBQGsgCBACQQJ0aiIHLwEAOwAAIAVBQGsgBy0AAhABIActAAMhByAEIAlqIgkgBiAFQShqIAgQAkECdGoiBC8BADsAACAFQShqIAQtAAIQASAELQADIQQgAyANaiIDIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgACALaiEAIAcgCmohByAEIAlqIQQgAyANLQADaiEDIAVB2ABqEA0gBUFAaxANciAFQShqEA1yIAVBEGoQDXJFIQsMAQsLIAQgDksgByACS3INAEFsIQsgACAMSw0BIAxBfWohCQNAQQAgACAJSSAFQdgAahAEGwRAIAAgBiAFQdgAaiAIEAJBAnRqIgovAQA7AAAgBUHYAGogCi0AAhABIAAgCi0AA2oiACAGIAVB2ABqIAgQAkECdGoiCi8BADsAACAFQdgAaiAKLQACEAEgACAKLQADaiEADAEFIAxBfmohCgNAIAVB2ABqEAQgACAKS3JFBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgACAJLQADaiEADAELCwNAIAAgCk0EQCAAIAYgBUHYAGogCBACQQJ0aiIJLwEAOwAAIAVB2ABqIAktAAIQASAAIAktAANqIQAMAQsLAkAgACAMTw0AIAAgBiAFQdgAaiAIEAIiAEECdGoiDC0AADoAACAMLQADQQFGBEAgBUHYAGogDC0AAhABDAELIAUoAlxBH0sNACAFQdgAaiAGIABBAnRqLQACEAEgBSgCXEEhSQ0AIAVBIDYCXAsgAkF9aiEMA0BBACAHIAxJIAVBQGsQBBsEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiIAIAYgBUFAayAIEAJBAnRqIgcvAQA7AAAgBUFAayAHLQACEAEgACAHLQADaiEHDAEFIAJBfmohDANAIAVBQGsQBCAHIAxLckUEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwNAIAcgDE0EQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwJAIAcgAk8NACAHIAYgBUFAayAIEAIiAEECdGoiAi0AADoAACACLQADQQFGBEAgBUFAayACLQACEAEMAQsgBSgCREEfSw0AIAVBQGsgBiAAQQJ0ai0AAhABIAUoAkRBIUkNACAFQSA2AkQLIA5BfWohAgNAQQAgBCACSSAFQShqEAQbBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2oiACAGIAVBKGogCBACQQJ0aiIELwEAOwAAIAVBKGogBC0AAhABIAAgBC0AA2ohBAwBBSAOQX5qIQIDQCAFQShqEAQgBCACS3JFBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsDQCAEIAJNBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsCQCAEIA5PDQAgBCAGIAVBKGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBKGogAi0AAhABDAELIAUoAixBH0sNACAFQShqIAYgAEECdGotAAIQASAFKAIsQSFJDQAgBUEgNgIsCwNAQQAgAyAQSSAFQRBqEAQbBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2oiACAGIAVBEGogCBACQQJ0aiICLwEAOwAAIAVBEGogAi0AAhABIAAgAi0AA2ohAwwBBSAPQX5qIQIDQCAFQRBqEAQgAyACS3JFBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsDQCADIAJNBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsCQCADIA9PDQAgAyAGIAVBEGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBEGogAi0AAhABDAELIAUoAhRBH0sNACAFQRBqIAYgAEECdGotAAIQASAFKAIUQSFJDQAgBUEgNgIUCyABQWwgBUHYAGoQCiAFQUBrEApxIAVBKGoQCnEgBUEQahAKcRshCwwJCwAACwALAAALAAsAAAsACwAACwALQWwhCwsgBUHwAGokACALC7UEAQ5/IwBBEGsiBiQAIAZBBGogABAOQVQhBQJAIARB3AtJDQAgBi0ABCEHIANB8ARqQQBB7AAQECEIIAdBDEsNACADQdwJaiIJIAggBkEIaiAGQQxqIAEgAhAxIhAQA0UEQCAGKAIMIgQgB0sNASADQdwFaiEPIANBpAVqIREgAEEEaiESIANBqAVqIQEgBCEFA0AgBSICQX9qIQUgCCACQQJ0aigCAEUNAAsgAkEBaiEOQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgASALaiAKNgIAIAVBAWohBSAKIAxqIQoMAQsLIAEgCjYCAEEAIQUgBigCCCELA0AgBSALRkUEQCABIAUgCWotAAAiDEECdGoiDSANKAIAIg1BAWo2AgAgDyANQQF0aiINIAw6AAEgDSAFOgAAIAVBAWohBQwBCwtBACEBIANBADYCqAUgBEF/cyAHaiEJQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgAyALaiABNgIAIAwgBSAJanQgAWohASAFQQFqIQUMAQsLIAcgBEEBaiIBIAJrIgRrQQFqIQgDQEEBIQUgBCAIT0UEQANAIAUgDk9FBEAgBUECdCIJIAMgBEE0bGpqIAMgCWooAgAgBHY2AgAgBUEBaiEFDAELCyAEQQFqIQQMAQsLIBIgByAPIAogESADIAIgARBkIAZBAToABSAGIAc6AAYgACAGKAIENgIACyAQIQULIAZBEGokACAFC8ENAQt/IwBB8ABrIgUkAEFsIQkCQCADQQpJDQAgAi8AACEKIAIvAAIhDCACLwAEIQYgBUEIaiAEEA4CQCADIAYgCiAMampBBmoiDUkNACAFLQAKIQcgBUHYAGogAkEGaiICIAoQBiIJEAMNASAFQUBrIAIgCmoiAiAMEAYiCRADDQEgBUEoaiACIAxqIgIgBhAGIgkQAw0BIAVBEGogAiAGaiADIA1rEAYiCRADDQEgACABaiIOQX1qIQ8gBEEEaiEGQQEhCSAAIAFBA2pBAnYiAmoiCiACaiIMIAJqIg0hAyAMIQQgCiECA0AgCSADIA9JcQRAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAACAGIAVBQGsgBxACQQF0aiIILQAAIQsgBUFAayAILQABEAEgAiALOgAAIAYgBUEoaiAHEAJBAXRqIggtAAAhCyAFQShqIAgtAAEQASAEIAs6AAAgBiAFQRBqIAcQAkEBdGoiCC0AACELIAVBEGogCC0AARABIAMgCzoAACAGIAVB2ABqIAcQAkEBdGoiCC0AACELIAVB2ABqIAgtAAEQASAAIAs6AAEgBiAFQUBrIAcQAkEBdGoiCC0AACELIAVBQGsgCC0AARABIAIgCzoAASAGIAVBKGogBxACQQF0aiIILQAAIQsgBUEoaiAILQABEAEgBCALOgABIAYgBUEQaiAHEAJBAXRqIggtAAAhCyAFQRBqIAgtAAEQASADIAs6AAEgA0ECaiEDIARBAmohBCACQQJqIQIgAEECaiEAIAkgBUHYAGoQDUVxIAVBQGsQDUVxIAVBKGoQDUVxIAVBEGoQDUVxIQkMAQsLIAQgDUsgAiAMS3INAEFsIQkgACAKSw0BIApBfWohCQNAIAVB2ABqEAQgACAJT3JFBEAgBiAFQdgAaiAHEAJBAXRqIggtAAAhCyAFQdgAaiAILQABEAEgACALOgAAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAASAAQQJqIQAMAQsLA0AgBUHYAGoQBCAAIApPckUEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCwNAIAAgCkkEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCyAMQX1qIQADQCAFQUBrEAQgAiAAT3JFBEAgBiAFQUBrIAcQAkEBdGoiCi0AACEJIAVBQGsgCi0AARABIAIgCToAACAGIAVBQGsgBxACQQF0aiIKLQAAIQkgBUFAayAKLQABEAEgAiAJOgABIAJBAmohAgwBCwsDQCAFQUBrEAQgAiAMT3JFBEAgBiAFQUBrIAcQAkEBdGoiAC0AACEKIAVBQGsgAC0AARABIAIgCjoAACACQQFqIQIMAQsLA0AgAiAMSQRAIAYgBUFAayAHEAJBAXRqIgAtAAAhCiAFQUBrIAAtAAEQASACIAo6AAAgAkEBaiECDAELCyANQX1qIQADQCAFQShqEAQgBCAAT3JFBEAgBiAFQShqIAcQAkEBdGoiAi0AACEKIAVBKGogAi0AARABIAQgCjoAACAGIAVBKGogBxACQQF0aiICLQAAIQogBUEoaiACLQABEAEgBCAKOgABIARBAmohBAwBCwsDQCAFQShqEAQgBCANT3JFBEAgBiAFQShqIAcQAkEBdGoiAC0AACECIAVBKGogAC0AARABIAQgAjoAACAEQQFqIQQMAQsLA0AgBCANSQRAIAYgBUEoaiAHEAJBAXRqIgAtAAAhAiAFQShqIAAtAAEQASAEIAI6AAAgBEEBaiEEDAELCwNAIAVBEGoQBCADIA9PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIAYgBUEQaiAHEAJBAXRqIgAtAAAhAiAFQRBqIAAtAAEQASADIAI6AAEgA0ECaiEDDAELCwNAIAVBEGoQBCADIA5PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIANBAWohAwwBCwsDQCADIA5JBEAgBiAFQRBqIAcQAkEBdGoiAC0AACECIAVBEGogAC0AARABIAMgAjoAACADQQFqIQMMAQsLIAFBbCAFQdgAahAKIAVBQGsQCnEgBUEoahAKcSAFQRBqEApxGyEJDAELQWwhCQsgBUHwAGokACAJC8oCAQR/IwBBIGsiBSQAIAUgBBAOIAUtAAIhByAFQQhqIAIgAxAGIgIQA0UEQCAEQQRqIQIgACABaiIDQX1qIQQDQCAFQQhqEAQgACAET3JFBEAgAiAFQQhqIAcQAkEBdGoiBi0AACEIIAVBCGogBi0AARABIAAgCDoAACACIAVBCGogBxACQQF0aiIGLQAAIQggBUEIaiAGLQABEAEgACAIOgABIABBAmohAAwBCwsDQCAFQQhqEAQgACADT3JFBEAgAiAFQQhqIAcQAkEBdGoiBC0AACEGIAVBCGogBC0AARABIAAgBjoAACAAQQFqIQAMAQsLA0AgACADT0UEQCACIAVBCGogBxACQQF0aiIELQAAIQYgBUEIaiAELQABEAEgACAGOgAAIABBAWohAAwBCwsgAUFsIAVBCGoQChshAgsgBUEgaiQAIAILtgMBCX8jAEEQayIGJAAgBkEANgIMIAZBADYCCEFUIQQCQAJAIANBQGsiDCADIAZBCGogBkEMaiABIAIQMSICEAMNACAGQQRqIAAQDiAGKAIMIgcgBi0ABEEBaksNASAAQQRqIQogBkEAOgAFIAYgBzoABiAAIAYoAgQ2AgAgB0EBaiEJQQEhBANAIAQgCUkEQCADIARBAnRqIgEoAgAhACABIAU2AgAgACAEQX9qdCAFaiEFIARBAWohBAwBCwsgB0EBaiEHQQAhBSAGKAIIIQkDQCAFIAlGDQEgAyAFIAxqLQAAIgRBAnRqIgBBASAEdEEBdSILIAAoAgAiAWoiADYCACAHIARrIQhBACEEAkAgC0EDTQRAA0AgBCALRg0CIAogASAEakEBdGoiACAIOgABIAAgBToAACAEQQFqIQQMAAALAAsDQCABIABPDQEgCiABQQF0aiIEIAg6AAEgBCAFOgAAIAQgCDoAAyAEIAU6AAIgBCAIOgAFIAQgBToABCAEIAg6AAcgBCAFOgAGIAFBBGohAQwAAAsACyAFQQFqIQUMAAALAAsgAiEECyAGQRBqJAAgBAutAQECfwJAQYQgKAIAIABHIAAoAgBBAXYiAyABa0F4aiICQXhxQQhHcgR/IAIFIAMQJ0UNASACQQhqC0EQSQ0AIAAgACgCACICQQFxIAAgAWpBD2pBeHEiASAAa0EBdHI2AgAgASAANgIEIAEgASgCAEEBcSAAIAJBAXZqIAFrIgJBAXRyNgIAQYQgIAEgAkH/////B3FqQQRqQYQgKAIAIABGGyABNgIAIAEQJQsLygIBBX8CQAJAAkAgAEEIIABBCEsbZ0EfcyAAaUEBR2oiAUEESSAAIAF2cg0AIAFBAnRB/B5qKAIAIgJFDQADQCACQXhqIgMoAgBBAXZBeGoiBSAATwRAIAIgBUEIIAVBCEsbZ0Efc0ECdEGAH2oiASgCAEYEQCABIAIoAgQ2AgALDAMLIARBHksNASAEQQFqIQQgAigCBCICDQALC0EAIQMgAUEgTw0BA0AgAUECdEGAH2ooAgAiAkUEQCABQR5LIQIgAUEBaiEBIAJFDQEMAwsLIAIgAkF4aiIDKAIAQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgBGBEAgASACKAIENgIACwsgAigCACIBBEAgASACKAIENgIECyACKAIEIgEEQCABIAIoAgA2AgALIAMgAygCAEEBcjYCACADIAAQNwsgAwvhCwINfwV+IwBB8ABrIgckACAHIAAoAvDhASIINgJcIAEgAmohDSAIIAAoAoDiAWohDwJAAkAgBUUEQCABIQQMAQsgACgCxOABIRAgACgCwOABIREgACgCvOABIQ4gAEEBNgKM4QFBACEIA0AgCEEDRwRAIAcgCEECdCICaiAAIAJqQazQAWooAgA2AkQgCEEBaiEIDAELC0FsIQwgB0EYaiADIAQQBhADDQEgB0EsaiAHQRhqIAAoAgAQEyAHQTRqIAdBGGogACgCCBATIAdBPGogB0EYaiAAKAIEEBMgDUFgaiESIAEhBEEAIQwDQCAHKAIwIAcoAixBA3RqKQIAIhRCEIinQf8BcSEIIAcoAkAgBygCPEEDdGopAgAiFUIQiKdB/wFxIQsgBygCOCAHKAI0QQN0aikCACIWQiCIpyEJIBVCIIghFyAUQiCIpyECAkAgFkIQiKdB/wFxIgNBAk8EQAJAIAZFIANBGUlyRQRAIAkgB0EYaiADQSAgBygCHGsiCiAKIANLGyIKEAUgAyAKayIDdGohCSAHQRhqEAQaIANFDQEgB0EYaiADEAUgCWohCQwBCyAHQRhqIAMQBSAJaiEJIAdBGGoQBBoLIAcpAkQhGCAHIAk2AkQgByAYNwNIDAELAkAgA0UEQCACBEAgBygCRCEJDAMLIAcoAkghCQwBCwJAAkAgB0EYakEBEAUgCSACRWpqIgNBA0YEQCAHKAJEQX9qIgMgA0VqIQkMAQsgA0ECdCAHaigCRCIJIAlFaiEJIANBAUYNAQsgByAHKAJINgJMCwsgByAHKAJENgJIIAcgCTYCRAsgF6chAyALBEAgB0EYaiALEAUgA2ohAwsgCCALakEUTwRAIAdBGGoQBBoLIAgEQCAHQRhqIAgQBSACaiECCyAHQRhqEAQaIAcgB0EYaiAUQhiIp0H/AXEQCCAUp0H//wNxajYCLCAHIAdBGGogFUIYiKdB/wFxEAggFadB//8DcWo2AjwgB0EYahAEGiAHIAdBGGogFkIYiKdB/wFxEAggFqdB//8DcWo2AjQgByACNgJgIAcoAlwhCiAHIAk2AmggByADNgJkAkACQAJAIAQgAiADaiILaiASSw0AIAIgCmoiEyAPSw0AIA0gBGsgC0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdBKGogACgCBBATQQAhBCAHQeAAaiEMIAdB5ABqIQoDQCAHQShqEARBAksgBCAXTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEJIAcoAkggBygCREEDdGopAgAiH0IgiKchCCAeQiCIISAgHUIgiKchAgJAIB9CEIinQf8BcSIDQQJPBEACQCAGRSADQRlJckUEQCAIIAdBKGogA0EgIAcoAixrIg0gDSADSxsiDRAFIAMgDWsiA3RqIQggB0EoahAEGiADRQ0BIAdBKGogAxAFIAhqIQgMAQsgB0EoaiADEAUgCGohCCAHQShqEAQaCyAHKQJUISEgByAINgJUIAcgITcDWAwBCwJAIANFBEAgAgRAIAcoAlQhCAwDCyAHKAJYIQgMAQsCQAJAIAdBKGpBARAFIAggAkVqaiIDQQNGBEAgBygCVEF/aiIDIANFaiEIDAELIANBAnQgB2ooAlQiCCAIRWohCCADQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAg2AlQLICCnIQMgCQRAIAdBKGogCRAFIANqIQMLIAkgC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgAmohAgsgB0EoahAEGiAHIAcoAmggAmoiCSADajYCaCAKIAwgCCAJSxsoAgAhDSAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogB0EoaiAfQhiIp0H/AXEQCCEOIAdB8ABqIARBBHRqIgsgCSANaiAIazYCDCALIAg2AgggCyADNgIEIAsgAjYCACAHIA4gH6dB//8DcWo2AkQgBEEBaiEEDAELCyAEIBdIDQEgEkFgaiEYIAdB4ABqIRogB0HkAGohGyABIQMDQCAHQShqEARBAksgBCAFTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEIIAcoAkggBygCREEDdGopAgAiH0IgiKchCSAeQiCIISAgHUIgiKchDAJAIB9CEIinQf8BcSICQQJPBEACQCAGRSACQRlJckUEQCAJIAdBKGogAkEgIAcoAixrIgogCiACSxsiChAFIAIgCmsiAnRqIQkgB0EoahAEGiACRQ0BIAdBKGogAhAFIAlqIQkMAQsgB0EoaiACEAUgCWohCSAHQShqEAQaCyAHKQJUISEgByAJNgJUIAcgITcDWAwBCwJAIAJFBEAgDARAIAcoAlQhCQwDCyAHKAJYIQkMAQsCQAJAIAdBKGpBARAFIAkgDEVqaiICQQNGBEAgBygCVEF/aiICIAJFaiEJDAELIAJBAnQgB2ooAlQiCSAJRWohCSACQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAk2AlQLICCnIRQgCARAIAdBKGogCBAFIBRqIRQLIAggC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgDGohDAsgB0EoahAEGiAHIAcoAmggDGoiGSAUajYCaCAbIBogCSAZSxsoAgAhHCAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogByAHQShqIB9CGIinQf8BcRAIIB+nQf//A3FqNgJEIAcgB0HwAGogBEEDcUEEdGoiDSkDCCIdNwPIASAHIA0pAwAiHjcDwAECQAJAAkAgBygCvAEiDiAepyICaiIWIBNLDQAgAyAHKALEASIKIAJqIgtqIBhLDQAgEiADayALQSBqTw0BCyAHIAcpA8gBNwMQIAcgBykDwAE3AwggAyASIAdBCGogB0G8AWogEyAPIBUgERAeIQsMAQsgAiADaiEIIAMgDhAHIAJBEU8EQCADQRBqIQIDQCACIA5BEGoiDhAHIAJBEGoiAiAISQ0ACwsgCCAdpyIOayECIAcgFjYCvAEgDiAIIA9rSwRAIA4gCCAVa0sEQEFsIQsMAgsgESACIA9rIgJqIhYgCmogEU0EQCAIIBYgChAPGgwCCyAIIBZBACACaxAPIQggByACIApqIgo2AsQBIAggAmshCCAPIQILIA5BEE8EQCAIIApqIQoDQCAIIAIQByACQRBqIQIgCEEQaiIIIApJDQALDAELAkAgDkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgDkECdCIKQcAeaigCAGoiAhAXIAIgCkHgHmooAgBrIQIgBygCxAEhCgwBCyAIIAIQDAsgCkEJSQ0AIAggCmohCiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAKSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAKSQ0ACwsgCxADBEAgCyEQDAQFIA0gDDYCACANIBkgHGogCWs2AgwgDSAJNgIIIA0gFDYCBCAEQQFqIQQgAyALaiEDDAILAAsLIAQgBUgNASAEIBdrIQtBACEEA0AgCyAFSARAIAcgB0HwAGogC0EDcUEEdGoiAikDCCIdNwPIASAHIAIpAwAiHjcDwAECQAJAAkAgBygCvAEiDCAepyICaiIKIBNLDQAgAyAHKALEASIJIAJqIhBqIBhLDQAgEiADayAQQSBqTw0BCyAHIAcpA8gBNwMgIAcgBykDwAE3AxggAyASIAdBGGogB0G8AWogEyAPIBUgERAeIRAMAQsgAiADaiEIIAMgDBAHIAJBEU8EQCADQRBqIQIDQCACIAxBEGoiDBAHIAJBEGoiAiAISQ0ACwsgCCAdpyIGayECIAcgCjYCvAEgBiAIIA9rSwRAIAYgCCAVa0sEQEFsIRAMAgsgESACIA9rIgJqIgwgCWogEU0EQCAIIAwgCRAPGgwCCyAIIAxBACACaxAPIQggByACIAlqIgk2AsQBIAggAmshCCAPIQILIAZBEE8EQCAIIAlqIQYDQCAIIAIQByACQRBqIQIgCEEQaiIIIAZJDQALDAELAkAgBkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgBkECdCIGQcAeaigCAGoiAhAXIAIgBkHgHmooAgBrIQIgBygCxAEhCQwBCyAIIAIQDAsgCUEJSQ0AIAggCWohBiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAGSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAGSQ0ACwsgEBADDQMgC0EBaiELIAMgEGohAwwBCwsDQCAEQQNHBEAgACAEQQJ0IgJqQazQAWogAiAHaigCVDYCACAEQQFqIQQMAQsLIAcoArwBIQgLQbp/IRAgEyAIayIAIBIgA2tLDQAgAwR/IAMgCCAAEAsgAGoFQQALIAFrIRALIAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY0AAQMyIFEAMiBg0AIANBHzYCfCADIANB/ABqIANB+ABqIAQgBCAFaiAGGyIEIAEgAmoiAiAEaxAVIgUQAw0AIAMoAnwiBkEfSw0AIAMoAngiB0EJTw0AIABBiCBqIAMgBkGAC0GADCAHEBggA0E0NgJ8IAMgA0H8AGogA0H4AGogBCAFaiIEIAIgBGsQFSIFEAMNACADKAJ8IgZBNEsNACADKAJ4IgdBCk8NACAAQZAwaiADIAZBgA1B4A4gBxAYIANBIzYCfCADIANB/ABqIANB+ABqIAQgBWoiBCACIARrEBUiBRADDQAgAygCfCIGQSNLDQAgAygCeCIHQQpPDQAgACADIAZBwBBB0BEgBxAYIAQgBWoiBEEMaiIFIAJLDQAgAiAFayEFQQAhAgNAIAJBA0cEQCAEKAAAIgZBf2ogBU8NAiAAIAJBAnRqQZzQAWogBjYCACACQQFqIQIgBEEEaiEEDAELCyAEIAFrIQgLIANBgAFqJAAgCAtGAQN/IABBCGohAyAAKAIEIQJBACEAA0AgACACdkUEQCABIAMgAEEDdGotAAJBFktqIQEgAEEBaiEADAELCyABQQggAmt0C4YDAQV/Qbh/IQcCQCADRQ0AIAItAAAiBEUEQCABQQA2AgBBAUG4fyADQQFGGw8LAn8gAkEBaiIFIARBGHRBGHUiBkF/Sg0AGiAGQX9GBEAgA0EDSA0CIAUvAABBgP4BaiEEIAJBA2oMAQsgA0ECSA0BIAItAAEgBEEIdHJBgIB+aiEEIAJBAmoLIQUgASAENgIAIAVBAWoiASACIANqIgNLDQBBbCEHIABBEGogACAFLQAAIgVBBnZBI0EJIAEgAyABa0HAEEHQEUHwEiAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBmCBqIABBCGogBUEEdkEDcUEfQQggASABIAZqIAgbIgEgAyABa0GAC0GADEGAFyAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBoDBqIABBBGogBUECdkEDcUE0QQkgASABIAZqIAgbIgEgAyABa0GADUHgDkGQGSAAKAKM4QEgACgCnOIBIAQQHyIAEAMNACAAIAFqIAJrIQcLIAcLrQMBCn8jAEGABGsiCCQAAn9BUiACQf8BSw0AGkFUIANBDEsNABogAkEBaiELIABBBGohCUGAgAQgA0F/anRBEHUhCkEAIQJBASEEQQEgA3QiB0F/aiIMIQUDQCACIAtGRQRAAkAgASACQQF0Ig1qLwEAIgZB//8DRgRAIAkgBUECdGogAjoAAiAFQX9qIQVBASEGDAELIARBACAKIAZBEHRBEHVKGyEECyAIIA1qIAY7AQAgAkEBaiECDAELCyAAIAQ7AQIgACADOwEAIAdBA3YgB0EBdmpBA2ohBkEAIQRBACECA0AgBCALRkUEQCABIARBAXRqLgEAIQpBACEAA0AgACAKTkUEQCAJIAJBAnRqIAQ6AAIDQCACIAZqIAxxIgIgBUsNAAsgAEEBaiEADAELCyAEQQFqIQQMAQsLQX8gAg0AGkEAIQIDfyACIAdGBH9BAAUgCCAJIAJBAnRqIgAtAAJBAXRqIgEgAS8BACIBQQFqOwEAIAAgAyABEBRrIgU6AAMgACABIAVB/wFxdCAHazsBACACQQFqIQIMAQsLCyEFIAhBgARqJAAgBQvjBgEIf0FsIQcCQCACQQNJDQACQAJAAkACQCABLQAAIgNBA3EiCUEBaw4DAwEAAgsgACgCiOEBDQBBYg8LIAJBBUkNAkEDIQYgASgAACEFAn8CQAJAIANBAnZBA3EiCEF+aiIEQQFNBEAgBEEBaw0BDAILIAVBDnZB/wdxIQQgBUEEdkH/B3EhAyAIRQwCCyAFQRJ2IQRBBCEGIAVBBHZB//8AcSEDQQAMAQsgBUEEdkH//w9xIgNBgIAISw0DIAEtAARBCnQgBUEWdnIhBEEFIQZBAAshBSAEIAZqIgogAksNAgJAIANBgQZJDQAgACgCnOIBRQ0AQQAhAgNAIAJBg4ABSw0BIAJBQGshAgwAAAsACwJ/IAlBA0YEQCABIAZqIQEgAEHw4gFqIQIgACgCDCEGIAUEQCACIAMgASAEIAYQXwwCCyACIAMgASAEIAYQXQwBCyAAQbjQAWohAiABIAZqIQEgAEHw4gFqIQYgAEGo0ABqIQggBQRAIAggBiADIAEgBCACEF4MAQsgCCAGIAMgASAEIAIQXAsQAw0CIAAgAzYCgOIBIABBATYCiOEBIAAgAEHw4gFqNgLw4QEgCUECRgRAIAAgAEGo0ABqNgIMCyAAIANqIgBBiOMBakIANwAAIABBgOMBakIANwAAIABB+OIBakIANwAAIABB8OIBakIANwAAIAoPCwJ/AkACQAJAIANBAnZBA3FBf2oiBEECSw0AIARBAWsOAgACAQtBASEEIANBA3YMAgtBAiEEIAEvAABBBHYMAQtBAyEEIAEQIUEEdgsiAyAEaiIFQSBqIAJLBEAgBSACSw0CIABB8OIBaiABIARqIAMQCyEBIAAgAzYCgOIBIAAgATYC8OEBIAEgA2oiAEIANwAYIABCADcAECAAQgA3AAggAEIANwAAIAUPCyAAIAM2AoDiASAAIAEgBGo2AvDhASAFDwsCfwJAAkACQCADQQJ2QQNxQX9qIgRBAksNACAEQQFrDgIAAgELQQEhByADQQN2DAILQQIhByABLwAAQQR2DAELIAJBBEkgARAhIgJBj4CAAUtyDQFBAyEHIAJBBHYLIQIgAEHw4gFqIAEgB2otAAAgAkEgahAQIQEgACACNgKA4gEgACABNgLw4QEgB0EBaiEHCyAHC0sAIABC+erQ0OfJoeThADcDICAAQgA3AxggAELP1tO+0ser2UI3AxAgAELW64Lu6v2J9eAANwMIIABCADcDACAAQShqQQBBKBAQGgviAgICfwV+IABBKGoiASAAKAJIaiECAn4gACkDACIDQiBaBEAgACkDECIEQgeJIAApAwgiBUIBiXwgACkDGCIGQgyJfCAAKQMgIgdCEol8IAUQGSAEEBkgBhAZIAcQGQwBCyAAKQMYQsXP2bLx5brqJ3wLIAN8IQMDQCABQQhqIgAgAk0EQEIAIAEpAAAQCSADhUIbiUKHla+vmLbem55/fkLj3MqV/M7y9YV/fCEDIAAhAQwBCwsCQCABQQRqIgAgAksEQCABIQAMAQsgASgAAK1Ch5Wvr5i23puef34gA4VCF4lCz9bTvtLHq9lCfkL5893xmfaZqxZ8IQMLA0AgACACSQRAIAAxAABCxc/ZsvHluuonfiADhUILiUKHla+vmLbem55/fiEDIABBAWohAAwBCwsgA0IhiCADhULP1tO+0ser2UJ+IgNCHYggA4VC+fPd8Zn2masWfiIDQiCIIAOFC+8CAgJ/BH4gACAAKQMAIAKtfDcDAAJAAkAgACgCSCIDIAJqIgRBH00EQCABRQ0BIAAgA2pBKGogASACECAgACgCSCACaiEEDAELIAEgAmohAgJ/IAMEQCAAQShqIgQgA2ogAUEgIANrECAgACAAKQMIIAQpAAAQCTcDCCAAIAApAxAgACkAMBAJNwMQIAAgACkDGCAAKQA4EAk3AxggACAAKQMgIABBQGspAAAQCTcDICAAKAJIIQMgAEEANgJIIAEgA2tBIGohAQsgAUEgaiACTQsEQCACQWBqIQMgACkDICEFIAApAxghBiAAKQMQIQcgACkDCCEIA0AgCCABKQAAEAkhCCAHIAEpAAgQCSEHIAYgASkAEBAJIQYgBSABKQAYEAkhBSABQSBqIgEgA00NAAsgACAFNwMgIAAgBjcDGCAAIAc3AxAgACAINwMICyABIAJPDQEgAEEoaiABIAIgAWsiBBAgCyAAIAQ2AkgLCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQEBogAwVBun8LCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQCxogAwVBun8LC6gCAQZ/IwBBEGsiByQAIABB2OABaikDAEKAgIAQViEIQbh/IQUCQCAEQf//B0sNACAAIAMgBBBCIgUQAyIGDQAgACgCnOIBIQkgACAHQQxqIAMgAyAFaiAGGyIKIARBACAFIAYbayIGEEAiAxADBEAgAyEFDAELIAcoAgwhBCABRQRAQbp/IQUgBEEASg0BCyAGIANrIQUgAyAKaiEDAkAgCQRAIABBADYCnOIBDAELAkACQAJAIARBBUgNACAAQdjgAWopAwBCgICACFgNAAwBCyAAQQA2ApziAQwBCyAAKAIIED8hBiAAQQA2ApziASAGQRRPDQELIAAgASACIAMgBSAEIAgQOSEFDAELIAAgASACIAMgBSAEIAgQOiEFCyAHQRBqJAAgBQtnACAAQdDgAWogASACIAAoAuzhARAuIgEQAwRAIAEPC0G4fyECAkAgAQ0AIABB7OABaigCACIBBEBBYCECIAAoApjiASABRw0BC0EAIQIgAEHw4AFqKAIARQ0AIABBkOEBahBDCyACCycBAX8QVyIERQRAQUAPCyAEIAAgASACIAMgBBBLEE8hACAEEFYgAAs/AQF/AkACQAJAIAAoAqDiAUEBaiIBQQJLDQAgAUEBaw4CAAECCyAAEDBBAA8LIABBADYCoOIBCyAAKAKU4gELvAMCB38BfiMAQRBrIgkkAEG4fyEGAkAgBCgCACIIQQVBCSAAKALs4QEiBRtJDQAgAygCACIHQQFBBSAFGyAFEC8iBRADBEAgBSEGDAELIAggBUEDakkNACAAIAcgBRBJIgYQAw0AIAEgAmohCiAAQZDhAWohCyAIIAVrIQIgBSAHaiEHIAEhBQNAIAcgAiAJECwiBhADDQEgAkF9aiICIAZJBEBBuH8hBgwCCyAJKAIAIghBAksEQEFsIQYMAgsgB0EDaiEHAn8CQAJAAkAgCEEBaw4CAgABCyAAIAUgCiAFayAHIAYQSAwCCyAFIAogBWsgByAGEEcMAQsgBSAKIAVrIActAAAgCSgCCBBGCyIIEAMEQCAIIQYMAgsgACgC8OABBEAgCyAFIAgQRQsgAiAGayECIAYgB2ohByAFIAhqIQUgCSgCBEUNAAsgACkD0OABIgxCf1IEQEFsIQYgDCAFIAFrrFINAQsgACgC8OABBEBBaiEGIAJBBEkNASALEEQhDCAHKAAAIAynRw0BIAdBBGohByACQXxqIQILIAMgBzYCACAEIAI2AgAgBSABayEGCyAJQRBqJAAgBgsuACAAECsCf0EAQQAQAw0AGiABRSACRXJFBEBBYiAAIAEgAhA9EAMNARoLQQALCzcAIAEEQCAAIAAoAsTgASABKAIEIAEoAghqRzYCnOIBCyAAECtBABADIAFFckUEQCAAIAEQWwsL0QIBB38jAEEQayIGJAAgBiAENgIIIAYgAzYCDCAFBEAgBSgCBCEKIAUoAgghCQsgASEIAkACQANAIAAoAuzhARAWIQsCQANAIAQgC0kNASADKAAAQXBxQdDUtMIBRgRAIAMgBBAiIgcQAw0EIAQgB2shBCADIAdqIQMMAQsLIAYgAzYCDCAGIAQ2AggCQCAFBEAgACAFEE5BACEHQQAQA0UNAQwFCyAAIAogCRBNIgcQAw0ECyAAIAgQUCAMQQFHQQAgACAIIAIgBkEMaiAGQQhqEEwiByIDa0EAIAMQAxtBCkdyRQRAQbh/IQcMBAsgBxADDQMgAiAHayECIAcgCGohCEEBIQwgBigCDCEDIAYoAgghBAwBCwsgBiADNgIMIAYgBDYCCEG4fyEHIAQNASAIIAFrIQcMAQsgBiADNgIMIAYgBDYCCAsgBkEQaiQAIAcLRgECfyABIAAoArjgASICRwRAIAAgAjYCxOABIAAgATYCuOABIAAoArzgASEDIAAgATYCvOABIAAgASADIAJrajYCwOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEEdCAAbiECCyAAQQh2IgEgAkEYbCIAQYwIaigCAGwgAEGICGooAgBqIgJBA3YgAmogAEGACGooAgAgAEGECGooAgAgAWxqSQs3ACAAIAMgBCAFQYAQEDMiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQMgVBuH8LC78DAQN/IwBBIGsiBSQAIAVBCGogAiADEAYiAhADRQRAIAAgAWoiB0F9aiEGIAUgBBAOIARBBGohAiAFLQACIQMDQEEAIAAgBkkgBUEIahAEGwRAIAAgAiAFQQhqIAMQAkECdGoiBC8BADsAACAFQQhqIAQtAAIQASAAIAQtAANqIgQgAiAFQQhqIAMQAkECdGoiAC8BADsAACAFQQhqIAAtAAIQASAEIAAtAANqIQAMAQUgB0F+aiEEA0AgBUEIahAEIAAgBEtyRQRAIAAgAiAFQQhqIAMQAkECdGoiBi8BADsAACAFQQhqIAYtAAIQASAAIAYtAANqIQAMAQsLA0AgACAES0UEQCAAIAIgBUEIaiADEAJBAnRqIgYvAQA7AAAgBUEIaiAGLQACEAEgACAGLQADaiEADAELCwJAIAAgB08NACAAIAIgBUEIaiADEAIiA0ECdGoiAC0AADoAACAALQADQQFGBEAgBUEIaiAALQACEAEMAQsgBSgCDEEfSw0AIAVBCGogAiADQQJ0ai0AAhABIAUoAgxBIUkNACAFQSA2AgwLIAFBbCAFQQhqEAobIQILCwsgBUEgaiQAIAILkgIBBH8jAEFAaiIJJAAgCSADQTQQCyEDAkAgBEECSA0AIAMgBEECdGooAgAhCSADQTxqIAgQIyADQQE6AD8gAyACOgA+QQAhBCADKAI8IQoDQCAEIAlGDQEgACAEQQJ0aiAKNgEAIARBAWohBAwAAAsAC0EAIQkDQCAGIAlGRQRAIAMgBSAJQQF0aiIKLQABIgtBAnRqIgwoAgAhBCADQTxqIAotAABBCHQgCGpB//8DcRAjIANBAjoAPyADIAcgC2siCiACajoAPiAEQQEgASAKa3RqIQogAygCPCELA0AgACAEQQJ0aiALNgEAIARBAWoiBCAKSQ0ACyAMIAo2AgAgCUEBaiEJDAELCyADQUBrJAALowIBCX8jAEHQAGsiCSQAIAlBEGogBUE0EAsaIAcgBmshDyAHIAFrIRADQAJAIAMgCkcEQEEBIAEgByACIApBAXRqIgYtAAEiDGsiCGsiC3QhDSAGLQAAIQ4gCUEQaiAMQQJ0aiIMKAIAIQYgCyAPTwRAIAAgBkECdGogCyAIIAUgCEE0bGogCCAQaiIIQQEgCEEBShsiCCACIAQgCEECdGooAgAiCEEBdGogAyAIayAHIA4QYyAGIA1qIQgMAgsgCUEMaiAOECMgCUEBOgAPIAkgCDoADiAGIA1qIQggCSgCDCELA0AgBiAITw0CIAAgBkECdGogCzYBACAGQQFqIQYMAAALAAsgCUHQAGokAA8LIAwgCDYCACAKQQFqIQoMAAALAAs0ACAAIAMgBCAFEDYiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQNAVBuH8LCyMAIAA/AEEQdGtB//8DakEQdkAAQX9GBEBBAA8LQQAQAEEBCzsBAX8gAgRAA0AgACABIAJBgCAgAkGAIEkbIgMQCyEAIAFBgCBqIQEgAEGAIGohACACIANrIgINAAsLCwYAIAAQAwsLqBUJAEGICAsNAQAAAAEAAAACAAAAAgBBoAgLswYBAAAAAQAAAAIAAAACAAAAJgAAAIIAAAAhBQAASgAAAGcIAAAmAAAAwAEAAIAAAABJBQAASgAAAL4IAAApAAAALAIAAIAAAABJBQAASgAAAL4IAAAvAAAAygIAAIAAAACKBQAASgAAAIQJAAA1AAAAcwMAAIAAAACdBQAASgAAAKAJAAA9AAAAgQMAAIAAAADrBQAASwAAAD4KAABEAAAAngMAAIAAAABNBgAASwAAAKoKAABLAAAAswMAAIAAAADBBgAATQAAAB8NAABNAAAAUwQAAIAAAAAjCAAAUQAAAKYPAABUAAAAmQQAAIAAAABLCQAAVwAAALESAABYAAAA2gQAAIAAAABvCQAAXQAAACMUAABUAAAARQUAAIAAAABUCgAAagAAAIwUAABqAAAArwUAAIAAAAB2CQAAfAAAAE4QAAB8AAAA0gIAAIAAAABjBwAAkQAAAJAHAACSAAAAAAAAAAEAAAABAAAABQAAAA0AAAAdAAAAPQAAAH0AAAD9AAAA/QEAAP0DAAD9BwAA/Q8AAP0fAAD9PwAA/X8AAP3/AAD9/wEA/f8DAP3/BwD9/w8A/f8fAP3/PwD9/38A/f//AP3//wH9//8D/f//B/3//w/9//8f/f//P/3//38AAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAAFAAAABUAAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAACUAAAAnAAAAKQAAACsAAAAvAAAAMwAAADsAAABDAAAAUwAAAGMAAACDAAAAAwEAAAMCAAADBAAAAwgAAAMQAAADIAAAA0AAAAOAAAADAAEAQeAPC1EBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAQcQQC4sBAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABIAAAAUAAAAFgAAABgAAAAcAAAAIAAAACgAAAAwAAAAQAAAAIAAAAAAAQAAAAIAAAAEAAAACAAAABAAAAAgAAAAQAAAAIAAAAAAAQBBkBIL5gQBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAAAEAAAAEAAAACAAAAAAAAAABAAEBBgAAAAAAAAQAAAAAEAAABAAAAAAgAAAFAQAAAAAAAAUDAAAAAAAABQQAAAAAAAAFBgAAAAAAAAUHAAAAAAAABQkAAAAAAAAFCgAAAAAAAAUMAAAAAAAABg4AAAAAAAEFEAAAAAAAAQUUAAAAAAABBRYAAAAAAAIFHAAAAAAAAwUgAAAAAAAEBTAAAAAgAAYFQAAAAAAABwWAAAAAAAAIBgABAAAAAAoGAAQAAAAADAYAEAAAIAAABAAAAAAAAAAEAQAAAAAAAAUCAAAAIAAABQQAAAAAAAAFBQAAACAAAAUHAAAAAAAABQgAAAAgAAAFCgAAAAAAAAULAAAAAAAABg0AAAAgAAEFEAAAAAAAAQUSAAAAIAABBRYAAAAAAAIFGAAAACAAAwUgAAAAAAADBSgAAAAAAAYEQAAAABAABgRAAAAAIAAHBYAAAAAAAAkGAAIAAAAACwYACAAAMAAABAAAAAAQAAAEAQAAACAAAAUCAAAAIAAABQMAAAAgAAAFBQAAACAAAAUGAAAAIAAABQgAAAAgAAAFCQAAACAAAAULAAAAIAAABQwAAAAAAAAGDwAAACAAAQUSAAAAIAABBRQAAAAgAAIFGAAAACAAAgUcAAAAIAADBSgAAAAgAAQFMAAAAAAAEAYAAAEAAAAPBgCAAAAAAA4GAEAAAAAADQYAIABBgBcLhwIBAAEBBQAAAAAAAAUAAAAAAAAGBD0AAAAAAAkF/QEAAAAADwX9fwAAAAAVBf3/HwAAAAMFBQAAAAAABwR9AAAAAAAMBf0PAAAAABIF/f8DAAAAFwX9/38AAAAFBR0AAAAAAAgE/QAAAAAADgX9PwAAAAAUBf3/DwAAAAIFAQAAABAABwR9AAAAAAALBf0HAAAAABEF/f8BAAAAFgX9/z8AAAAEBQ0AAAAQAAgE/QAAAAAADQX9HwAAAAATBf3/BwAAAAEFAQAAABAABgQ9AAAAAAAKBf0DAAAAABAF/f8AAAAAHAX9//8PAAAbBf3//wcAABoF/f//AwAAGQX9//8BAAAYBf3//wBBkBkLhgQBAAEBBgAAAAAAAAYDAAAAAAAABAQAAAAgAAAFBQAAAAAAAAUGAAAAAAAABQgAAAAAAAAFCQAAAAAAAAULAAAAAAAABg0AAAAAAAAGEAAAAAAAAAYTAAAAAAAABhYAAAAAAAAGGQAAAAAAAAYcAAAAAAAABh8AAAAAAAAGIgAAAAAAAQYlAAAAAAABBikAAAAAAAIGLwAAAAAAAwY7AAAAAAAEBlMAAAAAAAcGgwAAAAAACQYDAgAAEAAABAQAAAAAAAAEBQAAACAAAAUGAAAAAAAABQcAAAAgAAAFCQAAAAAAAAUKAAAAAAAABgwAAAAAAAAGDwAAAAAAAAYSAAAAAAAABhUAAAAAAAAGGAAAAAAAAAYbAAAAAAAABh4AAAAAAAAGIQAAAAAAAQYjAAAAAAABBicAAAAAAAIGKwAAAAAAAwYzAAAAAAAEBkMAAAAAAAUGYwAAAAAACAYDAQAAIAAABAQAAAAwAAAEBAAAABAAAAQFAAAAIAAABQcAAAAgAAAFCAAAACAAAAUKAAAAIAAABQsAAAAAAAAGDgAAAAAAAAYRAAAAAAAABhQAAAAAAAAGFwAAAAAAAAYaAAAAAAAABh0AAAAAAAAGIAAAAAAAEAYDAAEAAAAPBgOAAAAAAA4GA0AAAAAADQYDIAAAAAAMBgMQAAAAAAsGAwgAAAAACgYDBABBpB0L2QEBAAAAAwAAAAcAAAAPAAAAHwAAAD8AAAB/AAAA/wAAAP8BAAD/AwAA/wcAAP8PAAD/HwAA/z8AAP9/AAD//wAA//8BAP//AwD//wcA//8PAP//HwD//z8A//9/AP///wD///8B////A////wf///8P////H////z////9/AAAAAAEAAAACAAAABAAAAAAAAAACAAAABAAAAAgAAAAAAAAAAQAAAAIAAAABAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAcAAAAIAAAACQAAAAoAAAALAEGgIAsDwBBQ";/*! https://mths.be/codepointat v0.2.0 by @mathias */String.prototype.codePointAt||function(){var t=function(){try{var n={},r=Object.defineProperty,i=r(n,n,n)&&r}catch{}return i}(),e=function(n){if(this==null)throw TypeError();var r=String(this),i=r.length,s=n?Number(n):0;if(s!=s&&(s=0),!(s<0||s>=i)){var o=r.charCodeAt(s),a;return o>=55296&&o<=56319&&i>s+1&&(a=r.charCodeAt(s+1),a>=56320&&a<=57343)?(o-55296)*1024+a-56320+65536:o}};t?t(String.prototype,"codePointAt",{value:e,configurable:!0,writable:!0}):String.prototype.codePointAt=e}();function Mz(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}var gfe=new Mz,Afe=new Mz,Rz=new Uint8Array(30),Bz=new Uint16Array(30),vfe=new Uint8Array(30),yfe=new Uint16Array(30);function Pz(t,e,n,r){var i,s;for(i=0;i<n;++i)t[i]=0;for(i=0;i<30-n;++i)t[i+n]=i/n|0;for(s=r,i=0;i<30;++i)e[i]=s,s+=1<<t[i]}function xfe(t,e){var n;for(n=0;n<7;++n)t.table[n]=0;for(t.table[7]=24,t.table[8]=152,t.table[9]=112,n=0;n<24;++n)t.trans[n]=256+n;for(n=0;n<144;++n)t.trans[24+n]=n;for(n=0;n<8;++n)t.trans[24+144+n]=280+n;for(n=0;n<112;++n)t.trans[24+144+8+n]=144+n;for(n=0;n<5;++n)e.table[n]=0;for(e.table[5]=32,n=0;n<32;++n)e.trans[n]=n}xfe(gfe,Afe);Pz(Rz,Bz,4,3);Pz(vfe,yfe,2,1);Rz[28]=0;Bz[28]=258;function od(t,e,n,r,i){return Math.pow(1-i,3)*t+3*Math.pow(1-i,2)*i*e+3*(1-i)*Math.pow(i,2)*n+Math.pow(i,3)*r}function vu(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}vu.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)};vu.prototype.addPoint=function(t,e){typeof t=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),typeof e=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))};vu.prototype.addX=function(t){this.addPoint(t,null)};vu.prototype.addY=function(t){this.addPoint(null,t)};vu.prototype.addBezier=function(t,e,n,r,i,s,o,a){var l=[t,e],c=[n,r],u=[i,s],h=[o,a];this.addPoint(t,e),this.addPoint(o,a);for(var f=0;f<=1;f++){var m=6*l[f]-12*c[f]+6*u[f],g=-3*l[f]+9*c[f]-9*u[f]+3*h[f],E=3*c[f]-3*l[f];if(g===0){if(m===0)continue;var x=-E/m;0<x&&x<1&&(f===0&&this.addX(od(l[f],c[f],u[f],h[f],x)),f===1&&this.addY(od(l[f],c[f],u[f],h[f],x)));continue}var A=Math.pow(m,2)-4*E*g;if(!(A<0)){var v=(-m+Math.sqrt(A))/(2*g);0<v&&v<1&&(f===0&&this.addX(od(l[f],c[f],u[f],h[f],v)),f===1&&this.addY(od(l[f],c[f],u[f],h[f],v)));var y=(-m-Math.sqrt(A))/(2*g);0<y&&y<1&&(f===0&&this.addX(od(l[f],c[f],u[f],h[f],y)),f===1&&this.addY(od(l[f],c[f],u[f],h[f],y)))}}};vu.prototype.addQuad=function(t,e,n,r,i,s){var o=t+.6666666666666666*(n-t),a=e+2/3*(r-e),l=o+1/3*(i-t),c=a+1/3*(s-e);this.addBezier(t,e,o,a,l,c,i,s)};function Gr(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}Gr.prototype.moveTo=function(t,e){this.commands.push({type:"M",x:t,y:e})};Gr.prototype.lineTo=function(t,e){this.commands.push({type:"L",x:t,y:e})};Gr.prototype.curveTo=Gr.prototype.bezierCurveTo=function(t,e,n,r,i,s){this.commands.push({type:"C",x1:t,y1:e,x2:n,y2:r,x:i,y:s})};Gr.prototype.quadTo=Gr.prototype.quadraticCurveTo=function(t,e,n,r){this.commands.push({type:"Q",x1:t,y1:e,x:n,y:r})};Gr.prototype.close=Gr.prototype.closePath=function(){this.commands.push({type:"Z"})};Gr.prototype.extend=function(t){if(t.commands)t=t.commands;else if(t instanceof vu){var e=t;this.moveTo(e.x1,e.y1),this.lineTo(e.x2,e.y1),this.lineTo(e.x2,e.y2),this.lineTo(e.x1,e.y2),this.close();return}Array.prototype.push.apply(this.commands,t)};Gr.prototype.getBoundingBox=function(){for(var t=new vu,e=0,n=0,r=0,i=0,s=0;s<this.commands.length;s++){var o=this.commands[s];switch(o.type){case"M":t.addPoint(o.x,o.y),e=r=o.x,n=i=o.y;break;case"L":t.addPoint(o.x,o.y),r=o.x,i=o.y;break;case"Q":t.addQuad(r,i,o.x1,o.y1,o.x,o.y),r=o.x,i=o.y;break;case"C":t.addBezier(r,i,o.x1,o.y1,o.x2,o.y2,o.x,o.y),r=o.x,i=o.y;break;case"Z":r=e,i=n;break;default:throw new Error("Unexpected path command "+o.type)}}return t.isEmpty()&&t.addPoint(0,0),t};Gr.prototype.draw=function(t){t.beginPath();for(var e=0;e<this.commands.length;e+=1){var n=this.commands[e];n.type==="M"?t.moveTo(n.x,n.y):n.type==="L"?t.lineTo(n.x,n.y):n.type==="C"?t.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y):n.type==="Q"?t.quadraticCurveTo(n.x1,n.y1,n.x,n.y):n.type==="Z"&&t.closePath()}this.fill&&(t.fillStyle=this.fill,t.fill()),this.stroke&&(t.strokeStyle=this.stroke,t.lineWidth=this.strokeWidth,t.stroke())};Gr.prototype.toPathData=function(t){t=t!==void 0?t:2;function e(o){return Math.round(o)===o?""+Math.round(o):o.toFixed(t)}function n(){for(var o=arguments,a="",l=0;l<arguments.length;l+=1){var c=o[l];c>=0&&l>0&&(a+=" "),a+=e(c)}return a}for(var r="",i=0;i<this.commands.length;i+=1){var s=this.commands[i];s.type==="M"?r+="M"+n(s.x,s.y):s.type==="L"?r+="L"+n(s.x,s.y):s.type==="C"?r+="C"+n(s.x1,s.y1,s.x2,s.y2,s.x,s.y):s.type==="Q"?r+="Q"+n(s.x1,s.y1,s.x,s.y):s.type==="Z"&&(r+="Z")}return r};Gr.prototype.toSVG=function(t){var e='<path d="';return e+=this.toPathData(t),e+='"',this.fill&&this.fill!=="black"&&(this.fill===null?e+=' fill="none"':e+=' fill="'+this.fill+'"'),this.stroke&&(e+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),e+="/>",e};Gr.prototype.toDOMElement=function(t){var e=this.toPathData(t),n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",e),n};function Dz(t){throw new Error(t)}function dD(t,e){t||Dz(e)}var Rt={fail:Dz,argument:dD,assert:dD},pD=32768,mD=2147483648,Tp={},je={},wt={};function ra(t){return function(){return t}}je.BYTE=function(t){return Rt.argument(t>=0&&t<=255,"Byte value should be between 0 and 255."),[t]};wt.BYTE=ra(1);je.CHAR=function(t){return[t.charCodeAt(0)]};wt.CHAR=ra(1);je.CHARARRAY=function(t){typeof t>"u"&&(t="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var e=[],n=0;n<t.length;n+=1)e[n]=t.charCodeAt(n);return e};wt.CHARARRAY=function(t){return typeof t>"u"?0:t.length};je.USHORT=function(t){return[t>>8&255,t&255]};wt.USHORT=ra(2);je.SHORT=function(t){return t>=pD&&(t=-(2*pD-t)),[t>>8&255,t&255]};wt.SHORT=ra(2);je.UINT24=function(t){return[t>>16&255,t>>8&255,t&255]};wt.UINT24=ra(3);je.ULONG=function(t){return[t>>24&255,t>>16&255,t>>8&255,t&255]};wt.ULONG=ra(4);je.LONG=function(t){return t>=mD&&(t=-(2*mD-t)),[t>>24&255,t>>16&255,t>>8&255,t&255]};wt.LONG=ra(4);je.FIXED=je.ULONG;wt.FIXED=wt.ULONG;je.FWORD=je.SHORT;wt.FWORD=wt.SHORT;je.UFWORD=je.USHORT;wt.UFWORD=wt.USHORT;je.LONGDATETIME=function(t){return[0,0,0,0,t>>24&255,t>>16&255,t>>8&255,t&255]};wt.LONGDATETIME=ra(8);je.TAG=function(t){return Rt.argument(t.length===4,"Tag should be exactly 4 ASCII characters."),[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]};wt.TAG=ra(4);je.Card8=je.BYTE;wt.Card8=wt.BYTE;je.Card16=je.USHORT;wt.Card16=wt.USHORT;je.OffSize=je.BYTE;wt.OffSize=wt.BYTE;je.SID=je.USHORT;wt.SID=wt.USHORT;je.NUMBER=function(t){return t>=-107&&t<=107?[t+139]:t>=108&&t<=1131?(t=t-108,[(t>>8)+247,t&255]):t>=-1131&&t<=-108?(t=-t-108,[(t>>8)+251,t&255]):t>=-32768&&t<=32767?je.NUMBER16(t):je.NUMBER32(t)};wt.NUMBER=function(t){return je.NUMBER(t).length};je.NUMBER16=function(t){return[28,t>>8&255,t&255]};wt.NUMBER16=ra(3);je.NUMBER32=function(t){return[29,t>>24&255,t>>16&255,t>>8&255,t&255]};wt.NUMBER32=ra(5);je.REAL=function(t){var e=t.toString(),n=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(e);if(n){var r=parseFloat("1e"+((n[2]?+n[2]:0)+n[1].length));e=(Math.round(t*r)/r).toString()}for(var i="",s=0,o=e.length;s<o;s+=1){var a=e[s];a==="e"?i+=e[++s]==="-"?"c":"b":a==="."?i+="a":a==="-"?i+="e":i+=a}i+=i.length&1?"f":"ff";for(var l=[30],c=0,u=i.length;c<u;c+=2)l.push(parseInt(i.substr(c,2),16));return l};wt.REAL=function(t){return je.REAL(t).length};je.NAME=je.CHARARRAY;wt.NAME=wt.CHARARRAY;je.STRING=je.CHARARRAY;wt.STRING=wt.CHARARRAY;Tp.UTF8=function(t,e,n){for(var r=[],i=n,s=0;s<i;s++,e+=1)r[s]=t.getUint8(e);return String.fromCharCode.apply(null,r)};Tp.UTF16=function(t,e,n){for(var r=[],i=n/2,s=0;s<i;s++,e+=2)r[s]=t.getUint16(e);return String.fromCharCode.apply(null,r)};je.UTF16=function(t){for(var e=[],n=0;n<t.length;n+=1){var r=t.charCodeAt(n);e[e.length]=r>>8&255,e[e.length]=r&255}return e};wt.UTF16=function(t){return t.length*2};var rC={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"};Tp.MACSTRING=function(t,e,n,r){var i=rC[r];if(i!==void 0){for(var s="",o=0;o<n;o++){var a=t.getUint8(e+o);a<=127?s+=String.fromCharCode(a):s+=i[a&127]}return s}};var v2=typeof WeakMap=="function"&&new WeakMap,y2,Efe=function(t){if(!y2){y2={};for(var e in rC)y2[e]=new String(e)}var n=y2[t];if(n!==void 0){if(v2){var r=v2.get(n);if(r!==void 0)return r}var i=rC[t];if(i!==void 0){for(var s={},o=0;o<i.length;o++)s[i.charCodeAt(o)]=o+128;return v2&&v2.set(n,s),s}}};je.MACSTRING=function(t,e){var n=Efe(e);if(n!==void 0){for(var r=[],i=0;i<t.length;i++){var s=t.charCodeAt(i);if(s>=128&&(s=n[s],s===void 0))return;r[i]=s}return r}};wt.MACSTRING=function(t,e){var n=je.MACSTRING(t,e);return n!==void 0?n.length:0};function iC(t){return t>=-128&&t<=127}function _fe(t,e,n){for(var r=0,i=t.length;e<i&&r<64&&t[e]===0;)++e,++r;return n.push(128|r-1),e}function Sfe(t,e,n){for(var r=0,i=t.length,s=e;s<i&&r<64;){var o=t[s];if(!iC(o)||o===0&&s+1<i&&t[s+1]===0)break;++s,++r}n.push(r-1);for(var a=e;a<s;++a)n.push(t[a]+256&255);return s}function Cfe(t,e,n){for(var r=0,i=t.length,s=e;s<i&&r<64;){var o=t[s];if(o===0||iC(o)&&s+1<i&&iC(t[s+1]))break;++s,++r}n.push(64|r-1);for(var a=e;a<s;++a){var l=t[a];n.push(l+65536>>8&255,l+256&255)}return s}je.VARDELTAS=function(t){for(var e=0,n=[];e<t.length;){var r=t[e];r===0?e=_fe(t,e,n):r>=-128&&r<=127?e=Sfe(t,e,n):e=Cfe(t,e,n)}return n};je.INDEX=function(t){for(var e=1,n=[e],r=[],i=0;i<t.length;i+=1){var s=je.OBJECT(t[i]);Array.prototype.push.apply(r,s),e+=s.length,n.push(e)}if(r.length===0)return[0,0];for(var o=[],a=1+Math.floor(Math.log(e)/Math.log(2))/8|0,l=[void 0,je.BYTE,je.USHORT,je.UINT24,je.ULONG][a],c=0;c<n.length;c+=1){var u=l(n[c]);Array.prototype.push.apply(o,u)}return Array.prototype.concat(je.Card16(t.length),je.OffSize(a),o,r)};wt.INDEX=function(t){return je.INDEX(t).length};je.DICT=function(t){for(var e=[],n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var s=parseInt(n[i],0),o=t[s];e=e.concat(je.OPERAND(o.value,o.type)),e=e.concat(je.OPERATOR(s))}return e};wt.DICT=function(t){return je.DICT(t).length};je.OPERATOR=function(t){return t<1200?[t]:[12,t-1200]};je.OPERAND=function(t,e){var n=[];if(Array.isArray(e))for(var r=0;r<e.length;r+=1)Rt.argument(t.length===e.length,"Not enough arguments given for type"+e),n=n.concat(je.OPERAND(t[r],e[r]));else if(e==="SID")n=n.concat(je.NUMBER(t));else if(e==="offset")n=n.concat(je.NUMBER32(t));else if(e==="number")n=n.concat(je.NUMBER(t));else if(e==="real")n=n.concat(je.REAL(t));else throw new Error("Unknown operand type "+e);return n};je.OP=je.BYTE;wt.OP=wt.BYTE;var x2=typeof WeakMap=="function"&&new WeakMap;je.CHARSTRING=function(t){if(x2){var e=x2.get(t);if(e!==void 0)return e}for(var n=[],r=t.length,i=0;i<r;i+=1){var s=t[i];n=n.concat(je[s.type](s.value))}return x2&&x2.set(t,n),n};wt.CHARSTRING=function(t){return je.CHARSTRING(t).length};je.OBJECT=function(t){var e=je[t.type];return Rt.argument(e!==void 0,"No encoding function for type "+t.type),e(t.value)};wt.OBJECT=function(t){var e=wt[t.type];return Rt.argument(e!==void 0,"No sizeOf function for type "+t.type),e(t.value)};je.TABLE=function(t){for(var e=[],n=t.fields.length,r=[],i=[],s=0;s<n;s+=1){var o=t.fields[s],a=je[o.type];Rt.argument(a!==void 0,"No encoding function for field type "+o.type+" ("+o.name+")");var l=t[o.name];l===void 0&&(l=o.value);var c=a(l);o.type==="TABLE"?(i.push(e.length),e=e.concat([0,0]),r.push(c)):e=e.concat(c)}for(var u=0;u<r.length;u+=1){var h=i[u],f=e.length;Rt.argument(f<65536,"Table "+t.tableName+" too big."),e[h]=f>>8,e[h+1]=f&255,e=e.concat(r[u])}return e};wt.TABLE=function(t){for(var e=0,n=t.fields.length,r=0;r<n;r+=1){var i=t.fields[r],s=wt[i.type];Rt.argument(s!==void 0,"No sizeOf function for field type "+i.type+" ("+i.name+")");var o=t[i.name];o===void 0&&(o=i.value),e+=s(o),i.type==="TABLE"&&(e+=2)}return e};je.RECORD=je.TABLE;wt.RECORD=wt.TABLE;je.LITERAL=function(t){return t};wt.LITERAL=function(t){return t.length};function Yr(t,e,n){if(e.length&&(e[0].name!=="coverageFormat"||e[0].value===1))for(var r=0;r<e.length;r+=1){var i=e[r];this[i.name]=i.value}if(this.tableName=t,this.fields=e,n)for(var s=Object.keys(n),o=0;o<s.length;o+=1){var a=s[o],l=n[a];this[a]!==void 0&&(this[a]=l)}}Yr.prototype.encode=function(){return je.TABLE(this)};Yr.prototype.sizeOf=function(){return wt.TABLE(this)};function Wg(t,e,n){n===void 0&&(n=e.length);var r=new Array(e.length+1);r[0]={name:t+"Count",type:"USHORT",value:n};for(var i=0;i<e.length;i++)r[i+1]={name:t+i,type:"USHORT",value:e[i]};return r}function sC(t,e,n){var r=e.length,i=new Array(r+1);i[0]={name:t+"Count",type:"USHORT",value:r};for(var s=0;s<r;s++)i[s+1]={name:t+s,type:"TABLE",value:n(e[s],s)};return i}function jg(t,e,n){var r=e.length,i=[];i[0]={name:t+"Count",type:"USHORT",value:r};for(var s=0;s<r;s++)i=i.concat(n(e[s],s));return i}function uy(t){t.format===1?Yr.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(Wg("glyph",t.glyphs))):t.format===2?Yr.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(jg("rangeRecord",t.ranges,function(e){return[{name:"startGlyphID",type:"USHORT",value:e.start},{name:"endGlyphID",type:"USHORT",value:e.end},{name:"startCoverageIndex",type:"USHORT",value:e.index}]}))):Rt.assert(!1,"Coverage format must be 1 or 2.")}uy.prototype=Object.create(Yr.prototype);uy.prototype.constructor=uy;function hy(t){Yr.call(this,"scriptListTable",jg("scriptRecord",t,function(e,n){var r=e.script,i=r.defaultLangSys;return Rt.assert(!!i,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+n,type:"TAG",value:e.tag},{name:"script"+n,type:"TABLE",value:new Yr("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new Yr("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:i.reqFeatureIndex}].concat(Wg("featureIndex",i.featureIndexes)))}].concat(jg("langSys",r.langSysRecords,function(s,o){var a=s.langSys;return[{name:"langSysTag"+o,type:"TAG",value:s.tag},{name:"langSys"+o,type:"TABLE",value:new Yr("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:a.reqFeatureIndex}].concat(Wg("featureIndex",a.featureIndexes)))}]})))}]}))}hy.prototype=Object.create(Yr.prototype);hy.prototype.constructor=hy;function fy(t){Yr.call(this,"featureListTable",jg("featureRecord",t,function(e,n){var r=e.feature;return[{name:"featureTag"+n,type:"TAG",value:e.tag},{name:"feature"+n,type:"TABLE",value:new Yr("featureTable",[{name:"featureParams",type:"USHORT",value:r.featureParams}].concat(Wg("lookupListIndex",r.lookupListIndexes)))}]}))}fy.prototype=Object.create(Yr.prototype);fy.prototype.constructor=fy;function dy(t,e){Yr.call(this,"lookupListTable",sC("lookup",t,function(n){var r=e[n.lookupType];return Rt.assert(!!r,"Unable to write GSUB lookup type "+n.lookupType+" tables."),new Yr("lookupTable",[{name:"lookupType",type:"USHORT",value:n.lookupType},{name:"lookupFlag",type:"USHORT",value:n.lookupFlag}].concat(sC("subtable",n.subtables,r)))}))}dy.prototype=Object.create(Yr.prototype);dy.prototype.constructor=dy;var ot={Table:Yr,Record:Yr,Coverage:uy,ScriptList:hy,FeatureList:fy,LookupList:dy,ushortList:Wg,tableList:sC,recordList:jg};function gD(t,e){return t.getUint8(e)}function py(t,e){return t.getUint16(e,!1)}function wfe(t,e){return t.getInt16(e,!1)}function QT(t,e){return t.getUint32(e,!1)}function Lz(t,e){var n=t.getInt16(e,!1),r=t.getUint16(e+2,!1);return n+r/65535}function Tfe(t,e){for(var n="",r=e;r<e+4;r+=1)n+=String.fromCharCode(t.getInt8(r));return n}function Ife(t,e,n){for(var r=0,i=0;i<n;i+=1)r<<=8,r+=t.getUint8(e+i);return r}function bfe(t,e,n){for(var r=[],i=e;i<n;i+=1)r.push(t.getUint8(i));return r}function Mfe(t){for(var e="",n=0;n<t.length;n+=1)e+=String.fromCharCode(t[n]);return e}var Rfe={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Ae(t,e){this.data=t,this.offset=e,this.relativeOffset=0}Ae.prototype.parseByte=function(){var t=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t};Ae.prototype.parseChar=function(){var t=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t};Ae.prototype.parseCard8=Ae.prototype.parseByte;Ae.prototype.parseUShort=function(){var t=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t};Ae.prototype.parseCard16=Ae.prototype.parseUShort;Ae.prototype.parseSID=Ae.prototype.parseUShort;Ae.prototype.parseOffset16=Ae.prototype.parseUShort;Ae.prototype.parseShort=function(){var t=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t};Ae.prototype.parseF2Dot14=function(){var t=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,t};Ae.prototype.parseULong=function(){var t=QT(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t};Ae.prototype.parseOffset32=Ae.prototype.parseULong;Ae.prototype.parseFixed=function(){var t=Lz(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t};Ae.prototype.parseString=function(t){var e=this.data,n=this.offset+this.relativeOffset,r="";this.relativeOffset+=t;for(var i=0;i<t;i++)r+=String.fromCharCode(e.getUint8(n+i));return r};Ae.prototype.parseTag=function(){return this.parseString(4)};Ae.prototype.parseLongDateTime=function(){var t=QT(this.data,this.offset+this.relativeOffset+4);return t-=2082844800,this.relativeOffset+=8,t};Ae.prototype.parseVersion=function(t){var e=py(this.data,this.offset+this.relativeOffset),n=py(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,t===void 0&&(t=4096),e+n/t/10};Ae.prototype.skip=function(t,e){e===void 0&&(e=1),this.relativeOffset+=Rfe[t]*e};Ae.prototype.parseULongList=function(t){t===void 0&&(t=this.parseULong());for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getUint32(r),r+=4;return this.relativeOffset+=t*4,e};Ae.prototype.parseOffset16List=Ae.prototype.parseUShortList=function(t){t===void 0&&(t=this.parseUShort());for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getUint16(r),r+=2;return this.relativeOffset+=t*2,e};Ae.prototype.parseShortList=function(t){for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getInt16(r),r+=2;return this.relativeOffset+=t*2,e};Ae.prototype.parseByteList=function(t){for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getUint8(r++);return this.relativeOffset+=t,e};Ae.prototype.parseList=function(t,e){e||(e=t,t=this.parseUShort());for(var n=new Array(t),r=0;r<t;r++)n[r]=e.call(this);return n};Ae.prototype.parseList32=function(t,e){e||(e=t,t=this.parseULong());for(var n=new Array(t),r=0;r<t;r++)n[r]=e.call(this);return n};Ae.prototype.parseRecordList=function(t,e){e||(e=t,t=this.parseUShort());for(var n=new Array(t),r=Object.keys(e),i=0;i<t;i++){for(var s={},o=0;o<r.length;o++){var a=r[o],l=e[a];s[a]=l.call(this)}n[i]=s}return n};Ae.prototype.parseRecordList32=function(t,e){e||(e=t,t=this.parseULong());for(var n=new Array(t),r=Object.keys(e),i=0;i<t;i++){for(var s={},o=0;o<r.length;o++){var a=r[o],l=e[a];s[a]=l.call(this)}n[i]=s}return n};Ae.prototype.parseStruct=function(t){if(typeof t=="function")return t.call(this);for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r],s=t[i];n[i]=s.call(this)}return n};Ae.prototype.parseValueRecord=function(t){if(t===void 0&&(t=this.parseUShort()),t!==0){var e={};return t&1&&(e.xPlacement=this.parseShort()),t&2&&(e.yPlacement=this.parseShort()),t&4&&(e.xAdvance=this.parseShort()),t&8&&(e.yAdvance=this.parseShort()),t&16&&(e.xPlaDevice=void 0,this.parseShort()),t&32&&(e.yPlaDevice=void 0,this.parseShort()),t&64&&(e.xAdvDevice=void 0,this.parseShort()),t&128&&(e.yAdvDevice=void 0,this.parseShort()),e}};Ae.prototype.parseValueRecordList=function(){for(var t=this.parseUShort(),e=this.parseUShort(),n=new Array(e),r=0;r<e;r++)n[r]=this.parseValueRecord(t);return n};Ae.prototype.parsePointer=function(t){var e=this.parseOffset16();if(e>0)return new Ae(this.data,this.offset+e).parseStruct(t)};Ae.prototype.parsePointer32=function(t){var e=this.parseOffset32();if(e>0)return new Ae(this.data,this.offset+e).parseStruct(t)};Ae.prototype.parseListOfLists=function(t){for(var e=this.parseOffset16List(),n=e.length,r=this.relativeOffset,i=new Array(n),s=0;s<n;s++){var o=e[s];if(o===0){i[s]=void 0;continue}if(this.relativeOffset=o,t){for(var a=this.parseOffset16List(),l=new Array(a.length),c=0;c<a.length;c++)this.relativeOffset=o+a[c],l[c]=t.call(this);i[s]=l}else i[s]=this.parseUShortList()}return this.relativeOffset=r,i};Ae.prototype.parseCoverage=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort(),n=this.parseUShort();if(e===1)return{format:1,glyphs:this.parseUShortList(n)};if(e===2){for(var r=new Array(n),i=0;i<n;i++)r[i]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:r}}throw new Error("0x"+t.toString(16)+": Coverage format must be 1 or 2.")};Ae.prototype.parseClassDef=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort();if(e===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(e===2)return{format:2,ranges:this.parseRecordList({start:Ae.uShort,end:Ae.uShort,classId:Ae.uShort})};throw new Error("0x"+t.toString(16)+": ClassDef format must be 1 or 2.")};Ae.list=function(t,e){return function(){return this.parseList(t,e)}};Ae.list32=function(t,e){return function(){return this.parseList32(t,e)}};Ae.recordList=function(t,e){return function(){return this.parseRecordList(t,e)}};Ae.recordList32=function(t,e){return function(){return this.parseRecordList32(t,e)}};Ae.pointer=function(t){return function(){return this.parsePointer(t)}};Ae.pointer32=function(t){return function(){return this.parsePointer32(t)}};Ae.tag=Ae.prototype.parseTag;Ae.byte=Ae.prototype.parseByte;Ae.uShort=Ae.offset16=Ae.prototype.parseUShort;Ae.uShortList=Ae.prototype.parseUShortList;Ae.uLong=Ae.offset32=Ae.prototype.parseULong;Ae.uLongList=Ae.prototype.parseULongList;Ae.struct=Ae.prototype.parseStruct;Ae.coverage=Ae.prototype.parseCoverage;Ae.classDef=Ae.prototype.parseClassDef;var AD={reserved:Ae.uShort,reqFeatureIndex:Ae.uShort,featureIndexes:Ae.uShortList};Ae.prototype.parseScriptList=function(){return this.parsePointer(Ae.recordList({tag:Ae.tag,script:Ae.pointer({defaultLangSys:Ae.pointer(AD),langSysRecords:Ae.recordList({tag:Ae.tag,langSys:Ae.pointer(AD)})})}))||[]};Ae.prototype.parseFeatureList=function(){return this.parsePointer(Ae.recordList({tag:Ae.tag,feature:Ae.pointer({featureParams:Ae.offset16,lookupListIndexes:Ae.uShortList})}))||[]};Ae.prototype.parseLookupList=function(t){return this.parsePointer(Ae.list(Ae.pointer(function(){var e=this.parseUShort();Rt.argument(1<=e&&e<=9,"GPOS/GSUB lookup type "+e+" unknown.");var n=this.parseUShort(),r=n&16;return{lookupType:e,lookupFlag:n,subtables:this.parseList(Ae.pointer(t[e])),markFilteringSet:r?this.parseUShort():void 0}})))||[]};Ae.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var t=this.parseUShort(),e=this.parseUShort();Rt.argument(t===1&&e<1,"GPOS/GSUB feature variations table unknown.");var n=this.parseRecordList32({conditionSetOffset:Ae.offset32,featureTableSubstitutionOffset:Ae.offset32});return n})||[]};var Lt={getByte:gD,getCard8:gD,getUShort:py,getCard16:py,getShort:wfe,getULong:QT,getFixed:Lz,getTag:Tfe,getOffset:Ife,getBytes:bfe,bytesToString:Mfe,Parser:Ae};function Bfe(t,e){e.parseUShort(),t.length=e.parseULong(),t.language=e.parseULong();var n;t.groupCount=n=e.parseULong(),t.glyphIndexMap={};for(var r=0;r<n;r+=1)for(var i=e.parseULong(),s=e.parseULong(),o=e.parseULong(),a=i;a<=s;a+=1)t.glyphIndexMap[a]=o,o++}function Pfe(t,e,n,r,i){t.length=e.parseUShort(),t.language=e.parseUShort();var s;t.segCount=s=e.parseUShort()>>1,e.skip("uShort",3),t.glyphIndexMap={};for(var o=new Lt.Parser(n,r+i+14),a=new Lt.Parser(n,r+i+16+s*2),l=new Lt.Parser(n,r+i+16+s*4),c=new Lt.Parser(n,r+i+16+s*6),u=r+i+16+s*8,h=0;h<s-1;h+=1)for(var f=void 0,m=o.parseUShort(),g=a.parseUShort(),E=l.parseShort(),x=c.parseUShort(),A=g;A<=m;A+=1)x!==0?(u=c.offset+c.relativeOffset-2,u+=x,u+=(A-g)*2,f=Lt.getUShort(n,u),f!==0&&(f=f+E&65535)):f=A+E&65535,t.glyphIndexMap[A]=f}function Dfe(t,e){var n={};n.version=Lt.getUShort(t,e),Rt.argument(n.version===0,"cmap table version should be 0."),n.numTables=Lt.getUShort(t,e+2);for(var r=-1,i=n.numTables-1;i>=0;i-=1){var s=Lt.getUShort(t,e+4+i*8),o=Lt.getUShort(t,e+4+i*8+2);if(s===3&&(o===0||o===1||o===10)||s===0&&(o===0||o===1||o===2||o===3||o===4)){r=Lt.getULong(t,e+4+i*8+4);break}}if(r===-1)throw new Error("No valid cmap sub-tables found.");var a=new Lt.Parser(t,e+r);if(n.format=a.parseUShort(),n.format===12)Bfe(n,a);else if(n.format===4)Pfe(n,a,t,e,r);else throw new Error("Only format 4 and 12 cmap tables are supported (found format "+n.format+").");return n}function Lfe(t,e,n){t.segments.push({end:e,start:e,delta:-(e-n),offset:0,glyphIndex:n})}function Ofe(t){t.segments.push({end:65535,start:65535,delta:1,offset:0})}function Ffe(t){var e=!0,n;for(n=t.length-1;n>0;n-=1){var r=t.get(n);if(r.unicode>65535){console.log("Adding CMAP format 12 (needed!)"),e=!1;break}}var i=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:e?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:e?12:12+8}];e||(i=i.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),i=i.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var s=new ot.Table("cmap",i);for(s.segments=[],n=0;n<t.length;n+=1){for(var o=t.get(n),a=0;a<o.unicodes.length;a+=1)Lfe(s,o.unicodes[a],n);s.segments=s.segments.sort(function(v,y){return v.start-y.start})}Ofe(s);var l=s.segments.length,c=0,u=[],h=[],f=[],m=[],g=[],E=[];for(n=0;n<l;n+=1){var x=s.segments[n];x.end<=65535&&x.start<=65535?(u=u.concat({name:"end_"+n,type:"USHORT",value:x.end}),h=h.concat({name:"start_"+n,type:"USHORT",value:x.start}),f=f.concat({name:"idDelta_"+n,type:"SHORT",value:x.delta}),m=m.concat({name:"idRangeOffset_"+n,type:"USHORT",value:x.offset}),x.glyphId!==void 0&&(g=g.concat({name:"glyph_"+n,type:"USHORT",value:x.glyphId}))):c+=1,!e&&x.glyphIndex!==void 0&&(E=E.concat({name:"cmap12Start_"+n,type:"ULONG",value:x.start}),E=E.concat({name:"cmap12End_"+n,type:"ULONG",value:x.end}),E=E.concat({name:"cmap12Glyph_"+n,type:"ULONG",value:x.glyphIndex}))}if(s.segCountX2=(l-c)*2,s.searchRange=Math.pow(2,Math.floor(Math.log(l-c)/Math.log(2)))*2,s.entrySelector=Math.log(s.searchRange/2)/Math.log(2),s.rangeShift=s.segCountX2-s.searchRange,s.fields=s.fields.concat(u),s.fields.push({name:"reservedPad",type:"USHORT",value:0}),s.fields=s.fields.concat(h),s.fields=s.fields.concat(f),s.fields=s.fields.concat(m),s.fields=s.fields.concat(g),s.cmap4Length=14+u.length*2+2+h.length*2+f.length*2+m.length*2+g.length*2,!e){var A=16+E.length*4;s.cmap12Offset=12+2*2+4+s.cmap4Length,s.fields=s.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:A},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:E.length/3}]),s.fields=s.fields.concat(E)}return s}var Nfe={parse:Dfe,make:Ffe},hv=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],kfe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],Ufe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],vD=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Oz(t){this.font=t}Oz.prototype.charToGlyphIndex=function(t){var e=t.codePointAt(0),n=this.font.glyphs;if(n){for(var r=0;r<n.length;r+=1)for(var i=n.get(r),s=0;s<i.unicodes.length;s+=1)if(i.unicodes[s]===e)return r}return null};function my(t,e){this.encoding=t,this.charset=e}my.prototype.charToGlyphIndex=function(t){var e=t.codePointAt(0),n=this.encoding[e];return this.charset.indexOf(n)};function Gfe(t,e,n,r,i){t.beginPath(),t.moveTo(e,n),t.lineTo(r,i),t.stroke()}var Qu={line:Gfe};function Hfe(t,e){var n=e||new Gr;return{configurable:!0,get:function(){return typeof n=="function"&&(n=n()),n},set:function(r){n=r}}}function xo(t){this.bindConstructorValues(t)}xo.prototype.bindConstructorValues=function(t){this.index=t.index||0,this.name=t.name||null,this.unicode=t.unicode||void 0,this.unicodes=t.unicodes||t.unicode!==void 0?[t.unicode]:[],"xMin"in t&&(this.xMin=t.xMin),"yMin"in t&&(this.yMin=t.yMin),"xMax"in t&&(this.xMax=t.xMax),"yMax"in t&&(this.yMax=t.yMax),"advanceWidth"in t&&(this.advanceWidth=t.advanceWidth),Object.defineProperty(this,"path",Hfe(this,t.path))};xo.prototype.addUnicode=function(t){this.unicodes.length===0&&(this.unicode=t),this.unicodes.push(t)};xo.prototype.getBoundingBox=function(){return this.path.getBoundingBox()};xo.prototype.getPath=function(t,e,n,r,i){t=t!==void 0?t:0,e=e!==void 0?e:0,n=n!==void 0?n:72;var s,o;r||(r={});var a=r.xScale,l=r.yScale;if(r.hinting&&i&&i.hinting&&(o=this.path&&i.hinting.exec(this,n)),o)s=i.hinting.getCommands(o),t=Math.round(t),e=Math.round(e),a=l=1;else{s=this.path.commands;var c=1/(this.path.unitsPerEm||1e3)*n;a===void 0&&(a=c),l===void 0&&(l=c)}for(var u=new Gr,h=0;h<s.length;h+=1){var f=s[h];f.type==="M"?u.moveTo(t+f.x*a,e+-f.y*l):f.type==="L"?u.lineTo(t+f.x*a,e+-f.y*l):f.type==="Q"?u.quadraticCurveTo(t+f.x1*a,e+-f.y1*l,t+f.x*a,e+-f.y*l):f.type==="C"?u.curveTo(t+f.x1*a,e+-f.y1*l,t+f.x2*a,e+-f.y2*l,t+f.x*a,e+-f.y*l):f.type==="Z"&&u.closePath()}return u};xo.prototype.getContours=function(){if(this.points===void 0)return[];for(var t=[],e=[],n=0;n<this.points.length;n+=1){var r=this.points[n];e.push(r),r.lastPointOfContour&&(t.push(e),e=[])}return Rt.argument(e.length===0,"There are still points left in the current contour."),t};xo.prototype.getMetrics=function(){for(var t=this.path.commands,e=[],n=[],r=0;r<t.length;r+=1){var i=t[r];i.type!=="Z"&&(e.push(i.x),n.push(i.y)),(i.type==="Q"||i.type==="C")&&(e.push(i.x1),n.push(i.y1)),i.type==="C"&&(e.push(i.x2),n.push(i.y2))}var s={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,e),yMax:Math.max.apply(null,n),leftSideBearing:this.leftSideBearing};return isFinite(s.xMin)||(s.xMin=0),isFinite(s.xMax)||(s.xMax=this.advanceWidth),isFinite(s.yMin)||(s.yMin=0),isFinite(s.yMax)||(s.yMax=0),s.rightSideBearing=this.advanceWidth-s.leftSideBearing-(s.xMax-s.xMin),s};xo.prototype.draw=function(t,e,n,r,i){this.getPath(e,n,r,i).draw(t)};xo.prototype.drawPoints=function(t,e,n,r){function i(h,f,m,g){t.beginPath();for(var E=0;E<h.length;E+=1)t.moveTo(f+h[E].x*g,m+h[E].y*g),t.arc(f+h[E].x*g,m+h[E].y*g,2,0,Math.PI*2,!1);t.closePath(),t.fill()}e=e!==void 0?e:0,n=n!==void 0?n:0,r=r!==void 0?r:24;for(var s=1/this.path.unitsPerEm*r,o=[],a=[],l=this.path,c=0;c<l.commands.length;c+=1){var u=l.commands[c];u.x!==void 0&&o.push({x:u.x,y:-u.y}),u.x1!==void 0&&a.push({x:u.x1,y:-u.y1}),u.x2!==void 0&&a.push({x:u.x2,y:-u.y2})}t.fillStyle="blue",i(o,e,n,s),t.fillStyle="red",i(a,e,n,s)};xo.prototype.drawMetrics=function(t,e,n,r){var i;e=e!==void 0?e:0,n=n!==void 0?n:0,r=r!==void 0?r:24,i=1/this.path.unitsPerEm*r,t.lineWidth=1,t.strokeStyle="black",Qu.line(t,e,-1e4,e,1e4),Qu.line(t,-1e4,n,1e4,n);var s=this.xMin||0,o=this.yMin||0,a=this.xMax||0,l=this.yMax||0,c=this.advanceWidth||0;t.strokeStyle="blue",Qu.line(t,e+s*i,-1e4,e+s*i,1e4),Qu.line(t,e+a*i,-1e4,e+a*i,1e4),Qu.line(t,-1e4,n+-o*i,1e4,n+-o*i),Qu.line(t,-1e4,n+-l*i,1e4,n+-l*i),t.strokeStyle="green",Qu.line(t,e+c*i,-1e4,e+c*i,1e4)};function E2(t,e,n){Object.defineProperty(t,e,{get:function(){return t.path,t[n]},set:function(r){t[n]=r},enumerable:!0,configurable:!0})}function zT(t,e){if(this.font=t,this.glyphs={},Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];r.path.unitsPerEm=t.unitsPerEm,this.glyphs[n]=r}this.length=e&&e.length||0}zT.prototype.get=function(t){if(this.glyphs[t]===void 0){this.font._push(t),typeof this.glyphs[t]=="function"&&(this.glyphs[t]=this.glyphs[t]());var e=this.glyphs[t],n=this.font._IndexToUnicodeMap[t];if(n)for(var r=0;r<n.unicodes.length;r++)e.addUnicode(n.unicodes[r]);this.font.cffEncoding?this.font.isCIDFont?e.name="gid"+t:e.name=this.font.cffEncoding.charset[t]:this.font.glyphNames.names&&(e.name=this.font.glyphNames.glyphIndexToName(t)),this.glyphs[t].advanceWidth=this.font._hmtxTableData[t].advanceWidth,this.glyphs[t].leftSideBearing=this.font._hmtxTableData[t].leftSideBearing}else typeof this.glyphs[t]=="function"&&(this.glyphs[t]=this.glyphs[t]());return this.glyphs[t]};zT.prototype.push=function(t,e){this.glyphs[t]=e,this.length++};function Qfe(t,e){return new xo({index:e,font:t})}function zfe(t,e,n,r,i,s){return function(){var o=new xo({index:e,font:t});return o.path=function(){n(o,r,i);var a=s(t.glyphs,o);return a.unitsPerEm=t.unitsPerEm,a},E2(o,"xMin","_xMin"),E2(o,"xMax","_xMax"),E2(o,"yMin","_yMin"),E2(o,"yMax","_yMax"),o}}function Vfe(t,e,n,r){return function(){var i=new xo({index:e,font:t});return i.path=function(){var s=n(t,i,r);return s.unitsPerEm=t.unitsPerEm,s},i}}var Oa={GlyphSet:zT,glyphLoader:Qfe,ttfGlyphLoader:zfe,cffGlyphLoader:Vfe};function Fz(t,e){if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n+=1)if(!Fz(t[n],e[n]))return!1;return!0}else return!1}function oC(t){var e;return t.length<1240?e=107:t.length<33900?e=1131:e=32768,e}function vc(t,e,n){var r=[],i=[],s=Lt.getCard16(t,e),o,a;if(s!==0){var l=Lt.getByte(t,e+2);o=e+(s+1)*l+2;for(var c=e+3,u=0;u<s+1;u+=1)r.push(Lt.getOffset(t,c,l)),c+=l;a=o+r[s]}else a=e+2;for(var h=0;h<r.length-1;h+=1){var f=Lt.getBytes(t,o+r[h],o+r[h+1]);n&&(f=n(f)),i.push(f)}return{objects:i,startOffset:e,endOffset:a}}function Wfe(t,e){var n=[],r=Lt.getCard16(t,e),i,s;if(r!==0){var o=Lt.getByte(t,e+2);i=e+(r+1)*o+2;for(var a=e+3,l=0;l<r+1;l+=1)n.push(Lt.getOffset(t,a,o)),a+=o;s=i+n[r]}else s=e+2;return{offsets:n,startOffset:e,endOffset:s}}function jfe(t,e,n,r,i){var s=Lt.getCard16(n,r),o=0;if(s!==0){var a=Lt.getByte(n,r+2);o=r+(s+1)*a+2}var l=Lt.getBytes(n,o+e[t],o+e[t+1]);return i&&(l=i(l)),l}function $fe(t){for(var e="",n=15,r=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var i=t.parseByte(),s=i>>4,o=i&15;if(s===n||(e+=r[s],o===n))break;e+=r[o]}return parseFloat(e)}function Kfe(t,e){var n,r,i,s;if(e===28)return n=t.parseByte(),r=t.parseByte(),n<<8|r;if(e===29)return n=t.parseByte(),r=t.parseByte(),i=t.parseByte(),s=t.parseByte(),n<<24|r<<16|i<<8|s;if(e===30)return $fe(t);if(e>=32&&e<=246)return e-139;if(e>=247&&e<=250)return n=t.parseByte(),(e-247)*256+n+108;if(e>=251&&e<=254)return n=t.parseByte(),-(e-251)*256-n-108;throw new Error("Invalid b0 "+e)}function Xfe(t){for(var e={},n=0;n<t.length;n+=1){var r=t[n][0],i=t[n][1],s=void 0;if(i.length===1?s=i[0]:s=i,e.hasOwnProperty(r)&&!isNaN(e[r]))throw new Error("Object "+e+" already has key "+r);e[r]=s}return e}function Nz(t,e,n){e=e!==void 0?e:0;var r=new Lt.Parser(t,e),i=[],s=[];for(n=n!==void 0?n:t.length;r.relativeOffset<n;){var o=r.parseByte();o<=21?(o===12&&(o=1200+r.parseByte()),i.push([o,s]),s=[]):s.push(Kfe(r,o))}return Xfe(i)}function $m(t,e){return e<=390?e=hv[e]:e=t[e-391],e}function kz(t,e,n){for(var r={},i,s=0;s<e.length;s+=1){var o=e[s];if(Array.isArray(o.type)){var a=[];a.length=o.type.length;for(var l=0;l<o.type.length;l++)i=t[o.op]!==void 0?t[o.op][l]:void 0,i===void 0&&(i=o.value!==void 0&&o.value[l]!==void 0?o.value[l]:null),o.type[l]==="SID"&&(i=$m(n,i)),a[l]=i;r[o.name]=a}else i=t[o.op],i===void 0&&(i=o.value!==void 0?o.value:null),o.type==="SID"&&(i=$m(n,i)),r[o.name]=i}return r}function Jfe(t,e){var n={};return n.formatMajor=Lt.getCard8(t,e),n.formatMinor=Lt.getCard8(t,e+1),n.size=Lt.getCard8(t,e+2),n.offsetSize=Lt.getCard8(t,e+3),n.startOffset=e,n.endOffset=e+4,n}var Uz=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Gz=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Yfe(t,e){var n=Nz(t,0,t.byteLength);return kz(n,Uz,e)}function Hz(t,e,n,r){var i=Nz(t,e,n);return kz(i,Gz,r)}function yD(t,e,n,r){for(var i=[],s=0;s<n.length;s+=1){var o=new DataView(new Uint8Array(n[s]).buffer),a=Yfe(o,r);a._subrs=[],a._subrsBias=0,a._defaultWidthX=0,a._nominalWidthX=0;var l=a.private[0],c=a.private[1];if(l!==0&&c!==0){var u=Hz(t,c+e,l,r);if(a._defaultWidthX=u.defaultWidthX,a._nominalWidthX=u.nominalWidthX,u.subrs!==0){var h=c+u.subrs,f=vc(t,h+e);a._subrs=f.objects,a._subrsBias=oC(a._subrs)}a._privateDict=u}i.push(a)}return i}function qfe(t,e,n,r){var i,s,o=new Lt.Parser(t,e);n-=1;var a=[".notdef"],l=o.parseCard8();if(l===0)for(var c=0;c<n;c+=1)i=o.parseSID(),a.push($m(r,i));else if(l===1)for(;a.length<=n;){i=o.parseSID(),s=o.parseCard8();for(var u=0;u<=s;u+=1)a.push($m(r,i)),i+=1}else if(l===2)for(;a.length<=n;){i=o.parseSID(),s=o.parseCard16();for(var h=0;h<=s;h+=1)a.push($m(r,i)),i+=1}else throw new Error("Unknown charset format "+l);return a}function Zfe(t,e,n){var r,i={},s=new Lt.Parser(t,e),o=s.parseCard8();if(o===0)for(var a=s.parseCard8(),l=0;l<a;l+=1)r=s.parseCard8(),i[r]=l;else if(o===1){var c=s.parseCard8();r=1;for(var u=0;u<c;u+=1)for(var h=s.parseCard8(),f=s.parseCard8(),m=h;m<=h+f;m+=1)i[m]=r,r+=1}else throw new Error("Unknown encoding format "+o);return new my(i,n)}function xD(t,e,n){var r,i,s,o,a=new Gr,l=[],c=0,u=!1,h=!1,f=0,m=0,g,E,x,A;if(t.isCIDFont){var v=t.tables.cff.topDict._fdSelect[e.index],y=t.tables.cff.topDict._fdArray[v];g=y._subrs,E=y._subrsBias,x=y._defaultWidthX,A=y._nominalWidthX}else g=t.tables.cff.topDict._subrs,E=t.tables.cff.topDict._subrsBias,x=t.tables.cff.topDict._defaultWidthX,A=t.tables.cff.topDict._nominalWidthX;var S=x;function w(R,M){h&&a.closePath(),a.moveTo(R,M),h=!0}function T(){var R;R=l.length%2!==0,R&&!u&&(S=l.shift()+A),c+=l.length>>1,l.length=0,u=!0}function b(R){for(var M,B,L,G,F,$,W,Z,q,k,J,V,H=0;H<R.length;){var X=R[H];switch(H+=1,X){case 1:T();break;case 3:T();break;case 4:l.length>1&&!u&&(S=l.shift()+A,u=!0),m+=l.pop(),w(f,m);break;case 5:for(;l.length>0;)f+=l.shift(),m+=l.shift(),a.lineTo(f,m);break;case 6:for(;l.length>0&&(f+=l.shift(),a.lineTo(f,m),l.length!==0);)m+=l.shift(),a.lineTo(f,m);break;case 7:for(;l.length>0&&(m+=l.shift(),a.lineTo(f,m),l.length!==0);)f+=l.shift(),a.lineTo(f,m);break;case 8:for(;l.length>0;)r=f+l.shift(),i=m+l.shift(),s=r+l.shift(),o=i+l.shift(),f=s+l.shift(),m=o+l.shift(),a.curveTo(r,i,s,o,f,m);break;case 10:F=l.pop()+E,$=g[F],$&&b($);break;case 11:return;case 12:switch(X=R[H],H+=1,X){case 35:r=f+l.shift(),i=m+l.shift(),s=r+l.shift(),o=i+l.shift(),W=s+l.shift(),Z=o+l.shift(),q=W+l.shift(),k=Z+l.shift(),J=q+l.shift(),V=k+l.shift(),f=J+l.shift(),m=V+l.shift(),l.shift(),a.curveTo(r,i,s,o,W,Z),a.curveTo(q,k,J,V,f,m);break;case 34:r=f+l.shift(),i=m,s=r+l.shift(),o=i+l.shift(),W=s+l.shift(),Z=o,q=W+l.shift(),k=o,J=q+l.shift(),V=m,f=J+l.shift(),a.curveTo(r,i,s,o,W,Z),a.curveTo(q,k,J,V,f,m);break;case 36:r=f+l.shift(),i=m+l.shift(),s=r+l.shift(),o=i+l.shift(),W=s+l.shift(),Z=o,q=W+l.shift(),k=o,J=q+l.shift(),V=k+l.shift(),f=J+l.shift(),a.curveTo(r,i,s,o,W,Z),a.curveTo(q,k,J,V,f,m);break;case 37:r=f+l.shift(),i=m+l.shift(),s=r+l.shift(),o=i+l.shift(),W=s+l.shift(),Z=o+l.shift(),q=W+l.shift(),k=Z+l.shift(),J=q+l.shift(),V=k+l.shift(),Math.abs(J-f)>Math.abs(V-m)?f=J+l.shift():m=V+l.shift(),a.curveTo(r,i,s,o,W,Z),a.curveTo(q,k,J,V,f,m);break;default:console.log("Glyph "+e.index+": unknown operator 1200"+X),l.length=0}break;case 14:l.length>0&&!u&&(S=l.shift()+A,u=!0),h&&(a.closePath(),h=!1);break;case 18:T();break;case 19:case 20:T(),H+=c+7>>3;break;case 21:l.length>2&&!u&&(S=l.shift()+A,u=!0),m+=l.pop(),f+=l.pop(),w(f,m);break;case 22:l.length>1&&!u&&(S=l.shift()+A,u=!0),f+=l.pop(),w(f,m);break;case 23:T();break;case 24:for(;l.length>2;)r=f+l.shift(),i=m+l.shift(),s=r+l.shift(),o=i+l.shift(),f=s+l.shift(),m=o+l.shift(),a.curveTo(r,i,s,o,f,m);f+=l.shift(),m+=l.shift(),a.lineTo(f,m);break;case 25:for(;l.length>6;)f+=l.shift(),m+=l.shift(),a.lineTo(f,m);r=f+l.shift(),i=m+l.shift(),s=r+l.shift(),o=i+l.shift(),f=s+l.shift(),m=o+l.shift(),a.curveTo(r,i,s,o,f,m);break;case 26:for(l.length%2&&(f+=l.shift());l.length>0;)r=f,i=m+l.shift(),s=r+l.shift(),o=i+l.shift(),f=s,m=o+l.shift(),a.curveTo(r,i,s,o,f,m);break;case 27:for(l.length%2&&(m+=l.shift());l.length>0;)r=f+l.shift(),i=m,s=r+l.shift(),o=i+l.shift(),f=s+l.shift(),m=o,a.curveTo(r,i,s,o,f,m);break;case 28:M=R[H],B=R[H+1],l.push((M<<24|B<<16)>>16),H+=2;break;case 29:F=l.pop()+t.gsubrsBias,$=t.gsubrs[F],$&&b($);break;case 30:for(;l.length>0&&(r=f,i=m+l.shift(),s=r+l.shift(),o=i+l.shift(),f=s+l.shift(),m=o+(l.length===1?l.shift():0),a.curveTo(r,i,s,o,f,m),l.length!==0);)r=f+l.shift(),i=m,s=r+l.shift(),o=i+l.shift(),m=o+l.shift(),f=s+(l.length===1?l.shift():0),a.curveTo(r,i,s,o,f,m);break;case 31:for(;l.length>0&&(r=f+l.shift(),i=m,s=r+l.shift(),o=i+l.shift(),m=o+l.shift(),f=s+(l.length===1?l.shift():0),a.curveTo(r,i,s,o,f,m),l.length!==0);)r=f,i=m+l.shift(),s=r+l.shift(),o=i+l.shift(),f=s+l.shift(),m=o+(l.length===1?l.shift():0),a.curveTo(r,i,s,o,f,m);break;default:X<32?console.log("Glyph "+e.index+": unknown operator "+X):X<247?l.push(X-139):X<251?(M=R[H],H+=1,l.push((X-247)*256+M+108)):X<255?(M=R[H],H+=1,l.push(-(X-251)*256-M-108)):(M=R[H],B=R[H+1],L=R[H+2],G=R[H+3],H+=4,l.push((M<<24|B<<16|L<<8|G)/65536))}}}return b(n),e.advanceWidth=S,a}function ede(t,e,n,r){var i=[],s,o=new Lt.Parser(t,e),a=o.parseCard8();if(a===0)for(var l=0;l<n;l++){if(s=o.parseCard8(),s>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+s+" (FD count "+r+")");i.push(s)}else if(a===3){var c=o.parseCard16(),u=o.parseCard16();if(u!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+u);for(var h,f=0;f<c;f++){if(s=o.parseCard8(),h=o.parseCard16(),s>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+s+" (FD count "+r+")");if(h>n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+h);for(;u<h;u++)i.push(s);u=h}if(h!==n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+h)}else throw new Error("CFF Table CID Font FDSelect table has unsupported format "+a);return i}function tde(t,e,n,r){n.tables.cff={};var i=Jfe(t,e),s=vc(t,i.endOffset,Lt.bytesToString),o=vc(t,s.endOffset),a=vc(t,o.endOffset,Lt.bytesToString),l=vc(t,a.endOffset);n.gsubrs=l.objects,n.gsubrsBias=oC(n.gsubrs);var c=yD(t,e,o.objects,a.objects);if(c.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+c.length);var u=c[0];if(n.tables.cff.topDict=u,u._privateDict&&(n.defaultWidthX=u._privateDict.defaultWidthX,n.nominalWidthX=u._privateDict.nominalWidthX),u.ros[0]!==void 0&&u.ros[1]!==void 0&&(n.isCIDFont=!0),n.isCIDFont){var h=u.fdArray,f=u.fdSelect;if(h===0||f===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");h+=e;var m=vc(t,h),g=yD(t,e,m.objects,a.objects);u._fdArray=g,f+=e,u._fdSelect=ede(t,f,n.numGlyphs,g.length)}var E=e+u.private[1],x=Hz(t,E,u.private[0],a.objects);if(n.defaultWidthX=x.defaultWidthX,n.nominalWidthX=x.nominalWidthX,x.subrs!==0){var A=E+x.subrs,v=vc(t,A);n.subrs=v.objects,n.subrsBias=oC(n.subrs)}else n.subrs=[],n.subrsBias=0;var y;r.lowMemory?(y=Wfe(t,e+u.charStrings),n.nGlyphs=y.offsets.length):(y=vc(t,e+u.charStrings),n.nGlyphs=y.objects.length);var S=qfe(t,e+u.charset,n.nGlyphs,a.objects);if(u.encoding===0?n.cffEncoding=new my(kfe,S):u.encoding===1?n.cffEncoding=new my(Ufe,S):n.cffEncoding=Zfe(t,e+u.encoding,S),n.encoding=n.encoding||n.cffEncoding,n.glyphs=new Oa.GlyphSet(n),r.lowMemory)n._push=function(b){var R=jfe(b,y.offsets,t,e+u.charStrings);n.glyphs.push(b,Oa.cffGlyphLoader(n,b,xD,R))};else for(var w=0;w<n.nGlyphs;w+=1){var T=y.objects[w];n.glyphs.push(w,Oa.cffGlyphLoader(n,w,xD,T))}}function Qz(t,e){var n,r=hv.indexOf(t);return r>=0&&(n=r),r=e.indexOf(t),r>=0?n=r+hv.length:(n=hv.length+e.length,e.push(t)),n}function nde(){return new ot.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function rde(t){var e=new ot.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);e.names=[];for(var n=0;n<t.length;n+=1)e.names.push({name:"name_"+n,type:"NAME",value:t[n]});return e}function zz(t,e,n){for(var r={},i=0;i<t.length;i+=1){var s=t[i],o=e[s.name];o!==void 0&&!Fz(o,s.value)&&(s.type==="SID"&&(o=Qz(o,n)),r[s.op]={name:s.name,type:s.type,value:o})}return r}function ED(t,e){var n=new ot.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=zz(Uz,t,e),n}function _D(t){var e=new ot.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return e.topDicts=[{name:"topDict_0",type:"TABLE",value:t}],e}function ide(t){var e=new ot.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);e.strings=[];for(var n=0;n<t.length;n+=1)e.strings.push({name:"string_"+n,type:"STRING",value:t[n]});return e}function sde(){return new ot.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function ode(t,e){for(var n=new ot.Record("Charsets",[{name:"format",type:"Card8",value:0}]),r=0;r<t.length;r+=1){var i=t[r],s=Qz(i,e);n.fields.push({name:"glyph_"+r,type:"SID",value:s})}return n}function ade(t){var e=[],n=t.path;e.push({name:"width",type:"NUMBER",value:t.advanceWidth});for(var r=0,i=0,s=0;s<n.commands.length;s+=1){var o=void 0,a=void 0,l=n.commands[s];if(l.type==="Q"){var c=.3333333333333333,u=2/3;l={type:"C",x:l.x,y:l.y,x1:Math.round(c*r+u*l.x1),y1:Math.round(c*i+u*l.y1),x2:Math.round(c*l.x+u*l.x1),y2:Math.round(c*l.y+u*l.y1)}}if(l.type==="M")o=Math.round(l.x-r),a=Math.round(l.y-i),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rmoveto",type:"OP",value:21}),r=Math.round(l.x),i=Math.round(l.y);else if(l.type==="L")o=Math.round(l.x-r),a=Math.round(l.y-i),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rlineto",type:"OP",value:5}),r=Math.round(l.x),i=Math.round(l.y);else if(l.type==="C"){var h=Math.round(l.x1-r),f=Math.round(l.y1-i),m=Math.round(l.x2-l.x1),g=Math.round(l.y2-l.y1);o=Math.round(l.x-l.x2),a=Math.round(l.y-l.y2),e.push({name:"dx1",type:"NUMBER",value:h}),e.push({name:"dy1",type:"NUMBER",value:f}),e.push({name:"dx2",type:"NUMBER",value:m}),e.push({name:"dy2",type:"NUMBER",value:g}),e.push({name:"dx",type:"NUMBER",value:o}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rrcurveto",type:"OP",value:8}),r=Math.round(l.x),i=Math.round(l.y)}}return e.push({name:"endchar",type:"OP",value:14}),e}function lde(t){for(var e=new ot.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),n=0;n<t.length;n+=1){var r=t.get(n),i=ade(r);e.charStrings.push({name:r.name,type:"CHARSTRING",value:i})}return e}function cde(t,e){var n=new ot.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=zz(Gz,t,e),n}function ude(t,e){for(var n=new ot.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),r=1/e.unitsPerEm,i={version:e.version,fullName:e.fullName,familyName:e.familyName,weight:e.weightName,fontBBox:e.fontBBox||[0,0,0,0],fontMatrix:[r,0,0,r,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},s={},o=[],a,l=1;l<t.length;l+=1)a=t.get(l),o.push(a.name);var c=[];n.header=nde(),n.nameIndex=rde([e.postScriptName]);var u=ED(i,c);n.topDictIndex=_D(u),n.globalSubrIndex=sde(),n.charsets=ode(o,c),n.charStringsIndex=lde(t),n.privateDict=cde(s,c),n.stringIndex=ide(c);var h=n.header.sizeOf()+n.nameIndex.sizeOf()+n.topDictIndex.sizeOf()+n.stringIndex.sizeOf()+n.globalSubrIndex.sizeOf();return i.charset=h,i.encoding=0,i.charStrings=i.charset+n.charsets.sizeOf(),i.private[1]=i.charStrings+n.charStringsIndex.sizeOf(),u=ED(i,c),n.topDictIndex=_D(u),n}var hde={parse:tde,make:ude};function fde(t,e){var n={},r=new Lt.Parser(t,e);return n.version=r.parseVersion(),n.fontRevision=Math.round(r.parseFixed()*1e3)/1e3,n.checkSumAdjustment=r.parseULong(),n.magicNumber=r.parseULong(),Rt.argument(n.magicNumber===1594834165,"Font header has wrong magic number."),n.flags=r.parseUShort(),n.unitsPerEm=r.parseUShort(),n.created=r.parseLongDateTime(),n.modified=r.parseLongDateTime(),n.xMin=r.parseShort(),n.yMin=r.parseShort(),n.xMax=r.parseShort(),n.yMax=r.parseShort(),n.macStyle=r.parseUShort(),n.lowestRecPPEM=r.parseUShort(),n.fontDirectionHint=r.parseShort(),n.indexToLocFormat=r.parseShort(),n.glyphDataFormat=r.parseShort(),n}function dde(t){var e=Math.round(new Date().getTime()/1e3)+2082844800,n=e;return t.createdTimestamp&&(n=t.createdTimestamp+2082844800),new ot.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:n},{name:"modified",type:"LONGDATETIME",value:e},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],t)}var pde={parse:fde,make:dde};function mde(t,e){var n={},r=new Lt.Parser(t,e);return n.version=r.parseVersion(),n.ascender=r.parseShort(),n.descender=r.parseShort(),n.lineGap=r.parseShort(),n.advanceWidthMax=r.parseUShort(),n.minLeftSideBearing=r.parseShort(),n.minRightSideBearing=r.parseShort(),n.xMaxExtent=r.parseShort(),n.caretSlopeRise=r.parseShort(),n.caretSlopeRun=r.parseShort(),n.caretOffset=r.parseShort(),r.relativeOffset+=8,n.metricDataFormat=r.parseShort(),n.numberOfHMetrics=r.parseUShort(),n}function gde(t){return new ot.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],t)}var Ade={parse:mde,make:gde};function vde(t,e,n,r,i){for(var s,o,a=new Lt.Parser(t,e),l=0;l<r;l+=1){l<n&&(s=a.parseUShort(),o=a.parseShort());var c=i.get(l);c.advanceWidth=s,c.leftSideBearing=o}}function yde(t,e,n,r,i){t._hmtxTableData={};for(var s,o,a=new Lt.Parser(e,n),l=0;l<i;l+=1)l<r&&(s=a.parseUShort(),o=a.parseShort()),t._hmtxTableData[l]={advanceWidth:s,leftSideBearing:o}}function xde(t,e,n,r,i,s,o){o.lowMemory?yde(t,e,n,r,i):vde(e,n,r,i,s)}function Ede(t){for(var e=new ot.Table("hmtx",[]),n=0;n<t.length;n+=1){var r=t.get(n),i=r.advanceWidth||0,s=r.leftSideBearing||0;e.fields.push({name:"advanceWidth_"+n,type:"USHORT",value:i}),e.fields.push({name:"leftSideBearing_"+n,type:"SHORT",value:s})}return e}var _de={parse:xde,make:Ede};function Sde(t){for(var e=new ot.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:t.length}]),n="",r=12+t.length*4,i=0;i<t.length;++i){var s=n.indexOf(t[i]);s<0&&(s=n.length,n+=t[i]),e.fields.push({name:"offset "+i,type:"USHORT",value:r+s}),e.fields.push({name:"length "+i,type:"USHORT",value:t[i].length})}return e.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),e}function Cde(t,e){var n=new Lt.Parser(t,e),r=n.parseULong();Rt.argument(r===1,"Unsupported ltag table version."),n.skip("uLong",1);for(var i=n.parseULong(),s=[],o=0;o<i;o++){for(var a="",l=e+n.parseUShort(),c=n.parseUShort(),u=l;u<l+c;++u)a+=String.fromCharCode(t.getInt8(u));s.push(a)}return s}var wde={make:Sde,parse:Cde};function Tde(t,e){var n={},r=new Lt.Parser(t,e);return n.version=r.parseVersion(),n.numGlyphs=r.parseUShort(),n.version===1&&(n.maxPoints=r.parseUShort(),n.maxContours=r.parseUShort(),n.maxCompositePoints=r.parseUShort(),n.maxCompositeContours=r.parseUShort(),n.maxZones=r.parseUShort(),n.maxTwilightPoints=r.parseUShort(),n.maxStorage=r.parseUShort(),n.maxFunctionDefs=r.parseUShort(),n.maxInstructionDefs=r.parseUShort(),n.maxStackElements=r.parseUShort(),n.maxSizeOfInstructions=r.parseUShort(),n.maxComponentElements=r.parseUShort(),n.maxComponentDepth=r.parseUShort()),n}function Ide(t){return new ot.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:t}])}var bde={parse:Tde,make:Ide},Vz=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Wz={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Mde={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},jz={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function Rde(t,e,n){switch(t){case 0:if(e===65535)return"und";if(n)return n[e];break;case 1:return Wz[e];case 3:return jz[e]}}var aC="utf-16",Bde={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Pde={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function $z(t,e,n){switch(t){case 0:return aC;case 1:return Pde[n]||Bde[e];case 3:if(e===1||e===10)return aC;break}}function Dde(t,e,n){for(var r={},i=new Lt.Parser(t,e),s=i.parseUShort(),o=i.parseUShort(),a=i.offset+i.parseUShort(),l=0;l<o;l++){var c=i.parseUShort(),u=i.parseUShort(),h=i.parseUShort(),f=i.parseUShort(),m=Vz[f]||f,g=i.parseUShort(),E=i.parseUShort(),x=Rde(c,h,n),A=$z(c,u,h);if(A!==void 0&&x!==void 0){var v=void 0;if(A===aC?v=Tp.UTF16(t,a+E,g):v=Tp.MACSTRING(t,a+E,g,A),v){var y=r[m];y===void 0&&(y=r[m]={}),y[x]=v}}}return s===1&&i.parseUShort(),r}function n_(t){var e={};for(var n in t)e[t[n]]=parseInt(n);return e}function SD(t,e,n,r,i,s){return new ot.Record("NameRecord",[{name:"platformID",type:"USHORT",value:t},{name:"encodingID",type:"USHORT",value:e},{name:"languageID",type:"USHORT",value:n},{name:"nameID",type:"USHORT",value:r},{name:"length",type:"USHORT",value:i},{name:"offset",type:"USHORT",value:s}])}function Lde(t,e){var n=t.length,r=e.length-n+1;e:for(var i=0;i<r;i++)for(;i<r;i++){for(var s=0;s<n;s++)if(e[i+s]!==t[s])continue e;return i}return-1}function CD(t,e){var n=Lde(t,e);if(n<0){n=e.length;for(var r=0,i=t.length;r<i;++r)e.push(t[r])}return n}function Ode(t,e){var n,r=[],i={},s=n_(Vz);for(var o in t){var a=s[o];if(a===void 0&&(a=o),n=parseInt(a),isNaN(n))throw new Error('Name table entry "'+o+'" does not exist, see nameTableNames for complete list.');i[n]=t[o],r.push(n)}for(var l=n_(Wz),c=n_(jz),u=[],h=[],f=0;f<r.length;f++){n=r[f];var m=i[n];for(var g in m){var E=m[g],x=1,A=l[g],v=Mde[A],y=$z(x,v,A),S=je.MACSTRING(E,y);S===void 0&&(x=0,A=e.indexOf(g),A<0&&(A=e.length,e.push(g)),v=4,S=je.UTF16(E));var w=CD(S,h);u.push(SD(x,v,A,n,S.length,w));var T=c[g];if(T!==void 0){var b=je.UTF16(E),R=CD(b,h);u.push(SD(3,1,T,n,b.length,R))}}}u.sort(function(L,G){return L.platformID-G.platformID||L.encodingID-G.encodingID||L.languageID-G.languageID||L.nameID-G.nameID});for(var M=new ot.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:u.length},{name:"stringOffset",type:"USHORT",value:6+u.length*12}]),B=0;B<u.length;B++)M.fields.push({name:"record_"+B,type:"RECORD",value:u[B]});return M.fields.push({name:"strings",type:"LITERAL",value:h}),M}var Fde={parse:Dde,make:Ode},lC=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function Nde(t){for(var e=0;e<lC.length;e+=1){var n=lC[e];if(t>=n.begin&&t<n.end)return e}return-1}function kde(t,e){var n={},r=new Lt.Parser(t,e);n.version=r.parseUShort(),n.xAvgCharWidth=r.parseShort(),n.usWeightClass=r.parseUShort(),n.usWidthClass=r.parseUShort(),n.fsType=r.parseUShort(),n.ySubscriptXSize=r.parseShort(),n.ySubscriptYSize=r.parseShort(),n.ySubscriptXOffset=r.parseShort(),n.ySubscriptYOffset=r.parseShort(),n.ySuperscriptXSize=r.parseShort(),n.ySuperscriptYSize=r.parseShort(),n.ySuperscriptXOffset=r.parseShort(),n.ySuperscriptYOffset=r.parseShort(),n.yStrikeoutSize=r.parseShort(),n.yStrikeoutPosition=r.parseShort(),n.sFamilyClass=r.parseShort(),n.panose=[];for(var i=0;i<10;i++)n.panose[i]=r.parseByte();return n.ulUnicodeRange1=r.parseULong(),n.ulUnicodeRange2=r.parseULong(),n.ulUnicodeRange3=r.parseULong(),n.ulUnicodeRange4=r.parseULong(),n.achVendID=String.fromCharCode(r.parseByte(),r.parseByte(),r.parseByte(),r.parseByte()),n.fsSelection=r.parseUShort(),n.usFirstCharIndex=r.parseUShort(),n.usLastCharIndex=r.parseUShort(),n.sTypoAscender=r.parseShort(),n.sTypoDescender=r.parseShort(),n.sTypoLineGap=r.parseShort(),n.usWinAscent=r.parseUShort(),n.usWinDescent=r.parseUShort(),n.version>=1&&(n.ulCodePageRange1=r.parseULong(),n.ulCodePageRange2=r.parseULong()),n.version>=2&&(n.sxHeight=r.parseShort(),n.sCapHeight=r.parseShort(),n.usDefaultChar=r.parseUShort(),n.usBreakChar=r.parseUShort(),n.usMaxContent=r.parseUShort()),n}function Ude(t){return new ot.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],t)}var wD={parse:kde,make:Ude,unicodeRanges:lC,getUnicodeRange:Nde};function Gde(t,e){var n={},r=new Lt.Parser(t,e);switch(n.version=r.parseVersion(),n.italicAngle=r.parseFixed(),n.underlinePosition=r.parseShort(),n.underlineThickness=r.parseShort(),n.isFixedPitch=r.parseULong(),n.minMemType42=r.parseULong(),n.maxMemType42=r.parseULong(),n.minMemType1=r.parseULong(),n.maxMemType1=r.parseULong(),n.version){case 1:n.names=vD.slice();break;case 2:n.numberOfGlyphs=r.parseUShort(),n.glyphNameIndex=new Array(n.numberOfGlyphs);for(var i=0;i<n.numberOfGlyphs;i++)n.glyphNameIndex[i]=r.parseUShort();n.names=[];for(var s=0;s<n.numberOfGlyphs;s++)if(n.glyphNameIndex[s]>=vD.length){var o=r.parseChar();n.names.push(r.parseString(o))}break;case 2.5:n.numberOfGlyphs=r.parseUShort(),n.offset=new Array(n.numberOfGlyphs);for(var a=0;a<n.numberOfGlyphs;a++)n.offset[a]=r.parseChar();break}return n}function Hde(){return new ot.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var Qde={parse:Gde,make:Hde},Xo=new Array(9);Xo[1]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:1,coverage:this.parsePointer(Ae.coverage),deltaGlyphId:this.parseUShort()};if(n===2)return{substFormat:2,coverage:this.parsePointer(Ae.coverage),substitute:this.parseOffset16List()};Rt.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")};Xo[2]=function(){var e=this.parseUShort();return Rt.argument(e===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(Ae.coverage),sequences:this.parseListOfLists()}};Xo[3]=function(){var e=this.parseUShort();return Rt.argument(e===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(Ae.coverage),alternateSets:this.parseListOfLists()}};Xo[4]=function(){var e=this.parseUShort();return Rt.argument(e===1,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(Ae.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var Xd={sequenceIndex:Ae.uShort,lookupListIndex:Ae.uShort};Xo[5]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:n,coverage:this.parsePointer(Ae.coverage),ruleSets:this.parseListOfLists(function(){var s=this.parseUShort(),o=this.parseUShort();return{input:this.parseUShortList(s-1),lookupRecords:this.parseRecordList(o,Xd)}})};if(n===2)return{substFormat:n,coverage:this.parsePointer(Ae.coverage),classDef:this.parsePointer(Ae.classDef),classSets:this.parseListOfLists(function(){var s=this.parseUShort(),o=this.parseUShort();return{classes:this.parseUShortList(s-1),lookupRecords:this.parseRecordList(o,Xd)}})};if(n===3){var r=this.parseUShort(),i=this.parseUShort();return{substFormat:n,coverages:this.parseList(r,Ae.pointer(Ae.coverage)),lookupRecords:this.parseRecordList(i,Xd)}}Rt.assert(!1,"0x"+e.toString(16)+": lookup type 5 format must be 1, 2 or 3.")};Xo[6]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:1,coverage:this.parsePointer(Ae.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Xd)}})};if(n===2)return{substFormat:2,coverage:this.parsePointer(Ae.coverage),backtrackClassDef:this.parsePointer(Ae.classDef),inputClassDef:this.parsePointer(Ae.classDef),lookaheadClassDef:this.parsePointer(Ae.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Xd)}})};if(n===3)return{substFormat:3,backtrackCoverage:this.parseList(Ae.pointer(Ae.coverage)),inputCoverage:this.parseList(Ae.pointer(Ae.coverage)),lookaheadCoverage:this.parseList(Ae.pointer(Ae.coverage)),lookupRecords:this.parseRecordList(Xd)};Rt.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")};Xo[7]=function(){var e=this.parseUShort();Rt.argument(e===1,"GSUB Extension Substitution subtable identifier-format must be 1");var n=this.parseUShort(),r=new Ae(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:n,extension:Xo[n].call(r)}};Xo[8]=function(){var e=this.parseUShort();return Rt.argument(e===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(Ae.coverage),backtrackCoverage:this.parseList(Ae.pointer(Ae.coverage)),lookaheadCoverage:this.parseList(Ae.pointer(Ae.coverage)),substitutes:this.parseUShortList()}};function zde(t,e){e=e||0;var n=new Ae(t,e),r=n.parseVersion(1);return Rt.argument(r===1||r===1.1,"Unsupported GSUB table version."),r===1?{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(Xo)}:{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(Xo),variations:n.parseFeatureVariationsList()}}var Zp=new Array(9);Zp[1]=function(e){return e.substFormat===1?new ot.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new ot.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]):new ot.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new ot.Coverage(e.coverage)}].concat(ot.ushortList("substitute",e.substitute)))};Zp[2]=function(e){return Rt.assert(e.substFormat===1,"Lookup type 2 substFormat must be 1."),new ot.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new ot.Coverage(e.coverage)}].concat(ot.tableList("seqSet",e.sequences,function(n){return new ot.Table("sequenceSetTable",ot.ushortList("sequence",n))})))};Zp[3]=function(e){return Rt.assert(e.substFormat===1,"Lookup type 3 substFormat must be 1."),new ot.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new ot.Coverage(e.coverage)}].concat(ot.tableList("altSet",e.alternateSets,function(n){return new ot.Table("alternateSetTable",ot.ushortList("alternate",n))})))};Zp[4]=function(e){return Rt.assert(e.substFormat===1,"Lookup type 4 substFormat must be 1."),new ot.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new ot.Coverage(e.coverage)}].concat(ot.tableList("ligSet",e.ligatureSets,function(n){return new ot.Table("ligatureSetTable",ot.tableList("ligature",n,function(r){return new ot.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:r.ligGlyph}].concat(ot.ushortList("component",r.components,r.components.length+1)))}))})))};Zp[6]=function(e){if(e.substFormat===1){var n=new ot.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:e.substFormat},{name:"coverage",type:"TABLE",value:new ot.Coverage(e.coverage)}].concat(ot.tableList("chainRuleSet",e.chainRuleSets,function(s){return new ot.Table("chainRuleSetTable",ot.tableList("chainRule",s,function(o){var a=ot.ushortList("backtrackGlyph",o.backtrack,o.backtrack.length).concat(ot.ushortList("inputGlyph",o.input,o.input.length+1)).concat(ot.ushortList("lookaheadGlyph",o.lookahead,o.lookahead.length)).concat(ot.ushortList("substitution",[],o.lookupRecords.length));return o.lookupRecords.forEach(function(l,c){a=a.concat({name:"sequenceIndex"+c,type:"USHORT",value:l.sequenceIndex}).concat({name:"lookupListIndex"+c,type:"USHORT",value:l.lookupListIndex})}),new ot.Table("chainRuleTable",a)}))})));return n}else if(e.substFormat===2)Rt.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(e.substFormat===3){var r=[{name:"substFormat",type:"USHORT",value:e.substFormat}];r.push({name:"backtrackGlyphCount",type:"USHORT",value:e.backtrackCoverage.length}),e.backtrackCoverage.forEach(function(s,o){r.push({name:"backtrackCoverage"+o,type:"TABLE",value:new ot.Coverage(s)})}),r.push({name:"inputGlyphCount",type:"USHORT",value:e.inputCoverage.length}),e.inputCoverage.forEach(function(s,o){r.push({name:"inputCoverage"+o,type:"TABLE",value:new ot.Coverage(s)})}),r.push({name:"lookaheadGlyphCount",type:"USHORT",value:e.lookaheadCoverage.length}),e.lookaheadCoverage.forEach(function(s,o){r.push({name:"lookaheadCoverage"+o,type:"TABLE",value:new ot.Coverage(s)})}),r.push({name:"substitutionCount",type:"USHORT",value:e.lookupRecords.length}),e.lookupRecords.forEach(function(s,o){r=r.concat({name:"sequenceIndex"+o,type:"USHORT",value:s.sequenceIndex}).concat({name:"lookupListIndex"+o,type:"USHORT",value:s.lookupListIndex})});var i=new ot.Table("chainContextTable",r);return i}Rt.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};function Vde(t){return new ot.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new ot.ScriptList(t.scripts)},{name:"features",type:"TABLE",value:new ot.FeatureList(t.features)},{name:"lookups",type:"TABLE",value:new ot.LookupList(t.lookups,Zp)}])}var Wde={parse:zde,make:Vde};function jde(t,e){var n=new Lt.Parser(t,e),r=n.parseULong();Rt.argument(r===1,"Unsupported META table version."),n.parseULong(),n.parseULong();for(var i=n.parseULong(),s={},o=0;o<i;o++){var a=n.parseTag(),l=n.parseULong(),c=n.parseULong(),u=Tp.UTF8(t,e+l,c);s[a]=u}return s}function $de(t){var e=Object.keys(t).length,n="",r=16+e*12,i=new ot.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:r},{name:"numTags",type:"ULONG",value:e}]);for(var s in t){var o=n.length;n+=t[s],i.fields.push({name:"tag "+s,type:"TAG",value:s}),i.fields.push({name:"offset "+s,type:"ULONG",value:r+o}),i.fields.push({name:"length "+s,type:"ULONG",value:t[s].length})}return i.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),i}var Kde={parse:jde,make:$de};function TD(t){return Math.log(t)/Math.log(2)|0}function VT(t){for(;t.length%4!==0;)t.push(0);for(var e=0,n=0;n<t.length;n+=4)e+=(t[n]<<24)+(t[n+1]<<16)+(t[n+2]<<8)+t[n+3];return e%=Math.pow(2,32),e}function ID(t,e,n,r){return new ot.Record("Table Record",[{name:"tag",type:"TAG",value:t!==void 0?t:""},{name:"checkSum",type:"ULONG",value:e!==void 0?e:0},{name:"offset",type:"ULONG",value:n!==void 0?n:0},{name:"length",type:"ULONG",value:r!==void 0?r:0}])}function Kz(t){var e=new ot.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);e.tables=t,e.numTables=t.length;var n=Math.pow(2,TD(e.numTables));e.searchRange=16*n,e.entrySelector=TD(n),e.rangeShift=e.numTables*16-e.searchRange;for(var r=[],i=[],s=e.sizeOf()+ID().sizeOf()*e.numTables;s%4!==0;)s+=1,i.push({name:"padding",type:"BYTE",value:0});for(var o=0;o<t.length;o+=1){var a=t[o];Rt.argument(a.tableName.length===4,"Table name"+a.tableName+" is invalid.");var l=a.sizeOf(),c=ID(a.tableName,VT(a.encode()),s,l);for(r.push({name:c.tag+" Table Record",type:"RECORD",value:c}),i.push({name:a.tableName+" table",type:"RECORD",value:a}),s+=l,Rt.argument(!isNaN(s),"Something went wrong calculating the offset.");s%4!==0;)s+=1,i.push({name:"padding",type:"BYTE",value:0})}return r.sort(function(u,h){return u.value.tag>h.value.tag?1:-1}),e.fields=e.fields.concat(r),e.fields=e.fields.concat(i),e}function bD(t,e,n){for(var r=0;r<e.length;r+=1){var i=t.charToGlyphIndex(e[r]);if(i>0){var s=t.glyphs.get(i);return s.getMetrics()}}return n}function Xde(t){for(var e=0,n=0;n<t.length;n+=1)e+=t[n];return e/t.length}function Jde(t){for(var e=[],n=[],r=[],i=[],s=[],o=[],a=[],l,c=0,u=0,h=0,f=0,m=0,g=0;g<t.glyphs.length;g+=1){var E=t.glyphs.get(g),x=E.unicode|0;if(isNaN(E.advanceWidth))throw new Error("Glyph "+E.name+" ("+g+"): advanceWidth is not a number.");(l>x||l===void 0)&&x>0&&(l=x),c<x&&(c=x);var A=wD.getUnicodeRange(x);if(A<32)u|=1<<A;else if(A<64)h|=1<<A-32;else if(A<96)f|=1<<A-64;else if(A<123)m|=1<<A-96;else throw new Error("Unicode ranges bits > 123 are reserved for internal usage");if(E.name!==".notdef"){var v=E.getMetrics();e.push(v.xMin),n.push(v.yMin),r.push(v.xMax),i.push(v.yMax),o.push(v.leftSideBearing),a.push(v.rightSideBearing),s.push(E.advanceWidth)}}var y={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,r),yMax:Math.max.apply(null,i),advanceWidthMax:Math.max.apply(null,s),advanceWidthAvg:Xde(s),minLeftSideBearing:Math.min.apply(null,o),maxLeftSideBearing:Math.max.apply(null,o),minRightSideBearing:Math.min.apply(null,a)};y.ascender=t.ascender,y.descender=t.descender;var S=pde.make({flags:3,unitsPerEm:t.unitsPerEm,xMin:y.xMin,yMin:y.yMin,xMax:y.xMax,yMax:y.yMax,lowestRecPPEM:3,createdTimestamp:t.createdTimestamp}),w=Ade.make({ascender:y.ascender,descender:y.descender,advanceWidthMax:y.advanceWidthMax,minLeftSideBearing:y.minLeftSideBearing,minRightSideBearing:y.minRightSideBearing,xMaxExtent:y.maxLeftSideBearing+(y.xMax-y.xMin),numberOfHMetrics:t.glyphs.length}),T=bde.make(t.glyphs.length),b=wD.make(Object.assign({xAvgCharWidth:Math.round(y.advanceWidthAvg),usFirstCharIndex:l,usLastCharIndex:c,ulUnicodeRange1:u,ulUnicodeRange2:h,ulUnicodeRange3:f,ulUnicodeRange4:m,sTypoAscender:y.ascender,sTypoDescender:y.descender,sTypoLineGap:0,usWinAscent:y.yMax,usWinDescent:Math.abs(y.yMin),ulCodePageRange1:1,sxHeight:bD(t,"xyvw",{yMax:Math.round(y.ascender/2)}).yMax,sCapHeight:bD(t,"HIKLEFJMNTZBDPRAGOQSUVWXY",y).yMax,usDefaultChar:t.hasChar(" ")?32:0,usBreakChar:t.hasChar(" ")?32:0},t.tables.os2)),R=_de.make(t.glyphs),M=Nfe.make(t.glyphs),B=t.getEnglishName("fontFamily"),L=t.getEnglishName("fontSubfamily"),G=B+" "+L,F=t.getEnglishName("postScriptName");F||(F=B.replace(/\s/g,"")+"-"+L);var $={};for(var W in t.names)$[W]=t.names[W];$.uniqueID||($.uniqueID={en:t.getEnglishName("manufacturer")+":"+G}),$.postScriptName||($.postScriptName={en:F}),$.preferredFamily||($.preferredFamily=t.names.fontFamily),$.preferredSubfamily||($.preferredSubfamily=t.names.fontSubfamily);var Z=[],q=Fde.make($,Z),k=Z.length>0?wde.make(Z):void 0,J=Qde.make(),V=hde.make(t.glyphs,{version:t.getEnglishName("version"),fullName:G,familyName:B,weightName:L,postScriptName:F,unitsPerEm:t.unitsPerEm,fontBBox:[0,y.yMin,y.ascender,y.advanceWidthMax]}),H=t.metas&&Object.keys(t.metas).length>0?Kde.make(t.metas):void 0,X=[S,w,T,b,q,M,J,V,R];k&&X.push(k),t.tables.gsub&&X.push(Wde.make(t.tables.gsub)),H&&X.push(H);for(var he=Kz(X),ge=he.encode(),Ce=VT(ge),be=he.fields,Pe=!1,ke=0;ke<be.length;ke+=1)if(be[ke].name==="head table"){be[ke].value.checkSumAdjustment=2981146554-Ce,Pe=!0;break}if(!Pe)throw new Error("Could not find head table with checkSum to adjust.");return he}var Yde={make:Kz,fontToTable:Jde,computeCheckSum:VT};function r_(t,e){for(var n=0,r=t.length-1;n<=r;){var i=n+r>>>1,s=t[i].tag;if(s===e)return i;s<e?n=i+1:r=i-1}return-n-1}function MD(t,e){for(var n=0,r=t.length-1;n<=r;){var i=n+r>>>1,s=t[i];if(s===e)return i;s<e?n=i+1:r=i-1}return-n-1}function RD(t,e){for(var n,r=0,i=t.length-1;r<=i;){var s=r+i>>>1;n=t[s];var o=n.start;if(o===e)return n;o<e?r=s+1:i=s-1}if(r>0)return n=t[r-1],e>n.end?0:n}function O3(t,e){this.font=t,this.tableName=e}O3.prototype={searchTag:r_,binSearch:MD,getTable:function(t){var e=this.font.tables[this.tableName];return!e&&t&&(e=this.font.tables[this.tableName]=this.createDefaultTable()),e},getScriptNames:function(){var t=this.getTable();return t?t.scripts.map(function(e){return e.tag}):[]},getDefaultScriptName:function(){var t=this.getTable();if(t){for(var e=!1,n=0;n<t.scripts.length;n++){var r=t.scripts[n].tag;if(r==="DFLT")return r;r==="latn"&&(e=!0)}if(e)return"latn"}},getScriptTable:function(t,e){var n=this.getTable(e);if(n){t=t||"DFLT";var r=n.scripts,i=r_(n.scripts,t);if(i>=0)return r[i].script;if(e){var s={tag:t,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return r.splice(-1-i,0,s),s.script}}},getLangSysTable:function(t,e,n){var r=this.getScriptTable(t,n);if(r){if(!e||e==="dflt"||e==="DFLT")return r.defaultLangSys;var i=r_(r.langSysRecords,e);if(i>=0)return r.langSysRecords[i].langSys;if(n){var s={tag:e,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return r.langSysRecords.splice(-1-i,0,s),s.langSys}}},getFeatureTable:function(t,e,n,r){var i=this.getLangSysTable(t,e,r);if(i){for(var s,o=i.featureIndexes,a=this.font.tables[this.tableName].features,l=0;l<o.length;l++)if(s=a[o[l]],s.tag===n)return s.feature;if(r){var c=a.length;return Rt.assert(c===0||n>=a[c-1].tag,"Features must be added in alphabetical order."),s={tag:n,feature:{params:0,lookupListIndexes:[]}},a.push(s),o.push(c),s.feature}}},getLookupTables:function(t,e,n,r,i){var s=this.getFeatureTable(t,e,n,i),o=[];if(s){for(var a,l=s.lookupListIndexes,c=this.font.tables[this.tableName].lookups,u=0;u<l.length;u++)a=c[l[u]],a.lookupType===r&&o.push(a);if(o.length===0&&i){a={lookupType:r,lookupFlag:0,subtables:[],markFilteringSet:void 0};var h=c.length;return c.push(a),l.push(h),[a]}}return o},getGlyphClass:function(t,e){switch(t.format){case 1:return t.startGlyph<=e&&e<t.startGlyph+t.classes.length?t.classes[e-t.startGlyph]:0;case 2:var n=RD(t.ranges,e);return n?n.classId:0}},getCoverageIndex:function(t,e){switch(t.format){case 1:var n=MD(t.glyphs,e);return n>=0?n:-1;case 2:var r=RD(t.ranges,e);return r?r.index+e-r.start:-1}},expandCoverage:function(t){if(t.format===1)return t.glyphs;for(var e=[],n=t.ranges,r=0;r<n.length;r++)for(var i=n[r],s=i.start,o=i.end,a=s;a<=o;a++)e.push(a);return e}};function F3(t){O3.call(this,t,"gpos")}F3.prototype=O3.prototype;F3.prototype.init=function(){var t=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(t)};F3.prototype.getKerningValue=function(t,e,n){for(var r=0;r<t.length;r++)for(var i=t[r].subtables,s=0;s<i.length;s++){var o=i[s],a=this.getCoverageIndex(o.coverage,e);if(!(a<0))switch(o.posFormat){case 1:for(var l=o.pairSets[a],c=0;c<l.length;c++){var u=l[c];if(u.secondGlyph===n)return u.value1&&u.value1.xAdvance||0}break;case 2:var h=this.getGlyphClass(o.classDef1,e),f=this.getGlyphClass(o.classDef2,n),m=o.classRecords[h][f];return m.value1&&m.value1.xAdvance||0}}return 0};F3.prototype.getKerningTables=function(t,e){if(this.font.tables.gpos)return this.getLookupTables(t,e,"kern",2)};function Fs(t){O3.call(this,t,"gsub")}function qde(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function WT(t,e,n){for(var r=t.subtables,i=0;i<r.length;i++){var s=r[i];if(s.substFormat===e)return s}if(n)return r.push(n),n}Fs.prototype=O3.prototype;Fs.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}};Fs.prototype.getSingle=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,1),s=0;s<i.length;s++)for(var o=i[s].subtables,a=0;a<o.length;a++){var l=o[a],c=this.expandCoverage(l.coverage),u=void 0;if(l.substFormat===1){var h=l.deltaGlyphId;for(u=0;u<c.length;u++){var f=c[u];r.push({sub:f,by:f+h})}}else{var m=l.substitute;for(u=0;u<c.length;u++)r.push({sub:c[u],by:m[u]})}}return r};Fs.prototype.getMultiple=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,2),s=0;s<i.length;s++)for(var o=i[s].subtables,a=0;a<o.length;a++){var l=o[a],c=this.expandCoverage(l.coverage),u=void 0;for(u=0;u<c.length;u++){var h=c[u],f=l.sequences[u];r.push({sub:h,by:f})}}return r};Fs.prototype.getAlternates=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,3),s=0;s<i.length;s++)for(var o=i[s].subtables,a=0;a<o.length;a++)for(var l=o[a],c=this.expandCoverage(l.coverage),u=l.alternateSets,h=0;h<c.length;h++)r.push({sub:c[h],by:u[h]});return r};Fs.prototype.getLigatures=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,4),s=0;s<i.length;s++)for(var o=i[s].subtables,a=0;a<o.length;a++)for(var l=o[a],c=this.expandCoverage(l.coverage),u=l.ligatureSets,h=0;h<c.length;h++)for(var f=c[h],m=u[h],g=0;g<m.length;g++){var E=m[g];r.push({sub:[f].concat(E.components),by:E.ligGlyph})}return r};Fs.prototype.addSingle=function(t,e,n,r){var i=this.getLookupTables(n,r,t,1,!0)[0],s=WT(i,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});Rt.assert(s.coverage.format===1,"Single: unable to modify coverage table format "+s.coverage.format);var o=e.sub,a=this.binSearch(s.coverage.glyphs,o);a<0&&(a=-1-a,s.coverage.glyphs.splice(a,0,o),s.substitute.splice(a,0,0)),s.substitute[a]=e.by};Fs.prototype.addMultiple=function(t,e,n,r){Rt.assert(e.by instanceof Array&&e.by.length>1,'Multiple: "by" must be an array of two or more ids');var i=this.getLookupTables(n,r,t,2,!0)[0],s=WT(i,1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});Rt.assert(s.coverage.format===1,"Multiple: unable to modify coverage table format "+s.coverage.format);var o=e.sub,a=this.binSearch(s.coverage.glyphs,o);a<0&&(a=-1-a,s.coverage.glyphs.splice(a,0,o),s.sequences.splice(a,0,0)),s.sequences[a]=e.by};Fs.prototype.addAlternate=function(t,e,n,r){var i=this.getLookupTables(n,r,t,3,!0)[0],s=WT(i,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});Rt.assert(s.coverage.format===1,"Alternate: unable to modify coverage table format "+s.coverage.format);var o=e.sub,a=this.binSearch(s.coverage.glyphs,o);a<0&&(a=-1-a,s.coverage.glyphs.splice(a,0,o),s.alternateSets.splice(a,0,0)),s.alternateSets[a]=e.by};Fs.prototype.addLigature=function(t,e,n,r){var i=this.getLookupTables(n,r,t,4,!0)[0],s=i.subtables[0];s||(s={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},i.subtables[0]=s),Rt.assert(s.coverage.format===1,"Ligature: unable to modify coverage table format "+s.coverage.format);var o=e.sub[0],a=e.sub.slice(1),l={ligGlyph:e.by,components:a},c=this.binSearch(s.coverage.glyphs,o);if(c>=0){for(var u=s.ligatureSets[c],h=0;h<u.length;h++)if(qde(u[h].components,a))return;u.push(l)}else c=-1-c,s.coverage.glyphs.splice(c,0,o),s.ligatureSets.splice(c,0,[l])};Fs.prototype.getFeature=function(t,e,n){if(/ss\d\d/.test(t))return this.getSingle(t,e,n);switch(t){case"aalt":case"salt":return this.getSingle(t,e,n).concat(this.getAlternates(t,e,n));case"dlig":case"liga":case"rlig":return this.getLigatures(t,e,n);case"ccmp":return this.getMultiple(t,e,n).concat(this.getLigatures(t,e,n));case"stch":return this.getMultiple(t,e,n)}};Fs.prototype.add=function(t,e,n,r){if(/ss\d\d/.test(t))return this.addSingle(t,e,n,r);switch(t){case"aalt":case"salt":return typeof e.by=="number"?this.addSingle(t,e,n,r):this.addAlternate(t,e,n,r);case"dlig":case"liga":case"rlig":return this.addLigature(t,e,n,r);case"ccmp":return e.by instanceof Array?this.addMultiple(t,e,n,r):this.addLigature(t,e,n,r)}};function Zde(){return typeof window<"u"}function epe(t){for(var e=new Buffer(t.byteLength),n=new Uint8Array(t),r=0;r<e.length;++r)e[r]=n[r];return e}function Z0(t,e){if(!t)throw e}function BD(t,e,n,r,i){var s;return(e&r)>0?(s=t.parseByte(),e&i||(s=-s),s=n+s):(e&i)>0?s=n:s=n+t.parseShort(),s}function Xz(t,e,n){var r=new Lt.Parser(e,n);t.numberOfContours=r.parseShort(),t._xMin=r.parseShort(),t._yMin=r.parseShort(),t._xMax=r.parseShort(),t._yMax=r.parseShort();var i,s;if(t.numberOfContours>0){for(var o=t.endPointIndices=[],a=0;a<t.numberOfContours;a+=1)o.push(r.parseUShort());t.instructionLength=r.parseUShort(),t.instructions=[];for(var l=0;l<t.instructionLength;l+=1)t.instructions.push(r.parseByte());var c=o[o.length-1]+1;i=[];for(var u=0;u<c;u+=1)if(s=r.parseByte(),i.push(s),(s&8)>0)for(var h=r.parseByte(),f=0;f<h;f+=1)i.push(s),u+=1;if(Rt.argument(i.length===c,"Bad flags."),o.length>0){var m=[],g;if(c>0){for(var E=0;E<c;E+=1)s=i[E],g={},g.onCurve=!!(s&1),g.lastPointOfContour=o.indexOf(E)>=0,m.push(g);for(var x=0,A=0;A<c;A+=1)s=i[A],g=m[A],g.x=BD(r,s,x,2,16),x=g.x;for(var v=0,y=0;y<c;y+=1)s=i[y],g=m[y],g.y=BD(r,s,v,4,32),v=g.y}t.points=m}else t.points=[]}else if(t.numberOfContours===0)t.points=[];else{t.isComposite=!0,t.points=[],t.components=[];for(var S=!0;S;){i=r.parseUShort();var w={glyphIndex:r.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(i&1)>0?(i&2)>0?(w.dx=r.parseShort(),w.dy=r.parseShort()):w.matchedPoints=[r.parseUShort(),r.parseUShort()]:(i&2)>0?(w.dx=r.parseChar(),w.dy=r.parseChar()):w.matchedPoints=[r.parseByte(),r.parseByte()],(i&8)>0?w.xScale=w.yScale=r.parseF2Dot14():(i&64)>0?(w.xScale=r.parseF2Dot14(),w.yScale=r.parseF2Dot14()):(i&128)>0&&(w.xScale=r.parseF2Dot14(),w.scale01=r.parseF2Dot14(),w.scale10=r.parseF2Dot14(),w.yScale=r.parseF2Dot14()),t.components.push(w),S=!!(i&32)}if(i&256){t.instructionLength=r.parseUShort(),t.instructions=[];for(var T=0;T<t.instructionLength;T+=1)t.instructions.push(r.parseByte())}}}function i_(t,e){for(var n=[],r=0;r<t.length;r+=1){var i=t[r],s={x:e.xScale*i.x+e.scale01*i.y+e.dx,y:e.scale10*i.x+e.yScale*i.y+e.dy,onCurve:i.onCurve,lastPointOfContour:i.lastPointOfContour};n.push(s)}return n}function tpe(t){for(var e=[],n=[],r=0;r<t.length;r+=1){var i=t[r];n.push(i),i.lastPointOfContour&&(e.push(n),n=[])}return Rt.argument(n.length===0,"There are still points left in the current contour."),e}function Jz(t){var e=new Gr;if(!t)return e;for(var n=tpe(t),r=0;r<n.length;++r){var i=n[r],s=null,o=i[i.length-1],a=i[0];if(o.onCurve)e.moveTo(o.x,o.y);else if(a.onCurve)e.moveTo(a.x,a.y);else{var l={x:(o.x+a.x)*.5,y:(o.y+a.y)*.5};e.moveTo(l.x,l.y)}for(var c=0;c<i.length;++c)if(s=o,o=a,a=i[(c+1)%i.length],o.onCurve)e.lineTo(o.x,o.y);else{var u=a;s.onCurve||((o.x+s.x)*.5,(o.y+s.y)*.5),a.onCurve||(u={x:(o.x+a.x)*.5,y:(o.y+a.y)*.5}),e.quadraticCurveTo(o.x,o.y,u.x,u.y)}e.closePath()}return e}function Yz(t,e){if(e.isComposite)for(var n=0;n<e.components.length;n+=1){var r=e.components[n],i=t.get(r.glyphIndex);if(i.getPath(),i.points){var s=void 0;if(r.matchedPoints===void 0)s=i_(i.points,r);else{if(r.matchedPoints[0]>e.points.length-1||r.matchedPoints[1]>i.points.length-1)throw Error("Matched points out of range in "+e.name);var o=e.points[r.matchedPoints[0]],a=i.points[r.matchedPoints[1]],l={xScale:r.xScale,scale01:r.scale01,scale10:r.scale10,yScale:r.yScale,dx:0,dy:0};a=i_([a],l)[0],l.dx=o.x-a.x,l.dy=o.y-a.y,s=i_(i.points,l)}e.points=e.points.concat(s)}}return Jz(e.points)}function npe(t,e,n,r){for(var i=new Oa.GlyphSet(r),s=0;s<n.length-1;s+=1){var o=n[s],a=n[s+1];o!==a?i.push(s,Oa.ttfGlyphLoader(r,s,Xz,t,e+o,Yz)):i.push(s,Oa.glyphLoader(r,s))}return i}function rpe(t,e,n,r){var i=new Oa.GlyphSet(r);return r._push=function(s){var o=n[s],a=n[s+1];o!==a?i.push(s,Oa.ttfGlyphLoader(r,s,Xz,t,e+o,Yz)):i.push(s,Oa.glyphLoader(r,s))},i}function ipe(t,e,n,r,i){return i.lowMemory?rpe(t,e,n,r):npe(t,e,n,r)}var spe={getPath:Jz,parse:ipe},qz,Qh,Zz,cC;function eV(t){this.font=t,this.getCommands=function(e){return spe.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function ope(t){return t}function tV(t){return Math.sign(t)*Math.round(Math.abs(t))}function ape(t){return Math.sign(t)*Math.round(Math.abs(t*2))/2}function lpe(t){return Math.sign(t)*(Math.round(Math.abs(t)+.5)-.5)}function cpe(t){return Math.sign(t)*Math.ceil(Math.abs(t))}function upe(t){return Math.sign(t)*Math.floor(Math.abs(t))}var nV=function(t){var e=this.srPeriod,n=this.srPhase,r=this.srThreshold,i=1;return t<0&&(t=-t,i=-1),t+=r-n,t=Math.trunc(t/e)*e,t+=n,t<0?n*i:t*i},Ca={x:1,y:0,axis:"x",distance:function(t,e,n,r){return(n?t.xo:t.x)-(r?e.xo:e.x)},interpolate:function(t,e,n,r){var i,s,o,a,l,c,u;if(!r||r===this){if(i=t.xo-e.xo,s=t.xo-n.xo,l=e.x-e.xo,c=n.x-n.xo,o=Math.abs(i),a=Math.abs(s),u=o+a,u===0){t.x=t.xo+(l+c)/2;return}t.x=t.xo+(l*a+c*o)/u;return}if(i=r.distance(t,e,!0,!0),s=r.distance(t,n,!0,!0),l=r.distance(e,e,!1,!0),c=r.distance(n,n,!1,!0),o=Math.abs(i),a=Math.abs(s),u=o+a,u===0){Ca.setRelative(t,t,(l+c)/2,r,!0);return}Ca.setRelative(t,t,(l*a+c*o)/u,r,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(t,e,n,r,i){if(!r||r===this){t.x=(i?e.xo:e.x)+n;return}var s=i?e.xo:e.x,o=i?e.yo:e.y,a=s+n*r.x,l=o+n*r.y;t.x=a+(t.y-l)/r.normalSlope},slope:0,touch:function(t){t.xTouched=!0},touched:function(t){return t.xTouched},untouch:function(t){t.xTouched=!1}},El={x:0,y:1,axis:"y",distance:function(t,e,n,r){return(n?t.yo:t.y)-(r?e.yo:e.y)},interpolate:function(t,e,n,r){var i,s,o,a,l,c,u;if(!r||r===this){if(i=t.yo-e.yo,s=t.yo-n.yo,l=e.y-e.yo,c=n.y-n.yo,o=Math.abs(i),a=Math.abs(s),u=o+a,u===0){t.y=t.yo+(l+c)/2;return}t.y=t.yo+(l*a+c*o)/u;return}if(i=r.distance(t,e,!0,!0),s=r.distance(t,n,!0,!0),l=r.distance(e,e,!1,!0),c=r.distance(n,n,!1,!0),o=Math.abs(i),a=Math.abs(s),u=o+a,u===0){El.setRelative(t,t,(l+c)/2,r,!0);return}El.setRelative(t,t,(l*a+c*o)/u,r,!0)},normalSlope:0,setRelative:function(t,e,n,r,i){if(!r||r===this){t.y=(i?e.yo:e.y)+n;return}var s=i?e.xo:e.x,o=i?e.yo:e.y,a=s+n*r.x,l=o+n*r.y;t.y=l+r.normalSlope*(t.x-a)},slope:Number.POSITIVE_INFINITY,touch:function(t){t.yTouched=!0},touched:function(t){return t.yTouched},untouch:function(t){t.yTouched=!1}};Object.freeze(Ca);Object.freeze(El);function N3(t,e){this.x=t,this.y=e,this.axis=void 0,this.slope=e/t,this.normalSlope=-t/e,Object.freeze(this)}N3.prototype.distance=function(t,e,n,r){return this.x*Ca.distance(t,e,n,r)+this.y*El.distance(t,e,n,r)};N3.prototype.interpolate=function(t,e,n,r){var i,s,o,a,l,c,u;if(o=r.distance(t,e,!0,!0),a=r.distance(t,n,!0,!0),i=r.distance(e,e,!1,!0),s=r.distance(n,n,!1,!0),l=Math.abs(o),c=Math.abs(a),u=l+c,u===0){this.setRelative(t,t,(i+s)/2,r,!0);return}this.setRelative(t,t,(i*c+s*l)/u,r,!0)};N3.prototype.setRelative=function(t,e,n,r,i){r=r||this;var s=i?e.xo:e.x,o=i?e.yo:e.y,a=s+n*r.x,l=o+n*r.y,c=r.normalSlope,u=this.slope,h=t.x,f=t.y;t.x=(u*h-c*a+l-f)/(u-c),t.y=u*(t.x-h)+f};N3.prototype.touch=function(t){t.xTouched=!0,t.yTouched=!0};function k3(t,e){var n=Math.sqrt(t*t+e*e);return t/=n,e/=n,t===1&&e===0?Ca:t===0&&e===1?El:new N3(t,e)}function Il(t,e,n,r){this.x=this.xo=Math.round(t*64)/64,this.y=this.yo=Math.round(e*64)/64,this.lastPointOfContour=n,this.onCurve=r,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Il.prototype.nextTouched=function(t){for(var e=this.nextPointOnContour;!t.touched(e)&&e!==this;)e=e.nextPointOnContour;return e};Il.prototype.prevTouched=function(t){for(var e=this.prevPointOnContour;!t.touched(e)&&e!==this;)e=e.prevPointOnContour;return e};var $g=Object.freeze(new Il(0,0)),hpe={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Rc(t,e){switch(this.env=t,this.stack=[],this.prog=e,t){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Ca,this.round=tV}}eV.prototype.exec=function(t,e){if(typeof e!="number")throw new Error("Point size is not a number!");if(!(this._errorState>2)){var n=this.font,r=this._prepState;if(!r||r.ppem!==e){var i=this._fpgmState;if(!i){Rc.prototype=hpe,i=this._fpgmState=new Rc("fpgm",n.tables.fpgm),i.funcs=[],i.font=n,de.DEBUG&&(console.log("---EXEC FPGM---"),i.step=-1);try{Qh(i)}catch(c){console.log("Hinting error in FPGM:"+c),this._errorState=3;return}}Rc.prototype=i,r=this._prepState=new Rc("prep",n.tables.prep),r.ppem=e;var s=n.tables.cvt;if(s)for(var o=r.cvt=new Array(s.length),a=e/n.unitsPerEm,l=0;l<s.length;l++)o[l]=s[l]*a;else r.cvt=[];de.DEBUG&&(console.log("---EXEC PREP---"),r.step=-1);try{Qh(r)}catch(c){this._errorState<2&&console.log("Hinting error in PREP:"+c),this._errorState=2}}if(!(this._errorState>1))try{return Zz(t,r)}catch(c){this._errorState<1&&(console.log("Hinting error:"+c),console.log("Note: further hinting errors are silenced")),this._errorState=1;return}}};Zz=function(t,e){var n=e.ppem/e.font.unitsPerEm,r=n,i=t.components,s,o,a;if(Rc.prototype=e,!i)a=new Rc("glyf",t.instructions),de.DEBUG&&(console.log("---EXEC GLYPH---"),a.step=-1),cC(t,a,n,r),o=a.gZone;else{var l=e.font;o=[],s=[];for(var c=0;c<i.length;c++){var u=i[c],h=l.glyphs.get(u.glyphIndex);a=new Rc("glyf",h.instructions),de.DEBUG&&(console.log("---EXEC COMP "+c+"---"),a.step=-1),cC(h,a,n,r);for(var f=Math.round(u.dx*n),m=Math.round(u.dy*r),g=a.gZone,E=a.contours,x=0;x<g.length;x++){var A=g[x];A.xTouched=A.yTouched=!1,A.xo=A.x=A.x+f,A.yo=A.y=A.y+m}var v=o.length;o.push.apply(o,g);for(var y=0;y<E.length;y++)s.push(E[y]+v)}t.instructions&&!a.inhibitGridFit&&(a=new Rc("glyf",t.instructions),a.gZone=a.z0=a.z1=a.z2=o,a.contours=s,o.push(new Il(0,0),new Il(Math.round(t.advanceWidth*n),0)),de.DEBUG&&(console.log("---EXEC COMPOSITE---"),a.step=-1),Qh(a),o.length-=2)}return o};cC=function(t,e,n,r){for(var i=t.points||[],s=i.length,o=e.gZone=e.z0=e.z1=e.z2=[],a=e.contours=[],l,c=0;c<s;c++)l=i[c],o[c]=new Il(l.x*n,l.y*r,l.lastPointOfContour,l.onCurve);for(var u,h,f=0;f<s;f++)l=o[f],u||(u=l,a.push(f)),l.lastPointOfContour?(l.nextPointOnContour=u,u.prevPointOnContour=l,u=void 0):(h=o[f+1],l.nextPointOnContour=h,h.prevPointOnContour=l);if(!e.inhibitGridFit){if(de.DEBUG){console.log("PROCESSING GLYPH",e.stack);for(var m=0;m<s;m++)console.log(m,o[m].x,o[m].y)}if(o.push(new Il(0,0),new Il(Math.round(t.advanceWidth*n),0)),Qh(e),o.length-=2,de.DEBUG){console.log("FINISHED GLYPH",e.stack);for(var g=0;g<s;g++)console.log(g,o[g].x,o[g].y)}}};Qh=function(t){var e=t.prog;if(e){var n=e.length,r;for(t.ip=0;t.ip<n;t.ip++){if(de.DEBUG&&t.step++,r=qz[e[t.ip]],!r)throw new Error("unknown instruction: 0x"+Number(e[t.ip]).toString(16));r(t)}}};function f6(t){for(var e=t.tZone=new Array(t.gZone.length),n=0;n<e.length;n++)e[n]=new Il(0,0)}function rV(t,e){var n=t.prog,r=t.ip,i=1,s;do if(s=n[++r],s===88)i++;else if(s===89)i--;else if(s===64)r+=n[r+1]+1;else if(s===65)r+=2*n[r+1]+1;else if(s>=176&&s<=183)r+=s-176+1;else if(s>=184&&s<=191)r+=(s-184+1)*2;else if(e&&i===1&&s===27)break;while(i>0);t.ip=r}function PD(t,e){de.DEBUG&&console.log(e.step,"SVTCA["+t.axis+"]"),e.fv=e.pv=e.dpv=t}function DD(t,e){de.DEBUG&&console.log(e.step,"SPVTCA["+t.axis+"]"),e.pv=e.dpv=t}function LD(t,e){de.DEBUG&&console.log(e.step,"SFVTCA["+t.axis+"]"),e.fv=t}function OD(t,e){var n=e.stack,r=n.pop(),i=n.pop(),s=e.z2[r],o=e.z1[i];de.DEBUG&&console.log("SPVTL["+t+"]",r,i);var a,l;t?(a=s.y-o.y,l=o.x-s.x):(a=o.x-s.x,l=o.y-s.y),e.pv=e.dpv=k3(a,l)}function FD(t,e){var n=e.stack,r=n.pop(),i=n.pop(),s=e.z2[r],o=e.z1[i];de.DEBUG&&console.log("SFVTL["+t+"]",r,i);var a,l;t?(a=s.y-o.y,l=o.x-s.x):(a=o.x-s.x,l=o.y-s.y),e.fv=k3(a,l)}function fpe(t){var e=t.stack,n=e.pop(),r=e.pop();de.DEBUG&&console.log(t.step,"SPVFS[]",n,r),t.pv=t.dpv=k3(r,n)}function dpe(t){var e=t.stack,n=e.pop(),r=e.pop();de.DEBUG&&console.log(t.step,"SPVFS[]",n,r),t.fv=k3(r,n)}function ppe(t){var e=t.stack,n=t.pv;de.DEBUG&&console.log(t.step,"GPV[]"),e.push(n.x*16384),e.push(n.y*16384)}function mpe(t){var e=t.stack,n=t.fv;de.DEBUG&&console.log(t.step,"GFV[]"),e.push(n.x*16384),e.push(n.y*16384)}function gpe(t){t.fv=t.pv,de.DEBUG&&console.log(t.step,"SFVTPV[]")}function Ape(t){var e=t.stack,n=e.pop(),r=e.pop(),i=e.pop(),s=e.pop(),o=e.pop(),a=t.z0,l=t.z1,c=a[n],u=a[r],h=l[i],f=l[s],m=t.z2[o];de.DEBUG&&console.log("ISECT[], ",n,r,i,s,o);var g=c.x,E=c.y,x=u.x,A=u.y,v=h.x,y=h.y,S=f.x,w=f.y,T=(g-x)*(y-w)-(E-A)*(v-S),b=g*A-E*x,R=v*w-y*S;m.x=(b*(v-S)-R*(g-x))/T,m.y=(b*(y-w)-R*(E-A))/T}function vpe(t){t.rp0=t.stack.pop(),de.DEBUG&&console.log(t.step,"SRP0[]",t.rp0)}function ype(t){t.rp1=t.stack.pop(),de.DEBUG&&console.log(t.step,"SRP1[]",t.rp1)}function xpe(t){t.rp2=t.stack.pop(),de.DEBUG&&console.log(t.step,"SRP2[]",t.rp2)}function Epe(t){var e=t.stack.pop();switch(de.DEBUG&&console.log(t.step,"SZP0[]",e),t.zp0=e,e){case 0:t.tZone||f6(t),t.z0=t.tZone;break;case 1:t.z0=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function _pe(t){var e=t.stack.pop();switch(de.DEBUG&&console.log(t.step,"SZP1[]",e),t.zp1=e,e){case 0:t.tZone||f6(t),t.z1=t.tZone;break;case 1:t.z1=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function Spe(t){var e=t.stack.pop();switch(de.DEBUG&&console.log(t.step,"SZP2[]",e),t.zp2=e,e){case 0:t.tZone||f6(t),t.z2=t.tZone;break;case 1:t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function Cpe(t){var e=t.stack.pop();switch(de.DEBUG&&console.log(t.step,"SZPS[]",e),t.zp0=t.zp1=t.zp2=e,e){case 0:t.tZone||f6(t),t.z0=t.z1=t.z2=t.tZone;break;case 1:t.z0=t.z1=t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function wpe(t){t.loop=t.stack.pop(),de.DEBUG&&console.log(t.step,"SLOOP[]",t.loop)}function Tpe(t){de.DEBUG&&console.log(t.step,"RTG[]"),t.round=tV}function Ipe(t){de.DEBUG&&console.log(t.step,"RTHG[]"),t.round=lpe}function bpe(t){var e=t.stack.pop();de.DEBUG&&console.log(t.step,"SMD[]",e),t.minDis=e/64}function Mpe(t){de.DEBUG&&console.log(t.step,"ELSE[]"),rV(t,!1)}function Rpe(t){var e=t.stack.pop();de.DEBUG&&console.log(t.step,"JMPR[]",e),t.ip+=e-1}function Bpe(t){var e=t.stack.pop();de.DEBUG&&console.log(t.step,"SCVTCI[]",e),t.cvCutIn=e/64}function Ppe(t){var e=t.stack;de.DEBUG&&console.log(t.step,"DUP[]"),e.push(e[e.length-1])}function s_(t){de.DEBUG&&console.log(t.step,"POP[]"),t.stack.pop()}function Dpe(t){de.DEBUG&&console.log(t.step,"CLEAR[]"),t.stack.length=0}function Lpe(t){var e=t.stack,n=e.pop(),r=e.pop();de.DEBUG&&console.log(t.step,"SWAP[]"),e.push(n),e.push(r)}function Ope(t){var e=t.stack;de.DEBUG&&console.log(t.step,"DEPTH[]"),e.push(e.length)}function Fpe(t){var e=t.stack,n=e.pop(),r=e.pop();de.DEBUG&&console.log(t.step,"LOOPCALL[]",n,r);var i=t.ip,s=t.prog;t.prog=t.funcs[n];for(var o=0;o<r;o++)Qh(t),de.DEBUG&&console.log(++t.step,o+1<r?"next loopcall":"done loopcall",o);t.ip=i,t.prog=s}function Npe(t){var e=t.stack.pop();de.DEBUG&&console.log(t.step,"CALL[]",e);var n=t.ip,r=t.prog;t.prog=t.funcs[e],Qh(t),t.ip=n,t.prog=r,de.DEBUG&&console.log(++t.step,"returning from",e)}function kpe(t){var e=t.stack,n=e.pop();de.DEBUG&&console.log(t.step,"CINDEX[]",n),e.push(e[e.length-n])}function Upe(t){var e=t.stack,n=e.pop();de.DEBUG&&console.log(t.step,"MINDEX[]",n),e.push(e.splice(e.length-n,1)[0])}function Gpe(t){if(t.env!=="fpgm")throw new Error("FDEF not allowed here");var e=t.stack,n=t.prog,r=t.ip,i=e.pop(),s=r;for(de.DEBUG&&console.log(t.step,"FDEF[]",i);n[++r]!==45;);t.ip=r,t.funcs[i]=n.slice(s+1,r)}function ND(t,e){var n=e.stack.pop(),r=e.z0[n],i=e.fv,s=e.pv;de.DEBUG&&console.log(e.step,"MDAP["+t+"]",n);var o=s.distance(r,$g);t&&(o=e.round(o)),i.setRelative(r,$g,o,s),i.touch(r),e.rp0=e.rp1=n}function kD(t,e){var n=e.z2,r=n.length-2,i,s,o;de.DEBUG&&console.log(e.step,"IUP["+t.axis+"]");for(var a=0;a<r;a++)i=n[a],!t.touched(i)&&(s=i.prevTouched(t),s!==i&&(o=i.nextTouched(t),s===o&&t.setRelative(i,i,t.distance(s,s,!1,!0),t,!0),t.interpolate(i,s,o,t)))}function UD(t,e){for(var n=e.stack,r=t?e.rp1:e.rp2,i=(t?e.z0:e.z1)[r],s=e.fv,o=e.pv,a=e.loop,l=e.z2;a--;){var c=n.pop(),u=l[c],h=o.distance(i,i,!1,!0);s.setRelative(u,u,h,o),s.touch(u),de.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-a)+": ":"")+"SHP["+(t?"rp1":"rp2")+"]",c)}e.loop=1}function GD(t,e){var n=e.stack,r=t?e.rp1:e.rp2,i=(t?e.z0:e.z1)[r],s=e.fv,o=e.pv,a=n.pop(),l=e.z2[e.contours[a]],c=l;de.DEBUG&&console.log(e.step,"SHC["+t+"]",a);var u=o.distance(i,i,!1,!0);do c!==i&&s.setRelative(c,c,u,o),c=c.nextPointOnContour;while(c!==l)}function HD(t,e){var n=e.stack,r=t?e.rp1:e.rp2,i=(t?e.z0:e.z1)[r],s=e.fv,o=e.pv,a=n.pop();de.DEBUG&&console.log(e.step,"SHZ["+t+"]",a);var l;switch(a){case 0:l=e.tZone;break;case 1:l=e.gZone;break;default:throw new Error("Invalid zone")}for(var c,u=o.distance(i,i,!1,!0),h=l.length-2,f=0;f<h;f++)c=l[f],s.setRelative(c,c,u,o)}function Hpe(t){for(var e=t.stack,n=t.loop,r=t.fv,i=e.pop()/64,s=t.z2;n--;){var o=e.pop(),a=s[o];de.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-n)+": ":"")+"SHPIX[]",o,i),r.setRelative(a,a,i),r.touch(a)}t.loop=1}function Qpe(t){for(var e=t.stack,n=t.rp1,r=t.rp2,i=t.loop,s=t.z0[n],o=t.z1[r],a=t.fv,l=t.dpv,c=t.z2;i--;){var u=e.pop(),h=c[u];de.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-i)+": ":"")+"IP[]",u,n,"<->",r),a.interpolate(h,s,o,l),a.touch(h)}t.loop=1}function QD(t,e){var n=e.stack,r=n.pop()/64,i=n.pop(),s=e.z1[i],o=e.z0[e.rp0],a=e.fv,l=e.pv;a.setRelative(s,o,r,l),a.touch(s),de.DEBUG&&console.log(e.step,"MSIRP["+t+"]",r,i),e.rp1=e.rp0,e.rp2=i,t&&(e.rp0=i)}function zpe(t){for(var e=t.stack,n=t.rp0,r=t.z0[n],i=t.loop,s=t.fv,o=t.pv,a=t.z1;i--;){var l=e.pop(),c=a[l];de.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-i)+": ":"")+"ALIGNRP[]",l),s.setRelative(c,r,0,o),s.touch(c)}t.loop=1}function Vpe(t){de.DEBUG&&console.log(t.step,"RTDG[]"),t.round=ape}function zD(t,e){var n=e.stack,r=n.pop(),i=n.pop(),s=e.z0[i],o=e.fv,a=e.pv,l=e.cvt[r];de.DEBUG&&console.log(e.step,"MIAP["+t+"]",r,"(",l,")",i);var c=a.distance(s,$g);t&&(Math.abs(c-l)<e.cvCutIn&&(c=l),c=e.round(c)),o.setRelative(s,$g,c,a),e.zp0===0&&(s.xo=s.x,s.yo=s.y),o.touch(s),e.rp0=e.rp1=i}function Wpe(t){var e=t.prog,n=t.ip,r=t.stack,i=e[++n];de.DEBUG&&console.log(t.step,"NPUSHB[]",i);for(var s=0;s<i;s++)r.push(e[++n]);t.ip=n}function jpe(t){var e=t.ip,n=t.prog,r=t.stack,i=n[++e];de.DEBUG&&console.log(t.step,"NPUSHW[]",i);for(var s=0;s<i;s++){var o=n[++e]<<8|n[++e];o&32768&&(o=-((o^65535)+1)),r.push(o)}t.ip=e}function $pe(t){var e=t.stack,n=t.store;n||(n=t.store=[]);var r=e.pop(),i=e.pop();de.DEBUG&&console.log(t.step,"WS",r,i),n[i]=r}function Kpe(t){var e=t.stack,n=t.store,r=e.pop();de.DEBUG&&console.log(t.step,"RS",r);var i=n&&n[r]||0;e.push(i)}function Xpe(t){var e=t.stack,n=e.pop(),r=e.pop();de.DEBUG&&console.log(t.step,"WCVTP",n,r),t.cvt[r]=n/64}function Jpe(t){var e=t.stack,n=e.pop();de.DEBUG&&console.log(t.step,"RCVT",n),e.push(t.cvt[n]*64)}function VD(t,e){var n=e.stack,r=n.pop(),i=e.z2[r];de.DEBUG&&console.log(e.step,"GC["+t+"]",r),n.push(e.dpv.distance(i,$g,t,!1)*64)}function WD(t,e){var n=e.stack,r=n.pop(),i=n.pop(),s=e.z1[r],o=e.z0[i],a=e.dpv.distance(o,s,t,t);de.DEBUG&&console.log(e.step,"MD["+t+"]",r,i,"->",a),e.stack.push(Math.round(a*64))}function Ype(t){de.DEBUG&&console.log(t.step,"MPPEM[]"),t.stack.push(t.ppem)}function qpe(t){de.DEBUG&&console.log(t.step,"FLIPON[]"),t.autoFlip=!0}function Zpe(t){var e=t.stack,n=e.pop(),r=e.pop();de.DEBUG&&console.log(t.step,"LT[]",n,r),e.push(r<n?1:0)}function e0e(t){var e=t.stack,n=e.pop(),r=e.pop();de.DEBUG&&console.log(t.step,"LTEQ[]",n,r),e.push(r<=n?1:0)}function t0e(t){var e=t.stack,n=e.pop(),r=e.pop();de.DEBUG&&console.log(t.step,"GT[]",n,r),e.push(r>n?1:0)}function n0e(t){var e=t.stack,n=e.pop(),r=e.pop();de.DEBUG&&console.log(t.step,"GTEQ[]",n,r),e.push(r>=n?1:0)}function r0e(t){var e=t.stack,n=e.pop(),r=e.pop();de.DEBUG&&console.log(t.step,"EQ[]",n,r),e.push(n===r?1:0)}function i0e(t){var e=t.stack,n=e.pop(),r=e.pop();de.DEBUG&&console.log(t.step,"NEQ[]",n,r),e.push(n!==r?1:0)}function s0e(t){var e=t.stack,n=e.pop();de.DEBUG&&console.log(t.step,"ODD[]",n),e.push(Math.trunc(n)%2?1:0)}function o0e(t){var e=t.stack,n=e.pop();de.DEBUG&&console.log(t.step,"EVEN[]",n),e.push(Math.trunc(n)%2?0:1)}function a0e(t){var e=t.stack.pop();de.DEBUG&&console.log(t.step,"IF[]",e),e||(rV(t,!0),de.DEBUG&&console.log(t.step,"EIF[]"))}function l0e(t){de.DEBUG&&console.log(t.step,"EIF[]")}function c0e(t){var e=t.stack,n=e.pop(),r=e.pop();de.DEBUG&&console.log(t.step,"AND[]",n,r),e.push(n&&r?1:0)}function u0e(t){var e=t.stack,n=e.pop(),r=e.pop();de.DEBUG&&console.log(t.step,"OR[]",n,r),e.push(n||r?1:0)}function h0e(t){var e=t.stack,n=e.pop();de.DEBUG&&console.log(t.step,"NOT[]",n),e.push(n?0:1)}function o_(t,e){var n=e.stack,r=n.pop(),i=e.fv,s=e.pv,o=e.ppem,a=e.deltaBase+(t-1)*16,l=e.deltaShift,c=e.z0;de.DEBUG&&console.log(e.step,"DELTAP["+t+"]",r,n);for(var u=0;u<r;u++){var h=n.pop(),f=n.pop(),m=a+((f&240)>>4);if(m===o){var g=(f&15)-8;g>=0&&g++,de.DEBUG&&console.log(e.step,"DELTAPFIX",h,"by",g*l);var E=c[h];i.setRelative(E,E,g*l,s)}}}function f0e(t){var e=t.stack,n=e.pop();de.DEBUG&&console.log(t.step,"SDB[]",n),t.deltaBase=n}function d0e(t){var e=t.stack,n=e.pop();de.DEBUG&&console.log(t.step,"SDS[]",n),t.deltaShift=Math.pow(.5,n)}function p0e(t){var e=t.stack,n=e.pop(),r=e.pop();de.DEBUG&&console.log(t.step,"ADD[]",n,r),e.push(r+n)}function m0e(t){var e=t.stack,n=e.pop(),r=e.pop();de.DEBUG&&console.log(t.step,"SUB[]",n,r),e.push(r-n)}function g0e(t){var e=t.stack,n=e.pop(),r=e.pop();de.DEBUG&&console.log(t.step,"DIV[]",n,r),e.push(r*64/n)}function A0e(t){var e=t.stack,n=e.pop(),r=e.pop();de.DEBUG&&console.log(t.step,"MUL[]",n,r),e.push(r*n/64)}function v0e(t){var e=t.stack,n=e.pop();de.DEBUG&&console.log(t.step,"ABS[]",n),e.push(Math.abs(n))}function y0e(t){var e=t.stack,n=e.pop();de.DEBUG&&console.log(t.step,"NEG[]",n),e.push(-n)}function x0e(t){var e=t.stack,n=e.pop();de.DEBUG&&console.log(t.step,"FLOOR[]",n),e.push(Math.floor(n/64)*64)}function E0e(t){var e=t.stack,n=e.pop();de.DEBUG&&console.log(t.step,"CEILING[]",n),e.push(Math.ceil(n/64)*64)}function _2(t,e){var n=e.stack,r=n.pop();de.DEBUG&&console.log(e.step,"ROUND[]"),n.push(e.round(r/64)*64)}function _0e(t){var e=t.stack,n=e.pop(),r=e.pop();de.DEBUG&&console.log(t.step,"WCVTF[]",n,r),t.cvt[r]=n*t.ppem/t.font.unitsPerEm}function a_(t,e){var n=e.stack,r=n.pop(),i=e.ppem,s=e.deltaBase+(t-1)*16,o=e.deltaShift;de.DEBUG&&console.log(e.step,"DELTAC["+t+"]",r,n);for(var a=0;a<r;a++){var l=n.pop(),c=n.pop(),u=s+((c&240)>>4);if(u===i){var h=(c&15)-8;h>=0&&h++;var f=h*o;de.DEBUG&&console.log(e.step,"DELTACFIX",l,"by",f),e.cvt[l]+=f}}}function S0e(t){var e=t.stack.pop();de.DEBUG&&console.log(t.step,"SROUND[]",e),t.round=nV;var n;switch(e&192){case 0:n=.5;break;case 64:n=1;break;case 128:n=2;break;default:throw new Error("invalid SROUND value")}switch(t.srPeriod=n,e&48){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*n;break;case 32:t.srPhase=.5*n;break;case 48:t.srPhase=.75*n;break;default:throw new Error("invalid SROUND value")}e&=15,e===0?t.srThreshold=0:t.srThreshold=(e/8-.5)*n}function C0e(t){var e=t.stack.pop();de.DEBUG&&console.log(t.step,"S45ROUND[]",e),t.round=nV;var n;switch(e&192){case 0:n=Math.sqrt(2)/2;break;case 64:n=Math.sqrt(2);break;case 128:n=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(t.srPeriod=n,e&48){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*n;break;case 32:t.srPhase=.5*n;break;case 48:t.srPhase=.75*n;break;default:throw new Error("invalid S45ROUND value")}e&=15,e===0?t.srThreshold=0:t.srThreshold=(e/8-.5)*n}function w0e(t){de.DEBUG&&console.log(t.step,"ROFF[]"),t.round=ope}function T0e(t){de.DEBUG&&console.log(t.step,"RUTG[]"),t.round=cpe}function I0e(t){de.DEBUG&&console.log(t.step,"RDTG[]"),t.round=upe}function b0e(t){var e=t.stack.pop();de.DEBUG&&console.log(t.step,"SCANCTRL[]",e)}function jD(t,e){var n=e.stack,r=n.pop(),i=n.pop(),s=e.z2[r],o=e.z1[i];de.DEBUG&&console.log(e.step,"SDPVTL["+t+"]",r,i);var a,l;t?(a=s.y-o.y,l=o.x-s.x):(a=o.x-s.x,l=o.y-s.y),e.dpv=k3(a,l)}function M0e(t){var e=t.stack,n=e.pop(),r=0;de.DEBUG&&console.log(t.step,"GETINFO[]",n),n&1&&(r=35),n&32&&(r|=4096),e.push(r)}function R0e(t){var e=t.stack,n=e.pop(),r=e.pop(),i=e.pop();de.DEBUG&&console.log(t.step,"ROLL[]"),e.push(r),e.push(n),e.push(i)}function B0e(t){var e=t.stack,n=e.pop(),r=e.pop();de.DEBUG&&console.log(t.step,"MAX[]",n,r),e.push(Math.max(r,n))}function P0e(t){var e=t.stack,n=e.pop(),r=e.pop();de.DEBUG&&console.log(t.step,"MIN[]",n,r),e.push(Math.min(r,n))}function D0e(t){var e=t.stack.pop();de.DEBUG&&console.log(t.step,"SCANTYPE[]",e)}function L0e(t){var e=t.stack.pop(),n=t.stack.pop();switch(de.DEBUG&&console.log(t.step,"INSTCTRL[]",e,n),e){case 1:t.inhibitGridFit=!!n;return;case 2:t.ignoreCvt=!!n;return;default:throw new Error("invalid INSTCTRL[] selector")}}function cc(t,e){var n=e.stack,r=e.prog,i=e.ip;de.DEBUG&&console.log(e.step,"PUSHB["+t+"]");for(var s=0;s<t;s++)n.push(r[++i]);e.ip=i}function uc(t,e){var n=e.ip,r=e.prog,i=e.stack;de.DEBUG&&console.log(e.ip,"PUSHW["+t+"]");for(var s=0;s<t;s++){var o=r[++n]<<8|r[++n];o&32768&&(o=-((o^65535)+1)),i.push(o)}e.ip=n}function it(t,e,n,r,i,s){var o=s.stack,a=t&&o.pop(),l=o.pop(),c=s.rp0,u=s.z0[c],h=s.z1[l],f=s.minDis,m=s.fv,g=s.dpv,E,x,A,v;x=E=g.distance(h,u,!0,!0),A=x>=0?1:-1,x=Math.abs(x),t&&(v=s.cvt[a],r&&Math.abs(x-v)<s.cvCutIn&&(x=v)),n&&x<f&&(x=f),r&&(x=s.round(x)),m.setRelative(h,u,A*x,g),m.touch(h),de.DEBUG&&console.log(s.step,(t?"MIRP[":"MDRP[")+(e?"M":"m")+(n?">":"_")+(r?"R":"_")+(i===0?"Gr":i===1?"Bl":i===2?"Wh":"")+"]",t?a+"("+s.cvt[a]+","+v+")":"",l,"(d =",E,"->",A*x,")"),s.rp1=s.rp0,s.rp2=l,e&&(s.rp0=l)}qz=[PD.bind(void 0,El),PD.bind(void 0,Ca),DD.bind(void 0,El),DD.bind(void 0,Ca),LD.bind(void 0,El),LD.bind(void 0,Ca),OD.bind(void 0,0),OD.bind(void 0,1),FD.bind(void 0,0),FD.bind(void 0,1),fpe,dpe,ppe,mpe,gpe,Ape,vpe,ype,xpe,Epe,_pe,Spe,Cpe,wpe,Tpe,Ipe,bpe,Mpe,Rpe,Bpe,void 0,void 0,Ppe,s_,Dpe,Lpe,Ope,kpe,Upe,void 0,void 0,void 0,Fpe,Npe,Gpe,void 0,ND.bind(void 0,0),ND.bind(void 0,1),kD.bind(void 0,El),kD.bind(void 0,Ca),UD.bind(void 0,0),UD.bind(void 0,1),GD.bind(void 0,0),GD.bind(void 0,1),HD.bind(void 0,0),HD.bind(void 0,1),Hpe,Qpe,QD.bind(void 0,0),QD.bind(void 0,1),zpe,Vpe,zD.bind(void 0,0),zD.bind(void 0,1),Wpe,jpe,$pe,Kpe,Xpe,Jpe,VD.bind(void 0,0),VD.bind(void 0,1),void 0,WD.bind(void 0,0),WD.bind(void 0,1),Ype,void 0,qpe,void 0,void 0,Zpe,e0e,t0e,n0e,r0e,i0e,s0e,o0e,a0e,l0e,c0e,u0e,h0e,o_.bind(void 0,1),f0e,d0e,p0e,m0e,g0e,A0e,v0e,y0e,x0e,E0e,_2.bind(void 0,0),_2.bind(void 0,1),_2.bind(void 0,2),_2.bind(void 0,3),void 0,void 0,void 0,void 0,_0e,o_.bind(void 0,2),o_.bind(void 0,3),a_.bind(void 0,1),a_.bind(void 0,2),a_.bind(void 0,3),S0e,C0e,void 0,void 0,w0e,void 0,T0e,I0e,s_,s_,void 0,void 0,void 0,void 0,void 0,b0e,jD.bind(void 0,0),jD.bind(void 0,1),M0e,void 0,R0e,B0e,P0e,D0e,L0e,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,cc.bind(void 0,1),cc.bind(void 0,2),cc.bind(void 0,3),cc.bind(void 0,4),cc.bind(void 0,5),cc.bind(void 0,6),cc.bind(void 0,7),cc.bind(void 0,8),uc.bind(void 0,1),uc.bind(void 0,2),uc.bind(void 0,3),uc.bind(void 0,4),uc.bind(void 0,5),uc.bind(void 0,6),uc.bind(void 0,7),uc.bind(void 0,8),it.bind(void 0,0,0,0,0,0),it.bind(void 0,0,0,0,0,1),it.bind(void 0,0,0,0,0,2),it.bind(void 0,0,0,0,0,3),it.bind(void 0,0,0,0,1,0),it.bind(void 0,0,0,0,1,1),it.bind(void 0,0,0,0,1,2),it.bind(void 0,0,0,0,1,3),it.bind(void 0,0,0,1,0,0),it.bind(void 0,0,0,1,0,1),it.bind(void 0,0,0,1,0,2),it.bind(void 0,0,0,1,0,3),it.bind(void 0,0,0,1,1,0),it.bind(void 0,0,0,1,1,1),it.bind(void 0,0,0,1,1,2),it.bind(void 0,0,0,1,1,3),it.bind(void 0,0,1,0,0,0),it.bind(void 0,0,1,0,0,1),it.bind(void 0,0,1,0,0,2),it.bind(void 0,0,1,0,0,3),it.bind(void 0,0,1,0,1,0),it.bind(void 0,0,1,0,1,1),it.bind(void 0,0,1,0,1,2),it.bind(void 0,0,1,0,1,3),it.bind(void 0,0,1,1,0,0),it.bind(void 0,0,1,1,0,1),it.bind(void 0,0,1,1,0,2),it.bind(void 0,0,1,1,0,3),it.bind(void 0,0,1,1,1,0),it.bind(void 0,0,1,1,1,1),it.bind(void 0,0,1,1,1,2),it.bind(void 0,0,1,1,1,3),it.bind(void 0,1,0,0,0,0),it.bind(void 0,1,0,0,0,1),it.bind(void 0,1,0,0,0,2),it.bind(void 0,1,0,0,0,3),it.bind(void 0,1,0,0,1,0),it.bind(void 0,1,0,0,1,1),it.bind(void 0,1,0,0,1,2),it.bind(void 0,1,0,0,1,3),it.bind(void 0,1,0,1,0,0),it.bind(void 0,1,0,1,0,1),it.bind(void 0,1,0,1,0,2),it.bind(void 0,1,0,1,0,3),it.bind(void 0,1,0,1,1,0),it.bind(void 0,1,0,1,1,1),it.bind(void 0,1,0,1,1,2),it.bind(void 0,1,0,1,1,3),it.bind(void 0,1,1,0,0,0),it.bind(void 0,1,1,0,0,1),it.bind(void 0,1,1,0,0,2),it.bind(void 0,1,1,0,0,3),it.bind(void 0,1,1,0,1,0),it.bind(void 0,1,1,0,1,1),it.bind(void 0,1,1,0,1,2),it.bind(void 0,1,1,0,1,3),it.bind(void 0,1,1,1,0,0),it.bind(void 0,1,1,1,0,1),it.bind(void 0,1,1,1,0,2),it.bind(void 0,1,1,1,0,3),it.bind(void 0,1,1,1,1,0),it.bind(void 0,1,1,1,1,1),it.bind(void 0,1,1,1,1,2),it.bind(void 0,1,1,1,1,3)];function e0(t){this.char=t,this.state={},this.activeState=null}function jT(t,e,n){this.contextName=n,this.startIndex=t,this.endOffset=e}function O0e(t,e,n){this.contextName=t,this.openRange=null,this.ranges=[],this.checkStart=e,this.checkEnd=n}function Jo(t,e){this.context=t,this.index=e,this.length=t.length,this.current=t[e],this.backtrack=t.slice(0,e),this.lookahead=t.slice(e+1)}function d6(t){this.eventId=t,this.subscribers=[]}function F0e(t){var e=this,n=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];n.forEach(function(i){Object.defineProperty(e.events,i,{value:new d6(i)})}),t&&n.forEach(function(i){var s=t[i];typeof s=="function"&&e.events[i].subscribe(s)});var r=["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"];r.forEach(function(i){e.events[i].subscribe(e.updateContextsRanges)})}function pr(t){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],F0e.call(this,t)}e0.prototype.setState=function(t,e){return this.state[t]=e,this.activeState={key:t,value:this.state[t]},this.activeState};e0.prototype.getState=function(t){return this.state[t]||null};pr.prototype.inboundIndex=function(t){return t>=0&&t<this.tokens.length};pr.prototype.composeRUD=function(t){var e=this,n=!0,r=t.map(function(s){return e[s[0]].apply(e,s.slice(1).concat(n))}),i=function(s){return typeof s=="object"&&s.hasOwnProperty("FAIL")};if(r.every(i))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:r.filter(i)};this.dispatch("composeRUD",[r.filter(function(s){return!i(s)})])};pr.prototype.replaceRange=function(t,e,n,r){e=e!==null?e:this.tokens.length;var i=n.every(function(o){return o instanceof e0});if(!isNaN(t)&&this.inboundIndex(t)&&i){var s=this.tokens.splice.apply(this.tokens,[t,e].concat(n));return r||this.dispatch("replaceToken",[t,e,n]),[s,n]}else return{FAIL:"replaceRange: invalid tokens or startIndex."}};pr.prototype.replaceToken=function(t,e,n){if(!isNaN(t)&&this.inboundIndex(t)&&e instanceof e0){var r=this.tokens.splice(t,1,e);return n||this.dispatch("replaceToken",[t,e]),[r[0],e]}else return{FAIL:"replaceToken: invalid token or index."}};pr.prototype.removeRange=function(t,e,n){e=isNaN(e)?this.tokens.length:e;var r=this.tokens.splice(t,e);return n||this.dispatch("removeRange",[r,t,e]),r};pr.prototype.removeToken=function(t,e){if(!isNaN(t)&&this.inboundIndex(t)){var n=this.tokens.splice(t,1);return e||this.dispatch("removeToken",[n,t]),n}else return{FAIL:"removeToken: invalid token index."}};pr.prototype.insertToken=function(t,e,n){var r=t.every(function(i){return i instanceof e0});return r?(this.tokens.splice.apply(this.tokens,[e,0].concat(t)),n||this.dispatch("insertToken",[t,e]),t):{FAIL:"insertToken: invalid token(s)."}};pr.prototype.registerModifier=function(t,e,n){this.events.newToken.subscribe(function(r,i){var s=[r,i],o=e===null||e.apply(this,s)===!0,a=[r,i];if(o){var l=n.apply(this,a);r.setState(t,l)}}),this.registeredModifiers.push(t)};d6.prototype.subscribe=function(t){return typeof t=="function"?this.subscribers.push(t)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}};d6.prototype.unsubscribe=function(t){this.subscribers.splice(t,1)};Jo.prototype.setCurrentIndex=function(t){this.index=t,this.current=this.context[t],this.backtrack=this.context.slice(0,t),this.lookahead=this.context.slice(t+1)};Jo.prototype.get=function(t){switch(!0){case t===0:return this.current;case(t<0&&Math.abs(t)<=this.backtrack.length):return this.backtrack.slice(t)[0];case(t>0&&t<=this.lookahead.length):return this.lookahead[t-1];default:return null}};pr.prototype.rangeToText=function(t){if(t instanceof jT)return this.getRangeTokens(t).map(function(e){return e.char}).join("")};pr.prototype.getText=function(){return this.tokens.map(function(t){return t.char}).join("")};pr.prototype.getContext=function(t){var e=this.registeredContexts[t];return e||null};pr.prototype.on=function(t,e){var n=this.events[t];return n?n.subscribe(e):null};pr.prototype.dispatch=function(t,e){var n=this,r=this.events[t];r instanceof d6&&r.subscribers.forEach(function(i){i.apply(n,e||[])})};pr.prototype.registerContextChecker=function(t,e,n){if(this.getContext(t))return{FAIL:"context name '"+t+"' is already registered."};if(typeof e!="function")return{FAIL:"missing context start check."};if(typeof n!="function")return{FAIL:"missing context end check."};var r=new O0e(t,e,n);return this.registeredContexts[t]=r,this.contextCheckers.push(r),r};pr.prototype.getRangeTokens=function(t){var e=t.startIndex+t.endOffset;return[].concat(this.tokens.slice(t.startIndex,e))};pr.prototype.getContextRanges=function(t){var e=this.getContext(t);return e?e.ranges:{FAIL:"context checker '"+t+"' is not registered."}};pr.prototype.resetContextsRanges=function(){var t=this.registeredContexts;for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];n.ranges=[]}};pr.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var t=this.tokens.map(function(r){return r.char}),e=0;e<t.length;e++){var n=new Jo(t,e);this.runContextCheck(n)}this.dispatch("updateContextsRanges",[this.registeredContexts])};pr.prototype.setEndOffset=function(t,e){var n=this.getContext(e).openRange.startIndex,r=new jT(n,t,e),i=this.getContext(e).ranges;return r.rangeId=e+"."+i.length,i.push(r),this.getContext(e).openRange=null,r};pr.prototype.runContextCheck=function(t){var e=this,n=t.index;this.contextCheckers.forEach(function(r){var i=r.contextName,s=e.getContext(i).openRange;if(!s&&r.checkStart(t)&&(s=new jT(n,null,i),e.getContext(i).openRange=s,e.dispatch("contextStart",[i,n])),s&&r.checkEnd(t)){var o=n-s.startIndex+1,a=e.setEndOffset(o,i);e.dispatch("contextEnd",[i,a])}})};pr.prototype.tokenize=function(t){this.tokens=[],this.resetContextsRanges();var e=Array.from(t);this.dispatch("start");for(var n=0;n<e.length;n++){var r=e[n],i=new Jo(e,n);this.dispatch("next",[i]),this.runContextCheck(i);var s=new e0(r);this.tokens.push(s),this.dispatch("newToken",[s,i])}return this.dispatch("end",[this.tokens]),this.tokens};function Wc(t){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(t)}function iV(t){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(t)}function iu(t){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(t)}function fv(t){return/[A-z]/.test(t)}function N0e(t){return/\s/.test(t)}function Ns(t){this.font=t,this.features={}}function ch(t){this.id=t.id,this.tag=t.tag,this.substitution=t.substitution}function U3(t,e){if(!t)return-1;switch(e.format){case 1:return e.glyphs.indexOf(t);case 2:for(var n=e.ranges,r=0;r<n.length;r++){var i=n[r];if(t>=i.start&&t<=i.end){var s=t-i.start;return i.index+s}}break;default:return-1}return-1}function k0e(t,e){var n=U3(t,e.coverage);return n===-1?null:t+e.deltaGlyphId}function U0e(t,e){var n=U3(t,e.coverage);return n===-1?null:e.substitute[n]}function l_(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r],s=e.current;s=Array.isArray(s)?s[0]:s;var o=U3(s,i);o!==-1&&n.push(o)}return n.length!==t.length?-1:n}function G0e(t,e){var n=e.inputCoverage.length+e.lookaheadCoverage.length+e.backtrackCoverage.length;if(t.context.length<n)return[];var r=l_(e.inputCoverage,t);if(r===-1)return[];var i=e.inputCoverage.length-1;if(t.lookahead.length<e.lookaheadCoverage.length)return[];for(var s=t.lookahead.slice(i);s.length&&iu(s[0].char);)s.shift();var o=new Jo(s,0),a=l_(e.lookaheadCoverage,o),l=[].concat(t.backtrack);for(l.reverse();l.length&&iu(l[0].char);)l.shift();if(l.length<e.backtrackCoverage.length)return[];var c=new Jo(l,0),u=l_(e.backtrackCoverage,c),h=r.length===e.inputCoverage.length&&a.length===e.lookaheadCoverage.length&&u.length===e.backtrackCoverage.length,f=[];if(h)for(var m=0;m<e.lookupRecords.length;m++)for(var g=e.lookupRecords[m],E=g.lookupListIndex,x=this.getLookupByIndex(E),A=0;A<x.subtables.length;A++){var v=x.subtables[A],y=this.getLookupMethod(x,v),S=this.getSubstitutionType(x,v);if(S==="12")for(var w=0;w<r.length;w++){var T=t.get(w),b=y(T);b&&f.push(b)}}return f}function H0e(t,e){var n=t.current,r=U3(n,e.coverage);if(r===-1)return null;for(var i,s=e.ligatureSets[r],o=0;o<s.length;o++){i=s[o];for(var a=0;a<i.components.length;a++){var l=t.lookahead[a],c=i.components[a];if(l!==c)break;if(a===i.components.length-1)return i}}return null}function Q0e(t,e){var n=U3(t,e.coverage);return n===-1?null:e.sequences[n]}Ns.prototype.getDefaultScriptFeaturesIndexes=function(){for(var t=this.font.tables.gsub.scripts,e=0;e<t.length;e++){var n=t[e];if(n.tag==="DFLT")return n.script.defaultLangSys.featureIndexes}return[]};Ns.prototype.getScriptFeaturesIndexes=function(t){var e=this.font.tables;if(!e.gsub)return[];if(!t)return this.getDefaultScriptFeaturesIndexes();for(var n=this.font.tables.gsub.scripts,r=0;r<n.length;r++){var i=n[r];if(i.tag===t&&i.script.defaultLangSys)return i.script.defaultLangSys.featureIndexes;var s=i.langSysRecords;if(s)for(var o=0;o<s.length;o++){var a=s[o];if(a.tag===t){var l=a.langSys;return l.featureIndexes}}}return this.getDefaultScriptFeaturesIndexes()};Ns.prototype.mapTagsToFeatures=function(t,e){for(var n={},r=0;r<t.length;r++){var i=t[r].tag,s=t[r].feature;n[i]=s}this.features[e].tags=n};Ns.prototype.getScriptFeatures=function(t){var e=this.features[t];if(this.features.hasOwnProperty(t))return e;var n=this.getScriptFeaturesIndexes(t);if(!n)return null;var r=this.font.tables.gsub;return e=n.map(function(i){return r.features[i]}),this.features[t]=e,this.mapTagsToFeatures(e,t),e};Ns.prototype.getSubstitutionType=function(t,e){var n=t.lookupType.toString(),r=e.substFormat.toString();return n+r};Ns.prototype.getLookupMethod=function(t,e){var n=this,r=this.getSubstitutionType(t,e);switch(r){case"11":return function(i){return k0e.apply(n,[i,e])};case"12":return function(i){return U0e.apply(n,[i,e])};case"63":return function(i){return G0e.apply(n,[i,e])};case"41":return function(i){return H0e.apply(n,[i,e])};case"21":return function(i){return Q0e.apply(n,[i,e])};default:throw new Error("lookupType: "+t.lookupType+" - substFormat: "+e.substFormat+" is not yet supported")}};Ns.prototype.lookupFeature=function(t){var e=t.contextParams,n=e.index,r=this.getFeature({tag:t.tag,script:t.script});if(!r)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+t.tag+"' for script '"+t.script+"'.");for(var i=this.getFeatureLookups(r),s=[].concat(e.context),o=0;o<i.length;o++)for(var a=i[o],l=this.getLookupSubtables(a),c=0;c<l.length;c++){var u=l[c],h=this.getSubstitutionType(a,u),f=this.getLookupMethod(a,u),m=void 0;switch(h){case"11":m=f(e.current),m&&s.splice(n,1,new ch({id:11,tag:t.tag,substitution:m}));break;case"12":m=f(e.current),m&&s.splice(n,1,new ch({id:12,tag:t.tag,substitution:m}));break;case"63":m=f(e),Array.isArray(m)&&m.length&&s.splice(n,1,new ch({id:63,tag:t.tag,substitution:m}));break;case"41":m=f(e),m&&s.splice(n,1,new ch({id:41,tag:t.tag,substitution:m}));break;case"21":m=f(e.current),m&&s.splice(n,1,new ch({id:21,tag:t.tag,substitution:m}));break}e=new Jo(s,n),!(Array.isArray(m)&&!m.length)&&(m=null)}return s.length?s:null};Ns.prototype.supports=function(t){if(!t.script)return!1;this.getScriptFeatures(t.script);var e=this.features.hasOwnProperty(t.script);if(!t.tag)return e;var n=this.features[t.script].some(function(r){return r.tag===t.tag});return e&&n};Ns.prototype.getLookupSubtables=function(t){return t.subtables||null};Ns.prototype.getLookupByIndex=function(t){var e=this.font.tables.gsub.lookups;return e[t]||null};Ns.prototype.getFeatureLookups=function(t){return t.lookupListIndexes.map(this.getLookupByIndex.bind(this))};Ns.prototype.getFeature=function(e){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(e.script)||this.getScriptFeatures(e.script);var n=this.features[e.script];return n?n.tags[e.tag]?this.features[e.script].tags[e.tag]:null:{FAIL:"No feature for script "+e.script}};function z0e(t){var e=t.current,n=t.get(-1);return n===null&&Wc(e)||!Wc(n)&&Wc(e)}function V0e(t){var e=t.get(1);return e===null||!Wc(e)}var W0e={startCheck:z0e,endCheck:V0e};function j0e(t){var e=t.current,n=t.get(-1);return(Wc(e)||iu(e))&&!Wc(n)}function $0e(t){var e=t.get(1);switch(!0){case e===null:return!0;case(!Wc(e)&&!iu(e)):var n=N0e(e);if(!n)return!0;if(n){var r=!1;if(r=t.lookahead.some(function(i){return Wc(i)||iu(i)}),!r)return!0}break;default:return!1}}var K0e={startCheck:j0e,endCheck:$0e};function X0e(t,e,n){e[n].setState(t.tag,t.substitution)}function J0e(t,e,n){e[n].setState(t.tag,t.substitution)}function Y0e(t,e,n){t.substitution.forEach(function(r,i){var s=e[n+i];s.setState(t.tag,r)})}function q0e(t,e,n){var r=e[n];r.setState(t.tag,t.substitution.ligGlyph);for(var i=t.substitution.components.length,s=0;s<i;s++)r=e[n+s+1],r.setState("deleted",!0)}var $D={11:X0e,12:J0e,63:Y0e,41:q0e};function $T(t,e,n){t instanceof ch&&$D[t.id]&&$D[t.id](t,e,n)}function Z0e(t){for(var e=[].concat(t.backtrack),n=e.length-1;n>=0;n--){var r=e[n],i=iV(r),s=iu(r);if(!i&&!s)return!0;if(i)return!1}return!1}function eme(t){if(iV(t.current))return!1;for(var e=0;e<t.lookahead.length;e++){var n=t.lookahead[e],r=iu(n);if(!r)return!0}return!1}function tme(t){var e=this,n="arab",r=this.featuresTags[n],i=this.tokenizer.getRangeTokens(t);if(i.length!==1){var s=new Jo(i.map(function(a){return a.getState("glyphIndex")}),0),o=new Jo(i.map(function(a){return a.char}),0);i.forEach(function(a,l){if(!iu(a.char)){s.setCurrentIndex(l),o.setCurrentIndex(l);var c=0;Z0e(o)&&(c|=1),eme(o)&&(c|=2);var u;switch(c){case 1:u="fina";break;case 2:u="init";break;case 3:u="medi";break}if(r.indexOf(u)!==-1){var h=e.query.lookupFeature({tag:u,script:n,contextParams:s});if(h instanceof Error)return console.info(h.message);h.forEach(function(f,m){f instanceof ch&&($T(f,i,m),s.context[m]=f.substitution)})}}})}}function KD(t,e){var n=t.map(function(r){return r.activeState.value});return new Jo(n,e||0)}function nme(t){var e=this,n="arab",r=this.tokenizer.getRangeTokens(t),i=KD(r);i.context.forEach(function(s,o){i.setCurrentIndex(o);var a=e.query.lookupFeature({tag:"rlig",script:n,contextParams:i});a.length&&(a.forEach(function(l){return $T(l,r,o)}),i=KD(r))})}function rme(t){var e=t.current,n=t.get(-1);return n===null&&fv(e)||!fv(n)&&fv(e)}function ime(t){var e=t.get(1);return e===null||!fv(e)}var sme={startCheck:rme,endCheck:ime};function XD(t,e){var n=t.map(function(r){return r.activeState.value});return new Jo(n,e||0)}function ome(t){var e=this,n="latn",r=this.tokenizer.getRangeTokens(t),i=XD(r);i.context.forEach(function(s,o){i.setCurrentIndex(o);var a=e.query.lookupFeature({tag:"liga",script:n,contextParams:i});a.length&&(a.forEach(function(l){return $T(l,r,o)}),i=XD(r))})}function ia(t){this.baseDir=t||"ltr",this.tokenizer=new pr,this.featuresTags={}}ia.prototype.setText=function(t){this.text=t};ia.prototype.contextChecks={latinWordCheck:sme,arabicWordCheck:W0e,arabicSentenceCheck:K0e};function c_(t){var e=this.contextChecks[t+"Check"];return this.tokenizer.registerContextChecker(t,e.startCheck,e.endCheck)}function ame(){return c_.call(this,"latinWord"),c_.call(this,"arabicWord"),c_.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function lme(){var t=this,e=this.tokenizer.getContextRanges("arabicSentence");e.forEach(function(n){var r=t.tokenizer.getRangeTokens(n);t.tokenizer.replaceRange(n.startIndex,n.endOffset,r.reverse())})}ia.prototype.registerFeatures=function(t,e){var n=this,r=e.filter(function(i){return n.query.supports({script:t,tag:i})});this.featuresTags.hasOwnProperty(t)?this.featuresTags[t]=this.featuresTags[t].concat(r):this.featuresTags[t]=r};ia.prototype.applyFeatures=function(t,e){if(!t)throw new Error("No valid font was provided to apply features");this.query||(this.query=new Ns(t));for(var n=0;n<e.length;n++){var r=e[n];this.query.supports({script:r.script})&&this.registerFeatures(r.script,r.tags)}};ia.prototype.registerModifier=function(t,e,n){this.tokenizer.registerModifier(t,e,n)};function KT(){if(this.tokenizer.registeredModifiers.indexOf("glyphIndex")===-1)throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function cme(){var t=this,e="arab";if(this.featuresTags.hasOwnProperty(e)){KT.call(this);var n=this.tokenizer.getContextRanges("arabicWord");n.forEach(function(r){tme.call(t,r)})}}function ume(){var t=this,e="arab";if(this.featuresTags.hasOwnProperty(e)){var n=this.featuresTags[e];if(n.indexOf("rlig")!==-1){KT.call(this);var r=this.tokenizer.getContextRanges("arabicWord");r.forEach(function(i){nme.call(t,i)})}}}function hme(){var t=this,e="latn";if(this.featuresTags.hasOwnProperty(e)){var n=this.featuresTags[e];if(n.indexOf("liga")!==-1){KT.call(this);var r=this.tokenizer.getContextRanges("latinWord");r.forEach(function(i){ome.call(t,i)})}}}ia.prototype.checkContextReady=function(t){return!!this.tokenizer.getContext(t)};ia.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(cme.call(this),ume.call(this)),this.checkContextReady("latinWord")&&hme.call(this),this.checkContextReady("arabicSentence")&&lme.call(this)};ia.prototype.processText=function(t){(!this.text||this.text!==t)&&(this.setText(t),ame.call(this),this.applyFeaturesToContexts())};ia.prototype.getBidiText=function(t){return this.processText(t),this.tokenizer.getText()};ia.prototype.getTextGlyphs=function(t){this.processText(t);for(var e=[],n=0;n<this.tokenizer.tokens.length;n++){var r=this.tokenizer.tokens[n];if(!r.state.deleted){var i=r.activeState.value;e.push(Array.isArray(i)?i[0]:i)}}return e};function Rn(t){t=t||{},t.tables=t.tables||{},t.empty||(Z0(t.familyName,"When creating a new Font object, familyName is required."),Z0(t.styleName,"When creating a new Font object, styleName is required."),Z0(t.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Z0(t.ascender,"When creating a new Font object, ascender is required."),Z0(t.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:t.familyName||" "},fontSubfamily:{en:t.styleName||" "},fullName:{en:t.fullName||t.familyName+" "+t.styleName},postScriptName:{en:t.postScriptName||(t.familyName+t.styleName).replace(/\s/g,"")},designer:{en:t.designer||" "},designerURL:{en:t.designerURL||" "},manufacturer:{en:t.manufacturer||" "},manufacturerURL:{en:t.manufacturerURL||" "},license:{en:t.license||" "},licenseURL:{en:t.licenseURL||" "},version:{en:t.version||"Version 0.1"},description:{en:t.description||" "},copyright:{en:t.copyright||" "},trademark:{en:t.trademark||" "}},this.unitsPerEm=t.unitsPerEm||1e3,this.ascender=t.ascender,this.descender=t.descender,this.createdTimestamp=t.createdTimestamp,this.tables=Object.assign(t.tables,{os2:Object.assign({usWeightClass:t.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:t.widthClass||this.usWidthClasses.MEDIUM,fsSelection:t.fsSelection||this.fsSelectionValues.REGULAR},t.tables.os2)})),this.supported=!0,this.glyphs=new Oa.GlyphSet(this,t.glyphs||[]),this.encoding=new Oz(this),this.position=new F3(this),this.substitution=new Fs(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){if(this._hinting)return this._hinting;if(this.outlinesFormat==="truetype")return this._hinting=new eV(this)}})}Rn.prototype.hasChar=function(t){return this.encoding.charToGlyphIndex(t)!==null};Rn.prototype.charToGlyphIndex=function(t){return this.encoding.charToGlyphIndex(t)};Rn.prototype.charToGlyph=function(t){var e=this.charToGlyphIndex(t),n=this.glyphs.get(e);return n||(n=this.glyphs.get(0)),n};Rn.prototype.updateFeatures=function(t){return this.defaultRenderOptions.features.map(function(e){return e.script==="latn"?{script:"latn",tags:e.tags.filter(function(n){return t[n]})}:e})};Rn.prototype.stringToGlyphs=function(t,e){var n=this,r=new ia,i=function(h){return n.charToGlyphIndex(h.char)};r.registerModifier("glyphIndex",null,i);var s=e?this.updateFeatures(e.features):this.defaultRenderOptions.features;r.applyFeatures(this,s);for(var o=r.getTextGlyphs(t),a=o.length,l=new Array(a),c=this.glyphs.get(0),u=0;u<a;u+=1)l[u]=this.glyphs.get(o[u])||c;return l};Rn.prototype.nameToGlyphIndex=function(t){return this.glyphNames.nameToGlyphIndex(t)};Rn.prototype.nameToGlyph=function(t){var e=this.nameToGlyphIndex(t),n=this.glyphs.get(e);return n||(n=this.glyphs.get(0)),n};Rn.prototype.glyphIndexToName=function(t){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(t):""};Rn.prototype.getKerningValue=function(t,e){t=t.index||t,e=e.index||e;var n=this.position.defaultKerningTables;return n?this.position.getKerningValue(n,t,e):this.kerningPairs[t+","+e]||0};Rn.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]};Rn.prototype.forEachGlyph=function(t,e,n,r,i,s){e=e!==void 0?e:0,n=n!==void 0?n:0,r=r!==void 0?r:72,i=Object.assign({},this.defaultRenderOptions,i);var o=1/this.unitsPerEm*r,a=this.stringToGlyphs(t,i),l;if(i.kerning){var c=i.script||this.position.getDefaultScriptName();l=this.position.getKerningTables(c,i.language)}for(var u=0;u<a.length;u+=1){var h=a[u];if(s.call(this,h,e,n,r,i),h.advanceWidth&&(e+=h.advanceWidth*o),i.kerning&&u<a.length-1){var f=l?this.position.getKerningValue(l,h.index,a[u+1].index):this.getKerningValue(h,a[u+1]);e+=f*o}i.letterSpacing?e+=i.letterSpacing*r:i.tracking&&(e+=i.tracking/1e3*r)}return e};Rn.prototype.getPath=function(t,e,n,r,i){var s=new Gr;return this.forEachGlyph(t,e,n,r,i,function(o,a,l,c){var u=o.getPath(a,l,c,i,this);s.extend(u)}),s};Rn.prototype.getPaths=function(t,e,n,r,i){var s=[];return this.forEachGlyph(t,e,n,r,i,function(o,a,l,c){var u=o.getPath(a,l,c,i,this);s.push(u)}),s};Rn.prototype.getAdvanceWidth=function(t,e,n){return this.forEachGlyph(t,0,0,e,n,function(){})};Rn.prototype.draw=function(t,e,n,r,i,s){this.getPath(e,n,r,i,s).draw(t)};Rn.prototype.drawPoints=function(t,e,n,r,i,s){this.forEachGlyph(e,n,r,i,s,function(o,a,l,c){o.drawPoints(t,a,l,c)})};Rn.prototype.drawMetrics=function(t,e,n,r,i,s){this.forEachGlyph(e,n,r,i,s,function(o,a,l,c){o.drawMetrics(t,a,l,c)})};Rn.prototype.getEnglishName=function(t){var e=this.names[t];if(e)return e.en};Rn.prototype.validate=function(){var t=this;function e(r,i){}function n(r){var i=t.getEnglishName(r);i&&i.trim().length>0}n("fontFamily"),n("weightName"),n("manufacturer"),n("copyright"),n("version"),this.unitsPerEm>0};Rn.prototype.toTables=function(){return Yde.fontToTable(this)};Rn.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()};Rn.prototype.toArrayBuffer=function(){for(var t=this.toTables(),e=t.encode(),n=new ArrayBuffer(e.length),r=new Uint8Array(n),i=0;i<e.length;i++)r[i]=e[i];return n};Rn.prototype.download=function(t){var e=this.getEnglishName("fontFamily"),n=this.getEnglishName("fontSubfamily");t=t||e.replace(/\s/g,"")+"-"+n+".otf";var r=this.toArrayBuffer();if(Zde())if(window.URL=window.URL||window.webkitURL,window.URL){var i=new DataView(r),s=new Blob([i],{type:"font/opentype"}),o=document.createElement("a");o.href=window.URL.createObjectURL(s),o.download=t;var a=document.createEvent("MouseEvents");a.initEvent("click",!0,!1),o.dispatchEvent(a)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var l=require("fs"),c=epe(r);l.writeFileSync(t,c)}};Rn.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};Rn.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};Rn.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Hl=new Array(10);Hl[1]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{posFormat:1,coverage:this.parsePointer(Ae.coverage),value:this.parseValueRecord()};if(n===2)return{posFormat:2,coverage:this.parsePointer(Ae.coverage),values:this.parseValueRecordList()};Rt.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")};Hl[2]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();Rt.assert(n===1||n===2,"0x"+e.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var r=this.parsePointer(Ae.coverage),i=this.parseUShort(),s=this.parseUShort();if(n===1)return{posFormat:n,coverage:r,valueFormat1:i,valueFormat2:s,pairSets:this.parseList(Ae.pointer(Ae.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(i),value2:this.parseValueRecord(s)}})))};if(n===2){var o=this.parsePointer(Ae.classDef),a=this.parsePointer(Ae.classDef),l=this.parseUShort(),c=this.parseUShort();return{posFormat:n,coverage:r,valueFormat1:i,valueFormat2:s,classDef1:o,classDef2:a,class1Count:l,class2Count:c,classRecords:this.parseList(l,Ae.list(c,function(){return{value1:this.parseValueRecord(i),value2:this.parseValueRecord(s)}}))}}};Hl[3]=function(){return{error:"GPOS Lookup 3 not supported"}};Hl[4]=function(){return{error:"GPOS Lookup 4 not supported"}};Hl[5]=function(){return{error:"GPOS Lookup 5 not supported"}};Hl[6]=function(){return{error:"GPOS Lookup 6 not supported"}};Hl[7]=function(){return{error:"GPOS Lookup 7 not supported"}};Hl[8]=function(){return{error:"GPOS Lookup 8 not supported"}};Hl[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var fme=Object.defineProperty,dme=(t,e,n)=>e in t?fme(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Me=(t,e,n)=>(dme(t,typeof e!="symbol"?e+"":e,n),n);function JD(t,e){if(e===NH)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===iy||e===Z9){let n=t.getIndex();if(n===null){const o=[],a=t.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);t.setIndex(o),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const r=n.count-2,i=[];if(n)if(e===iy)for(let o=1;o<=r;o++)i.push(n.getX(0)),i.push(n.getX(o)),i.push(n.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(n.getX(o)),i.push(n.getX(o+1)),i.push(n.getX(o+2))):(i.push(n.getX(o+2)),i.push(n.getX(o+1)),i.push(n.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=t.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}new Fe;const sV=class{parse(t,e={decodeSpeed:5,encodeSpeed:5,encoderMethod:sV.MESH_EDGEBREAKER_ENCODING,quantization:[16,8,8,8,8],exportUvs:!0,exportNormals:!0,exportColor:!1}){if(t instanceof Mt&&t.isBufferGeometry)throw new Error("DRACOExporter: The first parameter of parse() is now an instance of Mesh or Points.");if(DracoEncoderModule===void 0)throw new Error("THREE.DRACOExporter: required the draco_encoder to work.");const n=t.geometry,r=DracoEncoderModule(),i=new r.Encoder;let s,o;if(!n.isBufferGeometry)throw new Error("THREE.DRACOExporter.parse(geometry, options): geometry is not a THREE.BufferGeometry instance.");if(t instanceof fn&&t.isMesh){s=new r.MeshBuilder,o=new r.Mesh;const f=n.getAttribute("position");s.AddFloatAttributeToMesh(o,r.POSITION,f.count,f.itemSize,f.array);const m=n.getIndex();if(m!==null)s.AddFacesToMesh(o,m.count/3,m.array);else{const g=new(f.count>65535?Uint32Array:Uint16Array)(f.count);for(let E=0;E<g.length;E++)g[E]=E;s.AddFacesToMesh(o,f.count,g)}if(e.exportNormals){const g=n.getAttribute("normal");g!==void 0&&s.AddFloatAttributeToMesh(o,r.NORMAL,g.count,g.itemSize,g.array)}if(e.exportUvs){const g=n.getAttribute("uv");g!==void 0&&s.AddFloatAttributeToMesh(o,r.TEX_COORD,g.count,g.itemSize,g.array)}if(e.exportColor){const g=n.getAttribute("color");g!==void 0&&s.AddFloatAttributeToMesh(o,r.COLOR,g.count,g.itemSize,g.array)}}else if(t instanceof j5&&t.isPoints){s=new r.PointCloudBuilder,o=new r.PointCloud;const f=n.getAttribute("position");if(s.AddFloatAttribute(o,r.POSITION,f.count,f.itemSize,f.array),e.exportColor){const m=n.getAttribute("color");m!==void 0&&s.AddFloatAttribute(o,r.COLOR,m.count,m.itemSize,m.array)}}else throw new Error("DRACOExporter: Unsupported object type.");const a=new r.DracoInt8Array,l=e.encodeSpeed!==void 0?e.encodeSpeed:5,c=e.decodeSpeed!==void 0?e.decodeSpeed:5;if(i.SetSpeedOptions(l,c),e.encoderMethod!==void 0&&i.SetEncodingMethod(e.encoderMethod),e.quantization!==void 0)for(let f=0;f<5;f++)e.quantization[f]!==void 0&&i.SetAttributeQuantization(f,e.quantization[f]);let u;if(t instanceof fn&&t.isMesh?u=i.EncodeMeshToDracoBuffer(o,a):u=i.EncodePointCloudToDracoBuffer(o,!0,a),r.destroy(o),u===0)throw new Error("THREE.DRACOExporter: Draco encoding failed.");const h=new Int8Array(new ArrayBuffer(u));for(let f=0;f<u;f++)h[f]=a.GetValue(f);return r.destroy(a),r.destroy(i),r.destroy(s),h}};let za=sV;Me(za,"MESH_EDGEBREAKER_ENCODING",1);Me(za,"MESH_SEQUENTIAL_ENCODING",0);Me(za,"POINT_CLOUD",0);Me(za,"TRIANGULAR_MESH",1);Me(za,"INVALID",-1);Me(za,"POSITION",0);Me(za,"NORMAL",1);Me(za,"COLOR",2);Me(za,"TEX_COORD",3);Me(za,"GENERIC",4);const oV=class extends fn{constructor(t,e={}){super(t),this.isReflector=!0,this.type="Reflector",this.camera=new xn;const n=this,r=e.color!==void 0?new Fe(e.color):new Fe(8355711),i=e.textureWidth||512,s=e.textureHeight||512,o=e.clipBias||0,a=e.shader||oV.ReflectorShader,l=e.multisample!==void 0?e.multisample:4,c=new no,u=new O,h=new O,f=new O,m=new st,g=new O(0,0,-1),E=new Jt,x=new O,A=new O,v=new Jt,y=new st,S=this.camera,w=new En(i,s,{samples:l,type:vr}),T=new en({uniforms:qn.clone(a.uniforms),fragmentShader:a.fragmentShader,vertexShader:a.vertexShader});T.uniforms.tDiffuse.value=w.texture,T.uniforms.color.value=r,T.uniforms.textureMatrix.value=y,this.material=T,this.onBeforeRender=function(b,R,M){if(h.setFromMatrixPosition(n.matrixWorld),f.setFromMatrixPosition(M.matrixWorld),m.extractRotation(n.matrixWorld),u.set(0,0,1),u.applyMatrix4(m),x.subVectors(h,f),x.dot(u)>0)return;x.reflect(u).negate(),x.add(h),m.extractRotation(M.matrixWorld),g.set(0,0,-1),g.applyMatrix4(m),g.add(f),A.subVectors(h,g),A.reflect(u).negate(),A.add(h),S.position.copy(x),S.up.set(0,1,0),S.up.applyMatrix4(m),S.up.reflect(u),S.lookAt(A),S.far=M.far,S.updateMatrixWorld(),S.projectionMatrix.copy(M.projectionMatrix),y.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),y.multiply(S.projectionMatrix),y.multiply(S.matrixWorldInverse),y.multiply(n.matrixWorld),c.setFromNormalAndCoplanarPoint(u,h),c.applyMatrix4(S.matrixWorldInverse),E.set(c.normal.x,c.normal.y,c.normal.z,c.constant);const B=S.projectionMatrix;v.x=(Math.sign(E.x)+B.elements[8])/B.elements[0],v.y=(Math.sign(E.y)+B.elements[9])/B.elements[5],v.z=-1,v.w=(1+B.elements[10])/B.elements[14],E.multiplyScalar(2/E.dot(v)),B.elements[2]=E.x,B.elements[6]=E.y,B.elements[10]=E.z+1-o,B.elements[14]=E.w,n.visible=!1;const L=b.getRenderTarget(),G=b.xr.enabled,F=b.shadowMap.autoUpdate,$=b.toneMapping;let W=!1;"outputColorSpace"in b?W=b.outputColorSpace==="srgb":W=b.outputEncoding===3001,b.xr.enabled=!1,b.shadowMap.autoUpdate=!1,"outputColorSpace"in b?b.outputColorSpace="linear-srgb":b.outputEncoding=3e3,b.toneMapping=ao,b.setRenderTarget(w),b.state.buffers.depth.setMask(!0),b.autoClear===!1&&b.clear(),b.render(R,S),b.xr.enabled=G,b.shadowMap.autoUpdate=F,b.toneMapping=$,"outputColorSpace"in b?b.outputColorSpace=W?"srgb":"srgb-linear":b.outputEncoding=W?3001:3e3,b.setRenderTarget(L);const Z=M.viewport;Z!==void 0&&b.state.viewport(Z),n.visible=!0},this.getRenderTarget=function(){return w},this.dispose=function(){w.dispose(),n.material.dispose()}}};let uC=oV;Me(uC,"ReflectorShader",{uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:`
		uniform mat4 textureMatrix;
		varying vec4 vUv;

		#include <common>
		#include <logdepthbuf_pars_vertex>

		void main() {

			vUv = textureMatrix * vec4( position, 1.0 );

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

			#include <logdepthbuf_vertex>

		}`,fragmentShader:`
		uniform vec3 color;
		uniform sampler2D tDiffuse;
		varying vec4 vUv;

		#include <logdepthbuf_pars_fragment>

		float blendOverlay( float base, float blend ) {

			return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );

		}

		vec3 blendOverlay( vec3 base, vec3 blend ) {

			return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );

		}

		void main() {

			#include <logdepthbuf_fragment>

			vec4 base = texture2DProj( tDiffuse, vUv );
			gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );

			#include <tonemapping_fragment>
			#include <${parseInt(Ga.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>

		}`});const aV=class extends fn{constructor(t,e={}){super(t),this.isRefractor=!0,this.type="Refractor",this.camera=new xn;const n=this,r=e.color!==void 0?new Fe(e.color):new Fe(8355711),i=e.textureWidth||512,s=e.textureHeight||512,o=e.clipBias||0,a=e.shader||aV.RefractorShader,l=e.multisample!==void 0?e.multisample:4,c=this.camera;c.matrixAutoUpdate=!1,c.userData.refractor=!0;const u=new no,h=new st,f=new En(i,s,{samples:l,type:vr});this.material=new en({uniforms:qn.clone(a.uniforms),vertexShader:a.vertexShader,fragmentShader:a.fragmentShader,transparent:!0}),this.material.uniforms.color.value=r,this.material.uniforms.tDiffuse.value=f.texture,this.material.uniforms.textureMatrix.value=h;const m=function(){const v=new O,y=new O,S=new st,w=new O,T=new O;return function(R){return v.setFromMatrixPosition(n.matrixWorld),y.setFromMatrixPosition(R.matrixWorld),w.subVectors(v,y),S.extractRotation(n.matrixWorld),T.set(0,0,1),T.applyMatrix4(S),w.dot(T)<0}}(),g=function(){const v=new O,y=new O,S=new Fr,w=new O;return function(){n.matrixWorld.decompose(y,S,w),v.set(0,0,1).applyQuaternion(S).normalize(),v.negate(),u.setFromNormalAndCoplanarPoint(v,y)}}(),E=function(){const v=new no,y=new Jt,S=new Jt;return function(T){c.matrixWorld.copy(T.matrixWorld),c.matrixWorldInverse.copy(c.matrixWorld).invert(),c.projectionMatrix.copy(T.projectionMatrix),c.far=T.far,v.copy(u),v.applyMatrix4(c.matrixWorldInverse),y.set(v.normal.x,v.normal.y,v.normal.z,v.constant);const b=c.projectionMatrix;S.x=(Math.sign(y.x)+b.elements[8])/b.elements[0],S.y=(Math.sign(y.y)+b.elements[9])/b.elements[5],S.z=-1,S.w=(1+b.elements[10])/b.elements[14],y.multiplyScalar(2/y.dot(S)),b.elements[2]=y.x,b.elements[6]=y.y,b.elements[10]=y.z+1-o,b.elements[14]=y.w}}();function x(v){h.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),h.multiply(v.projectionMatrix),h.multiply(v.matrixWorldInverse),h.multiply(n.matrixWorld)}function A(v,y,S){n.visible=!1;const w=v.getRenderTarget(),T=v.xr.enabled,b=v.shadowMap.autoUpdate,R=v.toneMapping;let M=!1;"outputColorSpace"in v?M=v.outputColorSpace==="srgb":M=v.outputEncoding===3001,v.xr.enabled=!1,v.shadowMap.autoUpdate=!1,"outputColorSpace"in v?v.outputColorSpace="linear-srgb":v.outputEncoding=3e3,v.toneMapping=ao,v.setRenderTarget(f),v.autoClear===!1&&v.clear(),v.render(y,c),v.xr.enabled=T,v.shadowMap.autoUpdate=b,v.toneMapping=R,v.setRenderTarget(w),"outputColorSpace"in v?v.outputColorSpace=M?"srgb":"srgb-linear":v.outputEncoding=M?3001:3e3;const B=S.viewport;B!==void 0&&v.state.viewport(B),n.visible=!0}this.onBeforeRender=function(v,y,S){S.userData.refractor!==!0&&m(S)&&(g(),x(S),E(S),A(v,y,S))},this.getRenderTarget=function(){return f},this.dispose=function(){f.dispose(),n.material.dispose()}}};let hC=aV;Me(hC,"RefractorShader",{uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:`

		uniform mat4 textureMatrix;

		varying vec4 vUv;

		void main() {

			vUv = textureMatrix * vec4( position, 1.0 );
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform vec3 color;
		uniform sampler2D tDiffuse;

		varying vec4 vUv;

		float blendOverlay( float base, float blend ) {

			return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );

		}

		vec3 blendOverlay( vec3 base, vec3 blend ) {

			return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );

		}

		void main() {

			vec4 base = texture2DProj( tDiffuse, vUv );
			gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );

			#include <tonemapping_fragment>
			#include <${parseInt(Ga.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>

		}`});const pme=new Mt,fC=class extends fn{constructor(){super(fC.Geometry,new oi({opacity:0,transparent:!0})),this.isLensflare=!0,this.type="Lensflare",this.frustumCulled=!1,this.renderOrder=1/0;const t=new O,e=new O,n=new Pa(new Uint8Array(16*16*3),16,16,fr);n.minFilter=It,n.magFilter=It,n.wrapS=Yn,n.wrapT=Yn;const r=new Pa(new Uint8Array(16*16*3),16,16,fr);r.minFilter=It,r.magFilter=It,r.wrapS=Yn,r.wrapT=Yn;const i=fC.Geometry,s=new jm({uniforms:{scale:{value:null},screenPosition:{value:null}},vertexShader:`

				precision highp float;

				uniform vec3 screenPosition;
				uniform vec2 scale;

				attribute vec3 position;

				void main() {

					gl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );

				}`,fragmentShader:`

				precision highp float;

				void main() {

					gl_FragColor = vec4( 1.0, 0.0, 1.0, 1.0 );

				}`,depthTest:!0,depthWrite:!1,transparent:!1}),o=new jm({uniforms:{map:{value:n},scale:{value:null},screenPosition:{value:null}},vertexShader:`

				precision highp float;

				uniform vec3 screenPosition;
				uniform vec2 scale;

				attribute vec3 position;
				attribute vec2 uv;

				varying vec2 vUV;

				void main() {

					vUV = uv;

					gl_Position = vec4( position.xy * scale + screenPosition.xy, screenPosition.z, 1.0 );

				}`,fragmentShader:`

				precision highp float;

				uniform sampler2D map;

				varying vec2 vUV;

				void main() {

					gl_FragColor = texture2D( map, vUV );

				}`,depthTest:!1,depthWrite:!1,transparent:!1}),a=new fn(i,s),l=[],c=lV.Shader,u=new jm({uniforms:{map:{value:null},occlusionMap:{value:r},color:{value:new Fe(16777215)},scale:{value:new ue},screenPosition:{value:new O}},vertexShader:c.vertexShader,fragmentShader:c.fragmentShader,blending:pp,transparent:!0,depthWrite:!1}),h=new fn(i,u);this.addElement=function(x){l.push(x)};const f=new ue,m=new ue,g=new VQ,E=new Jt;this.onBeforeRender=function(x,A,v){x.getCurrentViewport(E);const y=E.w/E.z,S=E.z/2,w=E.w/2;let T=16/E.w;if(f.set(T*y,T),g.min.set(E.x,E.y),g.max.set(E.x+(E.z-16),E.y+(E.w-16)),e.setFromMatrixPosition(this.matrixWorld),e.applyMatrix4(v.matrixWorldInverse),!(e.z>0)&&(t.copy(e).applyMatrix4(v.projectionMatrix),m.x=E.x+t.x*S+S-8,m.y=E.y+t.y*w+w-8,g.containsPoint(m))){x.copyFramebufferToTexture(m,n);let b=s.uniforms;b.scale.value=f,b.screenPosition.value=t,x.renderBufferDirect(v,null,i,s,a,null),x.copyFramebufferToTexture(m,r),b=o.uniforms,b.scale.value=f,b.screenPosition.value=t,x.renderBufferDirect(v,null,i,o,a,null);const R=-t.x*2,M=-t.y*2;for(let B=0,L=l.length;B<L;B++){const G=l[B],F=u.uniforms;F.color.value.copy(G.color),F.map.value=G.texture,F.screenPosition.value.x=t.x+R*G.distance,F.screenPosition.value.y=t.y+M*G.distance,T=G.size/E.w;const $=E.w/E.z;F.scale.value.set(T*$,T),u.uniformsNeedUpdate=!0,x.renderBufferDirect(v,null,i,u,h,null)}}},this.dispose=function(){s.dispose(),o.dispose(),u.dispose(),n.dispose(),r.dispose();for(let x=0,A=l.length;x<A;x++)l[x].texture.dispose()}}};let mme=fC;Me(mme,"Geometry",pme);class lV{constructor(e,n=1,r=0,i=new Fe(16777215)){this.texture=e,this.size=n,this.distance=r,this.color=i}}Me(lV,"Shader",{uniforms:{map:{value:null},occlusionMap:{value:null},color:{value:null},scale:{value:null},screenPosition:{value:null}},vertexShader:`

		precision highp float;

		uniform vec3 screenPosition;
		uniform vec2 scale;

		uniform sampler2D occlusionMap;

		attribute vec3 position;
		attribute vec2 uv;

		varying vec2 vUV;
		varying float vVisibility;

		void main() {

			vUV = uv;

			vec2 pos = position.xy;

			vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );
			visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );
			visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );
			visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );

			vVisibility =        visibility.r / 9.0;
			vVisibility *= 1.0 - visibility.g / 9.0;
			vVisibility *=       visibility.b / 9.0;

			gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );

		}`,fragmentShader:`

		precision highp float;

		uniform sampler2D map;
		uniform vec3 color;

		varying vec2 vUV;
		varying float vVisibility;

		void main() {

			vec4 texture = texture2D( map, vUV );
			texture.a *= vVisibility;
			gl_FragColor = texture;
			gl_FragColor.rgb *= color;

		}`});class Km{constructor(e=Math){Me(this,"grad3",[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]]),Me(this,"grad4",[[0,1,1,1],[0,1,1,-1],[0,1,-1,1],[0,1,-1,-1],[0,-1,1,1],[0,-1,1,-1],[0,-1,-1,1],[0,-1,-1,-1],[1,0,1,1],[1,0,1,-1],[1,0,-1,1],[1,0,-1,-1],[-1,0,1,1],[-1,0,1,-1],[-1,0,-1,1],[-1,0,-1,-1],[1,1,0,1],[1,1,0,-1],[1,-1,0,1],[1,-1,0,-1],[-1,1,0,1],[-1,1,0,-1],[-1,-1,0,1],[-1,-1,0,-1],[1,1,1,0],[1,1,-1,0],[1,-1,1,0],[1,-1,-1,0],[-1,1,1,0],[-1,1,-1,0],[-1,-1,1,0],[-1,-1,-1,0]]),Me(this,"p",[]),Me(this,"perm",[]),Me(this,"simplex",[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]]),Me(this,"dot",(n,r,i)=>n[0]*r+n[1]*i),Me(this,"dot3",(n,r,i,s)=>n[0]*r+n[1]*i+n[2]*s),Me(this,"dot4",(n,r,i,s,o)=>n[0]*r+n[1]*i+n[2]*s+n[3]*o),Me(this,"noise",(n,r)=>{let i,s,o;const a=.5*(Math.sqrt(3)-1),l=(n+r)*a,c=Math.floor(n+l),u=Math.floor(r+l),h=(3-Math.sqrt(3))/6,f=(c+u)*h,m=c-f,g=u-f,E=n-m,x=r-g;let A=0,v=1;E>x&&(A=1,v=0);const y=E-A+h,S=x-v+h,w=E-1+2*h,T=x-1+2*h,b=c&255,R=u&255,M=this.perm[b+this.perm[R]]%12,B=this.perm[b+A+this.perm[R+v]]%12,L=this.perm[b+1+this.perm[R+1]]%12;let G=.5-E*E-x*x;G<0?i=0:(G*=G,i=G*G*this.dot(this.grad3[M],E,x));let F=.5-y*y-S*S;F<0?s=0:(F*=F,s=F*F*this.dot(this.grad3[B],y,S));let $=.5-w*w-T*T;return $<0?o=0:($*=$,o=$*$*this.dot(this.grad3[L],w,T)),70*(i+s+o)}),Me(this,"noise3d",(n,r,i)=>{let s,o,a,l;const c=.3333333333333333,u=(n+r+i)*c,h=Math.floor(n+u),f=Math.floor(r+u),m=Math.floor(i+u),g=1/6,E=(h+f+m)*g,x=h-E,A=f-E,v=m-E,y=n-x,S=r-A,w=i-v;let T,b,R,M,B,L;y>=S?S>=w?(T=1,b=0,R=0,M=1,B=1,L=0):y>=w?(T=1,b=0,R=0,M=1,B=0,L=1):(T=0,b=0,R=1,M=1,B=0,L=1):S<w?(T=0,b=0,R=1,M=0,B=1,L=1):y<w?(T=0,b=1,R=0,M=0,B=1,L=1):(T=0,b=1,R=0,M=1,B=1,L=0);const G=y-T+g,F=S-b+g,$=w-R+g,W=y-M+2*g,Z=S-B+2*g,q=w-L+2*g,k=y-1+3*g,J=S-1+3*g,V=w-1+3*g,H=h&255,X=f&255,he=m&255,ge=this.perm[H+this.perm[X+this.perm[he]]]%12,Ce=this.perm[H+T+this.perm[X+b+this.perm[he+R]]]%12,be=this.perm[H+M+this.perm[X+B+this.perm[he+L]]]%12,Pe=this.perm[H+1+this.perm[X+1+this.perm[he+1]]]%12;let ke=.6-y*y-S*S-w*w;ke<0?s=0:(ke*=ke,s=ke*ke*this.dot3(this.grad3[ge],y,S,w));let Xe=.6-G*G-F*F-$*$;Xe<0?o=0:(Xe*=Xe,o=Xe*Xe*this.dot3(this.grad3[Ce],G,F,$));let Je=.6-W*W-Z*Z-q*q;Je<0?a=0:(Je*=Je,a=Je*Je*this.dot3(this.grad3[be],W,Z,q));let we=.6-k*k-J*J-V*V;return we<0?l=0:(we*=we,l=we*we*this.dot3(this.grad3[Pe],k,J,V)),32*(s+o+a+l)}),Me(this,"noise4d",(n,r,i,s)=>{const o=this.grad4,a=this.simplex,l=this.perm,c=(Math.sqrt(5)-1)/4,u=(5-Math.sqrt(5))/20;let h,f,m,g,E;const x=(n+r+i+s)*c,A=Math.floor(n+x),v=Math.floor(r+x),y=Math.floor(i+x),S=Math.floor(s+x),w=(A+v+y+S)*u,T=A-w,b=v-w,R=y-w,M=S-w,B=n-T,L=r-b,G=i-R,F=s-M,$=B>L?32:0,W=B>G?16:0,Z=L>G?8:0,q=B>F?4:0,k=L>F?2:0,J=G>F?1:0,V=$+W+Z+q+k+J;let H,X,he,ge,Ce,be,Pe,ke,Xe,Je,we,K;H=a[V][0]>=3?1:0,X=a[V][1]>=3?1:0,he=a[V][2]>=3?1:0,ge=a[V][3]>=3?1:0,Ce=a[V][0]>=2?1:0,be=a[V][1]>=2?1:0,Pe=a[V][2]>=2?1:0,ke=a[V][3]>=2?1:0,Xe=a[V][0]>=1?1:0,Je=a[V][1]>=1?1:0,we=a[V][2]>=1?1:0,K=a[V][3]>=1?1:0;const Se=B-H+u,ve=L-X+u,Be=G-he+u,Te=F-ge+u,Ye=B-Ce+2*u,Qe=L-be+2*u,ze=G-Pe+2*u,lt=F-ke+2*u,Et=B-Xe+3*u,ie=L-Je+3*u,N=G-we+3*u,D=F-K+3*u,ee=B-1+4*u,pe=L-1+4*u,fe=G-1+4*u,Ie=F-1+4*u,We=A&255,De=v&255,oe=y&255,Y=S&255,ye=l[We+l[De+l[oe+l[Y]]]]%32,Re=l[We+H+l[De+X+l[oe+he+l[Y+ge]]]]%32,Oe=l[We+Ce+l[De+be+l[oe+Pe+l[Y+ke]]]]%32,He=l[We+Xe+l[De+Je+l[oe+we+l[Y+K]]]]%32,mt=l[We+1+l[De+1+l[oe+1+l[Y+1]]]]%32;let Bt=.6-B*B-L*L-G*G-F*F;Bt<0?h=0:(Bt*=Bt,h=Bt*Bt*this.dot4(o[ye],B,L,G,F));let te=.6-Se*Se-ve*ve-Be*Be-Te*Te;te<0?f=0:(te*=te,f=te*te*this.dot4(o[Re],Se,ve,Be,Te));let Ge=.6-Ye*Ye-Qe*Qe-ze*ze-lt*lt;Ge<0?m=0:(Ge*=Ge,m=Ge*Ge*this.dot4(o[Oe],Ye,Qe,ze,lt));let ae=.6-Et*Et-ie*ie-N*N-D*D;ae<0?g=0:(ae*=ae,g=ae*ae*this.dot4(o[He],Et,ie,N,D));let Le=.6-ee*ee-pe*pe-fe*fe-Ie*Ie;return Le<0?E=0:(Le*=Le,E=Le*Le*this.dot4(o[mt],ee,pe,fe,Ie)),27*(h+f+m+g+E)});for(let n=0;n<256;n++)this.p[n]=Math.floor(e.random()*256);for(let n=0;n<512;n++)this.perm[n]=this.p[n&255]}}const Di=class extends Mt{constructor(t={}){super(),this.isLightningStrike=!0,this.type="LightningStrike",this.init(Di.copyParameters(t,t)),this.createMesh()}static createRandomGenerator(){const e=[];for(let r=0;r<2053;r++)e.push(Math.random());const n={currentSeed:0,random:function(){const r=e[n.currentSeed];return n.currentSeed=(n.currentSeed+1)%2053,r},getSeed:function(){return n.currentSeed/2053},setSeed:function(r){n.currentSeed=Math.floor(r*2053)%2053}};return n}static copyParameters(t={},e={}){const n=function(r){return e===t?r:r.clone()};return t.sourceOffset=e.sourceOffset!==void 0?n(e.sourceOffset):new O(0,100,0),t.destOffset=e.destOffset!==void 0?n(e.destOffset):new O(0,0,0),t.timeScale=e.timeScale!==void 0?e.timeScale:1,t.roughness=e.roughness!==void 0?e.roughness:.9,t.straightness=e.straightness!==void 0?e.straightness:.7,t.up0=e.up0!==void 0?n(e.up0):new O(0,0,1),t.up1=e.up1!==void 0?n(e.up1):new O(0,0,1),t.radius0=e.radius0!==void 0?e.radius0:1,t.radius1=e.radius1!==void 0?e.radius1:1,t.radius0Factor=e.radius0Factor!==void 0?e.radius0Factor:.5,t.radius1Factor=e.radius1Factor!==void 0?e.radius1Factor:.2,t.minRadius=e.minRadius!==void 0?e.minRadius:.2,t.isEternal=e.isEternal!==void 0?e.isEternal:e.birthTime===void 0||e.deathTime===void 0,t.birthTime=e.birthTime,t.deathTime=e.deathTime,t.propagationTimeFactor=e.propagationTimeFactor!==void 0?e.propagationTimeFactor:.1,t.vanishingTimeFactor=e.vanishingTimeFactor!==void 0?e.vanishingTimeFactor:.9,t.subrayPeriod=e.subrayPeriod!==void 0?e.subrayPeriod:4,t.subrayDutyCycle=e.subrayDutyCycle!==void 0?e.subrayDutyCycle:.6,t.maxIterations=e.maxIterations!==void 0?e.maxIterations:9,t.isStatic=e.isStatic!==void 0?e.isStatic:!1,t.ramification=e.ramification!==void 0?e.ramification:5,t.maxSubrayRecursion=e.maxSubrayRecursion!==void 0?e.maxSubrayRecursion:3,t.recursionProbability=e.recursionProbability!==void 0?e.recursionProbability:.6,t.generateUVs=e.generateUVs!==void 0?e.generateUVs:!1,t.randomGenerator=e.randomGenerator,t.noiseSeed=e.noiseSeed,t.onDecideSubrayCreation=e.onDecideSubrayCreation,t.onSubrayCreation=e.onSubrayCreation,t}update(t){this.isStatic||(this.rayParameters.isEternal||this.rayParameters.birthTime<=t&&t<=this.rayParameters.deathTime?(this.updateMesh(t),t<this.subrays[0].endPropagationTime?this.state=Di.RAY_PROPAGATING:t>this.subrays[0].beginVanishingTime?this.state=Di.RAY_VANISHING:this.state=Di.RAY_STEADY,this.visible=!0):(this.visible=!1,t<this.rayParameters.birthTime?this.state=Di.RAY_UNBORN:this.state=Di.RAY_EXTINGUISHED))}init(t){this.rayParameters=t,this.maxIterations=t.maxIterations!==void 0?Math.floor(t.maxIterations):9,t.maxIterations=this.maxIterations,this.isStatic=t.isStatic!==void 0?t.isStatic:!1,t.isStatic=this.isStatic,this.ramification=t.ramification!==void 0?Math.floor(t.ramification):5,t.ramification=this.ramification,this.maxSubrayRecursion=t.maxSubrayRecursion!==void 0?Math.floor(t.maxSubrayRecursion):3,t.maxSubrayRecursion=this.maxSubrayRecursion,this.recursionProbability=t.recursionProbability!==void 0?t.recursionProbability:.6,t.recursionProbability=this.recursionProbability,this.generateUVs=t.generateUVs!==void 0?t.generateUVs:!1,t.generateUVs=this.generateUVs,t.randomGenerator!==void 0?(this.randomGenerator=t.randomGenerator,this.seedGenerator=t.randomGenerator,t.noiseSeed!==void 0&&this.seedGenerator.setSeed(t.noiseSeed)):(this.randomGenerator=Di.createRandomGenerator(),this.seedGenerator=Math),t.onDecideSubrayCreation!==void 0?this.onDecideSubrayCreation=t.onDecideSubrayCreation:(this.createDefaultSubrayCreationCallbacks(),t.onSubrayCreation!==void 0&&(this.onSubrayCreation=t.onSubrayCreation)),this.state=Di.RAY_INITIALIZED,this.maxSubrays=Math.ceil(1+Math.pow(this.ramification,Math.max(0,this.maxSubrayRecursion-1))),t.maxSubrays=this.maxSubrays,this.maxRaySegments=2*(1<<this.maxIterations),this.subrays=[];for(let e=0;e<this.maxSubrays;e++)this.subrays.push(this.createSubray());this.raySegments=[];for(let e=0;e<this.maxRaySegments;e++)this.raySegments.push(this.createSegment());this.time=0,this.timeFraction=0,this.currentSegmentCallback=null,this.currentCreateTriangleVertices=this.generateUVs?this.createTriangleVerticesWithUVs:this.createTriangleVerticesWithoutUVs,this.numSubrays=0,this.currentSubray=null,this.currentSegmentIndex=0,this.isInitialSegment=!1,this.subrayProbability=0,this.currentVertex=0,this.currentIndex=0,this.currentCoordinate=0,this.currentUVCoordinate=0,this.vertices=null,this.uvs=null,this.indices=null,this.positionAttribute=null,this.uvsAttribute=null,this.simplexX=new Km(this.seedGenerator),this.simplexY=new Km(this.seedGenerator),this.simplexZ=new Km(this.seedGenerator),this.forwards=new O,this.forwardsFill=new O,this.side=new O,this.down=new O,this.middlePos=new O,this.middleLinPos=new O,this.newPos=new O,this.vPos=new O,this.cross1=new O}createMesh(){const t=1<<this.maxIterations,e=3*(t+1)*this.maxSubrays,n=18*t*this.maxSubrays;this.vertices=new Float32Array(e*3),this.indices=new Uint32Array(n),this.generateUVs&&(this.uvs=new Float32Array(e*2)),this.fillMesh(0),this.setIndex(new k5(this.indices,1)),this.positionAttribute=new at(this.vertices,3),this.setAttribute("position",this.positionAttribute),this.generateUVs&&(this.uvsAttribute=new at(new Float32Array(this.uvs),2),this.setAttribute("uv",this.uvsAttribute)),this.isStatic||(this.index.usage=cv,this.positionAttribute.usage=cv,this.generateUVs&&(this.uvsAttribute.usage=cv)),this.vertices=this.positionAttribute.array,this.indices=this.index.array,this.generateUVs&&(this.uvs=this.uvsAttribute.array)}updateMesh(t){this.fillMesh(t),this.drawRange.count=this.currentIndex,this.index.needsUpdate=!0,this.positionAttribute.needsUpdate=!0,this.generateUVs&&(this.uvsAttribute.needsUpdate=!0)}fillMesh(t){const e=this;this.currentVertex=0,this.currentIndex=0,this.currentCoordinate=0,this.currentUVCoordinate=0,this.fractalRay(t,function(r){const i=e.currentSubray;t<i.birthTime||(this.rayParameters.isEternal&&e.currentSubray.recursion==0?(e.createPrism(r),e.onDecideSubrayCreation(r,e)):t<i.endPropagationTime?e.timeFraction>=r.fraction0*i.propagationTimeFactor&&(e.createPrism(r),e.onDecideSubrayCreation(r,e)):t<i.beginVanishingTime?(e.createPrism(r),e.onDecideSubrayCreation(r,e)):(e.timeFraction<=i.vanishingTimeFactor+r.fraction1*(1-i.vanishingTimeFactor)&&e.createPrism(r),e.onDecideSubrayCreation(r,e)))})}addNewSubray(){return this.subrays[this.numSubrays++]}initSubray(t,e){t.pos0.copy(e.sourceOffset),t.pos1.copy(e.destOffset),t.up0.copy(e.up0),t.up1.copy(e.up1),t.radius0=e.radius0,t.radius1=e.radius1,t.birthTime=e.birthTime,t.deathTime=e.deathTime,t.timeScale=e.timeScale,t.roughness=e.roughness,t.straightness=e.straightness,t.propagationTimeFactor=e.propagationTimeFactor,t.vanishingTimeFactor=e.vanishingTimeFactor,t.maxIterations=this.maxIterations,t.seed=e.noiseSeed!==void 0?e.noiseSeed:0,t.recursion=0}fractalRay(t,e){this.time=t,this.currentSegmentCallback=e,this.numSubrays=0,this.initSubray(this.addNewSubray(),this.rayParameters);for(let n=0;n<this.numSubrays;n++){const r=this.subrays[n];this.currentSubray=r,this.randomGenerator.setSeed(r.seed),r.endPropagationTime=$d.lerp(r.birthTime,r.deathTime,r.propagationTimeFactor),r.beginVanishingTime=$d.lerp(r.deathTime,r.birthTime,1-r.vanishingTimeFactor);const i=this.randomGenerator.random;r.linPos0.set(i(),i(),i()).multiplyScalar(1e3),r.linPos1.set(i(),i(),i()).multiplyScalar(1e3),this.timeFraction=(t-r.birthTime)/(r.deathTime-r.birthTime),this.currentSegmentIndex=0,this.isInitialSegment=!0;const s=this.getNewSegment();s.iteration=0,s.pos0.copy(r.pos0),s.pos1.copy(r.pos1),s.linPos0.copy(r.linPos0),s.linPos1.copy(r.linPos1),s.up0.copy(r.up0),s.up1.copy(r.up1),s.radius0=r.radius0,s.radius1=r.radius1,s.fraction0=0,s.fraction1=1,s.positionVariationFactor=1-r.straightness,this.subrayProbability=this.ramification*Math.pow(this.recursionProbability,r.recursion)/(1<<r.maxIterations),this.fractalRayRecursive(s)}this.currentSegmentCallback=null,this.currentSubray=null}fractalRayRecursive(t){if(t.iteration>=this.currentSubray.maxIterations){this.currentSegmentCallback(t);return}this.forwards.subVectors(t.pos1,t.pos0);let e=this.forwards.length();e<1e-6&&(this.forwards.set(0,0,.01),e=this.forwards.length());const n=(t.radius0+t.radius1)*.5,r=(t.fraction0+t.fraction1)*.5,i=this.time*this.currentSubray.timeScale*Math.pow(2,t.iteration);this.middlePos.lerpVectors(t.pos0,t.pos1,.5),this.middleLinPos.lerpVectors(t.linPos0,t.linPos1,.5);const s=this.middleLinPos;this.newPos.set(this.simplexX.noise4d(s.x,s.y,s.z,i),this.simplexY.noise4d(s.x,s.y,s.z,i),this.simplexZ.noise4d(s.x,s.y,s.z,i)),this.newPos.multiplyScalar(t.positionVariationFactor*e),this.newPos.add(this.middlePos);const o=this.getNewSegment();o.pos0.copy(t.pos0),o.pos1.copy(this.newPos),o.linPos0.copy(t.linPos0),o.linPos1.copy(this.middleLinPos),o.up0.copy(t.up0),o.up1.copy(t.up1),o.radius0=t.radius0,o.radius1=n,o.fraction0=t.fraction0,o.fraction1=r,o.positionVariationFactor=t.positionVariationFactor*this.currentSubray.roughness,o.iteration=t.iteration+1;const a=this.getNewSegment();a.pos0.copy(this.newPos),a.pos1.copy(t.pos1),a.linPos0.copy(this.middleLinPos),a.linPos1.copy(t.linPos1),this.cross1.crossVectors(t.up0,this.forwards.normalize()),a.up0.crossVectors(this.forwards,this.cross1).normalize(),a.up1.copy(t.up1),a.radius0=n,a.radius1=t.radius1,a.fraction0=r,a.fraction1=t.fraction1,a.positionVariationFactor=t.positionVariationFactor*this.currentSubray.roughness,a.iteration=t.iteration+1,this.fractalRayRecursive(o),this.fractalRayRecursive(a)}createPrism(t){this.forwardsFill.subVectors(t.pos1,t.pos0).normalize(),this.isInitialSegment&&(this.currentCreateTriangleVertices(t.pos0,t.up0,this.forwardsFill,t.radius0,0),this.isInitialSegment=!1),this.currentCreateTriangleVertices(t.pos1,t.up0,this.forwardsFill,t.radius1,t.fraction1),this.createPrismFaces()}createTriangleVerticesWithoutUVs(t,e,n,r){this.side.crossVectors(e,n).multiplyScalar(r*Di.COS30DEG),this.down.copy(e).multiplyScalar(-r*Di.SIN30DEG);const i=this.vPos,s=this.vertices;i.copy(t).sub(this.side).add(this.down),s[this.currentCoordinate++]=i.x,s[this.currentCoordinate++]=i.y,s[this.currentCoordinate++]=i.z,i.copy(t).add(this.side).add(this.down),s[this.currentCoordinate++]=i.x,s[this.currentCoordinate++]=i.y,s[this.currentCoordinate++]=i.z,i.copy(e).multiplyScalar(r).add(t),s[this.currentCoordinate++]=i.x,s[this.currentCoordinate++]=i.y,s[this.currentCoordinate++]=i.z,this.currentVertex+=3}createTriangleVerticesWithUVs(t,e,n,r,i){this.side.crossVectors(e,n).multiplyScalar(r*Di.COS30DEG),this.down.copy(e).multiplyScalar(-r*Di.SIN30DEG);const s=this.vPos,o=this.vertices,a=this.uvs;s.copy(t).sub(this.side).add(this.down),o[this.currentCoordinate++]=s.x,o[this.currentCoordinate++]=s.y,o[this.currentCoordinate++]=s.z,a[this.currentUVCoordinate++]=i,a[this.currentUVCoordinate++]=0,s.copy(t).add(this.side).add(this.down),o[this.currentCoordinate++]=s.x,o[this.currentCoordinate++]=s.y,o[this.currentCoordinate++]=s.z,a[this.currentUVCoordinate++]=i,a[this.currentUVCoordinate++]=.5,s.copy(e).multiplyScalar(r).add(t),o[this.currentCoordinate++]=s.x,o[this.currentCoordinate++]=s.y,o[this.currentCoordinate++]=s.z,a[this.currentUVCoordinate++]=i,a[this.currentUVCoordinate++]=1,this.currentVertex+=3}createPrismFaces(t){const e=this.indices;t=this.currentVertex-6,e[this.currentIndex++]=t+1,e[this.currentIndex++]=t+2,e[this.currentIndex++]=t+5,e[this.currentIndex++]=t+1,e[this.currentIndex++]=t+5,e[this.currentIndex++]=t+4,e[this.currentIndex++]=t+0,e[this.currentIndex++]=t+1,e[this.currentIndex++]=t+4,e[this.currentIndex++]=t+0,e[this.currentIndex++]=t+4,e[this.currentIndex++]=t+3,e[this.currentIndex++]=t+2,e[this.currentIndex++]=t+0,e[this.currentIndex++]=t+3,e[this.currentIndex++]=t+2,e[this.currentIndex++]=t+3,e[this.currentIndex++]=t+5}createDefaultSubrayCreationCallbacks(){const t=this.randomGenerator.random;this.onDecideSubrayCreation=function(s,o){const a=o.currentSubray,l=o.rayParameters.subrayPeriod,c=o.rayParameters.subrayDutyCycle,u=o.rayParameters.isEternal&&a.recursion==0?-t()*l:$d.lerp(a.birthTime,a.endPropagationTime,s.fraction0)-t()*l,h=o.time-u,f=Math.floor(h/l),m=t()*(f+1),g=h%l<=c*l;let E=0;if(g&&(E=o.subrayProbability),a.recursion<o.maxSubrayRecursion&&o.numSubrays<o.maxSubrays&&t()<E){const x=o.addNewSubray(),A=o.randomGenerator.getSeed();x.seed=m,o.randomGenerator.setSeed(m),x.recursion=a.recursion+1,x.maxIterations=Math.max(1,a.maxIterations-1),x.linPos0.set(t(),t(),t()).multiplyScalar(1e3),x.linPos1.set(t(),t(),t()).multiplyScalar(1e3),x.up0.copy(a.up0),x.up1.copy(a.up1),x.radius0=s.radius0*o.rayParameters.radius0Factor,x.radius1=Math.min(o.rayParameters.minRadius,s.radius1*o.rayParameters.radius1Factor),x.birthTime=u+f*l,x.deathTime=x.birthTime+l*c,!o.rayParameters.isEternal&&a.recursion==0&&(x.birthTime=Math.max(x.birthTime,a.birthTime),x.deathTime=Math.min(x.deathTime,a.deathTime)),x.timeScale=a.timeScale*2,x.roughness=a.roughness,x.straightness=a.straightness,x.propagationTimeFactor=a.propagationTimeFactor,x.vanishingTimeFactor=a.vanishingTimeFactor,o.onSubrayCreation(s,a,x,o),o.randomGenerator.setSeed(A)}};const e=new O,n=new O,r=new O,i=new O;this.onSubrayCreation=function(s,o,a,l){l.subrayCylinderPosition(s,o,a,.5,.6,.2)},this.subrayConePosition=function(s,o,a,l,c,u){a.pos0.copy(s.pos0),e.subVectors(o.pos1,o.pos0),n.copy(e).normalize(),e.multiplyScalar(s.fraction0+(1-s.fraction0)*(t()*l));const h=e.length();r.crossVectors(o.up0,n);const f=2*Math.PI*t();r.multiplyScalar(Math.cos(f)),i.copy(o.up0).multiplyScalar(Math.sin(f)),a.pos1.copy(r).add(i).multiplyScalar(h*c*(u+t()*(1-u))).add(e).add(o.pos0)},this.subrayCylinderPosition=function(s,o,a,l,c,u){a.pos0.copy(s.pos0),e.subVectors(o.pos1,o.pos0),n.copy(e).normalize(),e.multiplyScalar(s.fraction0+(1-s.fraction0)*((2*t()-1)*l));const h=e.length();r.crossVectors(o.up0,n);const f=2*Math.PI*t();r.multiplyScalar(Math.cos(f)),i.copy(o.up0).multiplyScalar(Math.sin(f)),a.pos1.copy(r).add(i).multiplyScalar(h*c*(u+t()*(1-u))).add(e).add(o.pos0)}}createSubray(){return{seed:0,maxIterations:0,recursion:0,pos0:new O,pos1:new O,linPos0:new O,linPos1:new O,up0:new O,up1:new O,radius0:0,radius1:0,birthTime:0,deathTime:0,timeScale:0,roughness:0,straightness:0,propagationTimeFactor:0,vanishingTimeFactor:0,endPropagationTime:0,beginVanishingTime:0}}createSegment(){return{iteration:0,pos0:new O,pos1:new O,linPos0:new O,linPos1:new O,up0:new O,up1:new O,radius0:0,radius1:0,fraction0:0,fraction1:0,positionVariationFactor:0}}getNewSegment(){return this.raySegments[this.currentSegmentIndex++]}copy(t){return super.copy(t),this.init(Di.copyParameters({},t.rayParameters)),this}clone(){return new this.constructor(Di.copyParameters({},this.rayParameters))}};let yu=Di;Me(yu,"RAY_INITIALIZED",0);Me(yu,"RAY_UNBORN",1);Me(yu,"RAY_PROPAGATING",2);Me(yu,"RAY_STEADY",3);Me(yu,"RAY_VANISHING",4);Me(yu,"RAY_EXTINGUISHED",5);Me(yu,"COS30DEG",Math.cos(30*Math.PI/180));Me(yu,"SIN30DEG",Math.sin(30*Math.PI/180));const eh=class extends fn{constructor(t,e={}){super(t),this.isReflectorForSSRPass=!0,this.type="ReflectorForSSRPass";const n=this,r=e.color!==void 0?new Fe(e.color):new Fe(8355711),i=e.textureWidth||512,s=e.textureHeight||512,o=e.clipBias||0,a=e.shader||eh.ReflectorShader,l=e.useDepthTexture===!0,c=new O(0,1,0),u=new O,h=new O;n.needsUpdate=!1,n.maxDistance=eh.ReflectorShader.uniforms.maxDistance.value,n.opacity=eh.ReflectorShader.uniforms.opacity.value,n.color=r,n.resolution=e.resolution||new ue(window.innerWidth,window.innerHeight),n._distanceAttenuation=eh.ReflectorShader.defines.DISTANCE_ATTENUATION,Object.defineProperty(n,"distanceAttenuation",{get(){return n._distanceAttenuation},set(L){n._distanceAttenuation!==L&&(n._distanceAttenuation=L,n.material.defines.DISTANCE_ATTENUATION=L,n.material.needsUpdate=!0)}}),n._fresnel=eh.ReflectorShader.defines.FRESNEL,Object.defineProperty(n,"fresnel",{get(){return n._fresnel},set(L){n._fresnel!==L&&(n._fresnel=L,n.material.defines.FRESNEL=L,n.material.needsUpdate=!0)}});const f=new O,m=new O,g=new O,E=new st,x=new O(0,0,-1),A=new O,v=new O,y=new st,S=new xn;let w;l&&(w=new Jp,w.type=sf,w.minFilter=It,w.magFilter=It);const T={depthTexture:l?w:null,type:vr},b=new En(i,s,T),R=new en({transparent:l,defines:Object.assign({},eh.ReflectorShader.defines,{useDepthTexture:l}),uniforms:qn.clone(a.uniforms),fragmentShader:a.fragmentShader,vertexShader:a.vertexShader});R.uniforms.tDiffuse.value=b.texture,R.uniforms.color.value=n.color,R.uniforms.textureMatrix.value=y,l&&(R.uniforms.tDepth.value=b.depthTexture),this.material=R;const B=[new no(new O(0,1,0),o)];this.doRender=function(L,G,F){if(R.uniforms.maxDistance.value=n.maxDistance,R.uniforms.color.value=n.color,R.uniforms.opacity.value=n.opacity,u.copy(F.position).normalize(),h.copy(u).reflect(c),R.uniforms.fresnelCoe.value=(u.dot(h)+1)/2,m.setFromMatrixPosition(n.matrixWorld),g.setFromMatrixPosition(F.matrixWorld),E.extractRotation(n.matrixWorld),f.set(0,0,1),f.applyMatrix4(E),A.subVectors(m,g),A.dot(f)>0)return;A.reflect(f).negate(),A.add(m),E.extractRotation(F.matrixWorld),x.set(0,0,-1),x.applyMatrix4(E),x.add(g),v.subVectors(m,x),v.reflect(f).negate(),v.add(m),S.position.copy(A),S.up.set(0,1,0),S.up.applyMatrix4(E),S.up.reflect(f),S.lookAt(v),S.far=F.far,S.updateMatrixWorld(),S.projectionMatrix.copy(F.projectionMatrix),R.uniforms.virtualCameraNear.value=F.near,R.uniforms.virtualCameraFar.value=F.far,R.uniforms.virtualCameraMatrixWorld.value=S.matrixWorld,R.uniforms.virtualCameraProjectionMatrix.value=F.projectionMatrix,R.uniforms.virtualCameraProjectionMatrixInverse.value=F.projectionMatrixInverse,R.uniforms.resolution.value=n.resolution,y.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),y.multiply(S.projectionMatrix),y.multiply(S.matrixWorldInverse),y.multiply(n.matrixWorld);const $=L.getRenderTarget(),W=L.xr.enabled,Z=L.shadowMap.autoUpdate,q=L.clippingPlanes;L.xr.enabled=!1,L.shadowMap.autoUpdate=!1,L.clippingPlanes=B,L.setRenderTarget(b),L.state.buffers.depth.setMask(!0),L.autoClear===!1&&L.clear(),L.render(G,S),L.xr.enabled=W,L.shadowMap.autoUpdate=Z,L.clippingPlanes=q,L.setRenderTarget($);const k=F.viewport;k!==void 0&&L.state.viewport(k)},this.getRenderTarget=function(){return b}}};let gme=eh;Me(gme,"ReflectorShader",{defines:{DISTANCE_ATTENUATION:!0,FRESNEL:!0},uniforms:{color:{value:null},tDiffuse:{value:null},tDepth:{value:null},textureMatrix:{value:new st},maxDistance:{value:180},opacity:{value:.5},fresnelCoe:{value:null},virtualCameraNear:{value:null},virtualCameraFar:{value:null},virtualCameraProjectionMatrix:{value:new st},virtualCameraMatrixWorld:{value:new st},virtualCameraProjectionMatrixInverse:{value:new st},resolution:{value:new ue}},vertexShader:`
		uniform mat4 textureMatrix;
		varying vec4 vUv;

		void main() {

			vUv = textureMatrix * vec4( position, 1.0 );

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`
		uniform vec3 color;
		uniform sampler2D tDiffuse;
		uniform sampler2D tDepth;
		uniform float maxDistance;
		uniform float opacity;
		uniform float fresnelCoe;
		uniform float virtualCameraNear;
		uniform float virtualCameraFar;
		uniform mat4 virtualCameraProjectionMatrix;
		uniform mat4 virtualCameraProjectionMatrixInverse;
		uniform mat4 virtualCameraMatrixWorld;
		uniform vec2 resolution;
		varying vec4 vUv;
		#include <packing>
		float blendOverlay( float base, float blend ) {
			return( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );
		}
		vec3 blendOverlay( vec3 base, vec3 blend ) {
			return vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );
		}
		float getDepth( const in vec2 uv ) {
			return texture2D( tDepth, uv ).x;
		}
		float getViewZ( const in float depth ) {
			return perspectiveDepthToViewZ( depth, virtualCameraNear, virtualCameraFar );
		}
		vec3 getViewPosition( const in vec2 uv, const in float depth/*clip space*/, const in float clipW ) {
			vec4 clipPosition = vec4( ( vec3( uv, depth ) - 0.5 ) * 2.0, 1.0 );//ndc
			clipPosition *= clipW; //clip
			return ( virtualCameraProjectionMatrixInverse * clipPosition ).xyz;//view
		}
		void main() {
			vec4 base = texture2DProj( tDiffuse, vUv );
			#ifdef useDepthTexture
				vec2 uv=(gl_FragCoord.xy-.5)/resolution.xy;
				uv.x=1.-uv.x;
				float depth = texture2DProj( tDepth, vUv ).r;
				float viewZ = getViewZ( depth );
				float clipW = virtualCameraProjectionMatrix[2][3] * viewZ+virtualCameraProjectionMatrix[3][3];
				vec3 viewPosition=getViewPosition( uv, depth, clipW );
				vec3 worldPosition=(virtualCameraMatrixWorld*vec4(viewPosition,1)).xyz;
				if(worldPosition.y>maxDistance) discard;
				float op=opacity;
				#ifdef DISTANCE_ATTENUATION
					float ratio=1.-(worldPosition.y/maxDistance);
					float attenuation=ratio*ratio;
					op=opacity*attenuation;
				#endif
				#ifdef FRESNEL
					op*=fresnelCoe;
				#endif
				gl_FragColor = vec4( blendOverlay( base.rgb, color ), op );
			#else
				gl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );
			#endif
		}
	`});const dv={uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new O},up:{value:new O(0,1,0)}},vertexShader:`
      uniform vec3 sunPosition;
      uniform float rayleigh;
      uniform float turbidity;
      uniform float mieCoefficient;
      uniform vec3 up;

      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      // constants for atmospheric scattering
      const float e = 2.71828182845904523536028747135266249775724709369995957;
      const float pi = 3.141592653589793238462643383279502884197169;

      // wavelength of used primaries, according to preetham
      const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );
      // this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:
      // (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))
      const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );

      // mie stuff
      // K coefficient for the primaries
      const float v = 4.0;
      const vec3 K = vec3( 0.686, 0.678, 0.666 );
      // MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K
      const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );

      // earth shadow hack
      // cutoffAngle = pi / 1.95;
      const float cutoffAngle = 1.6110731556870734;
      const float steepness = 1.5;
      const float EE = 1000.0;

      float sunIntensity( float zenithAngleCos ) {
        zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );
        return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );
      }

      vec3 totalMie( float T ) {
        float c = ( 0.2 * T ) * 10E-18;
        return 0.434 * c * MieConst;
      }

      void main() {

        vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
        vWorldPosition = worldPosition.xyz;

        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        gl_Position.z = gl_Position.w; // set z to camera.far

        vSunDirection = normalize( sunPosition );

        vSunE = sunIntensity( dot( vSunDirection, up ) );

        vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );

        float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );

      // extinction (absorbtion + out scattering)
      // rayleigh coefficients
        vBetaR = totalRayleigh * rayleighCoefficient;

      // mie coefficients
        vBetaM = totalMie( turbidity ) * mieCoefficient;

      }
    `,fragmentShader:`
      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      uniform float mieDirectionalG;
      uniform vec3 up;

      const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );

      // constants for atmospheric scattering
      const float pi = 3.141592653589793238462643383279502884197169;

      const float n = 1.0003; // refractive index of air
      const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)

      // optical length at zenith for molecules
      const float rayleighZenithLength = 8.4E3;
      const float mieZenithLength = 1.25E3;
      // 66 arc seconds -> degrees, and the cosine of that
      const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;

      // 3.0 / ( 16.0 * pi )
      const float THREE_OVER_SIXTEENPI = 0.05968310365946075;
      // 1.0 / ( 4.0 * pi )
      const float ONE_OVER_FOURPI = 0.07957747154594767;

      float rayleighPhase( float cosTheta ) {
        return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );
      }

      float hgPhase( float cosTheta, float g ) {
        float g2 = pow( g, 2.0 );
        float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );
        return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );
      }

      void main() {

        vec3 direction = normalize( vWorldPosition - cameraPos );

      // optical length
      // cutoff angle at 90 to avoid singularity in next formula.
        float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );
        float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );
        float sR = rayleighZenithLength * inverse;
        float sM = mieZenithLength * inverse;

      // combined extinction factor
        vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );

      // in scattering
        float cosTheta = dot( direction, vSunDirection );

        float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );
        vec3 betaRTheta = vBetaR * rPhase;

        float mPhase = hgPhase( cosTheta, mieDirectionalG );
        vec3 betaMTheta = vBetaM * mPhase;

        vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );
        Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );

      // nightsky
        float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]
        float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]
        vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );
        vec3 L0 = vec3( 0.1 ) * Fex;

      // composition + solar disc
        float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );
        L0 += ( vSunE * 19000.0 * Fex ) * sundisk;

        vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );

        vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );

        gl_FragColor = vec4( retColor, 1.0 );

      #include <tonemapping_fragment>
      #include <${parseInt(Ga.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>

      }
    `},cV=new en({name:"SkyShader",fragmentShader:dv.fragmentShader,vertexShader:dv.vertexShader,uniforms:qn.clone(dv.uniforms),side:Ci,depthWrite:!1});class uV extends fn{constructor(){super(new mu(1,1,1),cV)}}Me(uV,"SkyShader",dv);Me(uV,"material",cV);const hV=class extends fn{constructor(t,e={}){super(t),this.isWater=!0,this.type="Water";const n=this,r=e.color!==void 0?new Fe(e.color):new Fe(16777215),i=e.textureWidth||512,s=e.textureHeight||512,o=e.clipBias||0,a=e.flowDirection||new ue(1,0),l=e.flowSpeed||.03,c=e.reflectivity||.02,u=e.scale||1,h=e.shader||hV.WaterShader,f=e.encoding!==void 0?e.encoding:3e3,m=e.flowMap||void 0,g=e.normalMap0,E=e.normalMap1,x=.15,A=x*.5,v=new st,y=new u6;if(uC===void 0){console.error("THREE.Water: Required component Reflector not found.");return}if(hC===void 0){console.error("THREE.Water: Required component Refractor not found.");return}const S=new uC(t,{textureWidth:i,textureHeight:s,clipBias:o,encoding:f}),w=new hC(t,{textureWidth:i,textureHeight:s,clipBias:o,encoding:f});S.matrixAutoUpdate=!1,w.matrixAutoUpdate=!1,this.material=new en({uniforms:qn.merge([Ve.fog,h.uniforms]),vertexShader:h.vertexShader,fragmentShader:h.fragmentShader,transparent:!0,fog:!0}),m!==void 0?(this.material.defines.USE_FLOWMAP="",this.material.uniforms.tFlowMap={type:"t",value:m}):this.material.uniforms.flowDirection={type:"v2",value:a},g.wrapS=g.wrapT=po,E.wrapS=E.wrapT=po,this.material.uniforms.tReflectionMap.value=S.getRenderTarget().texture,this.material.uniforms.tRefractionMap.value=w.getRenderTarget().texture,this.material.uniforms.tNormalMap0.value=g,this.material.uniforms.tNormalMap1.value=E,this.material.uniforms.color.value=r,this.material.uniforms.reflectivity.value=c,this.material.uniforms.textureMatrix.value=v,this.material.uniforms.config.value.x=0,this.material.uniforms.config.value.y=A,this.material.uniforms.config.value.z=A,this.material.uniforms.config.value.w=u;function T(R){v.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),v.multiply(R.projectionMatrix),v.multiply(R.matrixWorldInverse),v.multiply(n.matrixWorld)}function b(){const R=y.getDelta(),M=n.material.uniforms.config;M.value.x+=l*R,M.value.y=M.value.x+A,M.value.x>=x?(M.value.x=0,M.value.y=A):M.value.y>=x&&(M.value.y=M.value.y-x)}this.onBeforeRender=function(R,M,B){T(B),b(),n.visible=!1,S.matrixWorld.copy(n.matrixWorld),w.matrixWorld.copy(n.matrixWorld),S.onBeforeRender(R,M,B),w.onBeforeRender(R,M,B),n.visible=!0}}};let Ame=hV;Me(Ame,"WaterShader",{uniforms:{color:{value:null},reflectivity:{value:0},tReflectionMap:{value:null},tRefractionMap:{value:null},tNormalMap0:{value:null},tNormalMap1:{value:null},textureMatrix:{value:null},config:{value:new Jt}},vertexShader:`

		#include <common>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>

		uniform mat4 textureMatrix;

		varying vec4 vCoord;
		varying vec2 vUv;
		varying vec3 vToEye;

		void main() {

			vUv = uv;
			vCoord = textureMatrix * vec4( position, 1.0 );

			vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
			vToEye = cameraPosition - worldPosition.xyz;

			vec4 mvPosition =  viewMatrix * worldPosition; // used in fog_vertex
			gl_Position = projectionMatrix * mvPosition;

			#include <logdepthbuf_vertex>
			#include <fog_vertex>

		}`,fragmentShader:`

		#include <common>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>

		uniform sampler2D tReflectionMap;
		uniform sampler2D tRefractionMap;
		uniform sampler2D tNormalMap0;
		uniform sampler2D tNormalMap1;

		#ifdef USE_FLOWMAP
			uniform sampler2D tFlowMap;
		#else
			uniform vec2 flowDirection;
		#endif

		uniform vec3 color;
		uniform float reflectivity;
		uniform vec4 config;

		varying vec4 vCoord;
		varying vec2 vUv;
		varying vec3 vToEye;

		void main() {

			#include <logdepthbuf_fragment>

			float flowMapOffset0 = config.x;
			float flowMapOffset1 = config.y;
			float halfCycle = config.z;
			float scale = config.w;

			vec3 toEye = normalize( vToEye );

			// determine flow direction
			vec2 flow;
			#ifdef USE_FLOWMAP
				flow = texture2D( tFlowMap, vUv ).rg * 2.0 - 1.0;
			#else
				flow = flowDirection;
			#endif
			flow.x *= - 1.0;

			// sample normal maps (distort uvs with flowdata)
			vec4 normalColor0 = texture2D( tNormalMap0, ( vUv * scale ) + flow * flowMapOffset0 );
			vec4 normalColor1 = texture2D( tNormalMap1, ( vUv * scale ) + flow * flowMapOffset1 );

			// linear interpolate to get the final normal color
			float flowLerp = abs( halfCycle - flowMapOffset0 ) / halfCycle;
			vec4 normalColor = mix( normalColor0, normalColor1, flowLerp );

			// calculate normal vector
			vec3 normal = normalize( vec3( normalColor.r * 2.0 - 1.0, normalColor.b,  normalColor.g * 2.0 - 1.0 ) );

			// calculate the fresnel term to blend reflection and refraction maps
			float theta = max( dot( toEye, normal ), 0.0 );
			float reflectance = reflectivity + ( 1.0 - reflectivity ) * pow( ( 1.0 - theta ), 5.0 );

			// calculate final uv coords
			vec3 coord = vCoord.xyz / vCoord.w;
			vec2 uv = coord.xy + coord.z * normal.xz * 0.05;

			vec4 reflectColor = texture2D( tReflectionMap, vec2( 1.0 - uv.x, uv.y ) );
			vec4 refractColor = texture2D( tRefractionMap, uv );

			// multiply water color with the mix of both textures
			gl_FragColor = vec4( color, 1.0 ) * mix( refractColor, reflectColor, reflectance );

			#include <tonemapping_fragment>
			#include <${parseInt(Ga.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
			#include <fog_fragment>

		}`});const u_={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","#include <packing>","void main() {","	float depth = 1.0 - unpackRGBAToDepth( texture2D( tDiffuse, vUv ) );","	gl_FragColor = vec4( vec3( depth ), opacity );","}"].join(`
`)},YD=(t,e)=>(t%e+e)%e;let vme=class extends Ha{constructor(e,n){super(),Me(this,"object"),Me(this,"domElement"),Me(this,"enabled",!0),Me(this,"target",new O),Me(this,"minDistance",0),Me(this,"maxDistance",1/0),Me(this,"minZoom",0),Me(this,"maxZoom",1/0),Me(this,"minPolarAngle",0),Me(this,"maxPolarAngle",Math.PI),Me(this,"minAzimuthAngle",-1/0),Me(this,"maxAzimuthAngle",1/0),Me(this,"enableDamping",!1),Me(this,"dampingFactor",.05),Me(this,"enableZoom",!0),Me(this,"zoomSpeed",1),Me(this,"enableRotate",!0),Me(this,"rotateSpeed",1),Me(this,"enablePan",!0),Me(this,"panSpeed",1),Me(this,"screenSpacePanning",!0),Me(this,"keyPanSpeed",7),Me(this,"autoRotate",!1),Me(this,"autoRotateSpeed",2),Me(this,"reverseOrbit",!1),Me(this,"reverseHorizontalOrbit",!1),Me(this,"reverseVerticalOrbit",!1),Me(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Me(this,"mouseButtons",{LEFT:Yu.ROTATE,MIDDLE:Yu.DOLLY,RIGHT:Yu.PAN}),Me(this,"touches",{ONE:qu.ROTATE,TWO:qu.DOLLY_PAN}),Me(this,"target0"),Me(this,"position0"),Me(this,"zoom0"),Me(this,"_domElementKeyEvents",null),Me(this,"getPolarAngle"),Me(this,"getAzimuthalAngle"),Me(this,"setPolarAngle"),Me(this,"setAzimuthalAngle"),Me(this,"getDistance"),Me(this,"listenToKeyEvents"),Me(this,"stopListenToKeyEvents"),Me(this,"saveState"),Me(this,"reset"),Me(this,"update"),Me(this,"connect"),Me(this,"dispose"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=Y=>{let ye=YD(Y,2*Math.PI),Re=u.phi;Re<0&&(Re+=2*Math.PI),ye<0&&(ye+=2*Math.PI);let Oe=Math.abs(ye-Re);2*Math.PI-Oe<Oe&&(ye<Re?ye+=2*Math.PI:Re+=2*Math.PI),h.phi=ye-Re,r.update()},this.setAzimuthalAngle=Y=>{let ye=YD(Y,2*Math.PI),Re=u.theta;Re<0&&(Re+=2*Math.PI),ye<0&&(ye+=2*Math.PI);let Oe=Math.abs(ye-Re);2*Math.PI-Oe<Oe&&(ye<Re?ye+=2*Math.PI:Re+=2*Math.PI),h.theta=ye-Re,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=Y=>{Y.addEventListener("keydown",D),this._domElementKeyEvents=Y},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",D),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const Y=new O,ye=new O(0,1,0),Re=new Fr().setFromUnitVectors(e.up,ye),Oe=Re.clone().invert(),He=new O,mt=new Fr,Bt=2*Math.PI;return function(){const Ge=r.object.position;Re.setFromUnitVectors(e.up,ye),Oe.copy(Re).invert(),Y.copy(Ge).sub(r.target),Y.applyQuaternion(Re),u.setFromVector3(Y),r.autoRotate&&l===a.NONE&&G(B()),r.enableDamping?(u.theta+=h.theta*r.dampingFactor,u.phi+=h.phi*r.dampingFactor):(u.theta+=h.theta,u.phi+=h.phi);let ae=r.minAzimuthAngle,Le=r.maxAzimuthAngle;return isFinite(ae)&&isFinite(Le)&&(ae<-Math.PI?ae+=Bt:ae>Math.PI&&(ae-=Bt),Le<-Math.PI?Le+=Bt:Le>Math.PI&&(Le-=Bt),ae<=Le?u.theta=Math.max(ae,Math.min(Le,u.theta)):u.theta=u.theta>(ae+Le)/2?Math.max(ae,u.theta):Math.min(Le,u.theta)),u.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,u.phi)),u.makeSafe(),u.radius*=f,u.radius=Math.max(r.minDistance,Math.min(r.maxDistance,u.radius)),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),Y.setFromSpherical(u),Y.applyQuaternion(Oe),Ge.copy(r.target).add(Y),r.object.lookAt(r.target),r.enableDamping===!0?(h.theta*=1-r.dampingFactor,h.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(h.set(0,0,0),m.set(0,0,0)),f=1,g||He.distanceToSquared(r.object.position)>c||8*(1-mt.dot(r.object.quaternion))>c?(r.dispatchEvent(i),He.copy(r.object.position),mt.copy(r.object.quaternion),g=!1,!0):!1}})(),this.connect=Y=>{Y===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=Y,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",fe),r.domElement.addEventListener("pointerdown",Ye),r.domElement.addEventListener("pointercancel",lt),r.domElement.addEventListener("wheel",N)},this.dispose=()=>{var Y,ye,Re,Oe,He,mt;(Y=r.domElement)==null||Y.removeEventListener("contextmenu",fe),(ye=r.domElement)==null||ye.removeEventListener("pointerdown",Ye),(Re=r.domElement)==null||Re.removeEventListener("pointercancel",lt),(Oe=r.domElement)==null||Oe.removeEventListener("wheel",N),(He=r.domElement)==null||He.ownerDocument.removeEventListener("pointermove",Qe),(mt=r.domElement)==null||mt.ownerDocument.removeEventListener("pointerup",ze),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",D)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,u=new ly,h=new ly;let f=1;const m=new O;let g=!1;const E=new ue,x=new ue,A=new ue,v=new ue,y=new ue,S=new ue,w=new ue,T=new ue,b=new ue,R=[],M={};function B(){return 2*Math.PI/60/60*r.autoRotateSpeed}function L(){return Math.pow(.95,r.zoomSpeed)}function G(Y){r.reverseOrbit||r.reverseHorizontalOrbit?h.theta+=Y:h.theta-=Y}function F(Y){r.reverseOrbit||r.reverseVerticalOrbit?h.phi+=Y:h.phi-=Y}const $=(()=>{const Y=new O;return function(Re,Oe){Y.setFromMatrixColumn(Oe,0),Y.multiplyScalar(-Re),m.add(Y)}})(),W=(()=>{const Y=new O;return function(Re,Oe){r.screenSpacePanning===!0?Y.setFromMatrixColumn(Oe,1):(Y.setFromMatrixColumn(Oe,0),Y.crossVectors(r.object.up,Y)),Y.multiplyScalar(Re),m.add(Y)}})(),Z=(()=>{const Y=new O;return function(Re,Oe){const He=r.domElement;if(He&&r.object instanceof xn&&r.object.isPerspectiveCamera){const mt=r.object.position;Y.copy(mt).sub(r.target);let Bt=Y.length();Bt*=Math.tan(r.object.fov/2*Math.PI/180),$(2*Re*Bt/He.clientHeight,r.object.matrix),W(2*Oe*Bt/He.clientHeight,r.object.matrix)}else He&&r.object instanceof lo&&r.object.isOrthographicCamera?($(Re*(r.object.right-r.object.left)/r.object.zoom/He.clientWidth,r.object.matrix),W(Oe*(r.object.top-r.object.bottom)/r.object.zoom/He.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function q(Y){r.object instanceof xn&&r.object.isPerspectiveCamera?f/=Y:r.object instanceof lo&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*Y)),r.object.updateProjectionMatrix(),g=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function k(Y){r.object instanceof xn&&r.object.isPerspectiveCamera?f*=Y:r.object instanceof lo&&r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/Y)),r.object.updateProjectionMatrix(),g=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function J(Y){E.set(Y.clientX,Y.clientY)}function V(Y){w.set(Y.clientX,Y.clientY)}function H(Y){v.set(Y.clientX,Y.clientY)}function X(Y){x.set(Y.clientX,Y.clientY),A.subVectors(x,E).multiplyScalar(r.rotateSpeed);const ye=r.domElement;ye&&(G(2*Math.PI*A.x/ye.clientHeight),F(2*Math.PI*A.y/ye.clientHeight)),E.copy(x),r.update()}function he(Y){T.set(Y.clientX,Y.clientY),b.subVectors(T,w),b.y>0?q(L()):b.y<0&&k(L()),w.copy(T),r.update()}function ge(Y){y.set(Y.clientX,Y.clientY),S.subVectors(y,v).multiplyScalar(r.panSpeed),Z(S.x,S.y),v.copy(y),r.update()}function Ce(Y){Y.deltaY<0?k(L()):Y.deltaY>0&&q(L()),r.update()}function be(Y){let ye=!1;switch(Y.code){case r.keys.UP:Z(0,r.keyPanSpeed),ye=!0;break;case r.keys.BOTTOM:Z(0,-r.keyPanSpeed),ye=!0;break;case r.keys.LEFT:Z(r.keyPanSpeed,0),ye=!0;break;case r.keys.RIGHT:Z(-r.keyPanSpeed,0),ye=!0;break}ye&&(Y.preventDefault(),r.update())}function Pe(){if(R.length==1)E.set(R[0].pageX,R[0].pageY);else{const Y=.5*(R[0].pageX+R[1].pageX),ye=.5*(R[0].pageY+R[1].pageY);E.set(Y,ye)}}function ke(){if(R.length==1)v.set(R[0].pageX,R[0].pageY);else{const Y=.5*(R[0].pageX+R[1].pageX),ye=.5*(R[0].pageY+R[1].pageY);v.set(Y,ye)}}function Xe(){const Y=R[0].pageX-R[1].pageX,ye=R[0].pageY-R[1].pageY,Re=Math.sqrt(Y*Y+ye*ye);w.set(0,Re)}function Je(){r.enableZoom&&Xe(),r.enablePan&&ke()}function we(){r.enableZoom&&Xe(),r.enableRotate&&Pe()}function K(Y){if(R.length==1)x.set(Y.pageX,Y.pageY);else{const Re=oe(Y),Oe=.5*(Y.pageX+Re.x),He=.5*(Y.pageY+Re.y);x.set(Oe,He)}A.subVectors(x,E).multiplyScalar(r.rotateSpeed);const ye=r.domElement;ye&&(G(2*Math.PI*A.x/ye.clientHeight),F(2*Math.PI*A.y/ye.clientHeight)),E.copy(x)}function Se(Y){if(R.length==1)y.set(Y.pageX,Y.pageY);else{const ye=oe(Y),Re=.5*(Y.pageX+ye.x),Oe=.5*(Y.pageY+ye.y);y.set(Re,Oe)}S.subVectors(y,v).multiplyScalar(r.panSpeed),Z(S.x,S.y),v.copy(y)}function ve(Y){const ye=oe(Y),Re=Y.pageX-ye.x,Oe=Y.pageY-ye.y,He=Math.sqrt(Re*Re+Oe*Oe);T.set(0,He),b.set(0,Math.pow(T.y/w.y,r.zoomSpeed)),q(b.y),w.copy(T)}function Be(Y){r.enableZoom&&ve(Y),r.enablePan&&Se(Y)}function Te(Y){r.enableZoom&&ve(Y),r.enableRotate&&K(Y)}function Ye(Y){var ye,Re;r.enabled!==!1&&(R.length===0&&((ye=r.domElement)==null||ye.ownerDocument.addEventListener("pointermove",Qe),(Re=r.domElement)==null||Re.ownerDocument.addEventListener("pointerup",ze)),Ie(Y),Y.pointerType==="touch"?ee(Y):Et(Y))}function Qe(Y){r.enabled!==!1&&(Y.pointerType==="touch"?pe(Y):ie(Y))}function ze(Y){var ye,Re,Oe;We(Y),R.length===0&&((ye=r.domElement)==null||ye.releasePointerCapture(Y.pointerId),(Re=r.domElement)==null||Re.ownerDocument.removeEventListener("pointermove",Qe),(Oe=r.domElement)==null||Oe.ownerDocument.removeEventListener("pointerup",ze)),r.dispatchEvent(o),l=a.NONE}function lt(Y){We(Y)}function Et(Y){let ye;switch(Y.button){case 0:ye=r.mouseButtons.LEFT;break;case 1:ye=r.mouseButtons.MIDDLE;break;case 2:ye=r.mouseButtons.RIGHT;break;default:ye=-1}switch(ye){case Yu.DOLLY:if(r.enableZoom===!1)return;V(Y),l=a.DOLLY;break;case Yu.ROTATE:if(Y.ctrlKey||Y.metaKey||Y.shiftKey){if(r.enablePan===!1)return;H(Y),l=a.PAN}else{if(r.enableRotate===!1)return;J(Y),l=a.ROTATE}break;case Yu.PAN:if(Y.ctrlKey||Y.metaKey||Y.shiftKey){if(r.enableRotate===!1)return;J(Y),l=a.ROTATE}else{if(r.enablePan===!1)return;H(Y),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function ie(Y){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;X(Y);break;case a.DOLLY:if(r.enableZoom===!1)return;he(Y);break;case a.PAN:if(r.enablePan===!1)return;ge(Y);break}}function N(Y){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(Y.preventDefault(),r.dispatchEvent(s),Ce(Y),r.dispatchEvent(o))}function D(Y){r.enabled===!1||r.enablePan===!1||be(Y)}function ee(Y){switch(De(Y),R.length){case 1:switch(r.touches.ONE){case qu.ROTATE:if(r.enableRotate===!1)return;Pe(),l=a.TOUCH_ROTATE;break;case qu.PAN:if(r.enablePan===!1)return;ke(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case qu.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Je(),l=a.TOUCH_DOLLY_PAN;break;case qu.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;we(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function pe(Y){switch(De(Y),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;K(Y),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;Se(Y),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Be(Y),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Te(Y),r.update();break;default:l=a.NONE}}function fe(Y){r.enabled!==!1&&Y.preventDefault()}function Ie(Y){R.push(Y)}function We(Y){delete M[Y.pointerId];for(let ye=0;ye<R.length;ye++)if(R[ye].pointerId==Y.pointerId){R.splice(ye,1);return}}function De(Y){let ye=M[Y.pointerId];ye===void 0&&(ye=new ue,M[Y.pointerId]=ye),ye.set(Y.pageX,Y.pageY)}function oe(Y){const ye=Y.pointerId===R[0].pointerId?R[1]:R[0];return M[ye.pointerId]}n!==void 0&&this.connect(n),this.update()}};class p6{constructor(){Me(this,"enabled",!0),Me(this,"needsSwap",!0),Me(this,"clear",!1),Me(this,"renderToScreen",!1)}setSize(e,n){}render(e,n,r,i,s){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}class m6{constructor(e){Me(this,"camera",new lo(-1,1,1,-1,0,1)),Me(this,"geometry",new Kp(2,2)),Me(this,"mesh"),this.mesh=new fn(this.geometry,e)}get material(){return this.mesh.material}set material(e){this.mesh.material=e}dispose(){this.mesh.geometry.dispose()}render(e){e.render(this.mesh,this.camera)}}const Fa={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","	vec4 texel = texture2D( tDiffuse, vUv );","	gl_FragColor = opacity * texel;","}"].join(`
`)},em={defines:{PERSPECTIVE_CAMERA:1,KERNEL_SIZE:32},uniforms:{tDiffuse:{value:null},tNormal:{value:null},tDepth:{value:null},tNoise:{value:null},kernel:{value:null},cameraNear:{value:null},cameraFar:{value:null},resolution:{value:new ue},cameraProjectionMatrix:{value:new st},cameraInverseProjectionMatrix:{value:new st},kernelRadius:{value:8},minDistance:{value:.005},maxDistance:{value:.05}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDiffuse;","uniform sampler2D tNormal;","uniform sampler2D tDepth;","uniform sampler2D tNoise;","uniform vec3 kernel[ KERNEL_SIZE ];","uniform vec2 resolution;","uniform float cameraNear;","uniform float cameraFar;","uniform mat4 cameraProjectionMatrix;","uniform mat4 cameraInverseProjectionMatrix;","uniform float kernelRadius;","uniform float minDistance;","uniform float maxDistance;","varying vec2 vUv;","#include <packing>","float getDepth( const in vec2 screenPosition ) {","	return texture2D( tDepth, screenPosition ).x;","}","float getLinearDepth( const in vec2 screenPosition ) {","	#if PERSPECTIVE_CAMERA == 1","		float fragCoordZ = texture2D( tDepth, screenPosition ).x;","		float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );","		return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );","	#else","		return texture2D( tDepth, screenPosition ).x;","	#endif","}","float getViewZ( const in float depth ) {","	#if PERSPECTIVE_CAMERA == 1","		return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );","	#else","		return orthographicDepthToViewZ( depth, cameraNear, cameraFar );","	#endif","}","vec3 getViewPosition( const in vec2 screenPosition, const in float depth, const in float viewZ ) {","	float clipW = cameraProjectionMatrix[2][3] * viewZ + cameraProjectionMatrix[3][3];","	vec4 clipPosition = vec4( ( vec3( screenPosition, depth ) - 0.5 ) * 2.0, 1.0 );","	clipPosition *= clipW; // unprojection.","	return ( cameraInverseProjectionMatrix * clipPosition ).xyz;","}","vec3 getViewNormal( const in vec2 screenPosition ) {","	return unpackRGBToNormal( texture2D( tNormal, screenPosition ).xyz );","}","void main() {","	float depth = getDepth( vUv );","	float viewZ = getViewZ( depth );","	vec3 viewPosition = getViewPosition( vUv, depth, viewZ );","	vec3 viewNormal = getViewNormal( vUv );"," vec2 noiseScale = vec2( resolution.x / 4.0, resolution.y / 4.0 );","	vec3 random = texture2D( tNoise, vUv * noiseScale ).xyz;","	vec3 tangent = normalize( random - viewNormal * dot( random, viewNormal ) );","	vec3 bitangent = cross( viewNormal, tangent );","	mat3 kernelMatrix = mat3( tangent, bitangent, viewNormal );"," float occlusion = 0.0;"," for ( int i = 0; i < KERNEL_SIZE; i ++ ) {","		vec3 sampleVector = kernelMatrix * kernel[ i ];","		vec3 samplePoint = viewPosition + ( sampleVector * kernelRadius );","		vec4 samplePointNDC = cameraProjectionMatrix * vec4( samplePoint, 1.0 );","		samplePointNDC /= samplePointNDC.w;","		vec2 samplePointUv = samplePointNDC.xy * 0.5 + 0.5;","		float realDepth = getLinearDepth( samplePointUv );","		float sampleDepth = viewZToOrthographicDepth( samplePoint.z, cameraNear, cameraFar );","		float delta = sampleDepth - realDepth;","		if ( delta > minDistance && delta < maxDistance ) {","			occlusion += 1.0;","		}","	}","	occlusion = clamp( occlusion / float( KERNEL_SIZE ), 0.0, 1.0 );","	gl_FragColor = vec4( vec3( 1.0 - occlusion ), 1.0 );","}"].join(`
`)},S2={defines:{PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDepth;","uniform float cameraNear;","uniform float cameraFar;","varying vec2 vUv;","#include <packing>","float getLinearDepth( const in vec2 screenPosition ) {","	#if PERSPECTIVE_CAMERA == 1","		float fragCoordZ = texture2D( tDepth, screenPosition ).x;","		float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );","		return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );","	#else","		return texture2D( tDepth, screenPosition ).x;","	#endif","}","void main() {","	float depth = getLinearDepth( vUv );","	gl_FragColor = vec4( vec3( 1.0 - depth ), 1.0 );","}"].join(`
`)},C2={uniforms:{tDiffuse:{value:null},resolution:{value:new ue}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec2 resolution;","varying vec2 vUv;","void main() {","	vec2 texelSize = ( 1.0 / resolution );","	float result = 0.0;","	for ( int i = - 2; i <= 2; i ++ ) {","		for ( int j = - 2; j <= 2; j ++ ) {","			vec2 offset = ( vec2( float( i ), float( j ) ) ) * texelSize;","			result += texture2D( tDiffuse, vUv + offset ).r;","		}","	}","	gl_FragColor = vec4( vec3( result / ( 5.0 * 5.0 ) ), 1.0 );","}"].join(`
`)},th=class extends p6{constructor(t,e,n,r){super(),this.width=n!==void 0?n:512,this.height=r!==void 0?r:512,this.clear=!0,this.camera=e,this.scene=t,this.kernelRadius=8,this.kernelSize=32,this.kernel=[],this.noiseTexture=null,this.output=0,this.minDistance=.005,this.maxDistance=.1,this._visibilityCache=new Map,this.generateSampleKernel(),this.generateRandomKernelRotations();const i=new Jp;i.format=eu,i.type=Tl,this.beautyRenderTarget=new En(this.width,this.height),this.normalRenderTarget=new En(this.width,this.height,{minFilter:It,magFilter:It,depthTexture:i}),this.ssaoRenderTarget=new En(this.width,this.height),this.blurRenderTarget=this.ssaoRenderTarget.clone(),em===void 0&&console.error("THREE.SSAOPass: The pass relies on SSAOShader."),this.ssaoMaterial=new en({defines:Object.assign({},em.defines),uniforms:qn.clone(em.uniforms),vertexShader:em.vertexShader,fragmentShader:em.fragmentShader,blending:Wt}),this.ssaoMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.ssaoMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.ssaoMaterial.uniforms.tDepth.value=this.normalRenderTarget.depthTexture,this.ssaoMaterial.uniforms.tNoise.value=this.noiseTexture,this.ssaoMaterial.uniforms.kernel.value=this.kernel,this.ssaoMaterial.uniforms.cameraNear.value=this.camera.near,this.ssaoMaterial.uniforms.cameraFar.value=this.camera.far,this.ssaoMaterial.uniforms.resolution.value.set(this.width,this.height),this.ssaoMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssaoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.normalMaterial=new B3,this.normalMaterial.blending=Wt,this.blurMaterial=new en({defines:Object.assign({},C2.defines),uniforms:qn.clone(C2.uniforms),vertexShader:C2.vertexShader,fragmentShader:C2.fragmentShader}),this.blurMaterial.uniforms.tDiffuse.value=this.ssaoRenderTarget.texture,this.blurMaterial.uniforms.resolution.value.set(this.width,this.height),this.depthRenderMaterial=new en({defines:Object.assign({},S2.defines),uniforms:qn.clone(S2.uniforms),vertexShader:S2.vertexShader,fragmentShader:S2.fragmentShader,blending:Wt}),this.depthRenderMaterial.uniforms.tDepth.value=this.normalRenderTarget.depthTexture,this.depthRenderMaterial.uniforms.cameraNear.value=this.camera.near,this.depthRenderMaterial.uniforms.cameraFar.value=this.camera.far,this.copyMaterial=new en({uniforms:qn.clone(Fa.uniforms),vertexShader:Fa.vertexShader,fragmentShader:Fa.fragmentShader,transparent:!0,depthTest:!1,depthWrite:!1,blendSrc:P5,blendDst:mp,blendEquation:Es,blendSrcAlpha:B5,blendDstAlpha:mp,blendEquationAlpha:Es}),this.fsQuad=new m6(null),this.originalClearColor=new Fe}dispose(){this.beautyRenderTarget.dispose(),this.normalRenderTarget.dispose(),this.ssaoRenderTarget.dispose(),this.blurRenderTarget.dispose(),this.normalMaterial.dispose(),this.blurMaterial.dispose(),this.copyMaterial.dispose(),this.depthRenderMaterial.dispose(),this.fsQuad.dispose()}render(t,e){switch(t.capabilities.isWebGL2===!1&&(this.noiseTexture.format=K9),t.setRenderTarget(this.beautyRenderTarget),t.clear(),t.render(this.scene,this.camera),this.overrideVisibility(),this.renderOverride(t,this.normalMaterial,this.normalRenderTarget,7829503,1),this.restoreVisibility(),this.ssaoMaterial.uniforms.kernelRadius.value=this.kernelRadius,this.ssaoMaterial.uniforms.minDistance.value=this.minDistance,this.ssaoMaterial.uniforms.maxDistance.value=this.maxDistance,this.renderPass(t,this.ssaoMaterial,this.ssaoRenderTarget),this.renderPass(t,this.blurMaterial,this.blurRenderTarget),this.output){case th.OUTPUT.SSAO:this.copyMaterial.uniforms.tDiffuse.value=this.ssaoRenderTarget.texture,this.copyMaterial.blending=Wt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case th.OUTPUT.Blur:this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.copyMaterial.blending=Wt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case th.OUTPUT.Beauty:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Wt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case th.OUTPUT.Depth:this.renderPass(t,this.depthRenderMaterial,this.renderToScreen?null:e);break;case th.OUTPUT.Normal:this.copyMaterial.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.copyMaterial.blending=Wt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case th.OUTPUT.Default:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Wt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e),this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.copyMaterial.blending=wg,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;default:console.warn("THREE.SSAOPass: Unknown output type.")}}renderPass(t,e,n,r,i){t.getClearColor(this.originalClearColor);const s=t.getClearAlpha(),o=t.autoClear;t.setRenderTarget(n),t.autoClear=!1,r!=null&&(t.setClearColor(r),t.setClearAlpha(i||0),t.clear()),this.fsQuad.material=e,this.fsQuad.render(t),t.autoClear=o,t.setClearColor(this.originalClearColor),t.setClearAlpha(s)}renderOverride(t,e,n,r,i){t.getClearColor(this.originalClearColor);const s=t.getClearAlpha(),o=t.autoClear;t.setRenderTarget(n),t.autoClear=!1,r=e.clearColor||r,i=e.clearAlpha||i,r!=null&&(t.setClearColor(r),t.setClearAlpha(i||0),t.clear()),this.scene.overrideMaterial=e,t.render(this.scene,this.camera),this.scene.overrideMaterial=null,t.autoClear=o,t.setClearColor(this.originalClearColor),t.setClearAlpha(s)}setSize(t,e){this.width=t,this.height=e,this.beautyRenderTarget.setSize(t,e),this.ssaoRenderTarget.setSize(t,e),this.normalRenderTarget.setSize(t,e),this.blurRenderTarget.setSize(t,e),this.ssaoMaterial.uniforms.resolution.value.set(t,e),this.ssaoMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssaoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.blurMaterial.uniforms.resolution.value.set(t,e)}generateSampleKernel(){const t=this.kernelSize,e=this.kernel;for(let n=0;n<t;n++){const r=new O;r.x=Math.random()*2-1,r.y=Math.random()*2-1,r.z=Math.random(),r.normalize();let i=n/t;i=$d.lerp(.1,1,i*i),r.multiplyScalar(i),e.push(r)}}generateRandomKernelRotations(){Km===void 0&&console.error("THREE.SSAOPass: The pass relies on SimplexNoise.");const n=new Km,r=4*4,i=new Float32Array(r);for(let s=0;s<r;s++){const o=Math.random()*2-1,a=Math.random()*2-1,l=0;i[s]=n.noise3d(o,a,l)}this.noiseTexture=new Pa(i,4,4,mh,Ui),this.noiseTexture.wrapS=po,this.noiseTexture.wrapT=po,this.noiseTexture.needsUpdate=!0}overrideVisibility(){const t=this.scene,e=this._visibilityCache;t.traverse(function(n){e.set(n,n.visible),(n.isPoints||n.isLine)&&(n.visible=!1)})}restoreVisibility(){const t=this.scene,e=this._visibilityCache;t.traverse(function(n){const r=e.get(n);n.visible=r}),e.clear()}};let yme=th;Me(yme,"OUTPUT",{Default:0,SSAO:1,Blur:2,Beauty:3,Depth:4,Normal:5});const xme={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new Fe(0)},defaultOpacity:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec3 defaultColor;","uniform float defaultOpacity;","uniform float luminosityThreshold;","uniform float smoothWidth;","varying vec2 vUv;","void main() {","	vec4 texel = texture2D( tDiffuse, vUv );","	vec3 luma = vec3( 0.299, 0.587, 0.114 );","	float v = dot( texel.xyz, luma );","	vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );","	float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );","	gl_FragColor = mix( outputColor, texel, alpha );","}"].join(`
`)},dC=class extends p6{constructor(t,e,n,r){super(),this.strength=e!==void 0?e:1,this.radius=n,this.threshold=r,this.resolution=t!==void 0?new ue(t.x,t.y):new ue(256,256),this.clearColor=new Fe(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let i=Math.round(this.resolution.x/2),s=Math.round(this.resolution.y/2);this.renderTargetBright=new En(i,s,{type:vr}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let u=0;u<this.nMips;u++){const h=new En(i,s,{type:vr});h.texture.name="UnrealBloomPass.h"+u,h.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(h);const f=new En(i,s,{type:vr});f.texture.name="UnrealBloomPass.v"+u,f.texture.generateMipmaps=!1,this.renderTargetsVertical.push(f),i=Math.round(i/2),s=Math.round(s/2)}const o=xme;this.highPassUniforms=qn.clone(o.uniforms),this.highPassUniforms.luminosityThreshold.value=r,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new en({uniforms:this.highPassUniforms,vertexShader:o.vertexShader,fragmentShader:o.fragmentShader,defines:{}}),this.separableBlurMaterials=[];const a=[3,5,7,9,11];i=Math.round(this.resolution.x/2),s=Math.round(this.resolution.y/2);for(let u=0;u<this.nMips;u++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(a[u])),this.separableBlurMaterials[u].uniforms.texSize.value=new ue(i,s),i=Math.round(i/2),s=Math.round(s/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=e,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0;const l=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=l,this.bloomTintColors=[new O(1,1,1),new O(1,1,1),new O(1,1,1),new O(1,1,1),new O(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const c=Fa;this.copyUniforms=qn.clone(c.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new en({uniforms:this.copyUniforms,vertexShader:c.vertexShader,fragmentShader:c.fragmentShader,blending:pp,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new Fe,this.oldClearAlpha=1,this.basic=new oi,this.fsQuad=new m6(null)}dispose(){for(let t=0;t<this.renderTargetsHorizontal.length;t++)this.renderTargetsHorizontal[t].dispose();for(let t=0;t<this.renderTargetsVertical.length;t++)this.renderTargetsVertical[t].dispose();this.renderTargetBright.dispose();for(let t=0;t<this.separableBlurMaterials.length;t++)this.separableBlurMaterials[t].dispose();this.compositeMaterial.dispose(),this.materialCopy.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(t,e){let n=Math.round(t/2),r=Math.round(e/2);this.renderTargetBright.setSize(n,r);for(let i=0;i<this.nMips;i++)this.renderTargetsHorizontal[i].setSize(n,r),this.renderTargetsVertical[i].setSize(n,r),this.separableBlurMaterials[i].uniforms.texSize.value=new ue(n,r),n=Math.round(n/2),r=Math.round(r/2)}render(t,e,n,r,i){t.getClearColor(this._oldClearColor),this.oldClearAlpha=t.getClearAlpha();const s=t.autoClear;t.autoClear=!1,t.setClearColor(this.clearColor,0),i&&t.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=n.texture,t.setRenderTarget(null),t.clear(),this.fsQuad.render(t)),this.highPassUniforms.tDiffuse.value=n.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,t.setRenderTarget(this.renderTargetBright),t.clear(),this.fsQuad.render(t);let o=this.renderTargetBright;for(let a=0;a<this.nMips;a++)this.fsQuad.material=this.separableBlurMaterials[a],this.separableBlurMaterials[a].uniforms.colorTexture.value=o.texture,this.separableBlurMaterials[a].uniforms.direction.value=dC.BlurDirectionX,t.setRenderTarget(this.renderTargetsHorizontal[a]),t.clear(),this.fsQuad.render(t),this.separableBlurMaterials[a].uniforms.colorTexture.value=this.renderTargetsHorizontal[a].texture,this.separableBlurMaterials[a].uniforms.direction.value=dC.BlurDirectionY,t.setRenderTarget(this.renderTargetsVertical[a]),t.clear(),this.fsQuad.render(t),o=this.renderTargetsVertical[a];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,t.setRenderTarget(this.renderTargetsHorizontal[0]),t.clear(),this.fsQuad.render(t),this.fsQuad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,i&&t.state.buffers.stencil.setTest(!0),this.renderToScreen?(t.setRenderTarget(null),this.fsQuad.render(t)):(t.setRenderTarget(n),this.fsQuad.render(t)),t.setClearColor(this._oldClearColor,this.oldClearAlpha),t.autoClear=s}getSeperableBlurMaterial(t){return new en({defines:{KERNEL_RADIUS:t,SIGMA:t},uniforms:{colorTexture:{value:null},texSize:{value:new ue(.5,.5)},direction:{value:new ue(.5,.5)}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 texSize;
				uniform vec2 direction;

				float gaussianPdf(in float x, in float sigma) {
					return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;
				}
				void main() {
					vec2 invSize = 1.0 / texSize;
					float fSigma = float(SIGMA);
					float weightSum = gaussianPdf(0.0, fSigma);
					vec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianPdf(x, fSigma);
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(t){return new en({defines:{NUM_MIPS:t},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}};let fV=dC;Me(fV,"BlurDirectionX",new ue(1,0));Me(fV,"BlurDirectionY",new ue(0,1));const w2={defines:{NUM_SAMPLES:7,NUM_RINGS:4,NORMAL_TEXTURE:0,DIFFUSE_TEXTURE:0,DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},tDiffuse:{value:null},tNormal:{value:null},size:{value:new ue(512,512)},cameraNear:{value:1},cameraFar:{value:100},cameraProjectionMatrix:{value:new st},cameraInverseProjectionMatrix:{value:new st},scale:{value:1},intensity:{value:.1},bias:{value:.5},minResolution:{value:0},kernelRadius:{value:100},randomSeed:{value:0}},vertexShader:["varying vec2 vUv;","void main() {","	vUv = uv;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["#include <common>","varying vec2 vUv;","#if DIFFUSE_TEXTURE == 1","uniform sampler2D tDiffuse;","#endif","uniform sampler2D tDepth;","#if NORMAL_TEXTURE == 1","uniform sampler2D tNormal;","#endif","uniform float cameraNear;","uniform float cameraFar;","uniform mat4 cameraProjectionMatrix;","uniform mat4 cameraInverseProjectionMatrix;","uniform float scale;","uniform float intensity;","uniform float bias;","uniform float kernelRadius;","uniform float minResolution;","uniform vec2 size;","uniform float randomSeed;","// RGBA depth","#include <packing>","vec4 getDefaultColor( const in vec2 screenPosition ) {","	#if DIFFUSE_TEXTURE == 1","	return texture2D( tDiffuse, vUv );","	#else","	return vec4( 1.0 );","	#endif","}","float getDepth( const in vec2 screenPosition ) {","	#if DEPTH_PACKING == 1","	return unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );","	#else","	return texture2D( tDepth, screenPosition ).x;","	#endif","}","float getViewZ( const in float depth ) {","	#if PERSPECTIVE_CAMERA == 1","	return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );","	#else","	return orthographicDepthToViewZ( depth, cameraNear, cameraFar );","	#endif","}","vec3 getViewPosition( const in vec2 screenPosition, const in float depth, const in float viewZ ) {","	float clipW = cameraProjectionMatrix[2][3] * viewZ + cameraProjectionMatrix[3][3];","	vec4 clipPosition = vec4( ( vec3( screenPosition, depth ) - 0.5 ) * 2.0, 1.0 );","	clipPosition *= clipW; // unprojection.","	return ( cameraInverseProjectionMatrix * clipPosition ).xyz;","}","vec3 getViewNormal( const in vec3 viewPosition, const in vec2 screenPosition ) {","	#if NORMAL_TEXTURE == 1","	return unpackRGBToNormal( texture2D( tNormal, screenPosition ).xyz );","	#else","	return normalize( cross( dFdx( viewPosition ), dFdy( viewPosition ) ) );","	#endif","}","float scaleDividedByCameraFar;","float minResolutionMultipliedByCameraFar;","float getOcclusion( const in vec3 centerViewPosition, const in vec3 centerViewNormal, const in vec3 sampleViewPosition ) {","	vec3 viewDelta = sampleViewPosition - centerViewPosition;","	float viewDistance = length( viewDelta );","	float scaledScreenDistance = scaleDividedByCameraFar * viewDistance;","	return max(0.0, (dot(centerViewNormal, viewDelta) - minResolutionMultipliedByCameraFar) / scaledScreenDistance - bias) / (1.0 + pow2( scaledScreenDistance ) );","}","// moving costly divides into consts","const float ANGLE_STEP = PI2 * float( NUM_RINGS ) / float( NUM_SAMPLES );","const float INV_NUM_SAMPLES = 1.0 / float( NUM_SAMPLES );","float getAmbientOcclusion( const in vec3 centerViewPosition ) {","	// precompute some variables require in getOcclusion.","	scaleDividedByCameraFar = scale / cameraFar;","	minResolutionMultipliedByCameraFar = minResolution * cameraFar;","	vec3 centerViewNormal = getViewNormal( centerViewPosition, vUv );","	// jsfiddle that shows sample pattern: https://jsfiddle.net/a16ff1p7/","	float angle = rand( vUv + randomSeed ) * PI2;","	vec2 radius = vec2( kernelRadius * INV_NUM_SAMPLES ) / size;","	vec2 radiusStep = radius;","	float occlusionSum = 0.0;","	float weightSum = 0.0;","	for( int i = 0; i < NUM_SAMPLES; i ++ ) {","		vec2 sampleUv = vUv + vec2( cos( angle ), sin( angle ) ) * radius;","		radius += radiusStep;","		angle += ANGLE_STEP;","		float sampleDepth = getDepth( sampleUv );","		if( sampleDepth >= ( 1.0 - EPSILON ) ) {","			continue;","		}","		float sampleViewZ = getViewZ( sampleDepth );","		vec3 sampleViewPosition = getViewPosition( sampleUv, sampleDepth, sampleViewZ );","		occlusionSum += getOcclusion( centerViewPosition, centerViewNormal, sampleViewPosition );","		weightSum += 1.0;","	}","	if( weightSum == 0.0 ) discard;","	return occlusionSum * ( intensity / weightSum );","}","void main() {","	float centerDepth = getDepth( vUv );","	if( centerDepth >= ( 1.0 - EPSILON ) ) {","		discard;","	}","	float centerViewZ = getViewZ( centerDepth );","	vec3 viewPosition = getViewPosition( vUv, centerDepth, centerViewZ );","	float ambientOcclusion = getAmbientOcclusion( viewPosition );","	gl_FragColor = getDefaultColor( vUv );","	gl_FragColor.xyz *=  1.0 - ambientOcclusion;","}"].join(`
`)},hc={defines:{KERNEL_RADIUS:4,DEPTH_PACKING:1,PERSPECTIVE_CAMERA:1},uniforms:{tDiffuse:{value:null},size:{value:new ue(512,512)},sampleUvOffsets:{value:[new ue(0,0)]},sampleWeights:{value:[1]},tDepth:{value:null},cameraNear:{value:10},cameraFar:{value:1e3},depthCutoff:{value:10}},vertexShader:["#include <common>","uniform vec2 size;","varying vec2 vUv;","varying vec2 vInvSize;","void main() {","	vUv = uv;","	vInvSize = 1.0 / size;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),fragmentShader:["#include <common>","#include <packing>","uniform sampler2D tDiffuse;","uniform sampler2D tDepth;","uniform float cameraNear;","uniform float cameraFar;","uniform float depthCutoff;","uniform vec2 sampleUvOffsets[ KERNEL_RADIUS + 1 ];","uniform float sampleWeights[ KERNEL_RADIUS + 1 ];","varying vec2 vUv;","varying vec2 vInvSize;","float getDepth( const in vec2 screenPosition ) {","	#if DEPTH_PACKING == 1","	return unpackRGBAToDepth( texture2D( tDepth, screenPosition ) );","	#else","	return texture2D( tDepth, screenPosition ).x;","	#endif","}","float getViewZ( const in float depth ) {","	#if PERSPECTIVE_CAMERA == 1","	return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );","	#else","	return orthographicDepthToViewZ( depth, cameraNear, cameraFar );","	#endif","}","void main() {","	float depth = getDepth( vUv );","	if( depth >= ( 1.0 - EPSILON ) ) {","		discard;","	}","	float centerViewZ = -getViewZ( depth );","	bool rBreak = false, lBreak = false;","	float weightSum = sampleWeights[0];","	vec4 diffuseSum = texture2D( tDiffuse, vUv ) * weightSum;","	for( int i = 1; i <= KERNEL_RADIUS; i ++ ) {","		float sampleWeight = sampleWeights[i];","		vec2 sampleUvOffset = sampleUvOffsets[i] * vInvSize;","		vec2 sampleUv = vUv + sampleUvOffset;","		float viewZ = -getViewZ( getDepth( sampleUv ) );","		if( abs( viewZ - centerViewZ ) > depthCutoff ) rBreak = true;","		if( ! rBreak ) {","			diffuseSum += texture2D( tDiffuse, sampleUv ) * sampleWeight;","			weightSum += sampleWeight;","		}","		sampleUv = vUv - sampleUvOffset;","		viewZ = -getViewZ( getDepth( sampleUv ) );","		if( abs( viewZ - centerViewZ ) > depthCutoff ) lBreak = true;","		if( ! lBreak ) {","			diffuseSum += texture2D( tDiffuse, sampleUv ) * sampleWeight;","			weightSum += sampleWeight;","		}","	}","	gl_FragColor = diffuseSum / weightSum;","}"].join(`
`)},gy={createSampleWeights:(t,e)=>{const n=(i,s)=>Math.exp(-(i*i)/(2*(s*s)))/(Math.sqrt(2*Math.PI)*s),r=[];for(let i=0;i<=t;i++)r.push(n(i,e));return r},createSampleOffsets:(t,e)=>{const n=[];for(let r=0;r<=t;r++)n.push(e.clone().multiplyScalar(r));return n},configure:(t,e,n,r)=>{t.defines.KERNEL_RADIUS=e,t.uniforms.sampleUvOffsets.value=gy.createSampleOffsets(e,r),t.uniforms.sampleWeights.value=gy.createSampleWeights(e,n),t.needsUpdate=!0}};class Eme extends p6{constructor(e,n,r=!1,i=!1,s=new ue(256,256)){super(),this.scene=e,this.camera=n,this.clear=!0,this.needsSwap=!1,this.supportsDepthTextureExtension=r,this.supportsNormalTexture=i,this.originalClearColor=new Fe,this._oldClearColor=new Fe,this.oldClearAlpha=1,this.params={output:0,saoBias:.5,saoIntensity:.18,saoScale:1,saoKernelRadius:100,saoMinResolution:0,saoBlur:!0,saoBlurRadius:8,saoBlurStdDev:4,saoBlurDepthCutoff:.01},this.resolution=new ue(s.x,s.y),this.saoRenderTarget=new En(this.resolution.x,this.resolution.y,{type:vr}),this.blurIntermediateRenderTarget=this.saoRenderTarget.clone(),this.beautyRenderTarget=this.saoRenderTarget.clone(),this.normalRenderTarget=new En(this.resolution.x,this.resolution.y,{minFilter:It,magFilter:It,type:vr}),this.depthRenderTarget=this.normalRenderTarget.clone();let o;this.supportsDepthTextureExtension&&(o=new Jp,o.type=sf,this.beautyRenderTarget.depthTexture=o,this.beautyRenderTarget.depthBuffer=!0),this.depthMaterial=new H5,this.depthMaterial.depthPacking=tT,this.depthMaterial.blending=Wt,this.normalMaterial=new B3,this.normalMaterial.blending=Wt,this.saoMaterial=new en({defines:Object.assign({},w2.defines),fragmentShader:w2.fragmentShader,vertexShader:w2.vertexShader,uniforms:qn.clone(w2.uniforms)}),this.saoMaterial.extensions.derivatives=!0,this.saoMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.saoMaterial.defines.NORMAL_TEXTURE=this.supportsNormalTexture?1:0,this.saoMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.saoMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?o:this.depthRenderTarget.texture,this.saoMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.saoMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.saoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.saoMaterial.uniforms.cameraProjectionMatrix.value=this.camera.projectionMatrix,this.saoMaterial.blending=Wt,this.vBlurMaterial=new en({uniforms:qn.clone(hc.uniforms),defines:Object.assign({},hc.defines),vertexShader:hc.vertexShader,fragmentShader:hc.fragmentShader}),this.vBlurMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.vBlurMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.vBlurMaterial.uniforms.tDiffuse.value=this.saoRenderTarget.texture,this.vBlurMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?o:this.depthRenderTarget.texture,this.vBlurMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.vBlurMaterial.blending=Wt,this.hBlurMaterial=new en({uniforms:qn.clone(hc.uniforms),defines:Object.assign({},hc.defines),vertexShader:hc.vertexShader,fragmentShader:hc.fragmentShader}),this.hBlurMaterial.defines.DEPTH_PACKING=this.supportsDepthTextureExtension?0:1,this.hBlurMaterial.defines.PERSPECTIVE_CAMERA=this.camera.isPerspectiveCamera?1:0,this.hBlurMaterial.uniforms.tDiffuse.value=this.blurIntermediateRenderTarget.texture,this.hBlurMaterial.uniforms.tDepth.value=this.supportsDepthTextureExtension?o:this.depthRenderTarget.texture,this.hBlurMaterial.uniforms.size.value.set(this.resolution.x,this.resolution.y),this.hBlurMaterial.blending=Wt,this.materialCopy=new en({uniforms:qn.clone(Fa.uniforms),vertexShader:Fa.vertexShader,fragmentShader:Fa.fragmentShader,blending:Wt}),this.materialCopy.transparent=!0,this.materialCopy.depthTest=!1,this.materialCopy.depthWrite=!1,this.materialCopy.blending=wg,this.materialCopy.blendSrc=P5,this.materialCopy.blendDst=mp,this.materialCopy.blendEquation=Es,this.materialCopy.blendSrcAlpha=B5,this.materialCopy.blendDstAlpha=mp,this.materialCopy.blendEquationAlpha=Es,this.depthCopy=new en({uniforms:qn.clone(u_.uniforms),vertexShader:u_.vertexShader,fragmentShader:u_.fragmentShader,blending:Wt}),this.fsQuad=new m6(null)}render(e,n,r){if(this.renderToScreen&&(this.materialCopy.blending=Wt,this.materialCopy.uniforms.tDiffuse.value=r.texture,this.materialCopy.needsUpdate=!0,this.renderPass(e,this.materialCopy,null)),this.params.output===1)return;e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const i=e.autoClear;e.autoClear=!1,e.setRenderTarget(this.depthRenderTarget),e.clear(),this.saoMaterial.uniforms.bias.value=this.params.saoBias,this.saoMaterial.uniforms.intensity.value=this.params.saoIntensity,this.saoMaterial.uniforms.scale.value=this.params.saoScale,this.saoMaterial.uniforms.kernelRadius.value=this.params.saoKernelRadius,this.saoMaterial.uniforms.minResolution.value=this.params.saoMinResolution,this.saoMaterial.uniforms.cameraNear.value=this.camera.near,this.saoMaterial.uniforms.cameraFar.value=this.camera.far;const s=this.params.saoBlurDepthCutoff*(this.camera.far-this.camera.near);this.vBlurMaterial.uniforms.depthCutoff.value=s,this.hBlurMaterial.uniforms.depthCutoff.value=s,this.vBlurMaterial.uniforms.cameraNear.value=this.camera.near,this.vBlurMaterial.uniforms.cameraFar.value=this.camera.far,this.hBlurMaterial.uniforms.cameraNear.value=this.camera.near,this.hBlurMaterial.uniforms.cameraFar.value=this.camera.far,this.params.saoBlurRadius=Math.floor(this.params.saoBlurRadius),(this.prevStdDev!==this.params.saoBlurStdDev||this.prevNumSamples!==this.params.saoBlurRadius)&&(gy.configure(this.vBlurMaterial,this.params.saoBlurRadius,this.params.saoBlurStdDev,new ue(0,1)),gy.configure(this.hBlurMaterial,this.params.saoBlurRadius,this.params.saoBlurStdDev,new ue(1,0)),this.prevStdDev=this.params.saoBlurStdDev,this.prevNumSamples=this.params.saoBlurRadius),e.setClearColor(0),e.setRenderTarget(this.beautyRenderTarget),e.clear(),e.render(this.scene,this.camera),this.supportsDepthTextureExtension||this.renderOverride(e,this.depthMaterial,this.depthRenderTarget,0,1),this.supportsNormalTexture&&this.renderOverride(e,this.normalMaterial,this.normalRenderTarget,7829503,1),this.renderPass(e,this.saoMaterial,this.saoRenderTarget,16777215,1),this.params.saoBlur&&(this.renderPass(e,this.vBlurMaterial,this.blurIntermediateRenderTarget,16777215,1),this.renderPass(e,this.hBlurMaterial,this.saoRenderTarget,16777215,1));let o=this.materialCopy;this.params.output===3?this.supportsDepthTextureExtension?(this.materialCopy.uniforms.tDiffuse.value=this.beautyRenderTarget.depthTexture,this.materialCopy.needsUpdate=!0):(this.depthCopy.uniforms.tDiffuse.value=this.depthRenderTarget.texture,this.depthCopy.needsUpdate=!0,o=this.depthCopy):this.params.output===4?(this.materialCopy.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.materialCopy.needsUpdate=!0):(this.materialCopy.uniforms.tDiffuse.value=this.saoRenderTarget.texture,this.materialCopy.needsUpdate=!0),this.params.output===0?o.blending=wg:o.blending=Wt,this.renderPass(e,o,this.renderToScreen?null:r),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=i}renderPass(e,n,r,i,s){e.getClearColor(this.originalClearColor);const o=e.getClearAlpha(),a=e.autoClear;e.setRenderTarget(r),e.autoClear=!1,i!=null&&(e.setClearColor(i),e.setClearAlpha(s||0),e.clear()),this.fsQuad.material=n,this.fsQuad.render(e),e.autoClear=a,e.setClearColor(this.originalClearColor),e.setClearAlpha(o)}renderOverride(e,n,r,i,s){e.getClearColor(this.originalClearColor);const o=e.getClearAlpha(),a=e.autoClear;e.setRenderTarget(r),e.autoClear=!1,i=n.clearColor||i,s=n.clearAlpha||s,i!=null&&(e.setClearColor(i),e.setClearAlpha(s||0),e.clear()),this.scene.overrideMaterial=n,e.render(this.scene,this.camera),this.scene.overrideMaterial=null,e.autoClear=a,e.setClearColor(this.originalClearColor),e.setClearAlpha(o)}setSize(e,n){this.beautyRenderTarget.setSize(e,n),this.saoRenderTarget.setSize(e,n),this.blurIntermediateRenderTarget.setSize(e,n),this.normalRenderTarget.setSize(e,n),this.depthRenderTarget.setSize(e,n),this.saoMaterial.uniforms.size.value.set(e,n),this.saoMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.saoMaterial.uniforms.cameraProjectionMatrix.value=this.camera.projectionMatrix,this.saoMaterial.needsUpdate=!0,this.vBlurMaterial.uniforms.size.value.set(e,n),this.vBlurMaterial.needsUpdate=!0,this.hBlurMaterial.uniforms.size.value.set(e,n),this.hBlurMaterial.needsUpdate=!0}dispose(){this.saoRenderTarget.dispose(),this.blurIntermediateRenderTarget.dispose(),this.beautyRenderTarget.dispose(),this.normalRenderTarget.dispose(),this.depthRenderTarget.dispose(),this.depthMaterial.dispose(),this.normalMaterial.dispose(),this.saoMaterial.dispose(),this.vBlurMaterial.dispose(),this.hBlurMaterial.dispose(),this.materialCopy.dispose(),this.depthCopy.dispose(),this.fsQuad.dispose()}}Me(Eme,"OUTPUT",{Beauty:1,Default:0,SAO:2,Depth:3,Normal:4});const Aa={defines:{MAX_STEP:0,isPerspectiveCamera:!0,isDistanceAttenuation:!0,isFresnel:!0,isInfiniteThick:!1,isSelective:!1},uniforms:{tDiffuse:{value:null},tNormal:{value:null},tMetalness:{value:null},tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null},resolution:{value:new ue},cameraProjectionMatrix:{value:new st},cameraInverseProjectionMatrix:{value:new st},opacity:{value:.5},maxDistance:{value:180},cameraRange:{value:0},surfDist:{value:.007},thickTolerance:{value:.03}},vertexShader:`

    varying vec2 vUv;

    void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }

  `,fragmentShader:`
		// precision highp float;
		precision highp sampler2D;
		varying vec2 vUv;
		uniform sampler2D tDepth;
		uniform sampler2D tNormal;
		uniform sampler2D tMetalness;
		uniform sampler2D tDiffuse;
		uniform float cameraRange;
		uniform vec2 resolution;
		uniform float opacity;
		uniform float cameraNear;
		uniform float cameraFar;
		uniform float maxDistance;
		uniform float surfDist;
		uniform mat4 cameraProjectionMatrix;
		uniform mat4 cameraInverseProjectionMatrix;
		uniform float thickTolerance;
		#include <packing>
		float pointToLineDistance(vec3 x0, vec3 x1, vec3 x2) {
			//x0: point, x1: linePointA, x2: linePointB
			//https://mathworld.wolfram.com/Point-LineDistance3-Dimensional.html
			return length(cross(x0-x1,x0-x2))/length(x2-x1);
		}
		float pointPlaneDistance(vec3 point,vec3 planePoint,vec3 planeNormal){
			// https://mathworld.wolfram.com/Point-PlaneDistance.html
			//// https://en.wikipedia.org/wiki/Plane_(geometry)
			//// http://paulbourke.net/geometry/pointlineplane/
			float a=planeNormal.x,b=planeNormal.y,c=planeNormal.z;
			float x0=point.x,y0=point.y,z0=point.z;
			float x=planePoint.x,y=planePoint.y,z=planePoint.z;
			float d=-(a*x+b*y+c*z);
			float distance=(a*x0+b*y0+c*z0+d)/sqrt(a*a+b*b+c*c);
			return distance;
		}
		float getDepth( const in vec2 uv ) {
			return texture2D( tDepth, uv ).x;
		}
		float getViewZ( const in float depth ) {
			#ifdef isPerspectiveCamera
				return perspectiveDepthToViewZ( depth, cameraNear, cameraFar );
			#else
				return orthographicDepthToViewZ( depth, cameraNear, cameraFar );
			#endif
		}
		vec3 getViewPosition( const in vec2 uv, const in float depth/*clip space*/, const in float clipW ) {
			vec4 clipPosition = vec4( ( vec3( uv, depth ) - 0.5 ) * 2.0, 1.0 );//ndc
			clipPosition *= clipW; //clip
			return ( cameraInverseProjectionMatrix * clipPosition ).xyz;//view
		}
		vec3 getViewNormal( const in vec2 uv ) {
			return unpackRGBToNormal( texture2D( tNormal, uv ).xyz );
		}
		vec2 viewPositionToXY(vec3 viewPosition){
			vec2 xy;
			vec4 clip=cameraProjectionMatrix*vec4(viewPosition,1);
			xy=clip.xy;//clip
			float clipW=clip.w;
			xy/=clipW;//NDC
			xy=(xy+1.)/2.;//uv
			xy*=resolution;//screen
			return xy;
		}
		void main(){
			#ifdef isSelective
				float metalness=texture2D(tMetalness,vUv).r;
				if(metalness==0.) return;
			#endif

			float depth = getDepth( vUv );
			float viewZ = getViewZ( depth );
			if(-viewZ>=cameraFar) return;

			float clipW = cameraProjectionMatrix[2][3] * viewZ+cameraProjectionMatrix[3][3];
			vec3 viewPosition=getViewPosition( vUv, depth, clipW );

			vec2 d0=gl_FragCoord.xy;
			vec2 d1;

			vec3 viewNormal=getViewNormal( vUv );

			#ifdef isPerspectiveCamera
				vec3 viewIncidenceDir=normalize(viewPosition);
				vec3 viewReflectDir=reflect(viewIncidenceDir,viewNormal);
			#else
				vec3 viewIncidenceDir=vec3(0,0,-1);
				vec3 viewReflectDir=reflect(viewIncidenceDir,viewNormal);
			#endif

			float maxReflectRayLen=maxDistance/dot(-viewIncidenceDir,viewNormal);
			// dot(a,b)==length(a)*length(b)*cos(theta) // https://www.mathsisfun.com/algebra/vectors-dot-product.html
			// if(a.isNormalized&&b.isNormalized) dot(a,b)==cos(theta)
			// maxDistance/maxReflectRayLen=cos(theta)
			// maxDistance/maxReflectRayLen==dot(a,b)
			// maxReflectRayLen==maxDistance/dot(a,b)

			vec3 d1viewPosition=viewPosition+viewReflectDir*maxReflectRayLen;
			#ifdef isPerspectiveCamera
				if(d1viewPosition.z>-cameraNear){
					//https://tutorial.math.lamar.edu/Classes/CalcIII/EqnsOfLines.aspx
					float t=(-cameraNear-viewPosition.z)/viewReflectDir.z;
					d1viewPosition=viewPosition+viewReflectDir*t;
				}
			#endif
			d1=viewPositionToXY(d1viewPosition);

			float totalLen=length(d1-d0);
			float xLen=d1.x-d0.x;
			float yLen=d1.y-d0.y;
			float totalStep=max(abs(xLen),abs(yLen));
			float xSpan=xLen/totalStep;
			float ySpan=yLen/totalStep;
			for(float i=0.;i<MAX_STEP;i++){
				if(i>=totalStep) break;
				vec2 xy=vec2(d0.x+i*xSpan,d0.y+i*ySpan);
				if(xy.x<0.||xy.x>resolution.x||xy.y<0.||xy.y>resolution.y) break;
				float s=length(xy-d0)/totalLen;
				vec2 uv=xy/resolution;

				float d = getDepth(uv);
				float vZ = getViewZ( d );
				if(-vZ>=cameraFar) continue;
				float cW = cameraProjectionMatrix[2][3] * vZ+cameraProjectionMatrix[3][3];
				vec3 vP=getViewPosition( uv, d, cW );

				#ifdef isPerspectiveCamera
					// https://www.comp.nus.edu.sg/~lowkl/publications/lowk_persp_interp_techrep.pdf
					float recipVPZ=1./viewPosition.z;
					float viewReflectRayZ=1./(recipVPZ+s*(1./d1viewPosition.z-recipVPZ));
					float sD=surfDist*cW;
				#else
					float viewReflectRayZ=viewPosition.z+s*(d1viewPosition.z-viewPosition.z);
					float sD=surfDist;
				#endif
				if(viewReflectRayZ-sD>vZ) continue;

				#ifdef isInfiniteThick
					if(viewReflectRayZ+thickTolerance*clipW<vP.z) break;
				#endif
				float away=pointToLineDistance(vP,viewPosition,d1viewPosition);

				float op=opacity;

				if(away<sD){
					vec3 vN=getViewNormal( uv );
					if(dot(viewReflectDir,vN)>=0.) continue;
					float distance=pointPlaneDistance(vP,viewPosition,viewNormal);
					if(distance>maxDistance) break;
					#ifdef isDistanceAttenuation
						float ratio=1.-(distance/maxDistance);
						float attenuation=ratio*ratio;
						op=opacity*attenuation;
					#endif
					#ifdef isFresnel
						float fresnel=(dot(viewIncidenceDir,viewReflectDir)+1.)/2.;
						op*=fresnel;
					#endif
					vec4 reflectColor=texture2D(tDiffuse,uv);
					gl_FragColor.xyz=reflectColor.xyz;
					gl_FragColor.a=op;
					break;
				}
			}
		}
	`},T2={defines:{PERSPECTIVE_CAMERA:1},uniforms:{tDepth:{value:null},cameraNear:{value:null},cameraFar:{value:null}},vertexShader:`

    varying vec2 vUv;

    void main() {

    	vUv = uv;
    	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }

  `,fragmentShader:`

    uniform sampler2D tDepth;

    uniform float cameraNear;
    uniform float cameraFar;

    varying vec2 vUv;

    #include <packing>

		float getLinearDepth( const in vec2 uv ) {

			#if PERSPECTIVE_CAMERA == 1

				float fragCoordZ = texture2D( tDepth, uv ).x;
				float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );
				return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );

			#else

				return texture2D( tDepth, uv ).x;

			#endif

		}

    void main() {

    	float depth = getLinearDepth( vUv );
			float d = 1.0 - depth;
			// d=(d-.999)*1000.;
    	gl_FragColor = vec4( vec3( d ), 1.0 );

    }

  `},fc={uniforms:{tDiffuse:{value:null},resolution:{value:new ue},opacity:{value:.5}},vertexShader:`

    varying vec2 vUv;

    void main() {

    	vUv = uv;
    	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }

  `,fragmentShader:`

    uniform sampler2D tDiffuse;
    uniform vec2 resolution;
    varying vec2 vUv;
    void main() {
			//reverse engineering from PhotoShop blur filter, then change coefficient

    	vec2 texelSize = ( 1.0 / resolution );

			vec4 c=texture2D(tDiffuse,vUv);

			vec2 offset;

			offset=(vec2(-1,0))*texelSize;
			vec4 cl=texture2D(tDiffuse,vUv+offset);

			offset=(vec2(1,0))*texelSize;
			vec4 cr=texture2D(tDiffuse,vUv+offset);

			offset=(vec2(0,-1))*texelSize;
			vec4 cb=texture2D(tDiffuse,vUv+offset);

			offset=(vec2(0,1))*texelSize;
			vec4 ct=texture2D(tDiffuse,vUv+offset);

			// float coeCenter=.5;
			// float coeSide=.125;
			float coeCenter=.2;
			float coeSide=.2;
			float a=c.a*coeCenter+cl.a*coeSide+cr.a*coeSide+cb.a*coeSide+ct.a*coeSide;
			vec3 rgb=(c.rgb*c.a*coeCenter+cl.rgb*cl.a*coeSide+cr.rgb*cr.a*coeSide+cb.rgb*cb.a*coeSide+ct.rgb*ct.a*coeSide)/a;
			gl_FragColor=vec4(rgb,a);

		}
	`},nh=class extends p6{constructor({renderer:t,scene:e,camera:n,width:r,height:i,selects:s,bouncing:o=!1,groundReflector:a}){super(),this.width=r!==void 0?r:512,this.height=i!==void 0?i:512,this.clear=!0,this.renderer=t,this.scene=e,this.camera=n,this.groundReflector=a,this.opacity=Aa.uniforms.opacity.value,this.output=0,this.maxDistance=Aa.uniforms.maxDistance.value,this.thickness=Aa.uniforms.thickness.value,this.tempColor=new Fe,this._selects=s,this.selective=Array.isArray(this._selects),Object.defineProperty(this,"selects",{get(){return this._selects},set(c){this._selects!==c&&(this._selects=c,Array.isArray(c)?(this.selective=!0,this.ssrMaterial.defines.SELECTIVE=!0,this.ssrMaterial.needsUpdate=!0):(this.selective=!1,this.ssrMaterial.defines.SELECTIVE=!1,this.ssrMaterial.needsUpdate=!0))}}),this._bouncing=o,Object.defineProperty(this,"bouncing",{get(){return this._bouncing},set(c){this._bouncing!==c&&(this._bouncing=c,c?this.ssrMaterial.uniforms.tDiffuse.value=this.prevRenderTarget.texture:this.ssrMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture)}}),this.blur=!0,this._distanceAttenuation=Aa.defines.DISTANCE_ATTENUATION,Object.defineProperty(this,"distanceAttenuation",{get(){return this._distanceAttenuation},set(c){this._distanceAttenuation!==c&&(this._distanceAttenuation=c,this.ssrMaterial.defines.DISTANCE_ATTENUATION=c,this.ssrMaterial.needsUpdate=!0)}}),this._fresnel=Aa.defines.FRESNEL,Object.defineProperty(this,"fresnel",{get(){return this._fresnel},set(c){this._fresnel!==c&&(this._fresnel=c,this.ssrMaterial.defines.FRESNEL=c,this.ssrMaterial.needsUpdate=!0)}}),this._infiniteThick=Aa.defines.INFINITE_THICK,Object.defineProperty(this,"infiniteThick",{get(){return this._infiniteThick},set(c){this._infiniteThick!==c&&(this._infiniteThick=c,this.ssrMaterial.defines.INFINITE_THICK=c,this.ssrMaterial.needsUpdate=!0)}});const l=new Jp;l.type=sf,l.minFilter=It,l.magFilter=It,this.beautyRenderTarget=new En(this.width,this.height,{minFilter:It,magFilter:It,type:vr,depthTexture:l,depthBuffer:!0}),this.prevRenderTarget=new En(this.width,this.height,{minFilter:It,magFilter:It}),this.normalRenderTarget=new En(this.width,this.height,{minFilter:It,magFilter:It,type:vr}),this.metalnessRenderTarget=new En(this.width,this.height,{minFilter:It,magFilter:It,type:vr}),this.ssrRenderTarget=new En(this.width,this.height,{minFilter:It,magFilter:It}),this.blurRenderTarget=this.ssrRenderTarget.clone(),this.blurRenderTarget2=this.ssrRenderTarget.clone(),this.ssrMaterial=new en({defines:Object.assign({},Aa.defines,{MAX_STEP:Math.sqrt(this.width*this.width+this.height*this.height)}),uniforms:qn.clone(Aa.uniforms),vertexShader:Aa.vertexShader,fragmentShader:Aa.fragmentShader,blending:Wt}),this.ssrMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.ssrMaterial.uniforms.tNormal.value=this.normalRenderTarget.texture,this.ssrMaterial.defines.SELECTIVE=this.selective,this.ssrMaterial.needsUpdate=!0,this.ssrMaterial.uniforms.tMetalness.value=this.metalnessRenderTarget.texture,this.ssrMaterial.uniforms.tDepth.value=this.beautyRenderTarget.depthTexture,this.ssrMaterial.uniforms.cameraNear.value=this.camera.near,this.ssrMaterial.uniforms.cameraFar.value=this.camera.far,this.ssrMaterial.uniforms.thickness.value=this.thickness,this.ssrMaterial.uniforms.resolution.value.set(this.width,this.height),this.ssrMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssrMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.normalMaterial=new B3,this.normalMaterial.blending=Wt,this.metalnessOnMaterial=new oi({color:"white"}),this.metalnessOffMaterial=new oi({color:"black"}),this.blurMaterial=new en({defines:Object.assign({},fc.defines),uniforms:qn.clone(fc.uniforms),vertexShader:fc.vertexShader,fragmentShader:fc.fragmentShader}),this.blurMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.blurMaterial.uniforms.resolution.value.set(this.width,this.height),this.blurMaterial2=new en({defines:Object.assign({},fc.defines),uniforms:qn.clone(fc.uniforms),vertexShader:fc.vertexShader,fragmentShader:fc.fragmentShader}),this.blurMaterial2.uniforms.tDiffuse.value=this.blurRenderTarget.texture,this.blurMaterial2.uniforms.resolution.value.set(this.width,this.height),this.depthRenderMaterial=new en({defines:Object.assign({},T2.defines),uniforms:qn.clone(T2.uniforms),vertexShader:T2.vertexShader,fragmentShader:T2.fragmentShader,blending:Wt}),this.depthRenderMaterial.uniforms.tDepth.value=this.beautyRenderTarget.depthTexture,this.depthRenderMaterial.uniforms.cameraNear.value=this.camera.near,this.depthRenderMaterial.uniforms.cameraFar.value=this.camera.far,this.copyMaterial=new en({uniforms:qn.clone(Fa.uniforms),vertexShader:Fa.vertexShader,fragmentShader:Fa.fragmentShader,transparent:!0,depthTest:!1,depthWrite:!1,blendSrc:Tg,blendDst:Ig,blendEquation:Es,blendSrcAlpha:Tg,blendDstAlpha:Ig,blendEquationAlpha:Es}),this.fsQuad=new m6(null),this.originalClearColor=new Fe}dispose(){this.beautyRenderTarget.dispose(),this.prevRenderTarget.dispose(),this.normalRenderTarget.dispose(),this.metalnessRenderTarget.dispose(),this.ssrRenderTarget.dispose(),this.blurRenderTarget.dispose(),this.blurRenderTarget2.dispose(),this.normalMaterial.dispose(),this.metalnessOnMaterial.dispose(),this.metalnessOffMaterial.dispose(),this.blurMaterial.dispose(),this.blurMaterial2.dispose(),this.copyMaterial.dispose(),this.depthRenderMaterial.dispose(),this.fsQuad.dispose()}render(t,e){switch(t.setRenderTarget(this.beautyRenderTarget),t.clear(),this.groundReflector&&(this.groundReflector.visible=!1,this.groundReflector.doRender(this.renderer,this.scene,this.camera),this.groundReflector.visible=!0),t.render(this.scene,this.camera),this.groundReflector&&(this.groundReflector.visible=!1),this.renderOverride(t,this.normalMaterial,this.normalRenderTarget,0,0),this.selective&&this.renderMetalness(t,this.metalnessOnMaterial,this.metalnessRenderTarget,0,0),this.ssrMaterial.uniforms.opacity.value=this.opacity,this.ssrMaterial.uniforms.maxDistance.value=this.maxDistance,this.ssrMaterial.uniforms.thickness.value=this.thickness,this.renderPass(t,this.ssrMaterial,this.ssrRenderTarget),this.blur&&(this.renderPass(t,this.blurMaterial,this.blurRenderTarget),this.renderPass(t,this.blurMaterial2,this.blurRenderTarget2)),this.output){case nh.OUTPUT.Default:this.bouncing?(this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Wt,this.renderPass(t,this.copyMaterial,this.prevRenderTarget),this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=Ba,this.renderPass(t,this.copyMaterial,this.prevRenderTarget),this.copyMaterial.uniforms.tDiffuse.value=this.prevRenderTarget.texture,this.copyMaterial.blending=Wt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e)):(this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Wt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e),this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=Ba,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e));break;case nh.OUTPUT.SSR:this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=Wt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e),this.bouncing&&(this.blur?this.copyMaterial.uniforms.tDiffuse.value=this.blurRenderTarget2.texture:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Wt,this.renderPass(t,this.copyMaterial,this.prevRenderTarget),this.copyMaterial.uniforms.tDiffuse.value=this.ssrRenderTarget.texture,this.copyMaterial.blending=Ba,this.renderPass(t,this.copyMaterial,this.prevRenderTarget));break;case nh.OUTPUT.Beauty:this.copyMaterial.uniforms.tDiffuse.value=this.beautyRenderTarget.texture,this.copyMaterial.blending=Wt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case nh.OUTPUT.Depth:this.renderPass(t,this.depthRenderMaterial,this.renderToScreen?null:e);break;case nh.OUTPUT.Normal:this.copyMaterial.uniforms.tDiffuse.value=this.normalRenderTarget.texture,this.copyMaterial.blending=Wt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;case nh.OUTPUT.Metalness:this.copyMaterial.uniforms.tDiffuse.value=this.metalnessRenderTarget.texture,this.copyMaterial.blending=Wt,this.renderPass(t,this.copyMaterial,this.renderToScreen?null:e);break;default:console.warn("THREE.SSRPass: Unknown output type.")}}renderPass(t,e,n,r,i){this.originalClearColor.copy(t.getClearColor(this.tempColor));const s=t.getClearAlpha(this.tempColor),o=t.autoClear;t.setRenderTarget(n),t.autoClear=!1,r!=null&&(t.setClearColor(r),t.setClearAlpha(i||0),t.clear()),this.fsQuad.material=e,this.fsQuad.render(t),t.autoClear=o,t.setClearColor(this.originalClearColor),t.setClearAlpha(s)}renderOverride(t,e,n,r,i){this.originalClearColor.copy(t.getClearColor(this.tempColor));const s=t.getClearAlpha(this.tempColor),o=t.autoClear;t.setRenderTarget(n),t.autoClear=!1,r=e.clearColor||r,i=e.clearAlpha||i,r!=null&&(t.setClearColor(r),t.setClearAlpha(i||0),t.clear()),this.scene.overrideMaterial=e,t.render(this.scene,this.camera),this.scene.overrideMaterial=null,t.autoClear=o,t.setClearColor(this.originalClearColor),t.setClearAlpha(s)}renderMetalness(t,e,n,r,i){this.originalClearColor.copy(t.getClearColor(this.tempColor));const s=t.getClearAlpha(this.tempColor),o=t.autoClear;t.setRenderTarget(n),t.autoClear=!1,r=e.clearColor||r,i=e.clearAlpha||i,r!=null&&(t.setClearColor(r),t.setClearAlpha(i||0),t.clear()),this.scene.traverseVisible(a=>{a._SSRPassBackupMaterial=a.material,this._selects.includes(a)?a.material=this.metalnessOnMaterial:a.material=this.metalnessOffMaterial}),t.render(this.scene,this.camera),this.scene.traverseVisible(a=>{a.material=a._SSRPassBackupMaterial}),t.autoClear=o,t.setClearColor(this.originalClearColor),t.setClearAlpha(s)}setSize(t,e){this.width=t,this.height=e,this.ssrMaterial.defines.MAX_STEP=Math.sqrt(t*t+e*e),this.ssrMaterial.needsUpdate=!0,this.beautyRenderTarget.setSize(t,e),this.prevRenderTarget.setSize(t,e),this.ssrRenderTarget.setSize(t,e),this.normalRenderTarget.setSize(t,e),this.metalnessRenderTarget.setSize(t,e),this.blurRenderTarget.setSize(t,e),this.blurRenderTarget2.setSize(t,e),this.ssrMaterial.uniforms.resolution.value.set(t,e),this.ssrMaterial.uniforms.cameraProjectionMatrix.value.copy(this.camera.projectionMatrix),this.ssrMaterial.uniforms.cameraInverseProjectionMatrix.value.copy(this.camera.projectionMatrixInverse),this.blurMaterial.uniforms.resolution.value.set(t,e),this.blurMaterial2.uniforms.resolution.value.set(t,e)}};let _me=nh;Me(_me,"OUTPUT",{Default:0,SSR:1,Beauty:3,Depth:4,Normal:5,Metalness:7});class XT extends Zr{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new Ime(n)}),this.register(function(n){return new Ome(n)}),this.register(function(n){return new Fme(n)}),this.register(function(n){return new Nme(n)}),this.register(function(n){return new Mme(n)}),this.register(function(n){return new Rme(n)}),this.register(function(n){return new Bme(n)}),this.register(function(n){return new Pme(n)}),this.register(function(n){return new Tme(n)}),this.register(function(n){return new Dme(n)}),this.register(function(n){return new bme(n)}),this.register(function(n){return new Lme(n)}),this.register(function(n){return new Cme(n)}),this.register(function(n){return new kme(n)}),this.register(function(n){return new Ume(n)})}load(e,n,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=La.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Nr(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){n(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(La.decodeText(new Uint8Array(e.slice(0,4)))===dV){try{o[Kt.KHR_BINARY_GLTF]=new Gme(e)}catch(u){i&&i(u);return}s=JSON.parse(o[Kt.KHR_BINARY_GLTF].content)}else s=JSON.parse(La.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new Zme(s,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);a[u.name]=u,o[u.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const u=s.extensionsUsed[c],h=s.extensionsRequired||[];switch(u){case Kt.KHR_MATERIALS_UNLIT:o[u]=new wme;break;case Kt.KHR_DRACO_MESH_COMPRESSION:o[u]=new Hme(s,this.dracoLoader);break;case Kt.KHR_TEXTURE_TRANSFORM:o[u]=new Qme;break;case Kt.KHR_MESH_QUANTIZATION:o[u]=new zme;break;default:h.indexOf(u)>=0&&a[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,n){const r=this;return new Promise(function(i,s){r.parse(e,n,i,s)})}}function Sme(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const Kt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Cme{constructor(e){this.parser=e,this.name=Kt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let r=0,i=n.length;r<i;r++){const s=n[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const n=this.parser,r="light:"+e;let i=n.cache.get(r);if(i)return i;const s=n.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new Fe(16777215);l.color!==void 0&&u.fromArray(l.color);const h=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new MT(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new bT(u),c.distance=h;break;case"spot":c=new IT(u),c.distance=h,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,_c(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=n.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),n.cache.add(r,i),i}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(n.cache,a,l)})}}class wme{constructor(){this.name=Kt.KHR_MATERIALS_UNLIT}getMaterialType(){return oi}extendParams(e,n,r){const i=[];e.color=new Fe(1,1,1),e.opacity=1;const s=n.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(i)}}class Tme{constructor(e){this.parser=e,this.name=Kt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(n.emissiveIntensity=s),Promise.resolve()}}class Ime{constructor(e){this.parser=e,this.name=Kt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Qa}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(n.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(n,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new ue(a,a)}return Promise.all(s)}}class bme{constructor(e){this.parser=e,this.name=Kt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Qa}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(n.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(n.iridescenceIOR=o.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class Mme{constructor(e){this.parser=e,this.name=Kt.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Qa}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];n.sheenColor=new Fe(0,0,0),n.sheenRoughness=0,n.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&n.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(n,"sheenColorMap",o.sheenColorTexture,3001)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class Rme{constructor(e){this.parser=e,this.name=Kt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Qa}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(n.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(n,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class Bme{constructor(e){this.parser=e,this.name=Kt.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Qa}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(n,"thicknessMap",o.thicknessTexture)),n.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return n.attenuationColor=new Fe(a[0],a[1],a[2]),Promise.all(s)}}class Pme{constructor(e){this.parser=e,this.name=Kt.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Qa}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return n.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class Dme{constructor(e){this.parser=e,this.name=Kt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Qa}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(n,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return n.specularColor=new Fe(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(n,"specularColorMap",o.specularColorTexture,3001)),Promise.all(s)}}class Lme{constructor(e){this.parser=e,this.name=Kt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Qa}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(n.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(n.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(n,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class Ome{constructor(e){this.parser=e,this.name=Kt.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=n.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,s.source,o)}}class Fme{constructor(e){this.parser=e,this.name=Kt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class Nme{constructor(e){this.parser=e,this.name=Kt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class kme{constructor(e){this.name=Kt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,r=n.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,u=i.count,h=i.byteStride,f=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,h,f,i.mode,i.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(u*h);return o.decodeGltfBuffer(new Uint8Array(m),u,h,f,i.mode,i.filter),m})})}else return null}}class Ume{constructor(e){this.name=Kt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=n.meshes[r.mesh];for(const c of i.primitives)if(c.mode!==Ys.TRIANGLES&&c.mode!==Ys.TRIANGLE_STRIP&&c.mode!==Ys.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(u=>(l[c]=u,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const u=c.pop(),h=u.isGroup?u.children:[u],f=c[0].count,m=[];for(const g of h){const E=new st,x=new O,A=new Fr,v=new O(1,1,1),y=new dT(g.geometry,g.material,f);for(let S=0;S<f;S++)l.TRANSLATION&&x.fromBufferAttribute(l.TRANSLATION,S),l.ROTATION&&A.fromBufferAttribute(l.ROTATION,S),l.SCALE&&v.fromBufferAttribute(l.SCALE,S),y.setMatrixAt(S,E.compose(x,A,v));for(const S in l)S!=="TRANSLATION"&&S!=="ROTATION"&&S!=="SCALE"&&g.geometry.setAttribute(S,l[S]);tn.prototype.copy.call(y,g),this.parser.assignFinalMaterial(y),m.push(y)}return u.isGroup?(u.clear(),u.add(...m),u):m[0]}))}}const dV="glTF",tm=12,qD={JSON:1313821514,BIN:5130562};class Gme{constructor(e){this.name=Kt.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,tm);if(this.header={magic:La.decodeText(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==dV)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-tm,i=new DataView(e,tm);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===qD.JSON){const l=new Uint8Array(e,tm+s,o);this.content=La.decodeText(l)}else if(a===qD.BIN){const l=tm+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Hme{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Kt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const h=pC[u]||u.toLowerCase();a[h]=o[u]}for(const u in e.attributes){const h=pC[u]||u.toLowerCase();if(o[u]!==void 0){const f=r.accessors[e.attributes[u]],m=Jd[f.componentType];c[h]=m.name,l[h]=f.normalized===!0}}return n.getDependency("bufferView",s).then(function(u){return new Promise(function(h){i.decodeDracoFile(u,function(f){for(const m in f.attributes){const g=f.attributes[m],E=l[m];E!==void 0&&(g.normalized=E)}h(f)},a,c)})})}}class Qme{constructor(){this.name=Kt.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class zme{constructor(){this.name=Kt.KHR_MESH_QUANTIZATION}}class pV extends qp{constructor(e,n,r,i){super(e,n,r,i)}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)n[o]=r[s+o];return n}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=i-n,h=(r-n)/u,f=h*h,m=f*h,g=e*c,E=g-c,x=-2*m+3*f,A=m-f,v=1-x,y=A-f+h;for(let S=0;S!==a;S++){const w=o[E+S+a],T=o[E+S+l]*u,b=o[g+S+a],R=o[g+S]*u;s[S]=v*w+y*T+x*b+A*R}return s}}const Vme=new Fr;class Wme extends pV{interpolate_(e,n,r,i){const s=super.interpolate_(e,n,r,i);return Vme.fromArray(s).normalize().toArray(s),s}}const Ys={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Jd={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},ZD={9728:It,9729:yn,9984:Rg,9985:L5,9986:zd,9987:mo},eL={33071:Yn,33648:gp,10497:po},h_={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},pC={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...Ga.replace(/\D+/g,"")>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},dc={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},jme={CUBICSPLINE:void 0,LINEAR:Uh,STEP:Ap},f_={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function $me(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new R3({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:ka})),t.DefaultMaterial}function zu(t,e,n){for(const r in n.extensions)t[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function _c(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Kme(t,e,n){let r=!1,i=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const h=e[c];if(h.POSITION!==void 0&&(r=!0),h.NORMAL!==void 0&&(i=!0),h.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(t);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const h=e[c];if(r){const f=h.POSITION!==void 0?n.getDependency("accessor",h.POSITION):t.attributes.position;o.push(f)}if(i){const f=h.NORMAL!==void 0?n.getDependency("accessor",h.NORMAL):t.attributes.normal;a.push(f)}if(s){const f=h.COLOR_0!==void 0?n.getDependency("accessor",h.COLOR_0):t.attributes.color;l.push(f)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],h=c[1],f=c[2];return r&&(t.morphAttributes.position=u),i&&(t.morphAttributes.normal=h),s&&(t.morphAttributes.color=f),t.morphTargetsRelative=!0,t})}function Xme(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,r=e.weights.length;n<r;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let r=0,i=n.length;r<i;r++)t.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Jme(t){let e;const n=t.extensions&&t.extensions[Kt.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+d_(n.attributes):e=t.indices+":"+d_(t.attributes)+":"+t.mode,t.targets!==void 0)for(let r=0,i=t.targets.length;r<i;r++)e+=":"+d_(t.targets[r]);return e}function d_(t){let e="";const n=Object.keys(t).sort();for(let r=0,i=n.length;r<i;r++)e+=n[r]+":"+t[n[r]]+";";return e}function mC(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Yme(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const qme=new st;class Zme{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new Sme,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new PQ(this.options.manager):this.textureLoader=new UQ(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Nr(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};zu(s,a,i),_c(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=n.length;i<s;i++){const o=n[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,r){if(e.refs[n]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(r,i),i.name+="_instance_"+e.uses[n]++,i}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let r=0;r<n.length;r++){const i=e(n[r]);if(i)return i}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const r=[];for(let i=0;i<n.length;i++){const s=e(n[i]);s&&r.push(s)}return r}getDependency(e,n){const r=e+":"+n;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(n);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(n)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(n)});break;case"accessor":i=this.loadAccessor(n);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(n)});break;case"buffer":i=this.loadBuffer(n);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(n)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(n)});break;case"skin":i=this.loadSkin(n);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(n)});break;case"camera":i=this.loadCamera(n);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,n)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let n=this.cache.get(e);if(!n){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],r=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[Kt.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(La.resolveURL(n.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(r){const i=n.byteLength||0,s=n.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const n=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=h_[i.type],a=Jd[i.componentType],l=i.normalized===!0,c=new a(i.count*o);return Promise.resolve(new ln(c,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=h_[i.type],c=Jd[i.componentType],u=c.BYTES_PER_ELEMENT,h=u*l,f=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,g=i.normalized===!0;let E,x;if(m&&m!==h){const A=Math.floor(f/m),v="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+A+":"+i.count;let y=n.cache.get(v);y||(E=new c(a,A*m,i.count*m/u),y=new w3(E,m/u),n.cache.add(v,y)),x=new tu(y,l,f%m/u,g)}else a===null?E=new c(i.count*l):E=new c(a,f,i.count*l),x=new ln(E,l,g);if(i.sparse!==void 0){const A=h_.SCALAR,v=Jd[i.sparse.indices.componentType],y=i.sparse.indices.byteOffset||0,S=i.sparse.values.byteOffset||0,w=new v(o[1],y,i.sparse.count*A),T=new c(o[2],S,i.sparse.count*l);a!==null&&(x=new ln(x.array.slice(),x.itemSize,x.normalized));for(let b=0,R=w.length;b<R;b++){const M=w[b];if(x.setX(M,T[b*l]),l>=2&&x.setY(M,T[b*l+1]),l>=3&&x.setZ(M,T[b*l+2]),l>=4&&x.setW(M,T[b*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return x})}loadTexture(e){const n=this.json,r=this.options,s=n.textures[e].source,o=n.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,n,r){const i=this,s=this.json,o=s.textures[e],a=s.images[n],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(n,r).then(function(u){u.flipY=!1,u.name=o.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);const f=(s.samplers||{})[o.sampler]||{};return u.magFilter=ZD[f.magFilter]||yn,u.minFilter=ZD[f.minFilter]||mo,u.wrapS=eL[f.wrapS]||po,u.wrapT=eL[f.wrapT]||po,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,n){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(h=>h.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(h){c=!0;const f=new Blob([h],{type:o.mimeType});return l=a.createObjectURL(f),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(h){return new Promise(function(f,m){let g=f;n.isImageBitmapLoader===!0&&(g=function(E){const x=new Hn(E);x.needsUpdate=!0,f(x)}),n.load(La.resolveURL(h,s.path),g,void 0,m)})}).then(function(h){return c===!0&&a.revokeObjectURL(l),h.userData.mimeType=o.mimeType||Yme(o.uri),h}).catch(function(h){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),h});return this.sourceCache[e]=u,u}assignTexture(e,n,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[Kt.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[Kt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Kt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&("colorSpace"in o?o.colorSpace=i===3001?"srgb":"srgb-linear":o.encoding=i),e[n]=o,o})}assignFinalMaterial(e){const n=e.geometry;let r=e.material;const i=n.attributes.tangent===void 0,s=n.attributes.color!==void 0,o=n.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new W5,Tr.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Ii,Tr.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return R3}loadMaterial(e){const n=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[Kt.KHR_MATERIALS_UNLIT]){const h=i[Kt.KHR_MATERIALS_UNLIT];o=h.getMaterialType(),c.push(h.extendParams(a,s,n))}else{const h=s.pbrMetallicRoughness||{};if(a.color=new Fe(1,1,1),a.opacity=1,Array.isArray(h.baseColorFactor)){const f=h.baseColorFactor;a.color.fromArray(f),a.opacity=f[3]}h.baseColorTexture!==void 0&&c.push(n.assignTexture(a,"map",h.baseColorTexture,3001)),a.metalness=h.metallicFactor!==void 0?h.metallicFactor:1,a.roughness=h.roughnessFactor!==void 0?h.roughnessFactor:1,h.metallicRoughnessTexture!==void 0&&(c.push(n.assignTexture(a,"metalnessMap",h.metallicRoughnessTexture)),c.push(n.assignTexture(a,"roughnessMap",h.metallicRoughnessTexture))),o=this._invokeOne(function(f){return f.getMaterialType&&f.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(f){return f.extendMaterialParams&&f.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=ro);const u=s.alphaMode||f_.OPAQUE;if(u===f_.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===f_.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==oi&&(c.push(n.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new ue(1,1),s.normalTexture.scale!==void 0)){const h=s.normalTexture.scale;a.normalScale.set(h,h)}return s.occlusionTexture!==void 0&&o!==oi&&(c.push(n.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==oi&&(a.emissive=new Fe().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==oi&&c.push(n.assignTexture(a,"emissiveMap",s.emissiveTexture,3001)),Promise.all(c).then(function(){const h=new o(a);return s.name&&(h.name=s.name),_c(h,s),n.associations.set(h,{materials:e}),s.extensions&&zu(i,h,s),h})}createUniqueName(e){const n=Yt.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[Kt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,n).then(function(l){return tL(l,a,n)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=Jme(c),h=i[u];if(h)o.push(h.promise);else{let f;c.extensions&&c.extensions[Kt.KHR_DRACO_MESH_COMPRESSION]?f=s(c):f=tL(new Mt,c,n),i[u]={primitive:c,promise:f},o.push(f)}}return Promise.all(o)}loadMesh(e){const n=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?$me(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(n.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],h=[];for(let m=0,g=u.length;m<g;m++){const E=u[m],x=o[m];let A;const v=c[m];if(x.mode===Ys.TRIANGLES||x.mode===Ys.TRIANGLE_STRIP||x.mode===Ys.TRIANGLE_FAN||x.mode===void 0)A=s.isSkinnedMesh===!0?new fT(E,v):new fn(E,v),A.isSkinnedMesh===!0&&A.normalizeSkinWeights(),x.mode===Ys.TRIANGLE_STRIP?A.geometry=JD(A.geometry,Z9):x.mode===Ys.TRIANGLE_FAN&&(A.geometry=JD(A.geometry,iy));else if(x.mode===Ys.LINES)A=new ea(E,v);else if(x.mode===Ys.LINE_STRIP)A=new Fl(E,v);else if(x.mode===Ys.LINE_LOOP)A=new pT(E,v);else if(x.mode===Ys.POINTS)A=new j5(E,v);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+x.mode);Object.keys(A.geometry.morphAttributes).length>0&&Xme(A,s),A.name=n.createUniqueName(s.name||"mesh_"+e),_c(A,s),x.extensions&&zu(i,A,x),n.assignFinalMaterial(A),h.push(A)}for(let m=0,g=h.length;m<g;m++)n.associations.set(h[m],{meshes:e,primitives:m});if(h.length===1)return s.extensions&&zu(i,h[0],s),h[0];const f=new xl;s.extensions&&zu(i,f,s),n.associations.set(f,{meshes:e});for(let m=0,g=h.length;m<g;m++)f.add(h[m]);return f})}loadCamera(e){let n;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?n=new xn($d.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(n=new lo(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),_c(n,r),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],r=[];for(let i=0,s=n.joints.length;i<s;i++)r.push(this._loadNodeShallow(n.joints[i]));return n.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",n.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let c=0,u=o.length;c<u;c++){const h=o[c];if(h){a.push(h);const f=new st;s!==null&&f.fromArray(s.array,c*16),l.push(f)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[c])}return new T3(a,l)})}loadAnimation(e){const r=this.json.animations[e],i=r.name?r.name:"animation_"+e,s=[],o=[],a=[],l=[],c=[];for(let u=0,h=r.channels.length;u<h;u++){const f=r.channels[u],m=r.samplers[f.sampler],g=f.target,E=g.node,x=r.parameters!==void 0?r.parameters[m.input]:m.input,A=r.parameters!==void 0?r.parameters[m.output]:m.output;g.node!==void 0&&(s.push(this.getDependency("node",E)),o.push(this.getDependency("accessor",x)),a.push(this.getDependency("accessor",A)),l.push(m),c.push(g))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c)]).then(function(u){const h=u[0],f=u[1],m=u[2],g=u[3],E=u[4],x=[];for(let A=0,v=h.length;A<v;A++){const y=h[A],S=f[A],w=m[A],T=g[A],b=E[A];if(y===void 0)continue;y.updateMatrix();let R;switch(dc[b.path]){case dc.weights:R=Ep;break;case dc.rotation:R=ru;break;case dc.position:case dc.scale:default:R=_p;break}const M=y.name?y.name:y.uuid,B=T.interpolation!==void 0?jme[T.interpolation]:Uh,L=[];dc[b.path]===dc.weights?y.traverse(function(F){F.morphTargetInfluences&&L.push(F.name?F.name:F.uuid)}):L.push(M);let G=w.array;if(w.normalized){const F=mC(G.constructor),$=new Float32Array(G.length);for(let W=0,Z=G.length;W<Z;W++)$[W]=G[W]*F;G=$}for(let F=0,$=L.length;F<$;F++){const W=new R(L[F]+"."+dc[b.path],S.array,G,B);T.interpolation==="CUBICSPLINE"&&(W.createInterpolant=function(q){const k=this instanceof ru?Wme:pV;return new k(this.times,this.values,this.getValueSize()/3,q)},W.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),x.push(W)}}return new Sp(i,void 0,x)})}createNodeMesh(e){const n=this.json,r=this,i=n.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const n=this.json,r=this,i=n.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let c=0,u=a.length;c<u;c++)o.push(r.getDependency("node",a[c]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const u=c[0],h=c[1],f=c[2];f!==null&&u.traverse(function(m){m.isSkinnedMesh&&m.bind(f,qme)});for(let m=0,g=h.length;m<g;m++)u.add(h[m]);return u})}_loadNodeShallow(e){const n=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=n.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(c){return i._getNodeRef(i.cameraCache,s.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let u;if(s.isBone===!0?u=new V5:c.length>1?u=new xl:c.length===1?u=c[0]:u=new tn,u!==c[0])for(let h=0,f=c.length;h<f;h++)u.add(c[h]);if(s.name&&(u.userData.name=s.name,u.name=o),_c(u,s),s.extensions&&zu(r,u,s),s.matrix!==void 0){const h=new st;h.fromArray(s.matrix),u.applyMatrix4(h)}else s.translation!==void 0&&u.position.fromArray(s.translation),s.rotation!==void 0&&u.quaternion.fromArray(s.rotation),s.scale!==void 0&&u.scale.fromArray(s.scale);return i.associations.has(u)||i.associations.set(u,{}),i.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const n=this.extensions,r=this.json.scenes[e],i=this,s=new xl;r.name&&(s.name=i.createUniqueName(r.name)),_c(s,r),r.extensions&&zu(n,s,r);const o=r.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let u=0,h=l.length;u<h;u++)s.add(l[u]);const c=u=>{const h=new Map;for(const[f,m]of i.associations)(f instanceof Tr||f instanceof Hn)&&h.set(f,m);return u.traverse(f=>{const m=i.associations.get(f);m!=null&&h.set(f,m)}),h};return i.associations=c(s),s})}}function ege(t,e,n){const r=e.attributes,i=new Zo;if(r.POSITION!==void 0){const a=n.json.accessors[r.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new O(l[0],l[1],l[2]),new O(c[0],c[1],c[2])),a.normalized){const u=mC(Jd[a.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new O,l=new O;for(let c=0,u=s.length;c<u;c++){const h=s[c];if(h.POSITION!==void 0){const f=n.json.accessors[h.POSITION],m=f.min,g=f.max;if(m!==void 0&&g!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(g[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(g[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(g[2]))),f.normalized){const E=mC(Jd[f.componentType]);l.multiplyScalar(E)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}t.boundingBox=i;const o=new yo;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,t.boundingSphere=o}function tL(t,e,n){const r=e.attributes,i=[];function s(o,a){return n.getDependency("accessor",o).then(function(l){t.setAttribute(a,l)})}for(const o in r){const a=pC[o]||o.toLowerCase();a in t.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!t.index){const o=n.getDependency("accessor",e.indices).then(function(a){t.setIndex(a)});i.push(o)}return _c(t,e),ege(t,e,n),Promise.all(i).then(function(){return e.targets!==void 0?Kme(t,e.targets,n):t})}const gC=class{static createButton(t,e={}){const n=document.createElement("button");function r(){let a=null;async function l(u){u.addEventListener("end",c),await t.xr.setSession(u),n.textContent="EXIT VR",a=u}function c(){a.removeEventListener("end",c),n.textContent="ENTER VR",a=null}n.style.display="",n.style.cursor="pointer",n.style.left="calc(50% - 50px)",n.style.width="100px",n.textContent="ENTER VR",n.onmouseenter=()=>{n.style.opacity="1.0"},n.onmouseleave=()=>{n.style.opacity="0.5"},n.onclick=()=>{var u;if(a===null){const h=[e.optionalFeatures,"local-floor","bounded-floor","hand-tracking"].flat().filter(Boolean);(u=navigator.xr)==null||u.requestSession("immersive-vr",{...e,optionalFeatures:h}).then(l)}else a.end()}}function i(){n.style.display="",n.style.cursor="auto",n.style.left="calc(50% - 75px)",n.style.width="150px",n.onmouseenter=null,n.onmouseleave=null,n.onclick=null}function s(){i(),n.textContent="VR NOT SUPPORTED"}function o(a){a.style.position="absolute",a.style.bottom="20px",a.style.padding="12px 6px",a.style.border="1px solid #fff",a.style.borderRadius="4px",a.style.background="rgba(0,0,0,0.1)",a.style.color="#fff",a.style.font="normal 13px sans-serif",a.style.textAlign="center",a.style.opacity="0.5",a.style.outline="none",a.style.zIndex="999"}if("xr"in navigator)return o(n),n.id="VRButton",n.style.display="none",navigator.xr.isSessionSupported("immersive-vr").then(a=>{a?r():s(),a&&gC.xrSessionIsGranted&&n.click()}),n;{const a=document.createElement("a");return window.isSecureContext===!1?(a.href=document.location.href.replace(/^http:/,"https:"),a.innerHTML="WEBXR NEEDS HTTPS"):(a.href="https://immersiveweb.dev/",a.innerHTML="WEBXR NOT AVAILABLE"),a.style.left="calc(50% - 90px)",a.style.width="180px",a.style.textDecoration="none",o(a),a}}static registerSessionGrantedListener(){"xr"in navigator&&navigator.xr.addEventListener("sessiongranted",()=>{gC.xrSessionIsGranted=!0})}};let tge=gC;Me(tge,"xrSessionIsGranted",!1);class mV{constructor(e){Me(this,"data"),this.data=e}generateShapes(e,n=100,r){const i=[],s={letterSpacing:0,lineHeight:1,...r},o=nge(e,n,this.data,s);for(let a=0,l=o.length;a<l;a++)Array.prototype.push.apply(i,o[a].toShapes(!1));return i}}Me(mV,"isFont");Me(mV,"type");function nge(t,e,n,r){const i=Array.from(t),s=e/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*s,a=[];let l=0,c=0;for(let u=0;u<i.length;u++){const h=i[u];if(h===`
`)l=0,c-=o*r.lineHeight;else{const f=rge(h,s,l,c,n);f&&(l+=f.offsetX+r.letterSpacing,a.push(f.path))}}return a}function rge(t,e,n,r,i){const s=i.glyphs[t]||i.glyphs["?"];if(!s){console.error('THREE.Font: character "'+t+'" does not exists in font family '+i.familyName+".");return}const o=new jQ;let a,l,c,u,h,f,m,g;if(s.o){const E=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let x=0,A=E.length;x<A;)switch(E[x++]){case"m":a=parseInt(E[x++])*e+n,l=parseInt(E[x++])*e+r,o.moveTo(a,l);break;case"l":a=parseInt(E[x++])*e+n,l=parseInt(E[x++])*e+r,o.lineTo(a,l);break;case"q":c=parseInt(E[x++])*e+n,u=parseInt(E[x++])*e+r,h=parseInt(E[x++])*e+n,f=parseInt(E[x++])*e+r,o.quadraticCurveTo(h,f,c,u);break;case"b":c=parseInt(E[x++])*e+n,u=parseInt(E[x++])*e+r,h=parseInt(E[x++])*e+n,f=parseInt(E[x++])*e+r,m=parseInt(E[x++])*e+n,g=parseInt(E[x++])*e+r,o.bezierCurveTo(h,f,m,g,c,u);break}}return{offsetX:s.ha*e,path:o}}class ige extends Hn{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=It,this.minFilter=It,this.wrapR=Yn,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}var sge=typeof global=="object"&&global&&global.Object===Object&&global;const gV=sge;var oge=typeof self=="object"&&self&&self.Object===Object&&self,age=gV||oge||Function("return this")();const Va=age;var lge=Va.Symbol;const go=lge;var AV=Object.prototype,cge=AV.hasOwnProperty,uge=AV.toString,nm=go?go.toStringTag:void 0;function hge(t){var e=cge.call(t,nm),n=t[nm];try{t[nm]=void 0;var r=!0}catch{}var i=uge.call(t);return r&&(e?t[nm]=n:delete t[nm]),i}var fge=Object.prototype,dge=fge.toString;function pge(t){return dge.call(t)}var mge="[object Null]",gge="[object Undefined]",nL=go?go.toStringTag:void 0;function xu(t){return t==null?t===void 0?gge:mge:nL&&nL in Object(t)?hge(t):pge(t)}function Yo(t){return t!=null&&typeof t=="object"}var Age="[object Symbol]";function g6(t){return typeof t=="symbol"||Yo(t)&&xu(t)==Age}function G3(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var vge=Array.isArray;const rn=vge;var yge=1/0,rL=go?go.prototype:void 0,iL=rL?rL.toString:void 0;function vV(t){if(typeof t=="string")return t;if(rn(t))return G3(t,vV)+"";if(g6(t))return iL?iL.call(t):"";var e=t+"";return e=="0"&&1/t==-yge?"-0":e}var xge=/\s/;function Ege(t){for(var e=t.length;e--&&xge.test(t.charAt(e)););return e}var _ge=/^\s+/;function Sge(t){return t&&t.slice(0,Ege(t)+1).replace(_ge,"")}function Ao(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var sL=0/0,Cge=/^[-+]0x[0-9a-f]+$/i,wge=/^0b[01]+$/i,Tge=/^0o[0-7]+$/i,Ige=parseInt;function bge(t){if(typeof t=="number")return t;if(g6(t))return sL;if(Ao(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ao(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Sge(t);var n=wge.test(t);return n||Tge.test(t)?Ige(t.slice(2),n?2:8):Cge.test(t)?sL:+t}var oL=1/0,Mge=17976931348623157e292;function Rge(t){if(!t)return t===0?t:0;if(t=bge(t),t===oL||t===-oL){var e=t<0?-1:1;return e*Mge}return t===t?t:0}function H3(t){var e=Rge(t),n=e%1;return e===e?n?e-n:e:0}function Ip(t){return t}var Bge="[object AsyncFunction]",Pge="[object Function]",Dge="[object GeneratorFunction]",Lge="[object Proxy]";function Ql(t){if(!Ao(t))return!1;var e=xu(t);return e==Pge||e==Dge||e==Bge||e==Lge}var Oge=Va["__core-js_shared__"];const p_=Oge;var aL=function(){var t=/[^.]+$/.exec(p_&&p_.keys&&p_.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Fge(t){return!!aL&&aL in t}var Nge=Function.prototype,kge=Nge.toString;function cf(t){if(t!=null){try{return kge.call(t)}catch{}try{return t+""}catch{}}return""}var Uge=/[\\^$.*+?()[\]{}|]/g,Gge=/^\[object .+?Constructor\]$/,Hge=Function.prototype,Qge=Object.prototype,zge=Hge.toString,Vge=Qge.hasOwnProperty,Wge=RegExp("^"+zge.call(Vge).replace(Uge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function jge(t){if(!Ao(t)||Fge(t))return!1;var e=Ql(t)?Wge:Gge;return e.test(cf(t))}function $ge(t,e){return t==null?void 0:t[e]}function uf(t,e){var n=$ge(t,e);return jge(n)?n:void 0}var Kge=uf(Va,"WeakMap");const AC=Kge;var lL=Object.create,Xge=function(){function t(){}return function(e){if(!Ao(e))return{};if(lL)return lL(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const Jge=Xge;function Yge(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Rr(){}function qge(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var Zge=800,e3e=16,t3e=Date.now;function n3e(t){var e=0,n=0;return function(){var r=t3e(),i=e3e-(r-n);if(n=r,i>0){if(++e>=Zge)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function r3e(t){return function(){return t}}var i3e=function(){try{var t=uf(Object,"defineProperty");return t({},"",{}),t}catch{}}();const Ay=i3e;var s3e=Ay?function(t,e){return Ay(t,"toString",{configurable:!0,enumerable:!1,value:r3e(e),writable:!0})}:Ip;const o3e=s3e;var a3e=n3e(o3e);const l3e=a3e;function yV(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function xV(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function c3e(t){return t!==t}function u3e(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function JT(t,e,n){return e===e?u3e(t,e,n):xV(t,c3e,n)}function EV(t,e){var n=t==null?0:t.length;return!!n&&JT(t,e,0)>-1}var h3e=9007199254740991,f3e=/^(?:0|[1-9]\d*)$/;function A6(t,e){var n=typeof t;return e=e??h3e,!!e&&(n=="number"||n!="symbol"&&f3e.test(t))&&t>-1&&t%1==0&&t<e}function YT(t,e,n){e=="__proto__"&&Ay?Ay(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Q3(t,e){return t===e||t!==t&&e!==e}var d3e=Object.prototype,p3e=d3e.hasOwnProperty;function v6(t,e,n){var r=t[e];(!(p3e.call(t,e)&&Q3(r,n))||n===void 0&&!(e in t))&&YT(t,e,n)}function z3(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?YT(n,a,l):v6(n,a,l)}return n}var cL=Math.max;function m3e(t,e,n){return e=cL(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=cL(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),Yge(t,this,a)}}function qT(t,e){return l3e(m3e(t,e,Ip),t+"")}var g3e=9007199254740991;function ZT(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=g3e}function Wa(t){return t!=null&&ZT(t.length)&&!Ql(t)}function y6(t,e,n){if(!Ao(n))return!1;var r=typeof e;return(r=="number"?Wa(n)&&A6(e,n.length):r=="string"&&e in n)?Q3(n[e],t):!1}function A3e(t){return qT(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&y6(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var v3e=Object.prototype;function V3(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||v3e;return t===n}function y3e(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var x3e="[object Arguments]";function uL(t){return Yo(t)&&xu(t)==x3e}var _V=Object.prototype,E3e=_V.hasOwnProperty,_3e=_V.propertyIsEnumerable,S3e=uL(function(){return arguments}())?uL:function(t){return Yo(t)&&E3e.call(t,"callee")&&!_3e.call(t,"callee")};const x6=S3e;function C3e(){return!1}var SV=typeof de=="object"&&de&&!de.nodeType&&de,hL=SV&&typeof Gn=="object"&&Gn&&!Gn.nodeType&&Gn,w3e=hL&&hL.exports===SV,fL=w3e?Va.Buffer:void 0,T3e=fL?fL.isBuffer:void 0,I3e=T3e||C3e;const Kg=I3e;var b3e="[object Arguments]",M3e="[object Array]",R3e="[object Boolean]",B3e="[object Date]",P3e="[object Error]",D3e="[object Function]",L3e="[object Map]",O3e="[object Number]",F3e="[object Object]",N3e="[object RegExp]",k3e="[object Set]",U3e="[object String]",G3e="[object WeakMap]",H3e="[object ArrayBuffer]",Q3e="[object DataView]",z3e="[object Float32Array]",V3e="[object Float64Array]",W3e="[object Int8Array]",j3e="[object Int16Array]",$3e="[object Int32Array]",K3e="[object Uint8Array]",X3e="[object Uint8ClampedArray]",J3e="[object Uint16Array]",Y3e="[object Uint32Array]",Dn={};Dn[z3e]=Dn[V3e]=Dn[W3e]=Dn[j3e]=Dn[$3e]=Dn[K3e]=Dn[X3e]=Dn[J3e]=Dn[Y3e]=!0;Dn[b3e]=Dn[M3e]=Dn[H3e]=Dn[R3e]=Dn[Q3e]=Dn[B3e]=Dn[P3e]=Dn[D3e]=Dn[L3e]=Dn[O3e]=Dn[F3e]=Dn[N3e]=Dn[k3e]=Dn[U3e]=Dn[G3e]=!1;function q3e(t){return Yo(t)&&ZT(t.length)&&!!Dn[xu(t)]}function W3(t){return function(e){return t(e)}}var CV=typeof de=="object"&&de&&!de.nodeType&&de,Xm=CV&&typeof Gn=="object"&&Gn&&!Gn.nodeType&&Gn,Z3e=Xm&&Xm.exports===CV,m_=Z3e&&gV.process,eAe=function(){try{var t=Xm&&Xm.require&&Xm.require("util").types;return t||m_&&m_.binding&&m_.binding("util")}catch{}}();const su=eAe;var dL=su&&su.isTypedArray,tAe=dL?W3(dL):q3e;const e7=tAe;var nAe=Object.prototype,rAe=nAe.hasOwnProperty;function wV(t,e){var n=rn(t),r=!n&&x6(t),i=!n&&!r&&Kg(t),s=!n&&!r&&!i&&e7(t),o=n||r||i||s,a=o?y3e(t.length,String):[],l=a.length;for(var c in t)(e||rAe.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||A6(c,l)))&&a.push(c);return a}function TV(t,e){return function(n){return t(e(n))}}var iAe=TV(Object.keys,Object);const sAe=iAe;var oAe=Object.prototype,aAe=oAe.hasOwnProperty;function IV(t){if(!V3(t))return sAe(t);var e=[];for(var n in Object(t))aAe.call(t,n)&&n!="constructor"&&e.push(n);return e}function Rs(t){return Wa(t)?wV(t):IV(t)}var lAe=Object.prototype,cAe=lAe.hasOwnProperty,uAe=A3e(function(t,e){if(V3(e)||Wa(e)){z3(e,Rs(e),t);return}for(var n in e)cAe.call(e,n)&&v6(t,n,e[n])});const Bs=uAe;function hAe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var fAe=Object.prototype,dAe=fAe.hasOwnProperty;function pAe(t){if(!Ao(t))return hAe(t);var e=V3(t),n=[];for(var r in t)r=="constructor"&&(e||!dAe.call(t,r))||n.push(r);return n}function E6(t){return Wa(t)?wV(t,!0):pAe(t)}var mAe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gAe=/^\w*$/;function t7(t,e){if(rn(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||g6(t)?!0:gAe.test(t)||!mAe.test(t)||e!=null&&t in Object(e)}var AAe=uf(Object,"create");const Xg=AAe;function vAe(){this.__data__=Xg?Xg(null):{},this.size=0}function yAe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var xAe="__lodash_hash_undefined__",EAe=Object.prototype,_Ae=EAe.hasOwnProperty;function SAe(t){var e=this.__data__;if(Xg){var n=e[t];return n===xAe?void 0:n}return _Ae.call(e,t)?e[t]:void 0}var CAe=Object.prototype,wAe=CAe.hasOwnProperty;function TAe(t){var e=this.__data__;return Xg?e[t]!==void 0:wAe.call(e,t)}var IAe="__lodash_hash_undefined__";function bAe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Xg&&e===void 0?IAe:e,this}function zh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}zh.prototype.clear=vAe;zh.prototype.delete=yAe;zh.prototype.get=SAe;zh.prototype.has=TAe;zh.prototype.set=bAe;function MAe(){this.__data__=[],this.size=0}function _6(t,e){for(var n=t.length;n--;)if(Q3(t[n][0],e))return n;return-1}var RAe=Array.prototype,BAe=RAe.splice;function PAe(t){var e=this.__data__,n=_6(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():BAe.call(e,n,1),--this.size,!0}function DAe(t){var e=this.__data__,n=_6(e,t);return n<0?void 0:e[n][1]}function LAe(t){return _6(this.__data__,t)>-1}function OAe(t,e){var n=this.__data__,r=_6(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function zl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}zl.prototype.clear=MAe;zl.prototype.delete=PAe;zl.prototype.get=DAe;zl.prototype.has=LAe;zl.prototype.set=OAe;var FAe=uf(Va,"Map");const Jg=FAe;function NAe(){this.size=0,this.__data__={hash:new zh,map:new(Jg||zl),string:new zh}}function kAe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function S6(t,e){var n=t.__data__;return kAe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function UAe(t){var e=S6(this,t).delete(t);return this.size-=e?1:0,e}function GAe(t){return S6(this,t).get(t)}function HAe(t){return S6(this,t).has(t)}function QAe(t,e){var n=S6(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Vl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Vl.prototype.clear=NAe;Vl.prototype.delete=UAe;Vl.prototype.get=GAe;Vl.prototype.has=HAe;Vl.prototype.set=QAe;var zAe="Expected a function";function n7(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(zAe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(n7.Cache||Vl),n}n7.Cache=Vl;var VAe=500;function WAe(t){var e=n7(t,function(r){return n.size===VAe&&n.clear(),r}),n=e.cache;return e}var jAe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$Ae=/\\(\\)?/g,KAe=WAe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(jAe,function(n,r,i,s){e.push(i?s.replace($Ae,"$1"):r||n)}),e});const XAe=KAe;function JAe(t){return t==null?"":vV(t)}function C6(t,e){return rn(t)?t:t7(t,e)?[t]:XAe(JAe(t))}var YAe=1/0;function j3(t){if(typeof t=="string"||g6(t))return t;var e=t+"";return e=="0"&&1/t==-YAe?"-0":e}function r7(t,e){e=C6(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[j3(e[n++])];return n&&n==r?t:void 0}function qAe(t,e,n){var r=t==null?void 0:r7(t,e);return r===void 0?n:r}function i7(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var pL=go?go.isConcatSpreadable:void 0;function ZAe(t){return rn(t)||x6(t)||!!(pL&&t&&t[pL])}function w6(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=ZAe),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?w6(a,e-1,n,r,i):i7(i,a):r||(i[i.length]=a)}return i}function Vo(t){var e=t==null?0:t.length;return e?w6(t,1):[]}var e1e=TV(Object.getPrototypeOf,Object);const bV=e1e;function MV(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}function t1e(t,e,n,r){var i=-1,s=t==null?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}function n1e(){this.__data__=new zl,this.size=0}function r1e(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function i1e(t){return this.__data__.get(t)}function s1e(t){return this.__data__.has(t)}var o1e=200;function a1e(t,e){var n=this.__data__;if(n instanceof zl){var r=n.__data__;if(!Jg||r.length<o1e-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Vl(r)}return n.set(t,e),this.size=n.size,this}function Na(t){var e=this.__data__=new zl(t);this.size=e.size}Na.prototype.clear=n1e;Na.prototype.delete=r1e;Na.prototype.get=i1e;Na.prototype.has=s1e;Na.prototype.set=a1e;function l1e(t,e){return t&&z3(e,Rs(e),t)}function c1e(t,e){return t&&z3(e,E6(e),t)}var RV=typeof de=="object"&&de&&!de.nodeType&&de,mL=RV&&typeof Gn=="object"&&Gn&&!Gn.nodeType&&Gn,u1e=mL&&mL.exports===RV,gL=u1e?Va.Buffer:void 0,AL=gL?gL.allocUnsafe:void 0;function h1e(t,e){if(e)return t.slice();var n=t.length,r=AL?AL(n):new t.constructor(n);return t.copy(r),r}function s7(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function BV(){return[]}var f1e=Object.prototype,d1e=f1e.propertyIsEnumerable,vL=Object.getOwnPropertySymbols,p1e=vL?function(t){return t==null?[]:(t=Object(t),s7(vL(t),function(e){return d1e.call(t,e)}))}:BV;const o7=p1e;function m1e(t,e){return z3(t,o7(t),e)}var g1e=Object.getOwnPropertySymbols,A1e=g1e?function(t){for(var e=[];t;)i7(e,o7(t)),t=bV(t);return e}:BV;const PV=A1e;function v1e(t,e){return z3(t,PV(t),e)}function DV(t,e,n){var r=e(t);return rn(t)?r:i7(r,n(t))}function vC(t){return DV(t,Rs,o7)}function LV(t){return DV(t,E6,PV)}var y1e=uf(Va,"DataView");const yC=y1e;var x1e=uf(Va,"Promise");const xC=x1e;var E1e=uf(Va,"Set");const Yd=E1e;var yL="[object Map]",_1e="[object Object]",xL="[object Promise]",EL="[object Set]",_L="[object WeakMap]",SL="[object DataView]",S1e=cf(yC),C1e=cf(Jg),w1e=cf(xC),T1e=cf(Yd),I1e=cf(AC),rh=xu;(yC&&rh(new yC(new ArrayBuffer(1)))!=SL||Jg&&rh(new Jg)!=yL||xC&&rh(xC.resolve())!=xL||Yd&&rh(new Yd)!=EL||AC&&rh(new AC)!=_L)&&(rh=function(t){var e=xu(t),n=e==_1e?t.constructor:void 0,r=n?cf(n):"";if(r)switch(r){case S1e:return SL;case C1e:return yL;case w1e:return xL;case T1e:return EL;case I1e:return _L}return e});const bp=rh;var b1e=Object.prototype,M1e=b1e.hasOwnProperty;function R1e(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&M1e.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var B1e=Va.Uint8Array;const vy=B1e;function a7(t){var e=new t.constructor(t.byteLength);return new vy(e).set(new vy(t)),e}function P1e(t,e){var n=e?a7(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var D1e=/\w*$/;function L1e(t){var e=new t.constructor(t.source,D1e.exec(t));return e.lastIndex=t.lastIndex,e}var CL=go?go.prototype:void 0,wL=CL?CL.valueOf:void 0;function O1e(t){return wL?Object(wL.call(t)):{}}function F1e(t,e){var n=e?a7(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var N1e="[object Boolean]",k1e="[object Date]",U1e="[object Map]",G1e="[object Number]",H1e="[object RegExp]",Q1e="[object Set]",z1e="[object String]",V1e="[object Symbol]",W1e="[object ArrayBuffer]",j1e="[object DataView]",$1e="[object Float32Array]",K1e="[object Float64Array]",X1e="[object Int8Array]",J1e="[object Int16Array]",Y1e="[object Int32Array]",q1e="[object Uint8Array]",Z1e="[object Uint8ClampedArray]",e2e="[object Uint16Array]",t2e="[object Uint32Array]";function n2e(t,e,n){var r=t.constructor;switch(e){case W1e:return a7(t);case N1e:case k1e:return new r(+t);case j1e:return P1e(t,n);case $1e:case K1e:case X1e:case J1e:case Y1e:case q1e:case Z1e:case e2e:case t2e:return F1e(t,n);case U1e:return new r;case G1e:case z1e:return new r(t);case H1e:return L1e(t);case Q1e:return new r;case V1e:return O1e(t)}}function r2e(t){return typeof t.constructor=="function"&&!V3(t)?Jge(bV(t)):{}}var i2e="[object Map]";function s2e(t){return Yo(t)&&bp(t)==i2e}var TL=su&&su.isMap,o2e=TL?W3(TL):s2e;const a2e=o2e;var l2e="[object Set]";function c2e(t){return Yo(t)&&bp(t)==l2e}var IL=su&&su.isSet,u2e=IL?W3(IL):c2e;const h2e=u2e;var f2e=1,d2e=2,p2e=4,OV="[object Arguments]",m2e="[object Array]",g2e="[object Boolean]",A2e="[object Date]",v2e="[object Error]",FV="[object Function]",y2e="[object GeneratorFunction]",x2e="[object Map]",E2e="[object Number]",NV="[object Object]",_2e="[object RegExp]",S2e="[object Set]",C2e="[object String]",w2e="[object Symbol]",T2e="[object WeakMap]",I2e="[object ArrayBuffer]",b2e="[object DataView]",M2e="[object Float32Array]",R2e="[object Float64Array]",B2e="[object Int8Array]",P2e="[object Int16Array]",D2e="[object Int32Array]",L2e="[object Uint8Array]",O2e="[object Uint8ClampedArray]",F2e="[object Uint16Array]",N2e="[object Uint32Array]",Cn={};Cn[OV]=Cn[m2e]=Cn[I2e]=Cn[b2e]=Cn[g2e]=Cn[A2e]=Cn[M2e]=Cn[R2e]=Cn[B2e]=Cn[P2e]=Cn[D2e]=Cn[x2e]=Cn[E2e]=Cn[NV]=Cn[_2e]=Cn[S2e]=Cn[C2e]=Cn[w2e]=Cn[L2e]=Cn[O2e]=Cn[F2e]=Cn[N2e]=!0;Cn[v2e]=Cn[FV]=Cn[T2e]=!1;function pv(t,e,n,r,i,s){var o,a=e&f2e,l=e&d2e,c=e&p2e;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!Ao(t))return t;var u=rn(t);if(u){if(o=R1e(t),!a)return qge(t,o)}else{var h=bp(t),f=h==FV||h==y2e;if(Kg(t))return h1e(t,a);if(h==NV||h==OV||f&&!i){if(o=l||f?{}:r2e(t),!a)return l?v1e(t,c1e(o,t)):m1e(t,l1e(o,t))}else{if(!Cn[h])return i?t:{};o=n2e(t,h,a)}}s||(s=new Na);var m=s.get(t);if(m)return m;s.set(t,o),h2e(t)?t.forEach(function(x){o.add(pv(x,e,n,x,t,s))}):a2e(t)&&t.forEach(function(x,A){o.set(A,pv(x,e,n,A,t,s))});var g=c?l?LV:vC:l?E6:Rs,E=u?void 0:g(t);return yV(E||t,function(x,A){E&&(A=x,x=t[A]),v6(o,A,pv(x,e,n,A,t,s))}),o}var k2e=4;function Ti(t){return pv(t,k2e)}function $3(t){for(var e=-1,n=t==null?0:t.length,r=0,i=[];++e<n;){var s=t[e];s&&(i[r++]=s)}return i}var U2e="__lodash_hash_undefined__";function G2e(t){return this.__data__.set(t,U2e),this}function H2e(t){return this.__data__.has(t)}function Mp(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Vl;++e<n;)this.add(t[e])}Mp.prototype.add=Mp.prototype.push=G2e;Mp.prototype.has=H2e;function kV(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function l7(t,e){return t.has(e)}var Q2e=1,z2e=2;function UV(t,e,n,r,i,s){var o=n&Q2e,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),u=s.get(e);if(c&&u)return c==e&&u==t;var h=-1,f=!0,m=n&z2e?new Mp:void 0;for(s.set(t,e),s.set(e,t);++h<a;){var g=t[h],E=e[h];if(r)var x=o?r(E,g,h,e,t,s):r(g,E,h,t,e,s);if(x!==void 0){if(x)continue;f=!1;break}if(m){if(!kV(e,function(A,v){if(!l7(m,v)&&(g===A||i(g,A,n,r,s)))return m.push(v)})){f=!1;break}}else if(!(g===E||i(g,E,n,r,s))){f=!1;break}}return s.delete(t),s.delete(e),f}function V2e(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function c7(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var W2e=1,j2e=2,$2e="[object Boolean]",K2e="[object Date]",X2e="[object Error]",J2e="[object Map]",Y2e="[object Number]",q2e="[object RegExp]",Z2e="[object Set]",eve="[object String]",tve="[object Symbol]",nve="[object ArrayBuffer]",rve="[object DataView]",bL=go?go.prototype:void 0,g_=bL?bL.valueOf:void 0;function ive(t,e,n,r,i,s,o){switch(n){case rve:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case nve:return!(t.byteLength!=e.byteLength||!s(new vy(t),new vy(e)));case $2e:case K2e:case Y2e:return Q3(+t,+e);case X2e:return t.name==e.name&&t.message==e.message;case q2e:case eve:return t==e+"";case J2e:var a=V2e;case Z2e:var l=r&W2e;if(a||(a=c7),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=j2e,o.set(t,e);var u=UV(a(t),a(e),r,i,s,o);return o.delete(t),u;case tve:if(g_)return g_.call(t)==g_.call(e)}return!1}var sve=1,ove=Object.prototype,ave=ove.hasOwnProperty;function lve(t,e,n,r,i,s){var o=n&sve,a=vC(t),l=a.length,c=vC(e),u=c.length;if(l!=u&&!o)return!1;for(var h=l;h--;){var f=a[h];if(!(o?f in e:ave.call(e,f)))return!1}var m=s.get(t),g=s.get(e);if(m&&g)return m==e&&g==t;var E=!0;s.set(t,e),s.set(e,t);for(var x=o;++h<l;){f=a[h];var A=t[f],v=e[f];if(r)var y=o?r(v,A,f,e,t,s):r(A,v,f,t,e,s);if(!(y===void 0?A===v||i(A,v,n,r,s):y)){E=!1;break}x||(x=f=="constructor")}if(E&&!x){var S=t.constructor,w=e.constructor;S!=w&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof w=="function"&&w instanceof w)&&(E=!1)}return s.delete(t),s.delete(e),E}var cve=1,ML="[object Arguments]",RL="[object Array]",I2="[object Object]",uve=Object.prototype,BL=uve.hasOwnProperty;function hve(t,e,n,r,i,s){var o=rn(t),a=rn(e),l=o?RL:bp(t),c=a?RL:bp(e);l=l==ML?I2:l,c=c==ML?I2:c;var u=l==I2,h=c==I2,f=l==c;if(f&&Kg(t)){if(!Kg(e))return!1;o=!0,u=!1}if(f&&!u)return s||(s=new Na),o||e7(t)?UV(t,e,n,r,i,s):ive(t,e,l,n,r,i,s);if(!(n&cve)){var m=u&&BL.call(t,"__wrapped__"),g=h&&BL.call(e,"__wrapped__");if(m||g){var E=m?t.value():t,x=g?e.value():e;return s||(s=new Na),i(E,x,n,r,s)}}return f?(s||(s=new Na),lve(t,e,n,r,i,s)):!1}function u7(t,e,n,r,i){return t===e?!0:t==null||e==null||!Yo(t)&&!Yo(e)?t!==t&&e!==e:hve(t,e,n,r,u7,i)}var fve=1,dve=2;function pve(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],c=t[l],u=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var h=new Na;if(r)var f=r(c,u,l,t,e,h);if(!(f===void 0?u7(u,c,fve|dve,r,h):f))return!1}}return!0}function GV(t){return t===t&&!Ao(t)}function mve(t){for(var e=Rs(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,GV(i)]}return e}function HV(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function gve(t){var e=mve(t);return e.length==1&&e[0][2]?HV(e[0][0],e[0][1]):function(n){return n===t||pve(n,t,e)}}function Ave(t,e){return t!=null&&e in Object(t)}function QV(t,e,n){e=C6(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=j3(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&ZT(i)&&A6(o,i)&&(rn(t)||x6(t)))}function vve(t,e){return t!=null&&QV(t,e,Ave)}var yve=1,xve=2;function Eve(t,e){return t7(t)&&GV(e)?HV(j3(t),e):function(n){var r=qAe(n,t);return r===void 0&&r===e?vve(n,t):u7(e,r,yve|xve)}}function _ve(t){return function(e){return e==null?void 0:e[t]}}function Sve(t){return function(e){return r7(e,t)}}function Cve(t){return t7(t)?_ve(j3(t)):Sve(t)}function ja(t){return typeof t=="function"?t:t==null?Ip:typeof t=="object"?rn(t)?Eve(t[0],t[1]):gve(t):Cve(t)}function wve(t,e,n,r){for(var i=-1,s=t==null?0:t.length;++i<s;){var o=t[i];e(r,o,n(o),t)}return r}function Tve(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var Ive=Tve();const bve=Ive;function Mve(t,e){return t&&bve(t,e,Rs)}function Rve(t,e){return function(n,r){if(n==null)return n;if(!Wa(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var Bve=Rve(Mve);const hf=Bve;function Pve(t,e,n,r){return hf(t,function(i,s,o){e(r,i,n(i),o)}),r}function Dve(t,e){return function(n,r){var i=rn(n)?wve:Pve,s=e?e():{};return i(n,t,ja(r),s)}}var zV=Object.prototype,Lve=zV.hasOwnProperty,Ove=qT(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&y6(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],o=E6(s),a=-1,l=o.length;++a<l;){var c=o[a],u=t[c];(u===void 0||Q3(u,zV[c])&&!Lve.call(t,c))&&(t[c]=s[c])}return t});const h7=Ove;function PL(t){return Yo(t)&&Wa(t)}function VV(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Fve=200;function Nve(t,e,n,r){var i=-1,s=EV,o=!0,a=t.length,l=[],c=e.length;if(!a)return l;n&&(e=G3(e,W3(n))),r?(s=VV,o=!1):e.length>=Fve&&(s=l7,o=!1,e=new Mp(e));e:for(;++i<a;){var u=t[i],h=n==null?u:n(u);if(u=r||u!==0?u:0,o&&h===h){for(var f=c;f--;)if(e[f]===h)continue e;l.push(u)}else s(e,h,r)||l.push(u)}return l}var kve=qT(function(t,e){return PL(t)?Nve(t,w6(e,1,PL,!0)):[]});const T6=kve;function Rp(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function ri(t,e,n){var r=t==null?0:t.length;return r?(e=n||e===void 0?1:H3(e),MV(t,e<0?0:e,r)):[]}function Yg(t,e,n){var r=t==null?0:t.length;return r?(e=n||e===void 0?1:H3(e),e=r-e,MV(t,0,e<0?0:e)):[]}function Uve(t){return typeof t=="function"?t:Ip}function yt(t,e){var n=rn(t)?yV:hf;return n(t,Uve(e))}function Gve(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Hve(t,e){var n=!0;return hf(t,function(r,i,s){return n=!!e(r,i,s),n}),n}function Wo(t,e,n){var r=rn(t)?Gve:Hve;return n&&y6(t,e,n)&&(e=void 0),r(t,ja(e))}function WV(t,e){var n=[];return hf(t,function(r,i,s){e(r,i,s)&&n.push(r)}),n}function Eo(t,e){var n=rn(t)?s7:WV;return n(t,ja(e))}function Qve(t){return function(e,n,r){var i=Object(e);if(!Wa(e)){var s=ja(n);e=Rs(e),n=function(a){return s(i[a],a,i)}}var o=t(e,n,r);return o>-1?i[s?e[o]:o]:void 0}}var zve=Math.max;function Vve(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:H3(n);return i<0&&(i=zve(r+i,0)),xV(t,ja(e),i)}var Wve=Qve(Vve);const Bp=Wve;function qo(t){return t&&t.length?t[0]:void 0}function jve(t,e){var n=-1,r=Wa(t)?Array(t.length):[];return hf(t,function(i,s,o){r[++n]=e(i,s,o)}),r}function ht(t,e){var n=rn(t)?G3:jve;return n(t,ja(e))}function co(t,e){return w6(ht(t,e),1)}var $ve=Object.prototype,Kve=$ve.hasOwnProperty,Xve=Dve(function(t,e,n){Kve.call(t,n)?t[n].push(e):YT(t,n,[e])});const Jve=Xve;var Yve=Object.prototype,qve=Yve.hasOwnProperty;function Zve(t,e){return t!=null&&qve.call(t,e)}function pt(t,e){return t!=null&&QV(t,e,Zve)}var eye="[object String]";function ls(t){return typeof t=="string"||!rn(t)&&Yo(t)&&xu(t)==eye}function tye(t,e){return G3(e,function(n){return t[n]})}function Pr(t){return t==null?[]:tye(t,Rs(t))}var nye=Math.max;function Wi(t,e,n,r){t=Wa(t)?t:Pr(t),n=n&&!r?H3(n):0;var i=t.length;return n<0&&(n=nye(i+n,0)),ls(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&JT(t,e,n)>-1}var rye=Math.max;function DL(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:H3(n);return i<0&&(i=rye(r+i,0)),JT(t,e,i)}var iye="[object Map]",sye="[object Set]",oye=Object.prototype,aye=oye.hasOwnProperty;function Mn(t){if(t==null)return!0;if(Wa(t)&&(rn(t)||typeof t=="string"||typeof t.splice=="function"||Kg(t)||e7(t)||x6(t)))return!t.length;var e=bp(t);if(e==iye||e==sye)return!t.size;if(V3(t))return!IV(t).length;for(var n in t)if(aye.call(t,n))return!1;return!0}var lye="[object RegExp]";function cye(t){return Yo(t)&&xu(t)==lye}var LL=su&&su.isRegExp,uye=LL?W3(LL):cye;const Nl=uye;function kl(t){return t===void 0}var hye="Expected a function";function fye(t){if(typeof t!="function")throw new TypeError(hye);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function dye(t,e,n,r){if(!Ao(t))return t;e=C6(e,t);for(var i=-1,s=e.length,o=s-1,a=t;a!=null&&++i<s;){var l=j3(e[i]),c=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=o){var u=a[l];c=r?r(u,l,a):void 0,c===void 0&&(c=Ao(u)?u:A6(e[i+1])?[]:{})}v6(a,l,c),a=a[l]}return t}function pye(t,e,n){for(var r=-1,i=e.length,s={};++r<i;){var o=e[r],a=r7(t,o);n(a,o)&&dye(s,C6(o,t),a)}return s}function sa(t,e){if(t==null)return{};var n=G3(LV(t),function(r){return[r]});return e=ja(e),pye(t,n,function(r,i){return e(r,i[0])})}function mye(t,e,n,r,i){return i(t,function(s,o,a){n=r?(r=!1,s):e(n,s,o,a)}),n}function Ps(t,e,n){var r=rn(t)?t1e:mye,i=arguments.length<3;return r(t,ja(e),n,i,hf)}function I6(t,e){var n=rn(t)?s7:WV;return n(t,fye(ja(e)))}function gye(t,e){var n;return hf(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}function jV(t,e,n){var r=rn(t)?kV:gye;return n&&y6(t,e,n)&&(e=void 0),r(t,ja(e))}var Aye=1/0,vye=Yd&&1/c7(new Yd([,-0]))[1]==Aye?function(t){return new Yd(t)}:Rr;const yye=vye;var xye=200;function Eye(t,e,n){var r=-1,i=EV,s=t.length,o=!0,a=[],l=a;if(n)o=!1,i=VV;else if(s>=xye){var c=e?null:yye(t);if(c)return c7(c);o=!1,i=l7,l=new Mp}else l=e?[]:a;e:for(;++r<s;){var u=t[r],h=e?e(u):u;if(u=n||u!==0?u:0,o&&h===h){for(var f=l.length;f--;)if(l[f]===h)continue e;e&&l.push(h),a.push(u)}else i(l,h,n)||(l!==a&&l.push(h),a.push(u))}return a}function f7(t){return t&&t.length?Eye(t):[]}function EC(t){console&&console.error&&console.error(`Error: ${t}`)}function $V(t){console&&console.warn&&console.warn(`Warning: ${t}`)}function KV(t){const e=new Date().getTime(),n=t();return{time:new Date().getTime()-e,value:n}}function XV(t){function e(){}e.prototype=t;const n=new e;function r(){return typeof n.bar}return r(),r(),t}function _ye(t){return Sye(t)?t.LABEL:t.name}function Sye(t){return ls(t.LABEL)&&t.LABEL!==""}class $a{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),yt(this.definition,n=>{n.accept(e)})}}class Ds extends $a{constructor(e){super([]),this.idx=1,Bs(this,sa(e,n=>n!==void 0))}set definition(e){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(e){e.visit(this)}}class t0 extends $a{constructor(e){super(e.definition),this.orgText="",Bs(this,sa(e,n=>n!==void 0))}}class cs extends $a{constructor(e){super(e.definition),this.ignoreAmbiguities=!1,Bs(this,sa(e,n=>n!==void 0))}}class os extends $a{constructor(e){super(e.definition),this.idx=1,Bs(this,sa(e,n=>n!==void 0))}}class Ka extends $a{constructor(e){super(e.definition),this.idx=1,Bs(this,sa(e,n=>n!==void 0))}}class Xa extends $a{constructor(e){super(e.definition),this.idx=1,Bs(this,sa(e,n=>n!==void 0))}}class Lr extends $a{constructor(e){super(e.definition),this.idx=1,Bs(this,sa(e,n=>n!==void 0))}}class oa extends $a{constructor(e){super(e.definition),this.idx=1,Bs(this,sa(e,n=>n!==void 0))}}class aa extends $a{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,Bs(this,sa(e,n=>n!==void 0))}}class tr{constructor(e){this.idx=1,Bs(this,sa(e,n=>n!==void 0))}accept(e){e.visit(this)}}function Cye(t){return ht(t,mv)}function mv(t){function e(n){return ht(n,mv)}if(t instanceof Ds){const n={type:"NonTerminal",name:t.nonTerminalName,idx:t.idx};return ls(t.label)&&(n.label=t.label),n}else{if(t instanceof cs)return{type:"Alternative",definition:e(t.definition)};if(t instanceof os)return{type:"Option",idx:t.idx,definition:e(t.definition)};if(t instanceof Ka)return{type:"RepetitionMandatory",idx:t.idx,definition:e(t.definition)};if(t instanceof Xa)return{type:"RepetitionMandatoryWithSeparator",idx:t.idx,separator:mv(new tr({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof oa)return{type:"RepetitionWithSeparator",idx:t.idx,separator:mv(new tr({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof Lr)return{type:"Repetition",idx:t.idx,definition:e(t.definition)};if(t instanceof aa)return{type:"Alternation",idx:t.idx,definition:e(t.definition)};if(t instanceof tr){const n={type:"Terminal",name:t.terminalType.name,label:_ye(t.terminalType),idx:t.idx};ls(t.label)&&(n.terminalLabel=t.label);const r=t.terminalType.PATTERN;return t.terminalType.PATTERN&&(n.pattern=Nl(r)?r.source:r),n}else{if(t instanceof t0)return{type:"Rule",name:t.name,orgText:t.orgText,definition:e(t.definition)};throw Error("non exhaustive match")}}}class n0{visit(e){const n=e;switch(n.constructor){case Ds:return this.visitNonTerminal(n);case cs:return this.visitAlternative(n);case os:return this.visitOption(n);case Ka:return this.visitRepetitionMandatory(n);case Xa:return this.visitRepetitionMandatoryWithSeparator(n);case oa:return this.visitRepetitionWithSeparator(n);case Lr:return this.visitRepetition(n);case aa:return this.visitAlternation(n);case tr:return this.visitTerminal(n);case t0:return this.visitRule(n);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}}function wye(t){return t instanceof cs||t instanceof os||t instanceof Lr||t instanceof Ka||t instanceof Xa||t instanceof oa||t instanceof tr||t instanceof t0}function yy(t,e=[]){return t instanceof os||t instanceof Lr||t instanceof oa?!0:t instanceof aa?jV(t.definition,r=>yy(r,e)):t instanceof Ds&&Wi(e,t)?!1:t instanceof $a?(t instanceof Ds&&e.push(t),Wo(t.definition,r=>yy(r,e))):!1}function Tye(t){return t instanceof aa}function Ea(t){if(t instanceof Ds)return"SUBRULE";if(t instanceof os)return"OPTION";if(t instanceof aa)return"OR";if(t instanceof Ka)return"AT_LEAST_ONE";if(t instanceof Xa)return"AT_LEAST_ONE_SEP";if(t instanceof oa)return"MANY_SEP";if(t instanceof Lr)return"MANY";if(t instanceof tr)return"CONSUME";throw Error("non exhaustive match")}class b6{walk(e,n=[]){yt(e.definition,(r,i)=>{const s=ri(e.definition,i+1);if(r instanceof Ds)this.walkProdRef(r,s,n);else if(r instanceof tr)this.walkTerminal(r,s,n);else if(r instanceof cs)this.walkFlat(r,s,n);else if(r instanceof os)this.walkOption(r,s,n);else if(r instanceof Ka)this.walkAtLeastOne(r,s,n);else if(r instanceof Xa)this.walkAtLeastOneSep(r,s,n);else if(r instanceof oa)this.walkManySep(r,s,n);else if(r instanceof Lr)this.walkMany(r,s,n);else if(r instanceof aa)this.walkOr(r,s,n);else throw Error("non exhaustive match")})}walkTerminal(e,n,r){}walkProdRef(e,n,r){}walkFlat(e,n,r){const i=n.concat(r);this.walk(e,i)}walkOption(e,n,r){const i=n.concat(r);this.walk(e,i)}walkAtLeastOne(e,n,r){const i=[new os({definition:e.definition})].concat(n,r);this.walk(e,i)}walkAtLeastOneSep(e,n,r){const i=OL(e,n,r);this.walk(e,i)}walkMany(e,n,r){const i=[new os({definition:e.definition})].concat(n,r);this.walk(e,i)}walkManySep(e,n,r){const i=OL(e,n,r);this.walk(e,i)}walkOr(e,n,r){const i=n.concat(r);yt(e.definition,s=>{const o=new cs({definition:[s]});this.walk(o,i)})}}function OL(t,e,n){return[new os({definition:[new tr({terminalType:t.separator})].concat(t.definition)})].concat(e,n)}function K3(t){if(t instanceof Ds)return K3(t.referencedRule);if(t instanceof tr)return Mye(t);if(wye(t))return Iye(t);if(Tye(t))return bye(t);throw Error("non exhaustive match")}function Iye(t){let e=[];const n=t.definition;let r=0,i=n.length>r,s,o=!0;for(;i&&o;)s=n[r],o=yy(s),e=e.concat(K3(s)),r=r+1,i=n.length>r;return f7(e)}function bye(t){const e=ht(t.definition,n=>K3(n));return f7(Vo(e))}function Mye(t){return[t.terminalType]}const JV="_~IN~_";class Rye extends b6{constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,n,r){}walkProdRef(e,n,r){const i=Pye(e.referencedRule,e.idx)+this.topProd.name,s=n.concat(r),o=new cs({definition:s}),a=K3(o);this.follows[i]=a}}function Bye(t){const e={};return yt(t,n=>{const r=new Rye(n).startWalking();Bs(e,r)}),e}function Pye(t,e){return t.name+e+JV}function xt(t){return t.charCodeAt(0)}function A_(t,e){Array.isArray(t)?t.forEach(function(n){e.push(n)}):e.push(t)}function rm(t,e){if(t[e]===!0)throw"duplicate flag "+e;t[e],t[e]=!0}function ad(t){if(t===void 0)throw Error("Internal Error - Should never get here!");return!0}function Dye(){throw Error("Internal Error - Should never get here!")}function FL(t){return t.type==="Character"}const xy=[];for(let t=xt("0");t<=xt("9");t++)xy.push(t);const Ey=[xt("_")].concat(xy);for(let t=xt("a");t<=xt("z");t++)Ey.push(t);for(let t=xt("A");t<=xt("Z");t++)Ey.push(t);const NL=[xt(" "),xt("\f"),xt(`
`),xt("\r"),xt("	"),xt("\v"),xt("	"),xt(" "),xt(" "),xt(" "),xt(" "),xt(" "),xt(" "),xt(" "),xt(" "),xt(" "),xt(" "),xt(" "),xt(" "),xt(" "),xt("\u2028"),xt("\u2029"),xt(" "),xt(" "),xt("　"),xt("\uFEFF")],Lye=/[0-9a-fA-F]/,b2=/[0-9]/,Oye=/[1-9]/;class Fye{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");const n=this.disjunction();this.consumeChar("/");const r={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":rm(r,"global");break;case"i":rm(r,"ignoreCase");break;case"m":rm(r,"multiLine");break;case"u":rm(r,"unicode");break;case"y":rm(r,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:r,value:n,loc:this.loc(0)}}disjunction(){const e=[],n=this.idx;for(e.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(n)}}alternative(){const e=[],n=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(n)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let n;switch(this.popChar()){case"=":n="Lookahead";break;case"!":n="NegativeLookahead";break}ad(n);const r=this.disjunction();return this.consumeChar(")"),{type:n,value:r,loc:this.loc(e)}}return Dye()}quantifier(e=!1){let n;const r=this.idx;switch(this.popChar()){case"*":n={atLeast:0,atMost:1/0};break;case"+":n={atLeast:1,atMost:1/0};break;case"?":n={atLeast:0,atMost:1};break;case"{":const i=this.integerIncludingZero();switch(this.popChar()){case"}":n={atLeast:i,atMost:i};break;case",":let s;this.isDigit()?(s=this.integerIncludingZero(),n={atLeast:i,atMost:s}):n={atLeast:i,atMost:1/0},this.consumeChar("}");break}if(e===!0&&n===void 0)return;ad(n);break}if(!(e===!0&&n===void 0)&&ad(n))return this.peekChar(0)==="?"?(this.consumeChar("?"),n.greedy=!1):n.greedy=!0,n.type="Quantifier",n.loc=this.loc(r),n}atom(){let e;const n=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group();break}if(e===void 0&&this.isPatternCharacter()&&(e=this.patternCharacter()),ad(e))return e.loc=this.loc(n),this.isQuantifier()&&(e.quantifier=this.quantifier()),e}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[xt(`
`),xt("\r"),xt("\u2028"),xt("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,n=!1;switch(this.popChar()){case"d":e=xy;break;case"D":e=xy,n=!0;break;case"s":e=NL;break;case"S":e=NL,n=!0;break;case"w":e=Ey;break;case"W":e=Ey,n=!0;break}if(ad(e))return{type:"Set",value:e,complement:n}}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=xt("\f");break;case"n":e=xt(`
`);break;case"r":e=xt("\r");break;case"t":e=xt("	");break;case"v":e=xt("\v");break}if(ad(e))return{type:"Character",value:e}}controlLetterEscapeAtom(){this.consumeChar("c");const e=this.popChar();if(/[a-zA-Z]/.test(e)===!1)throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:xt("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){const e=this.popChar();return{type:"Character",value:xt(e)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:const e=this.popChar();return{type:"Character",value:xt(e)}}}characterClass(){const e=[];let n=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),n=!0);this.isClassAtom();){const r=this.classAtom();if(r.type,FL(r)&&this.isRangeDash()){this.consumeChar("-");const i=this.classAtom();if(i.type,FL(i)){if(i.value<r.value)throw Error("Range out of order in character class");e.push({from:r.value,to:i.value})}else A_(r.value,e),e.push(xt("-")),A_(i.value,e)}else A_(r.value,e)}return this.consumeChar("]"),{type:"Set",complement:n,value:e}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:xt("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),e=!1;break;default:this.groupIdx++;break}const n=this.disjunction();this.consumeChar(")");const r={type:"Group",capturing:e,value:n};return e&&(r.idx=this.groupIdx),r}positiveInteger(){let e=this.popChar();if(Oye.test(e)===!1)throw Error("Expecting a positive integer");for(;b2.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(b2.test(e)===!1)throw Error("Expecting an integer");for(;b2.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){const e=this.popChar();switch(e){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:xt(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return b2.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){const e=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){let n="";for(let i=0;i<e;i++){const s=this.popChar();if(Lye.test(s)===!1)throw Error("Expecting a HexDecimal digits");n+=s}return{type:"Character",value:parseInt(n,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){const e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(e!==void 0&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}}class d7{visitChildren(e){for(const n in e){const r=e[n];e.hasOwnProperty(n)&&(r.type!==void 0?this.visit(r):Array.isArray(r)&&r.forEach(i=>{this.visit(i)},this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e);break}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}}let gv={};const Nye=new Fye;function M6(t){const e=t.toString();if(gv.hasOwnProperty(e))return gv[e];{const n=Nye.pattern(e);return gv[e]=n,n}}function kye(){gv={}}const YV="Complement Sets are not supported for first char optimization",_y=`Unable to use "first char" lexer optimizations:
`;function Uye(t,e=!1){try{const n=M6(t);return _C(n.value,{},n.flags.ignoreCase)}catch(n){if(n.message===YV)e&&$V(`${_y}	Unable to optimize: < ${t.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let r="";e&&(r=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),EC(`${_y}
	Failed parsing: < ${t.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+r)}}return[]}function _C(t,e,n){switch(t.type){case"Disjunction":for(let i=0;i<t.value.length;i++)_C(t.value[i],e,n);break;case"Alternative":const r=t.value;for(let i=0;i<r.length;i++){const s=r[i];switch(s.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const o=s;switch(o.type){case"Character":M2(o.value,e,n);break;case"Set":if(o.complement===!0)throw Error(YV);yt(o.value,l=>{if(typeof l=="number")M2(l,e,n);else{const c=l;if(n===!0)for(let u=c.from;u<=c.to;u++)M2(u,e,n);else{for(let u=c.from;u<=c.to&&u<_m;u++)M2(u,e,n);if(c.to>=_m){const u=c.from>=_m?c.from:_m,h=c.to,f=ou(u),m=ou(h);for(let g=f;g<=m;g++)e[g]=g}}}});break;case"Group":_C(o.value,e,n);break;default:throw Error("Non Exhaustive Match")}const a=o.quantifier!==void 0&&o.quantifier.atLeast===0;if(o.type==="Group"&&SC(o)===!1||o.type!=="Group"&&a===!1)break}break;default:throw Error("non exhaustive match!")}return Pr(e)}function M2(t,e,n){const r=ou(t);e[r]=r,n===!0&&Gye(t,e)}function Gye(t,e){const n=String.fromCharCode(t),r=n.toUpperCase();if(r!==n){const i=ou(r.charCodeAt(0));e[i]=i}else{const i=n.toLowerCase();if(i!==n){const s=ou(i.charCodeAt(0));e[s]=s}}}function kL(t,e){return Bp(t.value,n=>{if(typeof n=="number")return Wi(e,n);{const r=n;return Bp(e,i=>r.from<=i&&i<=r.to)!==void 0}})}function SC(t){const e=t.quantifier;return e&&e.atLeast===0?!0:t.value?rn(t.value)?Wo(t.value,SC):SC(t.value):!1}class Hye extends d7{constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(this.found!==!0){switch(e.type){case"Lookahead":this.visitLookahead(e);return;case"NegativeLookahead":this.visitNegativeLookahead(e);return}super.visitChildren(e)}}visitCharacter(e){Wi(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?kL(e,this.targetCharCodes)===void 0&&(this.found=!0):kL(e,this.targetCharCodes)!==void 0&&(this.found=!0)}}function p7(t,e){if(e instanceof RegExp){const n=M6(e),r=new Hye(t);return r.visit(n),r.found}else return Bp(e,n=>Wi(t,n.charCodeAt(0)))!==void 0}const Vh="PATTERN",Em="defaultMode",R2="modes";let qV=typeof new RegExp("(?:)").sticky=="boolean";function Qye(t,e){e=h7(e,{useSticky:qV,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(v,y)=>y()});const n=e.tracer;n("initCharCodeToOptimizedIndexMap",()=>{h5e()});let r;n("Reject Lexer.NA",()=>{r=I6(t,v=>v[Vh]===uo.NA)});let i=!1,s;n("Transform Patterns",()=>{i=!1,s=ht(r,v=>{const y=v[Vh];if(Nl(y)){const S=y.source;return S.length===1&&S!=="^"&&S!=="$"&&S!=="."&&!y.ignoreCase?S:S.length===2&&S[0]==="\\"&&!Wi(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],S[1])?S[1]:e.useSticky?GL(y):UL(y)}else{if(Ql(y))return i=!0,{exec:y};if(typeof y=="object")return i=!0,y;if(typeof y=="string"){if(y.length===1)return y;{const S=y.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),w=new RegExp(S);return e.useSticky?GL(w):UL(w)}}else throw Error("non exhaustive match")}})});let o,a,l,c,u;n("misc mapping",()=>{o=ht(r,v=>v.tokenTypeIdx),a=ht(r,v=>{const y=v.GROUP;if(y!==uo.SKIPPED){if(ls(y))return y;if(kl(y))return!1;throw Error("non exhaustive match")}}),l=ht(r,v=>{const y=v.LONGER_ALT;if(y)return rn(y)?ht(y,w=>DL(r,w)):[DL(r,y)]}),c=ht(r,v=>v.PUSH_MODE),u=ht(r,v=>pt(v,"POP_MODE"))});let h;n("Line Terminator Handling",()=>{const v=tW(e.lineTerminatorCharacters);h=ht(r,y=>!1),e.positionTracking!=="onlyOffset"&&(h=ht(r,y=>pt(y,"LINE_BREAKS")?!!y.LINE_BREAKS:eW(y,v)===!1&&p7(v,y.PATTERN)))});let f,m,g,E;n("Misc Mapping #2",()=>{f=ht(r,ZV),m=ht(s,l5e),g=Ps(r,(v,y)=>{const S=y.GROUP;return ls(S)&&S!==uo.SKIPPED&&(v[S]=[]),v},{}),E=ht(s,(v,y)=>({pattern:s[y],longerAlt:l[y],canLineTerminator:h[y],isCustom:f[y],short:m[y],group:a[y],push:c[y],pop:u[y],tokenTypeIdx:o[y],tokenType:r[y]}))});let x=!0,A=[];return e.safeMode||n("First Char Optimization",()=>{A=Ps(r,(v,y,S)=>{if(typeof y.PATTERN=="string"){const w=y.PATTERN.charCodeAt(0),T=ou(w);v_(v,T,E[S])}else if(rn(y.START_CHARS_HINT)){let w;yt(y.START_CHARS_HINT,T=>{const b=typeof T=="string"?T.charCodeAt(0):T,R=ou(b);w!==R&&(w=R,v_(v,R,E[S]))})}else if(Nl(y.PATTERN))if(y.PATTERN.unicode)x=!1,e.ensureOptimizations&&EC(`${_y}	Unable to analyze < ${y.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const w=Uye(y.PATTERN,e.ensureOptimizations);Mn(w)&&(x=!1),yt(w,T=>{v_(v,T,E[S])})}else e.ensureOptimizations&&EC(`${_y}	TokenType: <${y.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),x=!1;return v},[])}),{emptyGroups:g,patternIdxToConfig:E,charCodeToPatternIdxToConfig:A,hasCustom:i,canBeOptimized:x}}function zye(t,e){let n=[];const r=Wye(t);n=n.concat(r.errors);const i=jye(r.valid),s=i.valid;return n=n.concat(i.errors),n=n.concat(Vye(s)),n=n.concat(e5e(s)),n=n.concat(t5e(s,e)),n=n.concat(n5e(s)),n}function Vye(t){let e=[];const n=Eo(t,r=>Nl(r[Vh]));return e=e.concat(Kye(n)),e=e.concat(Yye(n)),e=e.concat(qye(n)),e=e.concat(Zye(n)),e=e.concat(Xye(n)),e}function Wye(t){const e=Eo(t,i=>!pt(i,Vh)),n=ht(e,i=>({message:"Token Type: ->"+i.name+"<- missing static 'PATTERN' property",type:dr.MISSING_PATTERN,tokenTypes:[i]})),r=T6(t,e);return{errors:n,valid:r}}function jye(t){const e=Eo(t,i=>{const s=i[Vh];return!Nl(s)&&!Ql(s)&&!pt(s,"exec")&&!ls(s)}),n=ht(e,i=>({message:"Token Type: ->"+i.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:dr.INVALID_PATTERN,tokenTypes:[i]})),r=T6(t,e);return{errors:n,valid:r}}const $ye=/[^\\][$]/;function Kye(t){class e extends d7{constructor(){super(...arguments),this.found=!1}visitEndAnchor(s){this.found=!0}}const n=Eo(t,i=>{const s=i.PATTERN;try{const o=M6(s),a=new e;return a.visit(o),a.found}catch{return $ye.test(s.source)}});return ht(n,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:dr.EOI_ANCHOR_FOUND,tokenTypes:[i]}))}function Xye(t){const e=Eo(t,r=>r.PATTERN.test(""));return ht(e,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' must not match an empty string",type:dr.EMPTY_MATCH_PATTERN,tokenTypes:[r]}))}const Jye=/[^\\[][\^]|^\^/;function Yye(t){class e extends d7{constructor(){super(...arguments),this.found=!1}visitStartAnchor(s){this.found=!0}}const n=Eo(t,i=>{const s=i.PATTERN;try{const o=M6(s),a=new e;return a.visit(o),a.found}catch{return Jye.test(s.source)}});return ht(n,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:dr.SOI_ANCHOR_FOUND,tokenTypes:[i]}))}function qye(t){const e=Eo(t,r=>{const i=r[Vh];return i instanceof RegExp&&(i.multiline||i.global)});return ht(e,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:dr.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[r]}))}function Zye(t){const e=[];let n=ht(t,s=>Ps(t,(o,a)=>(s.PATTERN.source===a.PATTERN.source&&!Wi(e,a)&&a.PATTERN!==uo.NA&&(e.push(a),o.push(a)),o),[]));n=$3(n);const r=Eo(n,s=>s.length>1);return ht(r,s=>{const o=ht(s,l=>l.name);return{message:`The same RegExp pattern ->${qo(s).PATTERN}<-has been used in all of the following Token Types: ${o.join(", ")} <-`,type:dr.DUPLICATE_PATTERNS_FOUND,tokenTypes:s}})}function e5e(t){const e=Eo(t,r=>{if(!pt(r,"GROUP"))return!1;const i=r.GROUP;return i!==uo.SKIPPED&&i!==uo.NA&&!ls(i)});return ht(e,r=>({message:"Token Type: ->"+r.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:dr.INVALID_GROUP_TYPE_FOUND,tokenTypes:[r]}))}function t5e(t,e){const n=Eo(t,i=>i.PUSH_MODE!==void 0&&!Wi(e,i.PUSH_MODE));return ht(n,i=>({message:`Token Type: ->${i.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${i.PUSH_MODE}<-which does not exist`,type:dr.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[i]}))}function n5e(t){const e=[],n=Ps(t,(r,i,s)=>{const o=i.PATTERN;return o===uo.NA||(ls(o)?r.push({str:o,idx:s,tokenType:i}):Nl(o)&&i5e(o)&&r.push({str:o.source,idx:s,tokenType:i})),r},[]);return yt(t,(r,i)=>{yt(n,({str:s,idx:o,tokenType:a})=>{if(i<o&&r5e(s,r.PATTERN)){const l=`Token: ->${a.name}<- can never be matched.
Because it appears AFTER the Token Type ->${r.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;e.push({message:l,type:dr.UNREACHABLE_PATTERN,tokenTypes:[r,a]})}})}),e}function r5e(t,e){if(Nl(e)){const n=e.exec(t);return n!==null&&n.index===0}else{if(Ql(e))return e(t,0,[],{});if(pt(e,"exec"))return e.exec(t,0,[],{});if(typeof e=="string")return e===t;throw Error("non exhaustive match")}}function i5e(t){return Bp([".","\\","[","]","|","^","$","(",")","?","*","+","{"],n=>t.source.indexOf(n)!==-1)===void 0}function UL(t){const e=t.ignoreCase?"i":"";return new RegExp(`^(?:${t.source})`,e)}function GL(t){const e=t.ignoreCase?"iy":"y";return new RegExp(`${t.source}`,e)}function s5e(t,e,n){const r=[];return pt(t,Em)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+Em+`> property in its definition
`,type:dr.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),pt(t,R2)||r.push({message:"A MultiMode Lexer cannot be initialized without a <"+R2+`> property in its definition
`,type:dr.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),pt(t,R2)&&pt(t,Em)&&!pt(t.modes,t.defaultMode)&&r.push({message:`A MultiMode Lexer cannot be initialized with a ${Em}: <${t.defaultMode}>which does not exist
`,type:dr.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),pt(t,R2)&&yt(t.modes,(i,s)=>{yt(i,(o,a)=>{if(kl(o))r.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${s}> at index: <${a}>
`,type:dr.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(pt(o,"LONGER_ALT")){const l=rn(o.LONGER_ALT)?o.LONGER_ALT:[o.LONGER_ALT];yt(l,c=>{!kl(c)&&!Wi(i,c)&&r.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${c.name}> on token <${o.name}> outside of mode <${s}>
`,type:dr.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),r}function o5e(t,e,n){const r=[];let i=!1;const s=$3(Vo(Pr(t.modes))),o=I6(s,l=>l[Vh]===uo.NA),a=tW(n);return e&&yt(o,l=>{const c=eW(l,a);if(c!==!1){const h={message:u5e(l,c),type:c.issue,tokenType:l};r.push(h)}else pt(l,"LINE_BREAKS")?l.LINE_BREAKS===!0&&(i=!0):p7(a,l.PATTERN)&&(i=!0)}),e&&!i&&r.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:dr.NO_LINE_BREAKS_FLAGS}),r}function a5e(t){const e={},n=Rs(t);return yt(n,r=>{const i=t[r];if(rn(i))e[r]=[];else throw Error("non exhaustive match")}),e}function ZV(t){const e=t.PATTERN;if(Nl(e))return!1;if(Ql(e))return!0;if(pt(e,"exec"))return!0;if(ls(e))return!1;throw Error("non exhaustive match")}function l5e(t){return ls(t)&&t.length===1?t.charCodeAt(0):!1}const c5e={test:function(t){const e=t.length;for(let n=this.lastIndex;n<e;n++){const r=t.charCodeAt(n);if(r===10)return this.lastIndex=n+1,!0;if(r===13)return t.charCodeAt(n+1)===10?this.lastIndex=n+2:this.lastIndex=n+1,!0}return!1},lastIndex:0};function eW(t,e){if(pt(t,"LINE_BREAKS"))return!1;if(Nl(t.PATTERN)){try{p7(e,t.PATTERN)}catch(n){return{issue:dr.IDENTIFY_TERMINATOR,errMsg:n.message}}return!1}else{if(ls(t.PATTERN))return!1;if(ZV(t))return{issue:dr.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function u5e(t,e){if(e.issue===dr.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${t.name}> Token Type
	 Root cause: ${e.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(e.issue===dr.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${t.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function tW(t){return ht(t,n=>ls(n)?n.charCodeAt(0):n)}function v_(t,e,n){t[e]===void 0?t[e]=[n]:t[e].push(n)}const _m=256;let Av=[];function ou(t){return t<_m?t:Av[t]}function h5e(){if(Mn(Av)){Av=new Array(65536);for(let t=0;t<65536;t++)Av[t]=t>255?255+~~(t/255):t}}function X3(t,e){const n=t.tokenTypeIdx;return n===e.tokenTypeIdx?!0:e.isParent===!0&&e.categoryMatchesMap[n]===!0}function Sy(t,e){return t.tokenTypeIdx===e.tokenTypeIdx}let HL=1;const nW={};function J3(t){const e=f5e(t);d5e(e),m5e(e),p5e(e),yt(e,n=>{n.isParent=n.categoryMatches.length>0})}function f5e(t){let e=Ti(t),n=t,r=!0;for(;r;){n=$3(Vo(ht(n,s=>s.CATEGORIES)));const i=T6(n,e);e=e.concat(i),Mn(i)?r=!1:n=i}return e}function d5e(t){yt(t,e=>{iW(e)||(nW[HL]=e,e.tokenTypeIdx=HL++),QL(e)&&!rn(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),QL(e)||(e.CATEGORIES=[]),g5e(e)||(e.categoryMatches=[]),A5e(e)||(e.categoryMatchesMap={})})}function p5e(t){yt(t,e=>{e.categoryMatches=[],yt(e.categoryMatchesMap,(n,r)=>{e.categoryMatches.push(nW[r].tokenTypeIdx)})})}function m5e(t){yt(t,e=>{rW([],e)})}function rW(t,e){yt(t,n=>{e.categoryMatchesMap[n.tokenTypeIdx]=!0}),yt(e.CATEGORIES,n=>{const r=t.concat(e);Wi(r,n)||rW(r,n)})}function iW(t){return pt(t,"tokenTypeIdx")}function QL(t){return pt(t,"CATEGORIES")}function g5e(t){return pt(t,"categoryMatches")}function A5e(t){return pt(t,"categoryMatchesMap")}function v5e(t){return pt(t,"tokenTypeIdx")}const y5e={buildUnableToPopLexerModeMessage(t){return`Unable to pop Lexer Mode after encountering Token ->${t.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(t,e,n,r,i){return`unexpected character: ->${t.charAt(e)}<- at offset: ${e}, skipped ${n} characters.`}};var dr;(function(t){t[t.MISSING_PATTERN=0]="MISSING_PATTERN",t[t.INVALID_PATTERN=1]="INVALID_PATTERN",t[t.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",t[t.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",t[t.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",t[t.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",t[t.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",t[t.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",t[t.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",t[t.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",t[t.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",t[t.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",t[t.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",t[t.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",t[t.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",t[t.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",t[t.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",t[t.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(dr||(dr={}));const Sm={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:y5e,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(Sm);class uo{constructor(e,n=Sm){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(i,s)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;const o=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${o}--> <${i}>`);const{time:a,value:l}=KV(s),c=a>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&c(`${o}<-- <${i}> time: ${a}ms`),this.traceInitIndent--,l}else return s()},typeof n=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=Bs({},Sm,n);const r=this.config.traceInitPerf;r===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof r=="number"&&(this.traceInitMaxIdent=r,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let i,s=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===Sm.lineTerminatorsPattern)this.config.lineTerminatorsPattern=c5e;else if(this.config.lineTerminatorCharacters===Sm.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(n.safeMode&&n.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),rn(e)?i={modes:{defaultMode:Ti(e)},defaultMode:Em}:(s=!1,i=Ti(e))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(s5e(i,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(o5e(i,this.trackStartLines,this.config.lineTerminatorCharacters))})),i.modes=i.modes?i.modes:{},yt(i.modes,(a,l)=>{i.modes[l]=I6(a,c=>kl(c))});const o=Rs(i.modes);if(yt(i.modes,(a,l)=>{this.TRACE_INIT(`Mode: <${l}> processing`,()=>{if(this.modes.push(l),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(zye(a,o))}),Mn(this.lexerDefinitionErrors)){J3(a);let c;this.TRACE_INIT("analyzeTokenTypes",()=>{c=Qye(a,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:n.positionTracking,ensureOptimizations:n.ensureOptimizations,safeMode:n.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[l]=c.patternIdxToConfig,this.charCodeToPatternIdxToConfig[l]=c.charCodeToPatternIdxToConfig,this.emptyGroups=Bs({},this.emptyGroups,c.emptyGroups),this.hasCustom=c.hasCustom||this.hasCustom,this.canModeBeOptimized[l]=c.canBeOptimized}})}),this.defaultMode=i.defaultMode,!Mn(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const l=ht(this.lexerDefinitionErrors,c=>c.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+l)}yt(this.lexerDefinitionWarning,a=>{$V(a.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(qV?(this.chopInput=Ip,this.match=this.matchWithTest):(this.updateLastIndex=Rr,this.match=this.matchWithExec),s&&(this.handleModes=Rr),this.trackStartLines===!1&&(this.computeNewColumn=Ip),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=Rr),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const a=Ps(this.canModeBeOptimized,(l,c,u)=>(c===!1&&l.push(u),l),[]);if(n.ensureOptimizations&&!Mn(a))throw Error(`Lexer Modes: < ${a.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{kye()}),this.TRACE_INIT("toFastProperties",()=>{XV(this)})})}tokenize(e,n=this.defaultMode){if(!Mn(this.lexerDefinitionErrors)){const i=ht(this.lexerDefinitionErrors,s=>s.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+i)}return this.tokenizeInternal(e,n)}tokenizeInternal(e,n){let r,i,s,o,a,l,c,u,h,f,m,g,E,x,A;const v=e,y=v.length;let S=0,w=0;const T=this.hasCustom?0:Math.floor(e.length/10),b=new Array(T),R=[];let M=this.trackStartLines?1:void 0,B=this.trackStartLines?1:void 0;const L=a5e(this.emptyGroups),G=this.trackStartLines,F=this.config.lineTerminatorsPattern;let $=0,W=[],Z=[];const q=[],k=[];Object.freeze(k);let J;function V(){return W}function H(be){const Pe=ou(be),ke=Z[Pe];return ke===void 0?k:ke}const X=be=>{if(q.length===1&&be.tokenType.PUSH_MODE===void 0){const Pe=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(be);R.push({offset:be.startOffset,line:be.startLine,column:be.startColumn,length:be.image.length,message:Pe})}else{q.pop();const Pe=Rp(q);W=this.patternIdxToConfig[Pe],Z=this.charCodeToPatternIdxToConfig[Pe],$=W.length;const ke=this.canModeBeOptimized[Pe]&&this.config.safeMode===!1;Z&&ke?J=H:J=V}};function he(be){q.push(be),Z=this.charCodeToPatternIdxToConfig[be],W=this.patternIdxToConfig[be],$=W.length,$=W.length;const Pe=this.canModeBeOptimized[be]&&this.config.safeMode===!1;Z&&Pe?J=H:J=V}he.call(this,n);let ge;const Ce=this.config.recoveryEnabled;for(;S<y;){l=null;const be=v.charCodeAt(S),Pe=J(be),ke=Pe.length;for(r=0;r<ke;r++){ge=Pe[r];const Xe=ge.pattern;c=null;const Je=ge.short;if(Je!==!1?be===Je&&(l=Xe):ge.isCustom===!0?(A=Xe.exec(v,S,b,L),A!==null?(l=A[0],A.payload!==void 0&&(c=A.payload)):l=null):(this.updateLastIndex(Xe,S),l=this.match(Xe,e,S)),l!==null){if(a=ge.longerAlt,a!==void 0){const we=a.length;for(s=0;s<we;s++){const K=W[a[s]],Se=K.pattern;if(u=null,K.isCustom===!0?(A=Se.exec(v,S,b,L),A!==null?(o=A[0],A.payload!==void 0&&(u=A.payload)):o=null):(this.updateLastIndex(Se,S),o=this.match(Se,e,S)),o&&o.length>l.length){l=o,c=u,ge=K;break}}}break}}if(l!==null){if(h=l.length,f=ge.group,f!==void 0&&(m=ge.tokenTypeIdx,g=this.createTokenInstance(l,S,m,ge.tokenType,M,B,h),this.handlePayload(g,c),f===!1?w=this.addToken(b,w,g):L[f].push(g)),e=this.chopInput(e,h),S=S+h,B=this.computeNewColumn(B,h),G===!0&&ge.canLineTerminator===!0){let Xe=0,Je,we;F.lastIndex=0;do Je=F.test(l),Je===!0&&(we=F.lastIndex-1,Xe++);while(Je===!0);Xe!==0&&(M=M+Xe,B=h-we,this.updateTokenEndLineColumnLocation(g,f,we,Xe,M,B,h))}this.handleModes(ge,X,he,g)}else{const Xe=S,Je=M,we=B;let K=Ce===!1;for(;K===!1&&S<y;)for(e=this.chopInput(e,1),S++,i=0;i<$;i++){const Se=W[i],ve=Se.pattern,Be=Se.short;if(Be!==!1?v.charCodeAt(S)===Be&&(K=!0):Se.isCustom===!0?K=ve.exec(v,S,b,L)!==null:(this.updateLastIndex(ve,S),K=ve.exec(e)!==null),K===!0)break}if(E=S-Xe,B=this.computeNewColumn(B,E),x=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(v,Xe,E,Je,we),R.push({offset:Xe,line:Je,column:we,length:E,message:x}),Ce===!1)break}}return this.hasCustom||(b.length=w),{tokens:b,groups:L,errors:R}}handleModes(e,n,r,i){if(e.pop===!0){const s=e.push;n(i),s!==void 0&&r.call(this,s)}else e.push!==void 0&&r.call(this,e.push)}chopInput(e,n){return e.substring(n)}updateLastIndex(e,n){e.lastIndex=n}updateTokenEndLineColumnLocation(e,n,r,i,s,o,a){let l,c;n!==void 0&&(l=r===a-1,c=l?-1:0,i===1&&l===!0||(e.endLine=s+c,e.endColumn=o-1+-c))}computeNewColumn(e,n){return e+n}createOffsetOnlyToken(e,n,r,i){return{image:e,startOffset:n,tokenTypeIdx:r,tokenType:i}}createStartOnlyToken(e,n,r,i,s,o){return{image:e,startOffset:n,startLine:s,startColumn:o,tokenTypeIdx:r,tokenType:i}}createFullToken(e,n,r,i,s,o,a){return{image:e,startOffset:n,endOffset:n+a-1,startLine:s,endLine:s,startColumn:o,endColumn:o+a-1,tokenTypeIdx:r,tokenType:i}}addTokenUsingPush(e,n,r){return e.push(r),n}addTokenUsingMemberAccess(e,n,r){return e[n]=r,n++,n}handlePayloadNoCustom(e,n){}handlePayloadWithCustom(e,n){n!==null&&(e.payload=n)}matchWithTest(e,n,r){return e.test(n)===!0?n.substring(r,e.lastIndex):null}matchWithExec(e,n){const r=e.exec(n);return r!==null?r[0]:null}}uo.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.";uo.NA=/NOT_APPLICABLE/;function Jm(t){return sW(t)?t.LABEL:t.name}function sW(t){return ls(t.LABEL)&&t.LABEL!==""}const x5e="parent",zL="categories",VL="label",WL="group",jL="push_mode",$L="pop_mode",KL="longer_alt",XL="line_breaks",JL="start_chars_hint";function oW(t){return E5e(t)}function E5e(t){const e=t.pattern,n={};if(n.name=t.name,kl(e)||(n.PATTERN=e),pt(t,x5e))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return pt(t,zL)&&(n.CATEGORIES=t[zL]),J3([n]),pt(t,VL)&&(n.LABEL=t[VL]),pt(t,WL)&&(n.GROUP=t[WL]),pt(t,$L)&&(n.POP_MODE=t[$L]),pt(t,jL)&&(n.PUSH_MODE=t[jL]),pt(t,KL)&&(n.LONGER_ALT=t[KL]),pt(t,XL)&&(n.LINE_BREAKS=t[XL]),pt(t,JL)&&(n.START_CHARS_HINT=t[JL]),n}const Wh=oW({name:"EOF",pattern:uo.NA});J3([Wh]);function m7(t,e,n,r,i,s,o,a){return{image:e,startOffset:n,endOffset:r,startLine:i,endLine:s,startColumn:o,endColumn:a,tokenTypeIdx:t.tokenTypeIdx,tokenType:t}}function _5e(t,e){return X3(t,e)}const aW={buildMismatchTokenMessage({expected:t,actual:e,previous:n,ruleName:r}){return`Expecting ${sW(t)?`--> ${Jm(t)} <--`:`token of type --> ${t.name} <--`} but found --> '${e.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:t,ruleName:e}){return"Redundant input, expecting EOF but found: "+t.image},buildNoViableAltMessage({expectedPathsPerAlt:t,actual:e,previous:n,customUserDescription:r,ruleName:i}){const s="Expecting: ",a=`
but found: '`+qo(e).image+"'";if(r)return s+r+a;{const l=Ps(t,(f,m)=>f.concat(m),[]),c=ht(l,f=>`[${ht(f,m=>Jm(m)).join(", ")}]`),h=`one of these possible Token sequences:
${ht(c,(f,m)=>`  ${m+1}. ${f}`).join(`
`)}`;return s+h+a}},buildEarlyExitMessage({expectedIterationPaths:t,actual:e,customUserDescription:n,ruleName:r}){const i="Expecting: ",o=`
but found: '`+qo(e).image+"'";if(n)return i+n+o;{const l=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${ht(t,c=>`[${ht(c,u=>Jm(u)).join(",")}]`).join(" ,")}>`;return i+l+o}}};Object.freeze(aW);const S5e={buildRuleNotFoundError(t,e){return"Invalid grammar, reference to a rule which is not defined: ->"+e.nonTerminalName+`<-
inside top level rule: ->`+t.name+"<-"}},Eh={buildDuplicateFoundError(t,e){function n(u){return u instanceof tr?u.terminalType.name:u instanceof Ds?u.nonTerminalName:""}const r=t.name,i=qo(e),s=i.idx,o=Ea(i),a=n(i),l=s>0;let c=`->${o}${l?s:""}<- ${a?`with argument: ->${a}<-`:""}
                  appears more than once (${e.length} times) in the top level rule: ->${r}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return c=c.replace(/[ \t]+/g," "),c=c.replace(/\s\s+/g,`
`),c},buildNamespaceConflictError(t){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${t.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(t){const e=ht(t.prefixPath,i=>Jm(i)).join(", "),n=t.alternation.idx===0?"":t.alternation.idx;return`Ambiguous alternatives: <${t.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${n}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(t){const e=ht(t.prefixPath,i=>Jm(i)).join(", "),n=t.alternation.idx===0?"":t.alternation.idx;let r=`Ambiguous Alternatives Detected: <${t.ambiguityIndices.join(" ,")}> in <OR${n}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
`;return r=r+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,r},buildEmptyRepetitionError(t){let e=Ea(t.repetition);return t.repetition.idx!==0&&(e+=t.repetition.idx),`The repetition <${e}> within Rule <${t.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(t){return"deprecated"},buildEmptyAlternationError(t){return`Ambiguous empty alternative: <${t.emptyChoiceIdx+1}> in <OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(t){return`An Alternation cannot have more than 256 alternatives:
<OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
 has ${t.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(t){const e=t.topLevelRule.name,n=ht(t.leftRecursionPath,s=>s.name),r=`${e} --> ${n.concat([e]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${e}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${r}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(t){return"deprecated"},buildDuplicateRuleNameError(t){let e;return t.topLevelRule instanceof t0?e=t.topLevelRule.name:e=t.topLevelRule,`Duplicate definition, rule: ->${e}<- is already defined in the grammar: ->${t.grammarName}<-`}};function C5e(t,e){const n=new w5e(t,e);return n.resolveRefs(),n.errors}class w5e extends n0{constructor(e,n){super(),this.nameToTopRule=e,this.errMsgProvider=n,this.errors=[]}resolveRefs(){yt(Pr(this.nameToTopRule),e=>{this.currTopLevel=e,e.accept(this)})}visitNonTerminal(e){const n=this.nameToTopRule[e.nonTerminalName];if(n)e.referencedRule=n;else{const r=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:r,type:Qi.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}}class T5e extends b6{constructor(e,n){super(),this.topProd=e,this.path=n,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=Ti(this.path.ruleStack).reverse(),this.occurrenceStack=Ti(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,n=[]){this.found||super.walk(e,n)}walkProdRef(e,n,r){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){const i=n.concat(r);this.updateExpectedNext(),this.walk(e.referencedRule,i)}}updateExpectedNext(){Mn(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class I5e extends T5e{constructor(e,n){super(e,n),this.path=n,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,n,r){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){const i=n.concat(r),s=new cs({definition:i});this.possibleTokTypes=K3(s),this.found=!0}}}class R6 extends b6{constructor(e,n){super(),this.topRule=e,this.occurrence=n,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class b5e extends R6{walkMany(e,n,r){if(e.idx===this.occurrence){const i=qo(n.concat(r));this.result.isEndOfRule=i===void 0,i instanceof tr&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkMany(e,n,r)}}class YL extends R6{walkManySep(e,n,r){if(e.idx===this.occurrence){const i=qo(n.concat(r));this.result.isEndOfRule=i===void 0,i instanceof tr&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkManySep(e,n,r)}}class M5e extends R6{walkAtLeastOne(e,n,r){if(e.idx===this.occurrence){const i=qo(n.concat(r));this.result.isEndOfRule=i===void 0,i instanceof tr&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOne(e,n,r)}}class qL extends R6{walkAtLeastOneSep(e,n,r){if(e.idx===this.occurrence){const i=qo(n.concat(r));this.result.isEndOfRule=i===void 0,i instanceof tr&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOneSep(e,n,r)}}function CC(t,e,n=[]){n=Ti(n);let r=[],i=0;function s(a){return a.concat(ri(t,i+1))}function o(a){const l=CC(s(a),e,n);return r.concat(l)}for(;n.length<e&&i<t.length;){const a=t[i];if(a instanceof cs)return o(a.definition);if(a instanceof Ds)return o(a.definition);if(a instanceof os)r=o(a.definition);else if(a instanceof Ka){const l=a.definition.concat([new Lr({definition:a.definition})]);return o(l)}else if(a instanceof Xa){const l=[new cs({definition:a.definition}),new Lr({definition:[new tr({terminalType:a.separator})].concat(a.definition)})];return o(l)}else if(a instanceof oa){const l=a.definition.concat([new Lr({definition:[new tr({terminalType:a.separator})].concat(a.definition)})]);r=o(l)}else if(a instanceof Lr){const l=a.definition.concat([new Lr({definition:a.definition})]);r=o(l)}else{if(a instanceof aa)return yt(a.definition,l=>{Mn(l.definition)===!1&&(r=o(l.definition))}),r;if(a instanceof tr)n.push(a.terminalType);else throw Error("non exhaustive match")}i++}return r.push({partialPath:n,suffixDef:ri(t,i)}),r}function lW(t,e,n,r){const i="EXIT_NONE_TERMINAL",s=[i],o="EXIT_ALTERNATIVE";let a=!1;const l=e.length,c=l-r-1,u=[],h=[];for(h.push({idx:-1,def:t,ruleStack:[],occurrenceStack:[]});!Mn(h);){const f=h.pop();if(f===o){a&&Rp(h).idx<=c&&h.pop();continue}const m=f.def,g=f.idx,E=f.ruleStack,x=f.occurrenceStack;if(Mn(m))continue;const A=m[0];if(A===i){const v={idx:g,def:ri(m),ruleStack:Yg(E),occurrenceStack:Yg(x)};h.push(v)}else if(A instanceof tr)if(g<l-1){const v=g+1,y=e[v];if(n(y,A.terminalType)){const S={idx:v,def:ri(m),ruleStack:E,occurrenceStack:x};h.push(S)}}else if(g===l-1)u.push({nextTokenType:A.terminalType,nextTokenOccurrence:A.idx,ruleStack:E,occurrenceStack:x}),a=!0;else throw Error("non exhaustive match");else if(A instanceof Ds){const v=Ti(E);v.push(A.nonTerminalName);const y=Ti(x);y.push(A.idx);const S={idx:g,def:A.definition.concat(s,ri(m)),ruleStack:v,occurrenceStack:y};h.push(S)}else if(A instanceof os){const v={idx:g,def:ri(m),ruleStack:E,occurrenceStack:x};h.push(v),h.push(o);const y={idx:g,def:A.definition.concat(ri(m)),ruleStack:E,occurrenceStack:x};h.push(y)}else if(A instanceof Ka){const v=new Lr({definition:A.definition,idx:A.idx}),y=A.definition.concat([v],ri(m)),S={idx:g,def:y,ruleStack:E,occurrenceStack:x};h.push(S)}else if(A instanceof Xa){const v=new tr({terminalType:A.separator}),y=new Lr({definition:[v].concat(A.definition),idx:A.idx}),S=A.definition.concat([y],ri(m)),w={idx:g,def:S,ruleStack:E,occurrenceStack:x};h.push(w)}else if(A instanceof oa){const v={idx:g,def:ri(m),ruleStack:E,occurrenceStack:x};h.push(v),h.push(o);const y=new tr({terminalType:A.separator}),S=new Lr({definition:[y].concat(A.definition),idx:A.idx}),w=A.definition.concat([S],ri(m)),T={idx:g,def:w,ruleStack:E,occurrenceStack:x};h.push(T)}else if(A instanceof Lr){const v={idx:g,def:ri(m),ruleStack:E,occurrenceStack:x};h.push(v),h.push(o);const y=new Lr({definition:A.definition,idx:A.idx}),S=A.definition.concat([y],ri(m)),w={idx:g,def:S,ruleStack:E,occurrenceStack:x};h.push(w)}else if(A instanceof aa)for(let v=A.definition.length-1;v>=0;v--){const y=A.definition[v],S={idx:g,def:y.definition.concat(ri(m)),ruleStack:E,occurrenceStack:x};h.push(S),h.push(o)}else if(A instanceof cs)h.push({idx:g,def:A.definition.concat(ri(m)),ruleStack:E,occurrenceStack:x});else if(A instanceof t0)h.push(R5e(A,g,E,x));else throw Error("non exhaustive match")}return u}function R5e(t,e,n,r){const i=Ti(n);i.push(t.name);const s=Ti(r);return s.push(1),{idx:e,def:t.definition,ruleStack:i,occurrenceStack:s}}var ur;(function(t){t[t.OPTION=0]="OPTION",t[t.REPETITION=1]="REPETITION",t[t.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",t[t.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",t[t.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",t[t.ALTERNATION=5]="ALTERNATION"})(ur||(ur={}));function cW(t){if(t instanceof os||t==="Option")return ur.OPTION;if(t instanceof Lr||t==="Repetition")return ur.REPETITION;if(t instanceof Ka||t==="RepetitionMandatory")return ur.REPETITION_MANDATORY;if(t instanceof Xa||t==="RepetitionMandatoryWithSeparator")return ur.REPETITION_MANDATORY_WITH_SEPARATOR;if(t instanceof oa||t==="RepetitionWithSeparator")return ur.REPETITION_WITH_SEPARATOR;if(t instanceof aa||t==="Alternation")return ur.ALTERNATION;throw Error("non exhaustive match")}function B5e(t,e,n,r,i,s){const o=g7(t,e,n),a=fW(o)?Sy:X3;return s(o,r,a,i)}function P5e(t,e,n,r,i,s){const o=A7(t,e,i,n),a=fW(o)?Sy:X3;return s(o[0],a,r)}function D5e(t,e,n,r){const i=t.length,s=Wo(t,o=>Wo(o,a=>a.length===1));if(e)return function(o){const a=ht(o,l=>l.GATE);for(let l=0;l<i;l++){const c=t[l],u=c.length,h=a[l];if(!(h!==void 0&&h.call(this)===!1))e:for(let f=0;f<u;f++){const m=c[f],g=m.length;for(let E=0;E<g;E++){const x=this.LA(E+1);if(n(x,m[E])===!1)continue e}return l}}};if(s&&!r){const o=ht(t,l=>Vo(l)),a=Ps(o,(l,c,u)=>(yt(c,h=>{pt(l,h.tokenTypeIdx)||(l[h.tokenTypeIdx]=u),yt(h.categoryMatches,f=>{pt(l,f)||(l[f]=u)})}),l),{});return function(){const l=this.LA(1);return a[l.tokenTypeIdx]}}else return function(){for(let o=0;o<i;o++){const a=t[o],l=a.length;e:for(let c=0;c<l;c++){const u=a[c],h=u.length;for(let f=0;f<h;f++){const m=this.LA(f+1);if(n(m,u[f])===!1)continue e}return o}}}}function L5e(t,e,n){const r=Wo(t,s=>s.length===1),i=t.length;if(r&&!n){const s=Vo(t);if(s.length===1&&Mn(s[0].categoryMatches)){const a=s[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===a}}else{const o=Ps(s,(a,l,c)=>(a[l.tokenTypeIdx]=!0,yt(l.categoryMatches,u=>{a[u]=!0}),a),[]);return function(){const a=this.LA(1);return o[a.tokenTypeIdx]===!0}}}else return function(){e:for(let s=0;s<i;s++){const o=t[s],a=o.length;for(let l=0;l<a;l++){const c=this.LA(l+1);if(e(c,o[l])===!1)continue e}return!0}return!1}}class O5e extends b6{constructor(e,n,r){super(),this.topProd=e,this.targetOccurrence=n,this.targetProdType=r}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,n,r,i){return e.idx===this.targetOccurrence&&this.targetProdType===n?(this.restDef=r.concat(i),!0):!1}walkOption(e,n,r){this.checkIsTarget(e,ur.OPTION,n,r)||super.walkOption(e,n,r)}walkAtLeastOne(e,n,r){this.checkIsTarget(e,ur.REPETITION_MANDATORY,n,r)||super.walkOption(e,n,r)}walkAtLeastOneSep(e,n,r){this.checkIsTarget(e,ur.REPETITION_MANDATORY_WITH_SEPARATOR,n,r)||super.walkOption(e,n,r)}walkMany(e,n,r){this.checkIsTarget(e,ur.REPETITION,n,r)||super.walkOption(e,n,r)}walkManySep(e,n,r){this.checkIsTarget(e,ur.REPETITION_WITH_SEPARATOR,n,r)||super.walkOption(e,n,r)}}class uW extends n0{constructor(e,n,r){super(),this.targetOccurrence=e,this.targetProdType=n,this.targetRef=r,this.result=[]}checkIsTarget(e,n){e.idx===this.targetOccurrence&&this.targetProdType===n&&(this.targetRef===void 0||e===this.targetRef)&&(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,ur.OPTION)}visitRepetition(e){this.checkIsTarget(e,ur.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,ur.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,ur.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,ur.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,ur.ALTERNATION)}}function ZL(t){const e=new Array(t);for(let n=0;n<t;n++)e[n]=[];return e}function y_(t){let e=[""];for(let n=0;n<t.length;n++){const r=t[n],i=[];for(let s=0;s<e.length;s++){const o=e[s];i.push(o+"_"+r.tokenTypeIdx);for(let a=0;a<r.categoryMatches.length;a++){const l="_"+r.categoryMatches[a];i.push(o+l)}}e=i}return e}function F5e(t,e,n){for(let r=0;r<t.length;r++){if(r===n)continue;const i=t[r];for(let s=0;s<e.length;s++){const o=e[s];if(i[o]===!0)return!1}}return!0}function hW(t,e){const n=ht(t,o=>CC([o],1)),r=ZL(n.length),i=ht(n,o=>{const a={};return yt(o,l=>{const c=y_(l.partialPath);yt(c,u=>{a[u]=!0})}),a});let s=n;for(let o=1;o<=e;o++){const a=s;s=ZL(a.length);for(let l=0;l<a.length;l++){const c=a[l];for(let u=0;u<c.length;u++){const h=c[u].partialPath,f=c[u].suffixDef,m=y_(h);if(F5e(i,m,l)||Mn(f)||h.length===e){const E=r[l];if(wC(E,h)===!1){E.push(h);for(let x=0;x<m.length;x++){const A=m[x];i[l][A]=!0}}}else{const E=CC(f,o+1,h);s[l]=s[l].concat(E),yt(E,x=>{const A=y_(x.partialPath);yt(A,v=>{i[l][v]=!0})})}}}}return r}function g7(t,e,n,r){const i=new uW(t,ur.ALTERNATION,r);return e.accept(i),hW(i.result,n)}function A7(t,e,n,r){const i=new uW(t,n);e.accept(i);const s=i.result,a=new O5e(e,t,n).startWalking(),l=new cs({definition:s}),c=new cs({definition:a});return hW([l,c],r)}function wC(t,e){e:for(let n=0;n<t.length;n++){const r=t[n];if(r.length===e.length){for(let i=0;i<r.length;i++){const s=e[i],o=r[i];if((s===o||o.categoryMatchesMap[s.tokenTypeIdx]!==void 0)===!1)continue e}return!0}}return!1}function N5e(t,e){return t.length<e.length&&Wo(t,(n,r)=>{const i=e[r];return n===i||i.categoryMatchesMap[n.tokenTypeIdx]})}function fW(t){return Wo(t,e=>Wo(e,n=>Wo(n,r=>Mn(r.categoryMatches))))}function k5e(t){const e=t.lookaheadStrategy.validate({rules:t.rules,tokenTypes:t.tokenTypes,grammarName:t.grammarName});return ht(e,n=>Object.assign({type:Qi.CUSTOM_LOOKAHEAD_VALIDATION},n))}function U5e(t,e,n,r){const i=co(t,l=>G5e(l,n)),s=q5e(t,e,n),o=co(t,l=>K5e(l,n)),a=co(t,l=>z5e(l,t,r,n));return i.concat(s,o,a)}function G5e(t,e){const n=new Q5e;t.accept(n);const r=n.allProductions,i=Jve(r,H5e),s=sa(i,a=>a.length>1);return ht(Pr(s),a=>{const l=qo(a),c=e.buildDuplicateFoundError(t,a),u=Ea(l),h={message:c,type:Qi.DUPLICATE_PRODUCTIONS,ruleName:t.name,dslName:u,occurrence:l.idx},f=dW(l);return f&&(h.parameter=f),h})}function H5e(t){return`${Ea(t)}_#_${t.idx}_#_${dW(t)}`}function dW(t){return t instanceof tr?t.terminalType.name:t instanceof Ds?t.nonTerminalName:""}class Q5e extends n0{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}}function z5e(t,e,n,r){const i=[];if(Ps(e,(o,a)=>a.name===t.name?o+1:o,0)>1){const o=r.buildDuplicateRuleNameError({topLevelRule:t,grammarName:n});i.push({message:o,type:Qi.DUPLICATE_RULE_NAME,ruleName:t.name})}return i}function V5e(t,e,n){const r=[];let i;return Wi(e,t)||(i=`Invalid rule override, rule: ->${t}<- cannot be overridden in the grammar: ->${n}<-as it is not defined in any of the super grammars `,r.push({message:i,type:Qi.INVALID_RULE_OVERRIDE,ruleName:t})),r}function pW(t,e,n,r=[]){const i=[],s=vv(e.definition);if(Mn(s))return[];{const o=t.name;Wi(s,t)&&i.push({message:n.buildLeftRecursionError({topLevelRule:t,leftRecursionPath:r}),type:Qi.LEFT_RECURSION,ruleName:o});const l=T6(s,r.concat([t])),c=co(l,u=>{const h=Ti(r);return h.push(u),pW(t,u,n,h)});return i.concat(c)}}function vv(t){let e=[];if(Mn(t))return e;const n=qo(t);if(n instanceof Ds)e.push(n.referencedRule);else if(n instanceof cs||n instanceof os||n instanceof Ka||n instanceof Xa||n instanceof oa||n instanceof Lr)e=e.concat(vv(n.definition));else if(n instanceof aa)e=Vo(ht(n.definition,s=>vv(s.definition)));else if(!(n instanceof tr))throw Error("non exhaustive match");const r=yy(n),i=t.length>1;if(r&&i){const s=ri(t);return e.concat(vv(s))}else return e}class v7 extends n0{constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}}function W5e(t,e){const n=new v7;t.accept(n);const r=n.alternations;return co(r,s=>{const o=Yg(s.definition);return co(o,(a,l)=>{const c=lW([a],[],X3,1);return Mn(c)?[{message:e.buildEmptyAlternationError({topLevelRule:t,alternation:s,emptyChoiceIdx:l}),type:Qi.NONE_LAST_EMPTY_ALT,ruleName:t.name,occurrence:s.idx,alternative:l+1}]:[]})})}function j5e(t,e,n){const r=new v7;t.accept(r);let i=r.alternations;return i=I6(i,o=>o.ignoreAmbiguities===!0),co(i,o=>{const a=o.idx,l=o.maxLookahead||e,c=g7(a,t,l,o),u=J5e(c,o,t,n),h=Y5e(c,o,t,n);return u.concat(h)})}class $5e extends n0{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}}function K5e(t,e){const n=new v7;t.accept(n);const r=n.alternations;return co(r,s=>s.definition.length>255?[{message:e.buildTooManyAlternativesError({topLevelRule:t,alternation:s}),type:Qi.TOO_MANY_ALTS,ruleName:t.name,occurrence:s.idx}]:[])}function X5e(t,e,n){const r=[];return yt(t,i=>{const s=new $5e;i.accept(s);const o=s.allProductions;yt(o,a=>{const l=cW(a),c=a.maxLookahead||e,u=a.idx,f=A7(u,i,l,c)[0];if(Mn(Vo(f))){const m=n.buildEmptyRepetitionError({topLevelRule:i,repetition:a});r.push({message:m,type:Qi.NO_NON_EMPTY_LOOKAHEAD,ruleName:i.name})}})}),r}function J5e(t,e,n,r){const i=[],s=Ps(t,(a,l,c)=>(e.definition[c].ignoreAmbiguities===!0||yt(l,u=>{const h=[c];yt(t,(f,m)=>{c!==m&&wC(f,u)&&e.definition[m].ignoreAmbiguities!==!0&&h.push(m)}),h.length>1&&!wC(i,u)&&(i.push(u),a.push({alts:h,path:u}))}),a),[]);return ht(s,a=>{const l=ht(a.alts,u=>u+1);return{message:r.buildAlternationAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:l,prefixPath:a.path}),type:Qi.AMBIGUOUS_ALTS,ruleName:n.name,occurrence:e.idx,alternatives:a.alts}})}function Y5e(t,e,n,r){const i=Ps(t,(o,a,l)=>{const c=ht(a,u=>({idx:l,path:u}));return o.concat(c)},[]);return $3(co(i,o=>{if(e.definition[o.idx].ignoreAmbiguities===!0)return[];const l=o.idx,c=o.path,u=Eo(i,f=>e.definition[f.idx].ignoreAmbiguities!==!0&&f.idx<l&&N5e(f.path,c));return ht(u,f=>{const m=[f.idx+1,l+1],g=e.idx===0?"":e.idx;return{message:r.buildAlternationPrefixAmbiguityError({topLevelRule:n,alternation:e,ambiguityIndices:m,prefixPath:f.path}),type:Qi.AMBIGUOUS_PREFIX_ALTS,ruleName:n.name,occurrence:g,alternatives:m}})}))}function q5e(t,e,n){const r=[],i=ht(e,s=>s.name);return yt(t,s=>{const o=s.name;if(Wi(i,o)){const a=n.buildNamespaceConflictError(s);r.push({message:a,type:Qi.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:o})}}),r}function Z5e(t){const e=h7(t,{errMsgProvider:S5e}),n={};return yt(t.rules,r=>{n[r.name]=r}),C5e(n,e.errMsgProvider)}function e6e(t){return t=h7(t,{errMsgProvider:Eh}),U5e(t.rules,t.tokenTypes,t.errMsgProvider,t.grammarName)}const mW="MismatchedTokenException",gW="NoViableAltException",AW="EarlyExitException",vW="NotAllInputParsedException",yW=[mW,gW,AW,vW];Object.freeze(yW);function Cy(t){return Wi(yW,t.name)}class B6 extends Error{constructor(e,n){super(e),this.token=n,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class xW extends B6{constructor(e,n,r){super(e,n),this.previousToken=r,this.name=mW}}class t6e extends B6{constructor(e,n,r){super(e,n),this.previousToken=r,this.name=gW}}class n6e extends B6{constructor(e,n){super(e,n),this.name=vW}}class r6e extends B6{constructor(e,n,r){super(e,n),this.previousToken=r,this.name=AW}}const x_={},EW="InRuleRecoveryException";class i6e extends Error{constructor(e){super(e),this.name=EW}}class s6e{initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=pt(e,"recoveryEnabled")?e.recoveryEnabled:au.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=o6e)}getTokenToInsert(e){const n=m7(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return n.isInsertedInRecovery=!0,n}canTokenTypeBeInsertedInRecovery(e){return!0}canTokenTypeBeDeletedInRecovery(e){return!0}tryInRepetitionRecovery(e,n,r,i){const s=this.findReSyncTokenType(),o=this.exportLexerState(),a=[];let l=!1;const c=this.LA(1);let u=this.LA(1);const h=()=>{const f=this.LA(0),m=this.errorMessageProvider.buildMismatchTokenMessage({expected:i,actual:c,previous:f,ruleName:this.getCurrRuleFullName()}),g=new xW(m,c,this.LA(0));g.resyncedTokens=Yg(a),this.SAVE_ERROR(g)};for(;!l;)if(this.tokenMatcher(u,i)){h();return}else if(r.call(this)){h(),e.apply(this,n);return}else this.tokenMatcher(u,s)?l=!0:(u=this.SKIP_TOKEN(),this.addToResyncTokens(u,a));this.importLexerState(o)}shouldInRepetitionRecoveryBeTried(e,n,r){return!(r===!1||this.tokenMatcher(this.LA(1),e)||this.isBackTracking()||this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,n)))}getFollowsForInRuleRecovery(e,n){const r=this.getCurrentGrammarPath(e,n);return this.getNextPossibleTokenTypes(r)}tryInRuleRecovery(e,n){if(this.canRecoverWithSingleTokenInsertion(e,n))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){const r=this.SKIP_TOKEN();return this.consumeToken(),r}throw new i6e("sad sad panda")}canPerformInRuleRecovery(e,n){return this.canRecoverWithSingleTokenInsertion(e,n)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,n){if(!this.canTokenTypeBeInsertedInRecovery(e)||Mn(n))return!1;const r=this.LA(1);return Bp(n,s=>this.tokenMatcher(r,s))!==void 0}canRecoverWithSingleTokenDeletion(e){return this.canTokenTypeBeDeletedInRecovery(e)?this.tokenMatcher(this.LA(2),e):!1}isInCurrentRuleReSyncSet(e){const n=this.getCurrFollowKey(),r=this.getFollowSetFromFollowKey(n);return Wi(r,e)}findReSyncTokenType(){const e=this.flattenFollowSet();let n=this.LA(1),r=2;for(;;){const i=Bp(e,s=>_5e(n,s));if(i!==void 0)return i;n=this.LA(r),r++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return x_;const e=this.getLastExplicitRuleShortName(),n=this.getLastExplicitRuleOccurrenceIndex(),r=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:n,inRule:this.shortRuleNameToFullName(r)}}buildFullFollowKeyStack(){const e=this.RULE_STACK,n=this.RULE_OCCURRENCE_STACK;return ht(e,(r,i)=>i===0?x_:{ruleName:this.shortRuleNameToFullName(r),idxInCallingRule:n[i],inRule:this.shortRuleNameToFullName(e[i-1])})}flattenFollowSet(){const e=ht(this.buildFullFollowKeyStack(),n=>this.getFollowSetFromFollowKey(n));return Vo(e)}getFollowSetFromFollowKey(e){if(e===x_)return[Wh];const n=e.ruleName+e.idxInCallingRule+JV+e.inRule;return this.resyncFollows[n]}addToResyncTokens(e,n){return this.tokenMatcher(e,Wh)||n.push(e),n}reSyncTo(e){const n=[];let r=this.LA(1);for(;this.tokenMatcher(r,e)===!1;)r=this.SKIP_TOKEN(),this.addToResyncTokens(r,n);return Yg(n)}attemptInRepetitionRecovery(e,n,r,i,s,o,a){}getCurrentGrammarPath(e,n){const r=this.getHumanReadableRuleStack(),i=Ti(this.RULE_OCCURRENCE_STACK);return{ruleStack:r,occurrenceStack:i,lastTok:e,lastTokOccurrence:n}}getHumanReadableRuleStack(){return ht(this.RULE_STACK,e=>this.shortRuleNameToFullName(e))}}function o6e(t,e,n,r,i,s,o){const a=this.getKeyForAutomaticLookahead(r,i);let l=this.firstAfterRepMap[a];if(l===void 0){const f=this.getCurrRuleFullName(),m=this.getGAstProductions()[f];l=new s(m,i).startWalking(),this.firstAfterRepMap[a]=l}let c=l.token,u=l.occurrence;const h=l.isEndOfRule;this.RULE_STACK.length===1&&h&&c===void 0&&(c=Wh,u=1),!(c===void 0||u===void 0)&&this.shouldInRepetitionRecoveryBeTried(c,u,o)&&this.tryInRepetitionRecovery(t,e,n,c)}const a6e=4,Eu=8,_W=1<<Eu,SW=2<<Eu,TC=3<<Eu,IC=4<<Eu,bC=5<<Eu,yv=6<<Eu;function E_(t,e,n){return n|e|t}class l6e{constructor(e){var n;this.maxLookahead=(n=e==null?void 0:e.maxLookahead)!==null&&n!==void 0?n:au.maxLookahead}validate(e){const n=this.validateNoLeftRecursion(e.rules);if(Mn(n)){const r=this.validateEmptyOrAlternatives(e.rules),i=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),s=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...n,...r,...i,...s]}return n}validateNoLeftRecursion(e){return co(e,n=>pW(n,n,Eh))}validateEmptyOrAlternatives(e){return co(e,n=>W5e(n,Eh))}validateAmbiguousAlternationAlternatives(e,n){return co(e,r=>j5e(r,n,Eh))}validateSomeNonEmptyLookaheadPath(e,n){return X5e(e,n,Eh)}buildLookaheadForAlternation(e){return B5e(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,D5e)}buildLookaheadForOptional(e){return P5e(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,cW(e.prodType),L5e)}}class c6e{initLooksAhead(e){this.dynamicTokensEnabled=pt(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:au.dynamicTokensEnabled,this.maxLookahead=pt(e,"maxLookahead")?e.maxLookahead:au.maxLookahead,this.lookaheadStrategy=pt(e,"lookaheadStrategy")?e.lookaheadStrategy:new l6e({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){yt(e,n=>{this.TRACE_INIT(`${n.name} Rule Lookahead`,()=>{const{alternation:r,repetition:i,option:s,repetitionMandatory:o,repetitionMandatoryWithSeparator:a,repetitionWithSeparator:l}=h6e(n);yt(r,c=>{const u=c.idx===0?"":c.idx;this.TRACE_INIT(`${Ea(c)}${u}`,()=>{const h=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:c.idx,rule:n,maxLookahead:c.maxLookahead||this.maxLookahead,hasPredicates:c.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),f=E_(this.fullRuleNameToShort[n.name],_W,c.idx);this.setLaFuncCache(f,h)})}),yt(i,c=>{this.computeLookaheadFunc(n,c.idx,TC,"Repetition",c.maxLookahead,Ea(c))}),yt(s,c=>{this.computeLookaheadFunc(n,c.idx,SW,"Option",c.maxLookahead,Ea(c))}),yt(o,c=>{this.computeLookaheadFunc(n,c.idx,IC,"RepetitionMandatory",c.maxLookahead,Ea(c))}),yt(a,c=>{this.computeLookaheadFunc(n,c.idx,yv,"RepetitionMandatoryWithSeparator",c.maxLookahead,Ea(c))}),yt(l,c=>{this.computeLookaheadFunc(n,c.idx,bC,"RepetitionWithSeparator",c.maxLookahead,Ea(c))})})})}computeLookaheadFunc(e,n,r,i,s,o){this.TRACE_INIT(`${o}${n===0?"":n}`,()=>{const a=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:n,rule:e,maxLookahead:s||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:i}),l=E_(this.fullRuleNameToShort[e.name],r,n);this.setLaFuncCache(l,a)})}getKeyForAutomaticLookahead(e,n){const r=this.getLastExplicitRuleShortName();return E_(r,e,n)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,n){this.lookAheadFuncsCache.set(e,n)}}class u6e extends n0{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(e){this.dslMethods.option.push(e)}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e)}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e)}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}visitRepetition(e){this.dslMethods.repetition.push(e)}visitAlternation(e){this.dslMethods.alternation.push(e)}}const B2=new u6e;function h6e(t){B2.reset(),t.accept(B2);const e=B2.dslMethods;return B2.reset(),e}function eO(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.endOffset=e.endOffset):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset)}function tO(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.startColumn=e.startColumn,t.startLine=e.startLine,t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine)}function f6e(t,e,n){t.children[n]===void 0?t.children[n]=[e]:t.children[n].push(e)}function d6e(t,e,n){t.children[e]===void 0?t.children[e]=[n]:t.children[e].push(n)}const p6e="name";function CW(t,e){Object.defineProperty(t,p6e,{enumerable:!1,configurable:!0,writable:!1,value:e})}function m6e(t,e){const n=Rs(t),r=n.length;for(let i=0;i<r;i++){const s=n[i],o=t[s],a=o.length;for(let l=0;l<a;l++){const c=o[l];c.tokenTypeIdx===void 0&&this[c.name](c.children,e)}}}function g6e(t,e){const n=function(){};CW(n,t+"BaseSemantics");const r={visit:function(i,s){if(rn(i)&&(i=i[0]),!kl(i))return this[i.name](i.children,s)},validateVisitor:function(){const i=v6e(this,e);if(!Mn(i)){const s=ht(i,o=>o.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${s.join(`

`).replace(/\n/g,`
	`)}`)}}};return n.prototype=r,n.prototype.constructor=n,n._RULE_NAMES=e,n}function A6e(t,e,n){const r=function(){};CW(r,t+"BaseSemanticsWithDefaults");const i=Object.create(n.prototype);return yt(e,s=>{i[s]=m6e}),r.prototype=i,r.prototype.constructor=r,r}var MC;(function(t){t[t.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",t[t.MISSING_METHOD=1]="MISSING_METHOD"})(MC||(MC={}));function v6e(t,e){return y6e(t,e)}function y6e(t,e){const n=Eo(e,i=>Ql(t[i])===!1),r=ht(n,i=>({msg:`Missing visitor method: <${i}> on ${t.constructor.name} CST Visitor.`,type:MC.MISSING_METHOD,methodName:i}));return $3(r)}class x6e{initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=pt(e,"nodeLocationTracking")?e.nodeLocationTracking:au.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=Rr,this.cstFinallyStateUpdate=Rr,this.cstPostTerminal=Rr,this.cstPostNonTerminal=Rr,this.cstPostRule=Rr;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=tO,this.setNodeLocationFromNode=tO,this.cstPostRule=Rr,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=Rr,this.setNodeLocationFromNode=Rr,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=eO,this.setNodeLocationFromNode=eO,this.cstPostRule=Rr,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=Rr,this.setNodeLocationFromNode=Rr,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=Rr,this.setNodeLocationFromNode=Rr,this.cstPostRule=Rr,this.setInitialNodeLocation=Rr;else throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){const n=this.LA(1);e.location={startOffset:n.startOffset,startLine:n.startLine,startColumn:n.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){const n={name:e,children:Object.create(null)};this.setInitialNodeLocation(n),this.CST_STACK.push(n)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){const n=this.LA(0),r=e.location;r.startOffset<=n.startOffset?(r.endOffset=n.endOffset,r.endLine=n.endLine,r.endColumn=n.endColumn):(r.startOffset=NaN,r.startLine=NaN,r.startColumn=NaN)}cstPostRuleOnlyOffset(e){const n=this.LA(0),r=e.location;r.startOffset<=n.startOffset?r.endOffset=n.endOffset:r.startOffset=NaN}cstPostTerminal(e,n){const r=this.CST_STACK[this.CST_STACK.length-1];f6e(r,n,e),this.setNodeLocationFromToken(r.location,n)}cstPostNonTerminal(e,n){const r=this.CST_STACK[this.CST_STACK.length-1];d6e(r,n,e),this.setNodeLocationFromNode(r.location,e.location)}getBaseCstVisitorConstructor(){if(kl(this.baseCstVisitorConstructor)){const e=g6e(this.className,Rs(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(kl(this.baseCstVisitorWithDefaultsConstructor)){const e=A6e(this.className,Rs(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){const e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}}class E6e{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):Ty}LA(e){const n=this.currIdx+e;return n<0||this.tokVectorLength<=n?Ty:this.tokVector[n]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}class _6e{ACTION(e){return e.call(this)}consume(e,n,r){return this.consumeInternal(n,e,r)}subrule(e,n,r){return this.subruleInternal(n,e,r)}option(e,n){return this.optionInternal(n,e)}or(e,n){return this.orInternal(n,e)}many(e,n){return this.manyInternal(e,n)}atLeastOne(e,n){return this.atLeastOneInternal(e,n)}CONSUME(e,n){return this.consumeInternal(e,0,n)}CONSUME1(e,n){return this.consumeInternal(e,1,n)}CONSUME2(e,n){return this.consumeInternal(e,2,n)}CONSUME3(e,n){return this.consumeInternal(e,3,n)}CONSUME4(e,n){return this.consumeInternal(e,4,n)}CONSUME5(e,n){return this.consumeInternal(e,5,n)}CONSUME6(e,n){return this.consumeInternal(e,6,n)}CONSUME7(e,n){return this.consumeInternal(e,7,n)}CONSUME8(e,n){return this.consumeInternal(e,8,n)}CONSUME9(e,n){return this.consumeInternal(e,9,n)}SUBRULE(e,n){return this.subruleInternal(e,0,n)}SUBRULE1(e,n){return this.subruleInternal(e,1,n)}SUBRULE2(e,n){return this.subruleInternal(e,2,n)}SUBRULE3(e,n){return this.subruleInternal(e,3,n)}SUBRULE4(e,n){return this.subruleInternal(e,4,n)}SUBRULE5(e,n){return this.subruleInternal(e,5,n)}SUBRULE6(e,n){return this.subruleInternal(e,6,n)}SUBRULE7(e,n){return this.subruleInternal(e,7,n)}SUBRULE8(e,n){return this.subruleInternal(e,8,n)}SUBRULE9(e,n){return this.subruleInternal(e,9,n)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,n,r=Iy){if(Wi(this.definedRulesNames,e)){const o={message:Eh.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:Qi.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(o)}this.definedRulesNames.push(e);const i=this.defineRule(e,n,r);return this[e]=i,i}OVERRIDE_RULE(e,n,r=Iy){const i=V5e(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(i);const s=this.defineRule(e,n,r);return this[e]=s,s}BACKTRACK(e,n){return function(){this.isBackTrackingStack.push(1);const r=this.saveRecogState();try{return e.apply(this,n),!0}catch(i){if(Cy(i))return!1;throw i}finally{this.reloadRecogState(r),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return Cye(Pr(this.gastProductionsCache))}}class S6e{initRecognizerEngine(e,n){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=Sy,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},pt(n,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(rn(e)){if(Mn(e))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof e[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(rn(e))this.tokensMap=Ps(e,(s,o)=>(s[o.name]=o,s),{});else if(pt(e,"modes")&&Wo(Vo(Pr(e.modes)),v5e)){const s=Vo(Pr(e.modes)),o=f7(s);this.tokensMap=Ps(o,(a,l)=>(a[l.name]=l,a),{})}else if(Ao(e))this.tokensMap=Ti(e);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=Wh;const r=pt(e,"modes")?Vo(Pr(e.modes)):Pr(e),i=Wo(r,s=>Mn(s.categoryMatches));this.tokenMatcher=i?Sy:X3,J3(Pr(this.tokensMap))}defineRule(e,n,r){if(this.selfAnalysisDone)throw Error(`Grammar rule <${e}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const i=pt(r,"resyncEnabled")?r.resyncEnabled:Iy.resyncEnabled,s=pt(r,"recoveryValueFunc")?r.recoveryValueFunc:Iy.recoveryValueFunc,o=this.ruleShortNameIdx<<a6e+Eu;this.ruleShortNameIdx++,this.shortRuleNameToFull[o]=e,this.fullRuleNameToShort[e]=o;let a;return this.outputCst===!0?a=function(...u){try{this.ruleInvocationStateUpdate(o,e,this.subruleIdx),n.apply(this,u);const h=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(h),h}catch(h){return this.invokeRuleCatch(h,i,s)}finally{this.ruleFinallyStateUpdate()}}:a=function(...u){try{return this.ruleInvocationStateUpdate(o,e,this.subruleIdx),n.apply(this,u)}catch(h){return this.invokeRuleCatch(h,i,s)}finally{this.ruleFinallyStateUpdate()}},Object.assign(a,{ruleName:e,originalGrammarAction:n})}invokeRuleCatch(e,n,r){const i=this.RULE_STACK.length===1,s=n&&!this.isBackTracking()&&this.recoveryEnabled;if(Cy(e)){const o=e;if(s){const a=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(a))if(o.resyncedTokens=this.reSyncTo(a),this.outputCst){const l=this.CST_STACK[this.CST_STACK.length-1];return l.recoveredNode=!0,l}else return r(e);else{if(this.outputCst){const l=this.CST_STACK[this.CST_STACK.length-1];l.recoveredNode=!0,o.partialCstResult=l}throw o}}else{if(i)return this.moveToTerminatedState(),r(e);throw o}}else throw e}optionInternal(e,n){const r=this.getKeyForAutomaticLookahead(SW,n);return this.optionInternalLogic(e,n,r)}optionInternalLogic(e,n,r){let i=this.getLaFuncFromCache(r),s;if(typeof e!="function"){s=e.DEF;const o=e.GATE;if(o!==void 0){const a=i;i=()=>o.call(this)&&a.call(this)}}else s=e;if(i.call(this)===!0)return s.call(this)}atLeastOneInternal(e,n){const r=this.getKeyForAutomaticLookahead(IC,e);return this.atLeastOneInternalLogic(e,n,r)}atLeastOneInternalLogic(e,n,r){let i=this.getLaFuncFromCache(r),s;if(typeof n!="function"){s=n.DEF;const o=n.GATE;if(o!==void 0){const a=i;i=()=>o.call(this)&&a.call(this)}}else s=n;if(i.call(this)===!0){let o=this.doSingleRepetition(s);for(;i.call(this)===!0&&o===!0;)o=this.doSingleRepetition(s)}else throw this.raiseEarlyExitException(e,ur.REPETITION_MANDATORY,n.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,n],i,IC,e,M5e)}atLeastOneSepFirstInternal(e,n){const r=this.getKeyForAutomaticLookahead(yv,e);this.atLeastOneSepFirstInternalLogic(e,n,r)}atLeastOneSepFirstInternalLogic(e,n,r){const i=n.DEF,s=n.SEP;if(this.getLaFuncFromCache(r).call(this)===!0){i.call(this);const a=()=>this.tokenMatcher(this.LA(1),s);for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,s,a,i,qL],a,yv,e,qL)}else throw this.raiseEarlyExitException(e,ur.REPETITION_MANDATORY_WITH_SEPARATOR,n.ERR_MSG)}manyInternal(e,n){const r=this.getKeyForAutomaticLookahead(TC,e);return this.manyInternalLogic(e,n,r)}manyInternalLogic(e,n,r){let i=this.getLaFuncFromCache(r),s;if(typeof n!="function"){s=n.DEF;const a=n.GATE;if(a!==void 0){const l=i;i=()=>a.call(this)&&l.call(this)}}else s=n;let o=!0;for(;i.call(this)===!0&&o===!0;)o=this.doSingleRepetition(s);this.attemptInRepetitionRecovery(this.manyInternal,[e,n],i,TC,e,b5e,o)}manySepFirstInternal(e,n){const r=this.getKeyForAutomaticLookahead(bC,e);this.manySepFirstInternalLogic(e,n,r)}manySepFirstInternalLogic(e,n,r){const i=n.DEF,s=n.SEP;if(this.getLaFuncFromCache(r).call(this)===!0){i.call(this);const a=()=>this.tokenMatcher(this.LA(1),s);for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,s,a,i,YL],a,bC,e,YL)}}repetitionSepSecondInternal(e,n,r,i,s){for(;r();)this.CONSUME(n),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,n,r,i,s],r,yv,e,s)}doSingleRepetition(e){const n=this.getLexerPosition();return e.call(this),this.getLexerPosition()>n}orInternal(e,n){const r=this.getKeyForAutomaticLookahead(_W,n),i=rn(e)?e:e.DEF,o=this.getLaFuncFromCache(r).call(this,i);if(o!==void 0)return i[o].ALT.call(this);this.raiseNoAltException(n,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){const e=this.LA(1),n=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new n6e(n,e))}}subruleInternal(e,n,r){let i;try{const s=r!==void 0?r.ARGS:void 0;return this.subruleIdx=n,i=e.apply(this,s),this.cstPostNonTerminal(i,r!==void 0&&r.LABEL!==void 0?r.LABEL:e.ruleName),i}catch(s){throw this.subruleInternalError(s,r,e.ruleName)}}subruleInternalError(e,n,r){throw Cy(e)&&e.partialCstResult!==void 0&&(this.cstPostNonTerminal(e.partialCstResult,n!==void 0&&n.LABEL!==void 0?n.LABEL:r),delete e.partialCstResult),e}consumeInternal(e,n,r){let i;try{const s=this.LA(1);this.tokenMatcher(s,e)===!0?(this.consumeToken(),i=s):this.consumeInternalError(e,s,r)}catch(s){i=this.consumeInternalRecovery(e,n,s)}return this.cstPostTerminal(r!==void 0&&r.LABEL!==void 0?r.LABEL:e.name,i),i}consumeInternalError(e,n,r){let i;const s=this.LA(0);throw r!==void 0&&r.ERR_MSG?i=r.ERR_MSG:i=this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:n,previous:s,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new xW(i,n,s))}consumeInternalRecovery(e,n,r){if(this.recoveryEnabled&&r.name==="MismatchedTokenException"&&!this.isBackTracking()){const i=this.getFollowsForInRuleRecovery(e,n);try{return this.tryInRuleRecovery(e,i)}catch(s){throw s.name===EW?r:s}}else throw r}saveRecogState(){const e=this.errors,n=Ti(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:n,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,n,r){this.RULE_OCCURRENCE_STACK.push(r),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(n)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){const e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),Wh)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}class C6e{initErrorHandler(e){this._errors=[],this.errorMessageProvider=pt(e,"errorMessageProvider")?e.errorMessageProvider:au.errorMessageProvider}SAVE_ERROR(e){if(Cy(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:Ti(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return Ti(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,n,r){const i=this.getCurrRuleFullName(),s=this.getGAstProductions()[i],a=A7(e,s,n,this.maxLookahead)[0],l=[];for(let u=1;u<=this.maxLookahead;u++)l.push(this.LA(u));const c=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:a,actual:l,previous:this.LA(0),customUserDescription:r,ruleName:i});throw this.SAVE_ERROR(new r6e(c,this.LA(1),this.LA(0)))}raiseNoAltException(e,n){const r=this.getCurrRuleFullName(),i=this.getGAstProductions()[r],s=g7(e,i,this.maxLookahead),o=[];for(let c=1;c<=this.maxLookahead;c++)o.push(this.LA(c));const a=this.LA(0),l=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:s,actual:o,previous:a,customUserDescription:n,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new t6e(l,this.LA(1),a))}}class w6e{initContentAssist(){}computeContentAssist(e,n){const r=this.gastProductionsCache[e];if(kl(r))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return lW([r],n,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){const n=qo(e.ruleStack),i=this.getGAstProductions()[n];return new I5e(i,e).startWalking()}}const P6={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(P6);const nO=!0,rO=Math.pow(2,Eu)-1,wW=oW({name:"RECORDING_PHASE_TOKEN",pattern:uo.NA});J3([wW]);const TW=m7(wW,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(TW);const T6e={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}};class I6e{initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let e=0;e<10;e++){const n=e>0?e:"";this[`CONSUME${n}`]=function(r,i){return this.consumeInternalRecord(r,e,i)},this[`SUBRULE${n}`]=function(r,i){return this.subruleInternalRecord(r,e,i)},this[`OPTION${n}`]=function(r){return this.optionInternalRecord(r,e)},this[`OR${n}`]=function(r){return this.orInternalRecord(r,e)},this[`MANY${n}`]=function(r){this.manyInternalRecord(e,r)},this[`MANY_SEP${n}`]=function(r){this.manySepFirstInternalRecord(e,r)},this[`AT_LEAST_ONE${n}`]=function(r){this.atLeastOneInternalRecord(e,r)},this[`AT_LEAST_ONE_SEP${n}`]=function(r){this.atLeastOneSepFirstInternalRecord(e,r)}}this.consume=function(e,n,r){return this.consumeInternalRecord(n,e,r)},this.subrule=function(e,n,r){return this.subruleInternalRecord(n,e,r)},this.option=function(e,n){return this.optionInternalRecord(n,e)},this.or=function(e,n){return this.orInternalRecord(n,e)},this.many=function(e,n){this.manyInternalRecord(e,n)},this.atLeastOne=function(e,n){this.atLeastOneInternalRecord(e,n)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const e=this;for(let n=0;n<10;n++){const r=n>0?n:"";delete e[`CONSUME${r}`],delete e[`SUBRULE${r}`],delete e[`OPTION${r}`],delete e[`OR${r}`],delete e[`MANY${r}`],delete e[`MANY_SEP${r}`],delete e[`AT_LEAST_ONE${r}`],delete e[`AT_LEAST_ONE_SEP${r}`]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA})}ACTION_RECORD(e){}BACKTRACK_RECORD(e,n){return()=>!0}LA_RECORD(e){return Ty}topLevelRuleRecord(e,n){try{const r=new t0({definition:[],name:e});return r.name=e,this.recordingProdStack.push(r),n.call(this),this.recordingProdStack.pop(),r}catch(r){if(r.KNOWN_RECORDER_ERROR!==!0)try{r.message=r.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw r}throw r}}optionInternalRecord(e,n){return im.call(this,os,e,n)}atLeastOneInternalRecord(e,n){im.call(this,Ka,n,e)}atLeastOneSepFirstInternalRecord(e,n){im.call(this,Xa,n,e,nO)}manyInternalRecord(e,n){im.call(this,Lr,n,e)}manySepFirstInternalRecord(e,n){im.call(this,oa,n,e,nO)}orInternalRecord(e,n){return b6e.call(this,e,n)}subruleInternalRecord(e,n,r){if(wy(n),!e||pt(e,"ruleName")===!1){const a=new Error(`<SUBRULE${iO(n)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw a.KNOWN_RECORDER_ERROR=!0,a}const i=Rp(this.recordingProdStack),s=e.ruleName,o=new Ds({idx:n,nonTerminalName:s,label:r==null?void 0:r.LABEL,referencedRule:void 0});return i.definition.push(o),this.outputCst?T6e:P6}consumeInternalRecord(e,n,r){if(wy(n),!iW(e)){const o=new Error(`<CONSUME${iO(n)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw o.KNOWN_RECORDER_ERROR=!0,o}const i=Rp(this.recordingProdStack),s=new tr({idx:n,terminalType:e,label:r==null?void 0:r.LABEL});return i.definition.push(s),TW}}function im(t,e,n,r=!1){wy(n);const i=Rp(this.recordingProdStack),s=Ql(e)?e:e.DEF,o=new t({definition:[],idx:n});return r&&(o.separator=e.SEP),pt(e,"MAX_LOOKAHEAD")&&(o.maxLookahead=e.MAX_LOOKAHEAD),this.recordingProdStack.push(o),s.call(this),i.definition.push(o),this.recordingProdStack.pop(),P6}function b6e(t,e){wy(e);const n=Rp(this.recordingProdStack),r=rn(t)===!1,i=r===!1?t:t.DEF,s=new aa({definition:[],idx:e,ignoreAmbiguities:r&&t.IGNORE_AMBIGUITIES===!0});pt(t,"MAX_LOOKAHEAD")&&(s.maxLookahead=t.MAX_LOOKAHEAD);const o=jV(i,a=>Ql(a.GATE));return s.hasPredicates=o,n.definition.push(s),yt(i,a=>{const l=new cs({definition:[]});s.definition.push(l),pt(a,"IGNORE_AMBIGUITIES")?l.ignoreAmbiguities=a.IGNORE_AMBIGUITIES:pt(a,"GATE")&&(l.ignoreAmbiguities=!0),this.recordingProdStack.push(l),a.ALT.call(this),this.recordingProdStack.pop()}),P6}function iO(t){return t===0?"":`${t}`}function wy(t){if(t<0||t>rO){const e=new Error(`Invalid DSL Method idx value: <${t}>
	Idx value must be a none negative value smaller than ${rO+1}`);throw e.KNOWN_RECORDER_ERROR=!0,e}}class M6e{initPerformanceTracer(e){if(pt(e,"traceInitPerf")){const n=e.traceInitPerf,r=typeof n=="number";this.traceInitMaxIdent=r?n:1/0,this.traceInitPerf=r?n>0:n}else this.traceInitMaxIdent=0,this.traceInitPerf=au.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,n){if(this.traceInitPerf===!0){this.traceInitIndent++;const r=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${r}--> <${e}>`);const{time:i,value:s}=KV(n),o=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&o(`${r}<-- <${e}> time: ${i}ms`),this.traceInitIndent--,s}else return n()}}function R6e(t,e){e.forEach(n=>{const r=n.prototype;Object.getOwnPropertyNames(r).forEach(i=>{if(i==="constructor")return;const s=Object.getOwnPropertyDescriptor(r,i);s&&(s.get||s.set)?Object.defineProperty(t.prototype,i,s):t.prototype[i]=n.prototype[i]})})}const Ty=m7(Wh,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(Ty);const au=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:aW,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),Iy=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var Qi;(function(t){t[t.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",t[t.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",t[t.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",t[t.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",t[t.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",t[t.LEFT_RECURSION=5]="LEFT_RECURSION",t[t.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",t[t.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",t[t.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",t[t.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",t[t.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",t[t.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",t[t.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",t[t.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(Qi||(Qi={}));class D6{static performSelfAnalysis(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let e;this.selfAnalysisDone=!0;const n=this.className;this.TRACE_INIT("toFastProps",()=>{XV(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),yt(this.definedRulesNames,i=>{const o=this[i].originalGrammarAction;let a;this.TRACE_INIT(`${i} Rule`,()=>{a=this.topLevelRuleRecord(i,o)}),this.gastProductionsCache[i]=a})}finally{this.disableRecording()}});let r=[];if(this.TRACE_INIT("Grammar Resolving",()=>{r=Z5e({rules:Pr(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(r)}),this.TRACE_INIT("Grammar Validations",()=>{if(Mn(r)&&this.skipValidations===!1){const i=e6e({rules:Pr(this.gastProductionsCache),tokenTypes:Pr(this.tokensMap),errMsgProvider:Eh,grammarName:n}),s=k5e({lookaheadStrategy:this.lookaheadStrategy,rules:Pr(this.gastProductionsCache),tokenTypes:Pr(this.tokensMap),grammarName:n});this.definitionErrors=this.definitionErrors.concat(i,s)}}),Mn(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const i=Bye(Pr(this.gastProductionsCache));this.resyncFollows=i}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var i,s;(s=(i=this.lookaheadStrategy).initialize)===null||s===void 0||s.call(i,{rules:Pr(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(Pr(this.gastProductionsCache))})),!D6.DEFER_DEFINITION_ERRORS_HANDLING&&!Mn(this.definitionErrors))throw e=ht(this.definitionErrors,i=>i.message),new Error(`Parser Definition Errors detected:
 ${e.join(`
-------------------------------
`)}`)})}constructor(e,n){this.definitionErrors=[],this.selfAnalysisDone=!1;const r=this;if(r.initErrorHandler(n),r.initLexerAdapter(),r.initLooksAhead(n),r.initRecognizerEngine(e,n),r.initRecoverable(n),r.initTreeBuilder(n),r.initContentAssist(),r.initGastRecorder(n),r.initPerformanceTracer(n),pt(n,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=pt(n,"skipValidations")?n.skipValidations:au.skipValidations}}D6.DEFER_DEFINITION_ERRORS_HANDLING=!1;R6e(D6,[s6e,c6e,x6e,E6e,S6e,_6e,C6e,w6e,I6e,M6e]);class B6e{constructor(e=4){this.pool=e,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(e){if(!this.workers[e]){const n=this.workerCreator();n.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=n}}_getIdleWorker(){for(let e=0;e<this.pool;e++)if(!(this.workerStatus&1<<e))return e;return-1}_onMessage(e,n){const r=this.workersResolve[e];if(r&&r(n),this.queue.length){const{resolve:i,msg:s,transfer:o}=this.queue.shift();this.workersResolve[e]=i,this.workers[e].postMessage(s,o)}else this.workerStatus^=1<<e}setWorkerCreator(e){this.workerCreator=e}setWorkerLimit(e){this.pool=e}postMessage(e,n){return new Promise(r=>{const i=this._getIdleWorker();i!==-1?(this._initWorker(i),this.workerStatus|=1<<i,this.workersResolve[i]=r,this.workers[i].postMessage(e,n)):this.queue.push({resolve:r,msg:e,transfer:n})})}dispose(){this.workers.forEach(e=>e.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}class P6e extends nu{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Yn}}const __=new WeakMap;let S_=0,C_;const Cm=class extends Zr{constructor(t){super(t),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new B6e,this.workerSourceURL="",this.workerConfig=null,typeof MSC_TRANSCODER<"u"&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(t){return this.transcoderPath=t,this}setWorkerLimit(t){return this.workerPool.setWorkerLimit(t),this}detectSupport(t){return this.workerConfig={astcSupported:t.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:t.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:t.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:t.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:t.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:t.extensions.has("WEBGL_compressed_texture_pvrtc")||t.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},t.capabilities.isWebGL2&&(this.workerConfig.etc1Supported=!1),this}init(){if(!this.transcoderPending){const t=new Nr(this.manager);t.setPath(this.transcoderPath),t.setWithCredentials(this.withCredentials);const e=t.loadAsync("basis_transcoder.js"),n=new Nr(this.manager);n.setPath(this.transcoderPath),n.setResponseType("arraybuffer"),n.setWithCredentials(this.withCredentials);const r=n.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([e,r]).then(([i,s])=>{const o=Cm.BasisWorker.toString(),a=["/* constants */","let _EngineFormat = "+JSON.stringify(Cm.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(Cm.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(Cm.BasisFormat),"/* basis_transcoder.js */",i,"/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a])),this.transcoderBinary=s,this.workerPool.setWorkerCreator(()=>{const l=new Worker(this.workerSourceURL),c=this.transcoderBinary.slice(0);return l.postMessage({type:"init",config:this.workerConfig,transcoderBinary:c},[c]),l})}),S_>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),S_++}return this.transcoderPending}load(t,e,n,r){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const i=new Nr(this.manager);i.setResponseType("arraybuffer"),i.setWithCredentials(this.withCredentials),i.load(t,s=>{if(__.has(s))return __.get(s).promise.then(e).catch(r);this._createTexture(s).then(o=>e?e(o):null).catch(r)},n,r)}_createTextureFrom(t,e){const{mipmaps:n,width:r,height:i,format:s,type:o,error:a,dfdTransferFn:l,dfdFlags:c}=t;if(o==="error")return Promise.reject(a);const u=e.layerCount>1?new P6e(n,r,i,e.layerCount,s,Dr):new nu(n,r,i,s,Dr);return u.minFilter=n.length===1?yn:mo,u.magFilter=yn,u.generateMipmaps=!1,u.needsUpdate=!0,"colorSpace"in u?u.colorSpace=l===tC?"srgb":"srgb-linear":u.encoding=l===tC?3001:3e3,u.premultiplyAlpha=!!(c&ufe),u}async _createTexture(t,e={}){const n=pfe(new Uint8Array(t));if(n.vkFormat!==yz)return L6e(n);const r=e,i=this.init().then(()=>this.workerPool.postMessage({type:"transcode",buffer:t,taskConfig:r},[t])).then(s=>this._createTextureFrom(s.data,n));return __.set(t,{promise:i}),i}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),S_--,this}};let L6=Cm;Me(L6,"BasisFormat",{ETC1S:0,UASTC_4x4:1});Me(L6,"TranscoderFormat",{ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16});Me(L6,"EngineFormat",{RGBAFormat:fr,RGBA_ASTC_4x4_Format:Og,RGBA_BPTC_Format:jd,RGBA_ETC2_EAC_Format:Lg,RGBA_PVRTC_4BPPV1_Format:Pg,RGBA_S3TC_DXT5_Format:Wd,RGB_ETC1_Format:O5,RGB_ETC2_Format:Dg,RGB_PVRTC_4BPPV1_Format:Bg,RGB_S3TC_DXT1_Format:Vd});Me(L6,"BasisWorker",function(){let t,e,n;const r=_EngineFormat,i=_TranscoderFormat,s=_BasisFormat;self.addEventListener("message",function(g){const E=g.data;switch(E.type){case"init":t=E.config,o(E.transcoderBinary);break;case"transcode":e.then(()=>{try{const{width:x,height:A,hasAlpha:v,mipmaps:y,format:S,dfdTransferFn:w,dfdFlags:T}=a(E.buffer),b=[];for(let R=0;R<y.length;++R)b.push(y[R].data.buffer);self.postMessage({type:"transcode",id:E.id,width:x,height:A,hasAlpha:v,mipmaps:y,format:S,dfdTransferFn:w,dfdFlags:T},b)}catch(x){console.error(x),self.postMessage({type:"error",id:E.id,error:x.message})}});break}});function o(g){e=new Promise(E=>{n={wasmBinary:g,onRuntimeInitialized:E},BASIS(n)}).then(()=>{n.initializeBasis(),n.KTX2File===void 0&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")})}function a(g){const E=new n.KTX2File(new Uint8Array(g));function x(){E.close(),E.delete()}if(!E.isValid())throw x(),new Error("THREE.KTX2Loader:	Invalid or unsupported .ktx2 file");const A=E.isUASTC()?s.UASTC_4x4:s.ETC1S,v=E.getWidth(),y=E.getHeight(),S=E.getLayers()||1,w=E.getLevels(),T=E.getHasAlpha(),b=E.getDFDTransferFunc(),R=E.getDFDFlags(),{transcoderFormat:M,engineFormat:B}=h(A,v,y,T);if(!v||!y||!w)throw x(),new Error("THREE.KTX2Loader:	Invalid texture");if(!E.startTranscoding())throw x(),new Error("THREE.KTX2Loader: .startTranscoding failed");const L=[];for(let G=0;G<w;G++){const F=[];let $,W;for(let Z=0;Z<S;Z++){const q=E.getImageLevelInfo(G,Z,0);$=q.origWidth<4?q.origWidth:q.width,W=q.origHeight<4?q.origHeight:q.height;const k=new Uint8Array(E.getImageTranscodedSizeInBytes(G,Z,0,M));if(!E.transcodeImage(k,G,Z,0,M,0,-1,-1))throw x(),new Error("THREE.KTX2Loader: .transcodeImage failed.");F.push(k)}L.push({data:m(F),width:$,height:W})}return x(),{width:v,height:y,hasAlpha:T,mipmaps:L,format:B,dfdTransferFn:b,dfdFlags:R}}const l=[{if:"astcSupported",basisFormat:[s.UASTC_4x4],transcoderFormat:[i.ASTC_4x4,i.ASTC_4x4],engineFormat:[r.RGBA_ASTC_4x4_Format,r.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.BC7_M5,i.BC7_M5],engineFormat:[r.RGBA_BPTC_Format,r.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.BC1,i.BC3],engineFormat:[r.RGB_S3TC_DXT1_Format,r.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.ETC1,i.ETC2],engineFormat:[r.RGB_ETC2_Format,r.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.ETC1],engineFormat:[r.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.PVRTC1_4_RGB,i.PVRTC1_4_RGBA],engineFormat:[r.RGB_PVRTC_4BPPV1_Format,r.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],c=l.sort(function(g,E){return g.priorityETC1S-E.priorityETC1S}),u=l.sort(function(g,E){return g.priorityUASTC-E.priorityUASTC});function h(g,E,x,A){let v,y;const S=g===s.ETC1S?c:u;for(let w=0;w<S.length;w++){const T=S[w];if(t[T.if]&&T.basisFormat.includes(g)&&!(A&&T.transcoderFormat.length<2)&&!(T.needsPowerOfTwo&&!(f(E)&&f(x))))return v=T.transcoderFormat[A?1:0],y=T.engineFormat[A?1:0],{transcoderFormat:v,engineFormat:y}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),v=i.RGBA32,y=r.RGBAFormat,{transcoderFormat:v,engineFormat:y}}function f(g){return g<=2?!0:(g&g-1)===0&&g!==0}function m(g){let E=0;for(let v=0;v<g.length;v++){const y=g[v];E+=y.byteLength}const x=new Uint8Array(E);let A=0;for(let v=0;v<g.length;v++){const y=g[v];x.set(y,A),A+=y.byteLength}return x}});const sO={[bz]:fr,[wz]:fr,[_z]:fr,[HT]:fr,[Iz]:bd,[Cz]:bd,[Ez]:bd,[GT]:bd,[Tz]:mh,[Sz]:mh,[UT]:mh,[xz]:mh},w_={[bz]:Ui,[wz]:vr,[_z]:Dr,[HT]:Dr,[Iz]:Ui,[Cz]:vr,[Ez]:Dr,[GT]:Dr,[Tz]:Ui,[Sz]:vr,[UT]:Dr,[xz]:Dr},D6e={[HT]:3001,[GT]:3001,[UT]:3001};async function L6e(t){const{vkFormat:e,pixelWidth:n,pixelHeight:r,pixelDepth:i}=t;if(sO[e]===void 0)throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");const s=t.levels[0];let o,a;if(t.supercompressionScheme===vz)o=s.levelData;else if(t.supercompressionScheme===ife)C_||(C_=new Promise(async c=>{const u=new mfe;await u.init(),c(u)})),o=(await C_).decode(s.levelData,s.uncompressedByteLength);else throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");w_[e]===Ui?a=new Float32Array(o.buffer,o.byteOffset,o.byteLength/Float32Array.BYTES_PER_ELEMENT):w_[e]===vr?a=new Uint16Array(o.buffer,o.byteOffset,o.byteLength/Uint16Array.BYTES_PER_ELEMENT):a=o;const l=i===0?new Pa(a,n,r):new ige(a,n,r,i);return l.type=w_[e],l.format=sO[e],l.encoding=D6e[e]||3e3,l.needsUpdate=!0,Promise.resolve(l)}const T_=new WeakMap,wm=class extends Zr{constructor(t){super(t),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.workerConfig=null}setTranscoderPath(t){return this.transcoderPath=t,this}setWorkerLimit(t){return this.workerLimit=t,this}detectSupport(t){return this.workerConfig={astcSupported:t.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:t.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:t.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:t.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:t.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:t.extensions.has("WEBGL_compressed_texture_pvrtc")||t.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},this}load(t,e,n,r){const i=new Nr(this.manager);i.setResponseType("arraybuffer"),i.setWithCredentials(this.withCredentials);const s=new nu;return i.load(t,o=>{if(T_.has(o))return T_.get(o).promise.then(e).catch(r);this._createTexture([o]).then(function(a){s.copy(a),s.needsUpdate=!0,e&&e(s)}).catch(r)},n,r),s}parseInternalAsync(t){const{levels:e}=t,n=new Set;for(let r=0;r<e.length;r++)n.add(e[r].data.buffer);return this._createTexture(Array.from(n),{...t,lowLevel:!0})}_createTexture(t,e={}){let n,r;const i=e;let s=0;for(let a=0;a<t.length;a++)s+=t[a].byteLength;const o=this._allocateWorker(s).then(a=>(n=a,r=this.workerNextTaskID++,new Promise((l,c)=>{n._callbacks[r]={resolve:l,reject:c},n.postMessage({type:"transcode",id:r,buffers:t,taskConfig:i},t)}))).then(a=>{const{mipmaps:l,width:c,height:u,format:h}=a,f=new nu(l,c,u,h,Dr);return f.minFilter=l.length===1?yn:mo,f.magFilter=yn,f.generateMipmaps=!1,f.needsUpdate=!0,f});return o.catch(()=>!0).then(()=>{n&&r&&(n._taskLoad-=s,delete n._callbacks[r])}),T_.set(t[0],{promise:o}),o}_initTranscoder(){if(!this.transcoderPending){const t=new Nr(this.manager);t.setPath(this.transcoderPath),t.setWithCredentials(this.withCredentials);const e=new Promise((i,s)=>{t.load("basis_transcoder.js",i,void 0,s)}),n=new Nr(this.manager);n.setPath(this.transcoderPath),n.setResponseType("arraybuffer"),n.setWithCredentials(this.withCredentials);const r=new Promise((i,s)=>{n.load("basis_transcoder.wasm",i,void 0,s)});this.transcoderPending=Promise.all([e,r]).then(([i,s])=>{const o=wm.BasisWorker.toString(),a=["/* constants */","let _EngineFormat = "+JSON.stringify(wm.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(wm.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(wm.BasisFormat),"/* basis_transcoder.js */",i,"/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([a])),this.transcoderBinary=s})}return this.transcoderPending}_allocateWorker(t){return this._initTranscoder().then(()=>{if(this.workerPool.length<this.workerLimit){const n=new Worker(this.workerSourceURL);n._callbacks={},n._taskLoad=0,n.postMessage({type:"init",config:this.workerConfig,transcoderBinary:this.transcoderBinary}),n.onmessage=function(r){const i=r.data;switch(i.type){case"transcode":n._callbacks[i.id].resolve(i);break;case"error":n._callbacks[i.id].reject(i);break;default:console.error('THREE.BasisTextureLoader: Unexpected message, "'+i.type+'"')}},this.workerPool.push(n)}else this.workerPool.sort(function(n,r){return n._taskLoad>r._taskLoad?-1:1});const e=this.workerPool[this.workerPool.length-1];return e._taskLoad+=t,e})}dispose(){for(let t=0;t<this.workerPool.length;t++)this.workerPool[t].terminate();return this.workerPool.length=0,this}};let O6=wm;Me(O6,"BasisFormat",{ETC1S:0,UASTC_4x4:1});Me(O6,"TranscoderFormat",{ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16});Me(O6,"EngineFormat",{RGBAFormat:fr,RGBA_ASTC_4x4_Format:Og,RGBA_BPTC_Format:jd,RGBA_ETC2_EAC_Format:Lg,RGBA_PVRTC_4BPPV1_Format:Pg,RGBA_S3TC_DXT5_Format:Wd,RGB_ETC1_Format:O5,RGB_ETC2_Format:Dg,RGB_PVRTC_4BPPV1_Format:Bg,RGB_S3TC_DXT1_Format:Vd});Me(O6,"BasisWorker",function(){let t,e,n;const r=_EngineFormat,i=_TranscoderFormat,s=_BasisFormat;onmessage=function(v){const y=v.data;switch(y.type){case"init":t=y.config,o(y.transcoderBinary);break;case"transcode":e.then(()=>{try{const{width:S,height:w,hasAlpha:T,mipmaps:b,format:R}=y.taskConfig.lowLevel?a(y.taskConfig):l(y.buffers[0]),M=[];for(let B=0;B<b.length;++B)M.push(b[B].data.buffer);self.postMessage({type:"transcode",id:y.id,width:S,height:w,hasAlpha:T,mipmaps:b,format:R},M)}catch(S){console.error(S),self.postMessage({type:"error",id:y.id,error:S.message})}});break}};function o(v){e=new Promise(y=>{n={wasmBinary:v,onRuntimeInitialized:y},BASIS(n)}).then(()=>{n.initializeBasis()})}function a(v){const{basisFormat:y,width:S,height:w,hasAlpha:T}=v,{transcoderFormat:b,engineFormat:R}=f(y,S,w,T),M=n.getBytesPerBlockOrPixel(b);m(n.isFormatSupported(b),"THREE.BasisTextureLoader: Unsupported format.");const B=[];if(y===s.ETC1S){const L=new n.LowLevelETC1SImageTranscoder,{endpointCount:G,endpointsData:F,selectorCount:$,selectorsData:W,tablesData:Z}=v.globalData;try{let q;q=L.decodePalettes(G,F,$,W),m(q,"THREE.BasisTextureLoader: decodePalettes() failed."),q=L.decodeTables(Z),m(q,"THREE.BasisTextureLoader: decodeTables() failed.");for(let k=0;k<v.levels.length;k++){const J=v.levels[k],V=v.globalData.imageDescs[k],H=x(b,J.width,J.height),X=new Uint8Array(H);q=L.transcodeImage(b,X,H/M,J.data,g(b,J.width),E(b,J.height),J.width,J.height,J.index,V.rgbSliceByteOffset,V.rgbSliceByteLength,V.alphaSliceByteOffset,V.alphaSliceByteLength,V.imageFlags,T,!1,0,0),m(q,"THREE.BasisTextureLoader: transcodeImage() failed for level "+J.index+"."),B.push({data:X,width:J.width,height:J.height})}}finally{L.delete()}}else for(let L=0;L<v.levels.length;L++){const G=v.levels[L],F=x(b,G.width,G.height),$=new Uint8Array(F),W=n.transcodeUASTCImage(b,$,F/M,G.data,g(b,G.width),E(b,G.height),G.width,G.height,G.index,0,G.data.byteLength,0,T,!1,0,0,-1,-1);m(W,"THREE.BasisTextureLoader: transcodeUASTCImage() failed for level "+G.index+"."),B.push({data:$,width:G.width,height:G.height})}return{width:S,height:w,hasAlpha:T,mipmaps:B,format:R}}function l(v){const y=new n.BasisFile(new Uint8Array(v)),S=y.isUASTC()?s.UASTC_4x4:s.ETC1S,w=y.getImageWidth(0,0),T=y.getImageHeight(0,0),b=y.getNumLevels(0),R=y.getHasAlpha();function M(){y.close(),y.delete()}const{transcoderFormat:B,engineFormat:L}=f(S,w,T,R);if(!w||!T||!b)throw M(),new Error("THREE.BasisTextureLoader:	Invalid texture");if(!y.startTranscoding())throw M(),new Error("THREE.BasisTextureLoader: .startTranscoding failed");const G=[];for(let F=0;F<b;F++){const $=y.getImageWidth(0,F),W=y.getImageHeight(0,F),Z=new Uint8Array(y.getImageTranscodedSizeInBytes(0,F,B));if(!y.transcodeImage(Z,0,F,B,0,R))throw M(),new Error("THREE.BasisTextureLoader: .transcodeImage failed.");G.push({data:Z,width:$,height:W})}return M(),{width:w,height:T,hasAlpha:R,mipmaps:G,format:L}}const c=[{if:"astcSupported",basisFormat:[s.UASTC_4x4],transcoderFormat:[i.ASTC_4x4,i.ASTC_4x4],engineFormat:[r.RGBA_ASTC_4x4_Format,r.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.BC7_M5,i.BC7_M5],engineFormat:[r.RGBA_BPTC_Format,r.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.BC1,i.BC3],engineFormat:[r.RGB_S3TC_DXT1_Format,r.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.ETC1,i.ETC2],engineFormat:[r.RGB_ETC2_Format,r.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.ETC1,i.ETC1],engineFormat:[r.RGB_ETC1_Format,r.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[i.PVRTC1_4_RGB,i.PVRTC1_4_RGBA],engineFormat:[r.RGB_PVRTC_4BPPV1_Format,r.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],u=c.sort(function(v,y){return v.priorityETC1S-y.priorityETC1S}),h=c.sort(function(v,y){return v.priorityUASTC-y.priorityUASTC});function f(v,y,S,w){let T,b;const R=v===s.ETC1S?u:h;for(let M=0;M<R.length;M++){const B=R[M];if(t[B.if]&&B.basisFormat.includes(v)&&!(B.needsPowerOfTwo&&!(A(y)&&A(S))))return T=B.transcoderFormat[w?1:0],b=B.engineFormat[w?1:0],{transcoderFormat:T,engineFormat:b}}return console.warn("THREE.BasisTextureLoader: No suitable compressed texture format found. Decoding to RGBA32."),T=i.RGBA32,b=r.RGBAFormat,{transcoderFormat:T,engineFormat:b}}function m(v,y){if(!v)throw new Error(y)}function g(v,y){return Math.ceil(y/n.getFormatBlockWidth(v))}function E(v,y){return Math.ceil(y/n.getFormatBlockHeight(v))}function x(v,y,S){const w=n.getBytesPerBlockOrPixel(v);if(n.formatIsUncompressed(v))return y*S*w;if(v===i.PVRTC1_4_RGB||v===i.PVRTC1_4_RGBA){const T=y+3&-4,b=S+3&-4;return(Math.max(8,T)*Math.max(8,b)*4+7)/8}return g(v,y)*E(v,S)*w}function A(v){return v<=2?!0:(v&v-1)===0&&v!==0}});const I_=new WeakMap;class O6e extends Zr{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,r,i){const s=new Nr(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(n).catch(i)},r,i)}decodeDracoFile(e,n,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(n)}decodeGeometry(e,n){for(const l in n.attributeTypes){const c=n.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[l]=c.name)}const r=JSON.stringify(n);if(I_.has(e)){const l=I_.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((c,u)=>{i._callbacks[s]={resolve:c,reject:u},i.postMessage({type:"decode",id:s,taskConfig:n,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),I_.set(e,{key:r,promise:a}),a}_createGeometry(e){const n=new Mt;e.index&&n.setIndex(new ln(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;n.setAttribute(s,new ln(o,a))}return n}_loadLibrary(e,n){const r=new Nr(this.manager);return r.setPath(this.decoderPath),r.setResponseType(n),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=F6e.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=n,r._taskLoad+=n,r})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function F6e(){let t,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":t=a.decoderConfig,e=new Promise(function(u){t.onModuleLoaded=function(h){u({draco:h})},DracoDecoderModule(t)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const h=u.draco,f=new h.Decoder,m=new h.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const g=n(h,f,m,c),E=g.attributes.map(x=>x.array.buffer);g.index&&E.push(g.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:g},E)}catch(g){console.error(g),self.postMessage({type:"error",id:a.id,error:g.message})}finally{h.destroy(m),h.destroy(f)}});break}};function n(o,a,l,c){const u=c.attributeIDs,h=c.attributeTypes;let f,m;const g=a.GetEncodedGeometryType(l);if(g===o.TRIANGULAR_MESH)f=new o.Mesh,m=a.DecodeBufferToMesh(l,f);else if(g===o.POINT_CLOUD)f=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,f);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||f.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const E={index:null,attributes:[]};for(const x in u){const A=self[h[x]];let v,y;if(c.useUniqueIDs)y=u[x],v=a.GetAttributeByUniqueId(f,y);else{if(y=a.GetAttributeId(f,o[u[x]]),y===-1)continue;v=a.GetAttribute(f,y)}E.attributes.push(i(o,a,f,x,A,v))}return g===o.TRIANGULAR_MESH&&(E.index=r(o,a,f)),o.destroy(f),E}function r(o,a,l){const u=l.num_faces()*3,h=u*4,f=o._malloc(h);a.GetTrianglesUInt32Array(l,h,f);const m=new Uint32Array(o.HEAPF32.buffer,f,u).slice();return o._free(f),{array:m,itemSize:1}}function i(o,a,l,c,u,h){const f=h.num_components(),g=l.num_points()*f,E=g*u.BYTES_PER_ELEMENT,x=s(o,u),A=o._malloc(E);a.GetAttributeDataArrayForAllPoints(l,h,x,E,A);const v=new u(o.HEAPF32.buffer,A,g).slice();return o._free(A),{name:c,array:v,itemSize:f}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let P2;const b_=()=>{if(P2)return P2;const t="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=t;WebAssembly.validate(n)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(h=>{s=h.instance,s.exports.__wasm_call_ctors()});function a(h){const f=new Uint8Array(h.length);for(let g=0;g<h.length;++g){const E=h.charCodeAt(g);f[g]=E>96?E-71:E>64?E-65:E>47?E+4:E>46?63:62}let m=0;for(let g=0;g<h.length;++g)f[m++]=f[g]<60?r[f[g]]:(f[g]-60)*64+f[++g];return f.buffer.slice(0,m)}function l(h,f,m,g,E,x){const A=s.exports.sbrk,v=m+3&-4,y=A(v*g),S=A(E.length),w=new Uint8Array(s.exports.memory.buffer);w.set(E,S);const T=h(y,m,g,S,E.length);if(T===0&&x&&x(y,v,g),f.set(w.subarray(y,y+m*g)),A(y-A(0)),T!==0)throw new Error(`Malformed buffer data: ${T}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return P2={ready:o,supported:!0,decodeVertexBuffer(h,f,m,g,E){l(s.exports.meshopt_decodeVertexBuffer,h,f,m,g,s.exports[c[E]])},decodeIndexBuffer(h,f,m,g){l(s.exports.meshopt_decodeIndexBuffer,h,f,m,g)},decodeIndexSequence(h,f,m,g){l(s.exports.meshopt_decodeIndexSequence,h,f,m,g)},decodeGltfBuffer(h,f,m,g,E,x){l(s.exports[u[E]],h,f,m,g,s.exports[c[x]])}},P2};let D2=null;function IW(t,e,n){return r=>{n&&n(r),t&&(D2||(D2=new O6e),D2.setDecoderPath(typeof t=="string"?t:"https://www.gstatic.com/draco/versioned/decoders/1.5.5/"),r.setDRACOLoader(D2)),e&&r.setMeshoptDecoder(typeof b_=="function"?b_():b_)}}function F6(t,e=!0,n=!0,r){return D3(XT,t,IW(e,n,r))}F6.preload=(t,e=!0,n=!0,r)=>D3.preload(XT,t,IW(e,n,r));F6.clear=t=>D3.clear(XT,t);const bW=Q.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},u)=>{const h=Zs(T=>T.invalidate),f=Zs(T=>T.camera),m=Zs(T=>T.gl),g=Zs(T=>T.events),E=Zs(T=>T.setEvents),x=Zs(T=>T.set),A=Zs(T=>T.get),v=Zs(T=>T.performance),y=e||f,S=r||g.connected||m.domElement,w=Q.useMemo(()=>new vme(y),[y]);return h6(()=>{w.enabled&&w.update()},-1),Q.useEffect(()=>(s&&w.connect(s===!0?S:s),w.connect(S),()=>void w.dispose()),[s,S,n,w,h]),Q.useEffect(()=>{const T=M=>{h(),n&&v.regress(),o&&o(M)},b=M=>{a&&a(M)},R=M=>{l&&l(M)};return w.addEventListener("change",T),w.addEventListener("start",b),w.addEventListener("end",R),()=>{w.removeEventListener("start",b),w.removeEventListener("end",R),w.removeEventListener("change",T)}},[o,a,l,w,h,E]),Q.useEffect(()=>{if(t){const T=A().controls;return x({controls:w}),()=>x({controls:T})}},[t,w]),Q.createElement("primitive",wp({ref:u,object:w,enableDamping:i},c))});class N6e extends en{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${parseInt(Ga.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const k6e=t=>new O().setFromSpherical(new ly(t,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),U6e=Q.forwardRef(({radius:t=100,depth:e=50,count:n=5e3,saturation:r=0,factor:i=4,fade:s=!1,speed:o=1},a)=>{const l=Q.useRef(),[c,u,h]=Q.useMemo(()=>{const m=[],g=[],E=Array.from({length:n},()=>(.5+.5*Math.random())*i),x=new Fe;let A=t+e;const v=e/n;for(let y=0;y<n;y++)A-=v*Math.random(),m.push(...k6e(A).toArray()),x.setHSL(y/n,r,.9),g.push(x.r,x.g,x.b);return[new Float32Array(m),new Float32Array(g),new Float32Array(E)]},[n,e,i,t,r]);h6(m=>l.current&&(l.current.uniforms.time.value=m.clock.getElapsedTime()*o));const[f]=Q.useState(()=>new N6e);return Q.createElement("points",{ref:a},Q.createElement("bufferGeometry",null,Q.createElement("bufferAttribute",{attach:"attributes-position",args:[c,3]}),Q.createElement("bufferAttribute",{attach:"attributes-color",args:[u,3]}),Q.createElement("bufferAttribute",{attach:"attributes-size",args:[h,1]})),Q.createElement("primitive",{ref:l,object:f,attach:"material",blending:pp,"uniforms-fade-value":s,depthWrite:!1,transparent:!0,vertexColors:!0}))});var MW={exports:{}},G6e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",H6e=G6e,Q6e=H6e;function RW(){}function BW(){}BW.resetWarningCache=RW;var z6e=function(){function t(r,i,s,o,a,l){if(l!==Q6e){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:BW,resetWarningCache:RW};return n.PropTypes=n,n};MW.exports=z6e();var Y3=MW.exports;function PW({all:t,scene:e,camera:n}){const r=Zs(({gl:o})=>o),i=Zs(({camera:o})=>o),s=Zs(({scene:o})=>o);return Q.useLayoutEffect(()=>{const o=[];t&&(e||s).traverse(c=>{c.visible===!1&&(o.push(c),c.visible=!0)}),r.compile(e||s,n||i);const a=new aT(128);new oT(.01,1e5,a).update(r,e||s),a.dispose(),o.forEach(c=>c.visible=!1)},[]),null}const DW=()=>{const{progress:t}=rfe();return U.jsxs(nfe,{as:"div",center:!0,style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[U.jsx("span",{className:"canvas-loader"}),U.jsxs("p",{style:{fontSize:14,color:"#F1F1F1",fontWeight:800,marginTop:40},children:[t.toFixed(2),"%"]})]})},V6e=()=>{const t=F6("./planet/scene.gltf");return U.jsx("primitive",{object:t.scene,scale:2.5,"position-y":0,"rotation-y":0})},W6e=()=>U.jsx(FT,{shadows:!0,frameloop:"demand",dpr:[1,2],gl:{preserveDrawingBuffer:!0},camera:{fov:45,near:.1,far:200,position:[-4,3,6]},children:U.jsxs(Q.Suspense,{fallback:U.jsx(DW,{}),children:[U.jsx(bW,{autoRotate:!0,enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),U.jsx(V6e,{}),U.jsx(PW,{all:!0})]})}),j6e=({isMobile:t})=>{const e=F6("./desktop_pc/scene.gltf");return U.jsxs("mesh",{children:[U.jsx("hemisphereLight",{intensity:.15,groundColor:"black"}),U.jsx("spotLight",{position:[-20,50,10],angle:.12,penumbra:1,intensity:1,castShadow:!0,"shadow-mapSize":1024}),U.jsx("pointLight",{intensity:1}),U.jsx("primitive",{object:e.scene,scale:t?.7:.75,position:t?[0,-3,-2.2]:[0,-3.25,-1.5],rotation:[-.01,-.2,-.1]})]})},$6e=()=>{const[t,e]=Q.useState(!1);return Q.useEffect(()=>{const n=window.matchMedia("(max-width: 500px)");e(n.matches);const r=i=>{e(i.matches)};return n.addEventListener("change",r),()=>{n.removeEventListener("change",r)}},[]),U.jsxs(FT,{frameloop:"demand",shadows:!0,dpr:[1,2],camera:{position:[20,3,5],fov:25},gl:{preserveDrawingBuffer:!0},children:[U.jsxs(Q.Suspense,{fallback:U.jsx(DW,{}),children:[U.jsx(bW,{enableZoom:!1,maxPolarAngle:Math.PI/2,minPolarAngle:Math.PI/2}),U.jsx(j6e,{isMobile:t})]}),U.jsx(PW,{all:!0})]})},K6e=()=>{const t=Q.useRef();return h6((e,n)=>{t.current&&(t.current.rotation.x+=.05*n,t.current.rotation.y+=.19*n,t.current.position.z+=.1*n,t.current.position.z>200&&(t.current.position.z=-200))}),U.jsx("group",{ref:t,children:U.jsx(U6e,{count:1e3})})},X6e=()=>U.jsx("div",{className:"w-full h-auto absolute inset-0 z-[-1]",children:U.jsxs(FT,{camera:{position:[0,0,1]},children:[U.jsx("ambientLight",{intensity:.5}),U.jsx(K6e,{})]})}),J6e=()=>U.jsxs("section",{className:"relative w-full h-screen mx-auto",children:[U.jsxs("div",{className:`absolute inset-0 top-[120px]  max-w-7xl mx-auto ${ws.paddingX} flex flex-row items-start gap-5`,children:[U.jsxs("div",{className:"flex flex-col justify-center items-center mt-5",children:[U.jsx("div",{className:"w-5 h-5 rounded-full bg-[#915EFF]"}),U.jsx("div",{className:"w-1 sm:h-80 h-40 violet-gradient"})]}),U.jsxs("div",{children:[U.jsxs("h1",{className:`${ws.heroHeadText} text-white`,children:["Hi, I'm ",U.jsx("span",{className:"text-[#915EFF]",children:"M.Juman"})]}),U.jsxs("p",{className:`${ws.heroSubText} mt-2 text-white-100`,children:["I develop 3D , user ",U.jsx("br",{className:"sm:block hidden"}),"interfaces and web applications"]})]})]}),U.jsx($6e,{}),U.jsx("div",{className:"absolute xs:bottom-10 bottom-32 w-full flex justify-center items-center",children:U.jsx("a",{href:"#about",children:U.jsx("div",{className:"w-[35px] h-[64px] rounded-3xl border-4 border-secondary flex justify-center items-start p-2",children:U.jsx(Hi.div,{animate:{y:[0,24,0]},transition:{duration:1.5,repeat:1/0,repeatType:"loop"},className:"w-3 h-3 rounded-full bg-secondary mb-1"})})})})]}),Y6e="/assets/logo-4bd8f8f8.svg",q6e="/assets/backend-565fc01f.png",Z6e="/assets/creator-dbbffaec.png",exe="/assets/mobile-896ef2f5.png",txe="/assets/web-0d05165f.png",nxe="/assets/github-3b4e1609.png",rxe="/assets/website-60833f65.png",ixe="/assets/css-781a3c71.svg",sxe="/assets/photoshop-0889bf73.svg",oxe="/assets/figma-112df8af.svg",axe="/assets/git-5d49e711.svg",lxe="/assets/html-fcc8356a.svg",cxe="/assets/javascript-3bddd762.svg",uxe="/assets/mongodb-f24e7985.svg",hxe="/assets/nodejs-e7d380e9.svg",fxe="/assets/react-04f64fe1.svg",dxe="/assets/redux-c8a53d63.svg",pxe="/assets/tailwindcss-9c8d2601.svg",mxe="/assets/typescript-ff231e0b.svg",gxe="/assets/threejs-ecc65070.svg",Axe="/assets/illustrator-eda0c1fe.svg",vxe="/assets/expressjs-b77e23af.svg",yxe="/assets/shopify-c0fdbc80.png",xxe="/assets/tesla-2b3519a7.png",Exe="/assets/dream-87b49bba.png",_xe="/assets/bitspro-6cdfb1da.png",Sxe="/assets/mern-stack-550991cb.png",Cxe="/assets/react_js-36863fff.png",wxe="/assets/web-to-graphic-ac3900ef.png",Txe="/assets/webdevelopment-d48e9b06.png",Ixe="/assets/ProfilePic-02facf43.png",LW="/assets/Dashboard-b4be68f1.png",bxe="/assets/dashboard1-b7599e01.png",Mxe="/assets/dashboard2-83751fd2.png",Rxe="/assets/dashboard3-891b19d4.png",Bxe="/assets/dashboard4-a324b5ac.png",Pxe="/assets/dashboard5-7d59fca1.png",Dxe="/assets/dashboardLogo-5b5d679d.svg",OW="/assets/movie4-28fa6a2e.png",Lxe="/assets/movie1-22a2b904.png",Oxe="/assets/movie2-9fa709c3.png",Fxe="/assets/movie3-efdf012e.png",Nxe="/assets/movie5-33053170.png",kxe="/assets/movie6-eea5f175.png",Uxe="/assets/StreamitLogo-ce74d459.svg",FW="/assets/ecommerce-website2-79d7577a.png",Gxe="/assets/Ecommerce-website1-b7677577.png",Hxe="/assets/Ecommerce-website-991124c8.png",Qxe="/assets/ecommerce-website3-301e4143.png",zxe="/assets/ecommerce-website4-d481d587.png",Vxe="/assets/ecommerce-website5-49765a82.png",Wxe="/assets/ecommerceLogo-fdf47104.png",NW="/assets/poultry-ae7573e9.png",jxe="/assets/poultryfarm-784af749.png",$xe="/assets/poultryfarm2-8858b1f8.png",Kxe="/assets/poultryfarm3-d2e55189.png",Xxe="/assets/poultryLogo-dbb477aa.svg",kW="/assets/natours2-6c59f789.png",Jxe="/assets/natours-772c33be.png",Yxe="/assets/natours3-79c559c2.png",qxe="/assets/natours4-8a2142fd.png",Zxe="/assets/natours5-4d07b52d.png",eEe="/assets/natours6-8572c46f.png",tEe="/assets/natoursLogo-5ce1f3e6.png",UW="/assets/next-5fa5e9a6.png",nEe="/assets/next2-8533b5b7.png",rEe="/assets/next3-ffb74531.png",iEe="/assets/next4-38f0bf44.png",sEe="/assets/nextLogo-64a2da1b.svg",oEe="/assets/chat1-86855447.png",aEe="/assets/chat2-8b27f740.png",lEe="/assets/chat3-08d02cef.png",cEe="/assets/chat4-a00012a9.png",uEe="/assets/ChatLogo-bf7f3ee1.png",hEe="/assets/image-1-15c41209.jpg",fEe="/assets/image-2-ca48bc2d.jpg",dEe=()=>{const[t,e]=Q.useState(""),[n,r]=Q.useState(!1),[i,s]=Q.useState(!1);return Q.useEffect(()=>{const o=()=>{window.scrollY>100?s(!0):s(!1)};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]),U.jsx("nav",{className:`${ws.paddingX} w-full flex items-center py-5 fixed top-0 z-20 bg-primary`,children:U.jsxs("div",{className:"w-full flex justify-between items-center max-w-7xl mx-auto",children:[U.jsxs(va,{to:"/",className:"flex items-center gap-2",onClick:()=>{e(""),window.scrollTo(0,0),n==!0&&r(!n)},children:[U.jsx("img",{src:Y6e,alt:"logo",className:"w-9 h-9 object-contain"}),U.jsx("p",{className:"text-white text-[18px] font-bold cursor-pointer flex ",children:"Muhammad Juman  "})]}),U.jsxs("ul",{className:"list-none hidden sm:flex flex-row gap-10",children:[U.jsx("li",{className:`${t===""?"text-white":"text-secondary"} hover:text-yellow-400 text-[18px] font-medium cursor-pointer transition-all duration-500 hover:scale-105`,onClick:()=>{e(""),window.scrollTo(0,0),n==!0&&r(!n)},children:U.jsx(va,{to:"/",children:"Home"})}),U.jsx("li",{className:`${t==="about"?"text-white":"text-secondary"} hover:text-yellow-400 text-[18px] font-medium cursor-pointer transition-all duration-500 hover:scale-105`,onClick:()=>{e("about"),window.scrollTo(0,0),n==!0&&r(!n)},children:U.jsx(va,{to:"/about",children:"About"})}),U.jsx("li",{className:`${t==="work"?"text-white":"text-secondary"} hover:text-yellow-400 text-[18px] font-medium cursor-pointer transition-all duration-500 hover:scale-105`,onClick:()=>{e("work"),window.scrollTo(0,0),n==!0&&r(!n)},children:U.jsx(va,{to:"/projects",children:"Work"})}),U.jsx("li",{className:`${t==="contact"?"text-white":"text-secondary"} hover:text-yellow-400 text-[18px] font-medium cursor-pointer transition-all duration-500 hover:scale-105`,onClick:()=>{e("contact"),window.scrollTo(0,0),n==!0&&r(!n)},children:U.jsx(va,{to:"/contact",children:"Contact"})})]}),U.jsxs("div",{className:"sm:hidden flex flex-1 justify-end items-center",children:[U.jsxs("div",{className:"w-[38px] h-[28px]",onClick:()=>r(!n),children:[U.jsx("div",{className:` ${n?"opacity-0 w-0 h-0":"w-[18px] h-[2.8px] bg-white rounded-md ml-[14px] opacity-100"} transition-all duration-1000 ease-in-out`}),U.jsx("div",{className:` ${n?"rotate-[135deg] mt-3 ":" mt-[6px] "} transition-all duration-700 ease-in-out rounded-md bg-white w-8 h-[2.8px]`}),U.jsx("div",{className:` ${n?"rotate-[-135deg]  mt-[-2.5px]":" mt-[6px]"} transition-all duration-700 ease-in-out rounded-md bg-white w-8 h-[2.8px]`})]}),U.jsx("div",{className:`${n?"p-6 black-gradient absolute top-16 right-0 my-2 w-full h-[100vh]":"w-0 h-[100vh] absolute top-16 right-0 my-0 p-0"}  z-10 transition-all duration-500 ease-in-out rounded-xl`,children:n&&U.jsxs("ul",{className:"list-none flex mt-20 items-center flex-1 flex-col gap-4",children:[U.jsx("li",{className:`font-poppins font-semibold cursor-pointer text-[20px] ${t===""?"text-white":"text-secondary"}`,onClick:()=>{e(""),r(!n),window.scrollTo(0,0)},children:U.jsx(va,{to:"/",children:"Home"})}),U.jsx("li",{className:`font-poppins font-semibold cursor-pointer text-[20px] ${t==="about"?"text-white":"text-secondary"}`,onClick:()=>{e("about"),r(!n),window.scrollTo(0,0)},children:U.jsx(va,{to:"/about",children:"About"})}),U.jsx("li",{className:`font-poppins font-semibold cursor-pointer text-[20px] ${t==="work"?"text-white":"text-secondary"}`,onClick:()=>{e("work"),r(!n),window.scrollTo(0,0)},children:U.jsx(va,{to:"/projects",children:"Work"})}),U.jsx("li",{className:`font-poppins font-semibold cursor-pointer text-[20px] ${t==="contact"?"text-white":"text-secondary"}`,onClick:()=>{e("contact"),r(!n),window.scrollTo(0,0)},children:U.jsx(va,{to:"/contact",children:"Contact"})})]})})]})]})})};var pEe=Object.defineProperty,mEe=Object.defineProperties,gEe=Object.getOwnPropertyDescriptors,oO=Object.getOwnPropertySymbols,AEe=Object.prototype.hasOwnProperty,vEe=Object.prototype.propertyIsEnumerable,aO=(t,e,n)=>e in t?pEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sm=(t,e)=>{for(var n in e||(e={}))AEe.call(e,n)&&aO(t,n,e[n]);if(oO)for(var n of oO(e))vEe.call(e,n)&&aO(t,n,e[n]);return t},om=(t,e)=>mEe(t,gEe(e)),GW=class extends Q.Component{constructor(t){super(t),this.ref=s5.createRef(),this.state={style:{}};const e={reverse:!1,max:35,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:"1.1",speed:"1000",transition:!0,axis:null,reset:!0};this.width=null,this.height=null,this.left=null,this.top=null,this.transitionTimeout=null,this.updateCall=null,this.element=null,this.settings=Object.assign({},e,this.props.options),this.reverse=this.settings.reverse?-1:1,this.onMouseEnter=this.onMouseEnter.bind(this,this.props.onMouseEnter),this.onMouseMove=this.onMouseMove.bind(this,this.props.onMouseMove),this.onMouseLeave=this.onMouseLeave.bind(this,this.props.onMouseLeave)}componentDidMount(){this.element=this.ref.current,setTimeout(()=>{this.element.parentElement.querySelector(":hover")===this.element&&this.onMouseEnter()},0)}componentWillUnmount(){clearTimeout(this.transitionTimeout),cancelAnimationFrame(this.updateCall)}onMouseEnter(t=()=>{},e){return this.updateElementPosition(),this.setState(Object.assign({},this.state,{style:om(sm({},this.state.style),{willChange:"transform"})})),this.setTransition(),t(e)}reset(){window.requestAnimationFrame(()=>{this.setState(Object.assign({},this.state,{style:om(sm({},this.state.style),{transform:`perspective(${this.settings.perspective}px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)`})}))})}onMouseMove(t=()=>{},e){return e.persist(),this.updateCall!==null&&window.cancelAnimationFrame(this.updateCall),this.event=e,this.updateCall=requestAnimationFrame(this.update.bind(this,e)),t(e)}setTransition(){clearTimeout(this.transitionTimeout),this.setState(Object.assign({},this.state,{style:om(sm({},this.state.style),{transition:`${this.settings.speed}ms ${this.settings.easing}`})})),this.transitionTimeout=setTimeout(()=>{this.setState(Object.assign({},this.state,{style:om(sm({},this.state.style),{transition:""})}))},this.settings.speed)}onMouseLeave(t=()=>{},e){return this.setTransition(),this.settings.reset&&this.reset(),t(e)}getValues(t){const e=(t.nativeEvent.clientX-this.left)/this.width,n=(t.nativeEvent.clientY-this.top)/this.height,r=Math.min(Math.max(e,0),1),i=Math.min(Math.max(n,0),1),s=(this.reverse*(this.settings.max/2-r*this.settings.max)).toFixed(2),o=(this.reverse*(i*this.settings.max-this.settings.max/2)).toFixed(2),a=r*100,l=i*100;return{tiltX:s,tiltY:o,percentageX:a,percentageY:l}}updateElementPosition(){const t=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=t.left,this.top=t.top}update(t){const e=this.getValues(t);this.setState(Object.assign({},this.state,{style:om(sm({},this.state.style),{transform:`perspective(${this.settings.perspective}px) rotateX(${this.settings.axis==="x"?0:e.tiltY}deg) rotateY(${this.settings.axis==="y"?0:e.tiltX}deg) scale3d(${this.settings.scale}, ${this.settings.scale}, ${this.settings.scale})`})})),this.updateCall=null}render(){const t=Object.assign({},this.props.style,this.state.style);return U.jsx("div",{style:t,ref:this.ref,className:this.props.className,onMouseEnter:this.onMouseEnter,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave,children:this.props.children})}};const yEe=[{title:"Web Developer",icon:txe},{title:"Mern Stack Developer",icon:q6e},{title:"Front End Developer",icon:exe},{title:"Graphic Designer",icon:Z6e}],xEe=[{name:"HTML 5",icon:lxe},{name:"CSS 3",icon:ixe},{name:"JavaScript",icon:cxe},{name:"TypeScript",icon:mxe},{name:"adobeillustrator",icon:Axe},{name:"photoshop",icon:sxe},{name:"expressjs",icon:vxe},{name:"figma",icon:oxe},{name:"React JS",icon:fxe},{name:"Redux Toolkit",icon:dxe},{name:"Tailwind CSS",icon:pxe},{name:"Node JS",icon:hxe},{name:"MongoDB",icon:uxe},{name:"Three JS",icon:gxe},{name:"git",icon:axe}],EEe=[{title:"Online Dream",company_name:"The Beginning of My Journey as a Web Developer",icon:Exe,iconBg:"#383E56",date:"oct 2021 - Jan 2022",points:["My journey as a web developer started when I completed my 12th grade from Army College. I had no prior knowledge of computers and I had to learn everything from scratch. I was motivated by the idea of working online as a freelancer and earning money by creating websites. I knew English, which was helpful, but I still had to work very hard to master the skills I needed."]},{title:"Web Designer",company_name:"Learned Shopify and Fiverr and Started designing Websites",icon:yxe,iconBg:"#383E56",date:"Feb 2022 - May 2022",points:["The first skill I learned was web design. In 2020, one of my teachers suggested me to use Shopify, a platform that allows anyone to create an online store. I followed his advice and created a Fiverr account, where I offered to make Shopify dropshipping websites for clients. This was a popular service at that time and I managed to get some orders. I did this for about six months, until I realized that I wanted to make my own images and logos for the websites, instead of using the ones provided by Shopify or the clients. This led me to my second skill: graphic design."]},{title:"Web Design to Graphic Design",company_name:"Learned Photoshop and Illustrator and Changed My Fiverr Gigs",icon:wxe,iconBg:"#E6DEDD",date:"Apr 2022 - Aug 2022",points:["I decided to learn Adobe Photoshop and Adobe Illustrator, two powerful tools for creating and editing images. I developed a keen interest in this field and I switched my Fiverr gigs from web design to graphic design. I started to offer logo design, image editing, and other graphic services. I did this for about four to five months, until I felt the urge to learn something new. I wanted to go beyond the visual aspect of websites and learn how to make them functional and interactive. This brought me to my third skill: web development."]},{title:"Web Development Basics",company_name:"Learned HTML, CSS, and Bootstrap and Enrolled in Computer Science",icon:Txe,iconBg:"#E6DEDD",date:"sep 2022 - Dec 2022",points:["I chose to learn HTML, CSS, and Bootstrap, the basic building blocks of web development. I also enrolled in Computer Science as my major in university, to gain a deeper understanding of programming and computer systems. I learned how to create responsive and attractive web pages using these technologies. So I decided to delte my Fiverr gigs for graphic design and Create new one's for Web Development. I thought I had everything I needed to be a successful web developer, but soon I realized that I was missing a crucial component: JavaScript."]},{title:"JavaScript Challenge & React Mastery",company_name:"How I Overcame the Difficulties of Learning JavaScript and React with no Resources",icon:Cxe,iconBg:"#E6DEDD",date:"Jan 2023 - June 2023",points:["JavaScript is a programming language that allows web developers to add dynamic and interactive features to their websites. I noticed that my websites were static and boring, and they could not do anything when the user clicked a button or performed an action. I wanted to make my websites more engaging and user-friendly, so I decided to learn JavaScript. However, this was not easy, as I could not find any good teacher or resource in my small city, Tando Allahyar. I had to rely on online tutorials and forums, and I faced many challenges and errors along the way. But I did not give up, and I eventually learned JavaScript. I also learned React.js, a popular framework for building user interfaces with JavaScript. I created some projects for my friends, such as a poultry farm management system and a school management system, using React.js. I thought I had reached my destination, but I was wrong. There was still more to learn."]},{title:"Internship at Bitspro",company_name:"A Great Learning Experience",icon:_xe,iconBg:"#E6DEDD",date:"July 2023 - Sep 2023",points:["My internship at Bitspro Software House was a great learning experience for me. I got to work on real-world projects and use various libraries and frameworks such as Tailwind, Material UI, TypeScript, and Chakra UI. I also improved my portfolio to showcase my work, skills, and expertise. I felt confident in my abilities as a front-end developer and I was ready to take on freelancing projects."]},{title:"Full-Stack Development",company_name:"How I Learned the MERN Stack Development",icon:Sxe,iconBg:"#E6DEDD",date:"Oct 2022 - Dec 2023",points:["However, one of my friends advised me to learn back-end development as well, because front-end alone was not enough to meet the needs of the clients. They wanted a complete website, not just a static interface. I realized that I had to expand my skill set and learn how to make dynamic and interactive websites. Since I was already proficient in JavaScript, I decided to learn the MERN stack, which consists of MongoDB, Express.js, React.js, and Node.js. These technologies are widely used for building scalable and efficient web applications. I found them easy to learn and apply, and I soon became a full-stack developer."]},{title:"My Freelancing Dream",company_name:"Finally Ready to Start My Freelancing Career",icon:xxe,iconBg:"#E6DEDD",date:"Jan 2024 - Present",points:["Now, I am ready to start my freelancing career and provide successful startups to entrepreneurs around the world. I want to help them achieve their goals and make a positive impact with my web development skills. This is my passion and my dream."]}],lO=[{title:"Admin Dashboard",images:[{url:LW},{url:Bxe}],description:`<p class="mb-4 ml-3 text-gray-300">
    The admin dashboard is a streamlined interface that offers real-time system metrics. Its user-friendly design allows for efficient monitoring and management of the system.     
  </p>
  <p class="text-gray-300 ml-3">
    In addition to its robust analytics, the dashboard also provides powerful administrative tools. This integration showcases a commitment to enhancing user experience and effective system management.
  </p><a
            class="px-1.5 ml-3 py-0.5 bg-yellow-400 text-grey-900 font-bold rounded-sm"
            href="https://dashboard-react-admin-website.netlify.app/"
          >
            www.Code-Web.com
          </a>`,services:["001","002"],techologies:["react","material","ts","sass","chart"],startYear:"2021",logo:Dxe,logoName:"Code Web",isHomePage:!0,subSystems:[{title:"",images:[{url:Pxe},{url:bxe}],description:"",services:["001","002","004"],techologies:["react","golang","sass"],year:"2021"},{title:"",images:[{url:Mxe},{url:Rxe}],description:"",services:["001","002","004"],techologies:["react","golang","sass"],year:"2023"}]},{title:"StreamIt",images:[{url:OW},{url:Fxe}],description:`<p class="mb-4 ml-3 text-gray-300">
    Streamit: A dynamic movie project inspired by Netflix. Showcasing a diverse library of films, it offers an immersive streaming experience tailored to the viewer’s preferences. A testament to innovative design and seamless user interface.     
  </p>
  <p class="text-gray-300 ml-3">
Streamit utilizes captivating, personalized features to transform anonymous website visitors into recognized subscribers and valuable customers. It employs efficient email and SMS collection methods to expand its audience base, laying the groundwork for segmented marketing experiences that are designed to convert. This approach enhances user engagement and promotes a more personalized streaming experience.
  </p> 
            <a
            class="px-1.5 ml-3 py-0.5 bg-yellow-400 text-grey-900 font-bold rounded-sm"
            href="https://movie-website-design1.netlify.app/"
          >
            www.streamit.com
          </a>
  `,services:["001","002"],techologies:["react","tailwind","ts","html5","node-js"],startYear:"2021",logo:Uxe,isHomePage:!0,subSystems:[{title:"",images:[{url:Lxe},{url:Oxe}],description:"",services:["001","002","004"],techologies:["react","golang","sass"],year:"2023"},{title:"",images:[{url:Nxe},{url:kxe}],description:"",services:["001","002","004"],techologies:["react","golang","sass"],year:"2023"}]},{title:"E-Commerce",images:[{url:FW},{url:Hxe}],description:`<p class="mb-4 ml-3 text-gray-300">
      Presenting a fully responsive e-commerce website, equipped with a secure payment system. This platform offers a seamless shopping experience, effectively converting website traffic into customers, thereby increasing sales and lowering costs.
    </p>
    <p class="text-gray-300 ml-3">
        The website employs advanced CRO features to transform anonymous traffic into known subscribers and high-value customers. It uses high-performing email and SMS collection strategies to expand your audience, laying the groundwork for segmented marketing experiences designed to convert.
    </p> 
              <a
            class="px-1.5 ml-3 py-0.5 bg-yellow-400 font-bold rounded-sm"
            href="https://e-commerce-website0.netlify.app/"
          >
            www.E-Commerce.com
          </a>
    `,services:["001","002"],techologies:["react","ts","tailwind","redux","animation"],startYear:"2022",logo:Wxe,isHomePage:!0,subSystems:[{title:"",images:[{url:zxe},{url:Qxe}],description:"",services:["001","002","004"],techologies:["react","golang","sass"],year:"2023"},{title:"",images:[{url:Gxe},{url:Vxe}],description:"",services:["001","002","004"],techologies:["react","golang","sass"],year:"2023"}]},{title:"Poultry-Farm",images:[{url:NW},{url:jxe}],description:`<p class="mb-4 ml-3 text-gray-300">
    This system is developed with a focus on maximizing returns with minimum investment. It allows for the safe and efficient management of data, including the selection of data collection records, proper and safe data readings, proper feedmill and medication maintenance, and the report of analytical data.    
  </p>
  <p class="text-gray-300  ml-3">
  The Poultry Farm Management System is a robust and reliable tool that plays a crucial role in the successful management of a poultry farm. It ensures that all records are kept safely and can be easily fetched, thereby enhancing the efficiency and effectiveness of farm management3.
  </p>
  <a class="px-1.5 py-0.5 bg-yellow-400 text-grey-900 font-bold rounded-sm ml-3" href="https://poultryfarm-management-system.web.app/" > Poultry-Farm </a>
  `,services:["001","002"],techologies:["react","tailwind","js","ts","chart"],startYear:"2022",logo:Xxe,isHomePage:!0,subSystems:[{title:"",images:[{url:$xe},{url:Kxe}],description:"",services:["001","002","004"],techologies:["react","golang","sass"],year:"2023"}]},{title:"Natours",images:[{url:kW},{url:Jxe}],description:`<p class="mb-4 ml-3 text-gray-300">
    The Natours website is a tour booking web application. It offers various features such as authentication and authorization, tour booking, payment processing, user and admin profiles. The website showcases modern responsive design using HTML/CSS and CSS preprocessing is accomplished using SASS.  
  </p>
  <p class="text-gray-300 ml-3">
  The SASS applies variables, mixins, selector nesting, partials, imports, extensions and more to improve CSS power, and create a cleaner, more compact and maintainable code base. The website offers unique tours with stunning visuals and activities like surfing, skating, parajumping, rock climbing and more. It’s a great platform where users can plan and book their travelling plans.
  </p>
            <a
            class="px-1.5 ml-3 py-0.5 bg-yellow-400 font-bold rounded-sm"
            href="https://natours-project0.netlify.app/"
          >
            www.natours.com
          </a>
  `,services:["001","002"],techologies:["css3-alt","sass","html5","animation","node-js"],startYear:"2022",logo:tEe,isHomePage:!0,subSystems:[{title:"",images:[{url:eEe},{url:Yxe}],description:"",services:["001","002","004"],techologies:["react","golang","sass"],year:"2023"},{title:"",images:[{url:qxe},{url:Zxe}],description:"",services:["001","002","004"],techologies:["react","golang","sass"],year:"2023"}]},{title:"Car Rent",images:[{url:UW},{url:nEe}],description:`<p class="mb-4 ml-3 text-gray-300">
    Create Personalized Website Experiences that Convert and Turn more website traffic into customers. 
    The fastest way to increase sales, lower costs, and hit your goals.     
  </p>
  <p class="text-gray-300 ml-3">
    Leverage engaging, personalized CRO features designed to turn anonymous website traffic into known 
    subscribers and high-value customers. Use high-performing email and SMS collection to scale your 
    audience and build the foundation for segmented marketing experiences designed to convert.
  </p>
            <a
            class="px-1.5 ml-3 py-0.5 bg-yellow-400 text-grey-900 font-bold rounded-sm"
            href="https://rent-car1.netlify.app/"
          >
            www.carhub.com
          </a>
  `,services:["001","002"],techologies:["react","nextjs","ts","tailwind","js"],startYear:"2023",logo:sEe,isHomePage:!0,subSystems:[{title:"",images:[{url:rEe},{url:iEe}],description:"",services:["001","002","004"],techologies:["react","golang","sass"],year:"2023"}]},{title:"Group Chat",images:[{url:oEe},{url:cEe}],description:`<p class="mb-4 ml-3 text-gray-300">
    Create Personalized Website Experiences that Convert and Turn more website traffic into customers. 
    The fastest way to increase sales, lower costs, and hit your goals.     
  </p>
  <p class="text-gray-300 ml-3">
    Leverage engaging, personalized CRO features designed to turn anonymous website traffic into known 
    subscribers and high-value customers. Use high-performing email and SMS collection to scale your 
    audience and build the foundation for segmented marketing experiences designed to convert.
  </p>
            <a
            class="px-1.5 ml-3 py-0.5 bg-yellow-400 text-grey-900 font-bold rounded-sm"
            href="https://group-chat0.netlify.app/login"
          >
            www.group-chat.com
          </a>
  `,services:["001","002"],techologies:["react","firebase","js","tailwind","html5"],startYear:"2023",logo:uEe,isHomePage:!0,subSystems:[{title:"",images:[{url:aEe},{url:lEe}],description:"",services:["001","002","004"],techologies:["react","golang","sass"],year:"2023"}]}],_Ee=[{title:"React",icon:"react"},{title:"Css",icon:"css3-alt"},{title:"Sass",icon:"sass"},{title:"NodeJS",icon:"node-js"},{title:"MaterialUI",icon:"material",svg:"materialUi.svg"},{title:"Typescript",icon:"ts",svg:"typescript1.svg"},{title:"Re-Charts",icon:"chart",svg:"chart.svg"},{title:"Tailwind",icon:"tailwind",svg:"tailwindcss1.svg"},{title:"Animation",icon:"animation",svg:"animation.gif"},{title:"Php",icon:"php"},{title:"Redux",icon:"redux",svg:"redux1.svg"},{title:"Html5",icon:"html5"},{title:"IOS",icon:"apple"},{title:"NextJS",icon:"nextjs",svg:"nextjs.svg"},{title:"Python",icon:"python"},{title:"Firebase",icon:"firebase",svg:"firebase.svg"},{title:"Electron",icon:"electron",svg:"electron.png"},{title:"ASP.NET",icon:"asp",svg:"asp.net.png"},{title:"MVC",icon:"mvc",svg:"asp.net.png"},{title:"Postgres",icon:"postgres",svg:"postgreSql.png"},{title:"MySQL",icon:"mysql",svg:"mysql.png"},{title:"MS SQL",icon:"mssql",svg:"mssSql.png"},{title:"Neo4g",icon:"neo4g",svg:"neo4g.png"},{title:"Javascript",icon:"js"},{title:"ClickHouse",icon:"clickHouse",svg:"clickhouse.svg"}],cO=[{title:"Overview",paragraphs:["I start using graphs and models to plan the website structure and follow the waterfall model, which has five phases: requirements, design, implementation, testing, and maintenance. Then I sketch the website layout and appearance based on the client’s needs. Then I design using HTML, CSS, and Reactjs. Then I add FrontEnd/Backend logic and Create Database. Lastly I add animation using various React libraries, if needed."],image:hEe},{title:"Specialties",paragraphs:["I can create responsive and user-friendly web applications using MERN stack. I have a keen eye for design and aesthetics, and I can create attractive and engaging websites. I can learn new technologies quickly and work effectively and efficiently. I have excellent communication and collaboration skills, and I can work well with others. I deliver high-quality products that satisfy the client."],image:fEe}],M_=[{id:1,description:"React Admin Dashboard: A dynamic, responsive, and user-friendly dashboard built with React.js. Features include real-time data visualization, modular components, customizable layouts, and API integration. Demonstrates proficiency in modern front-end technologies and commitment to efficient, user-centric design.",githubLink:"https://github.com/Muhammad-Juman-jarwar/Dashboard-react",imageUrl:LW,name:"Admin Dashboard",tagcolor1:"blue-text-gradient",tagcolor2:"green-text-gradient",tagcolor3:"pink-text-gradient",tagname1:"Reactjs",tagname2:"Javascript",tagname3:"Materialui",websiteLink:"https://dashboard-react-admin-website.netlify.app/"},{id:2,description:"A sleek and user-friendly website designed for movie enthusiasts. Features include a vast movie database, user ratings and reviews, personalized recommendations, and seamless streaming capabilities just like Netflix. Showcases a commitment to providing an engaging and immersive movie viewing experience.",githubLink:"https://github.com/Muhammad-Juman-jarwar786/Movie-Website",imageUrl:OW,name:"Movie Website Design",tagcolor1:"blue-text-gradient",tagcolor2:"green-text-gradient",tagcolor3:"pink-text-gradient",tagname1:"Reactjs",tagname2:"Tailwindcss",tagname3:"Typescript",websiteLink:"https://movie-website-design1.netlify.app/"},{id:3,description:"A comprehensive e-commerce platform built with modern technologies. Features include a user-friendly interface, secure payment gateway, efficient ‘Add to Cart’ functionality, and state management with Redux Toolkit. Designed to provide a seamless online shopping experience, mirroring all the facilities of a typical e-commerce website.",githubLink:"https://github.com/Muhammad-Juman-jarwar786/Eccomerce-website",imageUrl:FW,name:"Ecommerce Website",tagcolor1:"blue-text-gradient",tagcolor2:"green-text-gradient",tagcolor3:"pink-text-gradient",tagname1:"Reactjs",tagname2:"Tailwindcss",tagname3:"Animejs",websiteLink:"https://e-commerce-website0.netlify.app/"},{id:4,description:"A Software designed basically for Poultry Farm Management System. Features include a user-friendly and Responsive interface, secure payment gateway, efficient reports and invoice generation techniques, effective daily reports and state management with Redux Toolkit. Designed to run the farm efficiently and effectively.",githubLink:"https://github.com/Muhammad-Juman-jarwar/PoultryFarm",imageUrl:NW,name:"Poultry Farm System",tagcolor1:"blue-text-gradient",tagcolor2:"green-text-gradient",tagcolor3:"pink-text-gradient",tagname1:"ReactTs",tagname2:"Charts",tagname3:"Tailwindcss",websiteLink:"https://poultryfarm-management-system.web.app/"},{id:5,description:"An immersive tour booking platform designed with modern web technologies. Features include a variety of tour options, secure booking and payment system, user reviews, and a visually appealing interface. Demonstrates a commitment to providing a seamless and engaging user experience in the travel and tourism sector.",githubLink:"https://github.com/Muhammad-Juman-jarwar/Natours-Project",imageUrl:kW,name:"Natours",tagcolor1:"blue-text-gradient",tagcolor2:"green-text-gradient",tagcolor3:"pink-text-gradient",tagname1:"Javascript",tagname2:"Html",tagname3:"css",websiteLink:"https://natours-project0.netlify.app/"},{id:6,description:"A simple and efficient car rental platform built with Nextjs. CarEase offers a seamless booking experience, making car rental easy and hassle-free. It showcases a commitment to creating user-friendly web solutions in the car rental industry. Its intuitive interface and quick processing make it a go-to choice for hassle-free car rentals",githubLink:"https://github.com/Muhammad-Juman-jarwar/Rent-Car",imageUrl:UW,name:"Rent Car",tagcolor1:"blue-text-gradient",tagcolor2:"green-text-gradient",tagcolor3:"pink-text-gradient",tagname1:"Nextjs",tagname2:"Tailwindcss",tagname3:"javascript",websiteLink:"https://rent-car1.netlify.app/"}],y7=(t,e)=>function(){return U.jsxs(U.Fragment,{children:[U.jsx("span",{className:"hash-span",id:e,children:" "}),U.jsx(t,{})]})},SEe=({index:t,title:e,icon:n})=>U.jsx(GW,{className:"xs:w-[250px] w-full p-5 sm:p-0",children:U.jsx(Hi.div,{variants:rf("right","spring",t*.5,.75),className:"w-full green-pink-gradient p-[1px] rounded-[20px] shadow-card",children:U.jsxs("div",{className:"bg-tertiary rounded-[20px] py-5 px-12 min-h-[280px] flex justify-evenly items-center flex-col",children:[U.jsx("img",{src:n,alt:"web-development",className:"w-16 h-16 object-contain"}),U.jsx("h3",{className:"text-white text-[20px] font-bold text-center",children:e})]})})}),CEe=()=>U.jsxs(U.Fragment,{children:[U.jsxs(Hi.div,{variants:nf(1e3),children:[U.jsx("p",{className:ws.sectionSubText,children:"Introduction"}),U.jsx("h2",{className:ws.sectionHeadText,children:"Overview"})]}),U.jsx(Hi.p,{variants:rf("","",.1,1),className:"mt-4 text-secondary text-[17px] max-w-3xl leading-[30px] mx-auto text-center",children:"I'm a skilled software developer with experience in TypeScript and JavaScript, and expertise in frameworks like React, Node.js, and Three.js. I'm a quick learner and collaborate closely with clients to create efficient, scalable, and user-friendly solutions that solve real-world problems. Let's work together to bring your ideas to life!"}),U.jsx("div",{className:"mt-20 flex flex-wrap gap-10 items-center justify-center",children:yEe.map((t,e)=>U.jsx(SEe,{index:e,...t},t.title))})]}),wEe=y7(CEe,"about");var HW={},QW={},N6={},zW={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0},n=e;t.default=n})(zW);var TEe="Expected a function",uO=0/0,IEe="[object Symbol]",bEe=/^\s+|\s+$/g,MEe=/^[-+]0x[0-9a-f]+$/i,REe=/^0b[01]+$/i,BEe=/^0o[0-7]+$/i,PEe=parseInt,DEe=typeof Tc=="object"&&Tc&&Tc.Object===Object&&Tc,LEe=typeof self=="object"&&self&&self.Object===Object&&self,OEe=DEe||LEe||Function("return this")(),FEe=Object.prototype,NEe=FEe.toString,kEe=Math.max,UEe=Math.min,R_=function(){return OEe.Date.now()};function GEe(t,e,n){var r,i,s,o,a,l,c=0,u=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(TEe);e=hO(e)||0,RC(n)&&(u=!!n.leading,h="maxWait"in n,s=h?kEe(hO(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function m(T){var b=r,R=i;return r=i=void 0,c=T,o=t.apply(R,b),o}function g(T){return c=T,a=setTimeout(A,e),u?m(T):o}function E(T){var b=T-l,R=T-c,M=e-b;return h?UEe(M,s-R):M}function x(T){var b=T-l,R=T-c;return l===void 0||b>=e||b<0||h&&R>=s}function A(){var T=R_();if(x(T))return v(T);a=setTimeout(A,E(T))}function v(T){return a=void 0,f&&r?m(T):(r=i=void 0,o)}function y(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function S(){return a===void 0?o:v(R_())}function w(){var T=R_(),b=x(T);if(r=arguments,i=this,l=T,b){if(a===void 0)return g(l);if(h)return a=setTimeout(A,e),m(l)}return a===void 0&&(a=setTimeout(A,e)),o}return w.cancel=y,w.flush=S,w}function RC(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function HEe(t){return!!t&&typeof t=="object"}function QEe(t){return typeof t=="symbol"||HEe(t)&&NEe.call(t)==IEe}function hO(t){if(typeof t=="number")return t;if(QEe(t))return uO;if(RC(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=RC(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(bEe,"");var n=REe.test(t);return n||BEe.test(t)?PEe(t.slice(2),n?2:8):MEe.test(t)?uO:+t}var zEe=GEe,VW={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var s=arguments[i];if(s){var o=typeof s;if(o==="string"||o==="number")r.push(s);else if(Array.isArray(s)){if(s.length){var a=n.apply(null,s);a&&r.push(a)}}else if(o==="object"){if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]")){r.push(s.toString());continue}for(var l in s)e.call(s,l)&&s[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(VW);var ff=VW.exports,Ze={};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.checkSpecKeys=Ze.checkNavigable=Ze.changeSlide=Ze.canUseDOM=Ze.canGoNext=void 0;Ze.clamp=WW;Ze.swipeStart=Ze.swipeMove=Ze.swipeEnd=Ze.slidesOnRight=Ze.slidesOnLeft=Ze.slideHandler=Ze.siblingDirection=Ze.safePreventDefault=Ze.lazyStartIndex=Ze.lazySlidesOnRight=Ze.lazySlidesOnLeft=Ze.lazyEndIndex=Ze.keyHandler=Ze.initializedState=Ze.getWidth=Ze.getTrackLeft=Ze.getTrackCSS=Ze.getTrackAnimateCSS=Ze.getTotalSlides=Ze.getSwipeDirection=Ze.getSlideCount=Ze.getRequiredLazySlides=Ze.getPreClones=Ze.getPostClones=Ze.getOnDemandLazySlides=Ze.getNavigableIndexes=Ze.getHeight=Ze.extractObject=void 0;var VEe=WEe(Q);function WEe(t){return t&&t.__esModule?t:{default:t}}function fO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fO(Object(n),!0).forEach(function(r){jEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jEe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WW(t,e,n){return Math.max(e,Math.min(t,n))}var Rh=function(e){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(e._reactName)||e.preventDefault()};Ze.safePreventDefault=Rh;var x7=function(e){for(var n=[],r=E7(e),i=_7(e),s=r;s<i;s++)e.lazyLoadedList.indexOf(s)<0&&n.push(s);return n};Ze.getOnDemandLazySlides=x7;var $Ee=function(e){for(var n=[],r=E7(e),i=_7(e),s=r;s<i;s++)n.push(s);return n};Ze.getRequiredLazySlides=$Ee;var E7=function(e){return e.currentSlide-jW(e)};Ze.lazyStartIndex=E7;var _7=function(e){return e.currentSlide+$W(e)};Ze.lazyEndIndex=_7;var jW=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0};Ze.lazySlidesOnLeft=jW;var $W=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow};Ze.lazySlidesOnRight=$W;var by=function(e){return e&&e.offsetWidth||0};Ze.getWidth=by;var S7=function(e){return e&&e.offsetHeight||0};Ze.getHeight=S7;var C7=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,i,s,o;return r=e.startX-e.curX,i=e.startY-e.curY,s=Math.atan2(i,r),o=Math.round(s*180/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":n===!0?o>=35&&o<=135?"up":"down":"vertical"};Ze.getSwipeDirection=C7;var w7=function(e){var n=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(n=!1),n};Ze.canGoNext=w7;var KEe=function(e,n){var r={};return n.forEach(function(i){return r[i]=e[i]}),r};Ze.extractObject=KEe;var XEe=function(e){var n=VEe.default.Children.count(e.children),r=e.listRef,i=Math.ceil(by(r)),s=e.trackRef&&e.trackRef.node,o=Math.ceil(by(s)),a;if(e.vertical)a=i;else{var l=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(l*=i/100),a=Math.ceil((i-l)/e.slidesToShow)}var c=r&&S7(r.querySelector('[data-index="0"]')),u=c*e.slidesToShow,h=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(h=n-1-e.initialSlide);var f=e.lazyLoadedList||[],m=x7(Wn(Wn({},e),{},{currentSlide:h,lazyLoadedList:f}));f=f.concat(m);var g={slideCount:n,slideWidth:a,listWidth:i,trackWidth:o,currentSlide:h,slideHeight:c,listHeight:u,lazyLoadedList:f};return e.autoplaying===null&&e.autoplay&&(g.autoplaying="playing"),g};Ze.initializedState=XEe;var JEe=function(e){var n=e.waitForAnimate,r=e.animating,i=e.fade,s=e.infinite,o=e.index,a=e.slideCount,l=e.lazyLoad,c=e.currentSlide,u=e.centerMode,h=e.slidesToScroll,f=e.slidesToShow,m=e.useCSS,g=e.lazyLoadedList;if(n&&r)return{};var E=o,x,A,v,y={},S={},w=s?o:WW(o,0,a-1);if(i){if(!s&&(o<0||o>=a))return{};o<0?E=o+a:o>=a&&(E=o-a),l&&g.indexOf(E)<0&&(g=g.concat(E)),y={animating:!0,currentSlide:E,lazyLoadedList:g,targetSlide:E},S={animating:!1,targetSlide:E}}else x=E,E<0?(x=E+a,s?a%h!==0&&(x=a-a%h):x=0):!w7(e)&&E>c?E=x=c:u&&E>=a?(E=s?a:a-1,x=s?0:a-1):E>=a&&(x=E-a,s?a%h!==0&&(x=0):x=a-f),!s&&E+f>=a&&(x=a-f),A=Zg(Wn(Wn({},e),{},{slideIndex:E})),v=Zg(Wn(Wn({},e),{},{slideIndex:x})),s||(A===v&&(E=x),A=v),l&&(g=g.concat(x7(Wn(Wn({},e),{},{currentSlide:E})))),m?(y={animating:!0,currentSlide:x,trackStyle:T7(Wn(Wn({},e),{},{left:A})),lazyLoadedList:g,targetSlide:w},S={animating:!1,currentSlide:x,trackStyle:qg(Wn(Wn({},e),{},{left:v})),swipeLeft:null,targetSlide:w}):y={currentSlide:x,trackStyle:qg(Wn(Wn({},e),{},{left:v})),lazyLoadedList:g,targetSlide:w};return{state:y,nextState:S}};Ze.slideHandler=JEe;var YEe=function(e,n){var r,i,s,o,a,l=e.slidesToScroll,c=e.slidesToShow,u=e.slideCount,h=e.currentSlide,f=e.targetSlide,m=e.lazyLoad,g=e.infinite;if(o=u%l!==0,r=o?0:(u-h)%l,n.message==="previous")s=r===0?l:c-r,a=h-s,m&&!g&&(i=h-s,a=i===-1?u-1:i),g||(a=f-l);else if(n.message==="next")s=r===0?l:r,a=h+s,m&&!g&&(a=(h+l)%u+r),g||(a=f+l);else if(n.message==="dots")a=n.index*n.slidesToScroll;else if(n.message==="children"){if(a=n.index,g){var E=YW(Wn(Wn({},e),{},{targetSlide:a}));a>n.currentSlide&&E==="left"?a=a-u:a<n.currentSlide&&E==="right"&&(a=a+u)}}else n.message==="index"&&(a=Number(n.index));return a};Ze.changeSlide=YEe;var qEe=function(e,n,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};Ze.keyHandler=qEe;var ZEe=function(e,n,r){return e.target.tagName==="IMG"&&Rh(e),!n||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};Ze.swipeStart=ZEe;var e8e=function(e,n){var r=n.scrolling,i=n.animating,s=n.vertical,o=n.swipeToSlide,a=n.verticalSwiping,l=n.rtl,c=n.currentSlide,u=n.edgeFriction,h=n.edgeDragged,f=n.onEdge,m=n.swiped,g=n.swiping,E=n.slideCount,x=n.slidesToScroll,A=n.infinite,v=n.touchObject,y=n.swipeEvent,S=n.listHeight,w=n.listWidth;if(!r){if(i)return Rh(e);s&&o&&a&&Rh(e);var T,b={},R=Zg(n);v.curX=e.touches?e.touches[0].pageX:e.clientX,v.curY=e.touches?e.touches[0].pageY:e.clientY,v.swipeLength=Math.round(Math.sqrt(Math.pow(v.curX-v.startX,2)));var M=Math.round(Math.sqrt(Math.pow(v.curY-v.startY,2)));if(!a&&!g&&M>10)return{scrolling:!0};a&&(v.swipeLength=M);var B=(l?-1:1)*(v.curX>v.startX?1:-1);a&&(B=v.curY>v.startY?1:-1);var L=Math.ceil(E/x),G=C7(n.touchObject,a),F=v.swipeLength;return A||(c===0&&(G==="right"||G==="down")||c+1>=L&&(G==="left"||G==="up")||!w7(n)&&(G==="left"||G==="up"))&&(F=v.swipeLength*u,h===!1&&f&&(f(G),b.edgeDragged=!0)),!m&&y&&(y(G),b.swiped=!0),s?T=R+F*(S/w)*B:l?T=R-F*B:T=R+F*B,a&&(T=R+F*B),b=Wn(Wn({},b),{},{touchObject:v,swipeLeft:T,trackStyle:qg(Wn(Wn({},n),{},{left:T}))}),Math.abs(v.curX-v.startX)<Math.abs(v.curY-v.startY)*.8||v.swipeLength>10&&(b.swiping=!0,Rh(e)),b}};Ze.swipeMove=e8e;var t8e=function(e,n){var r=n.dragging,i=n.swipe,s=n.touchObject,o=n.listWidth,a=n.touchThreshold,l=n.verticalSwiping,c=n.listHeight,u=n.swipeToSlide,h=n.scrolling,f=n.onSwipe,m=n.targetSlide,g=n.currentSlide,E=n.infinite;if(!r)return i&&Rh(e),{};var x=l?c/a:o/a,A=C7(s,l),v={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h||!s.swipeLength)return v;if(s.swipeLength>x){Rh(e),f&&f(A);var y,S,w=E?g:m;switch(A){case"left":case"up":S=w+PC(n),y=u?BC(n,S):S,v.currentDirection=0;break;case"right":case"down":S=w-PC(n),y=u?BC(n,S):S,v.currentDirection=1;break;default:y=w}v.triggerSlideHandler=y}else{var T=Zg(n);v.trackStyle=T7(Wn(Wn({},n),{},{left:T}))}return v};Ze.swipeEnd=t8e;var KW=function(e){for(var n=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,i=e.infinite?e.slidesToShow*-1:0,s=[];r<n;)s.push(r),r=i+e.slidesToScroll,i+=Math.min(e.slidesToScroll,e.slidesToShow);return s};Ze.getNavigableIndexes=KW;var BC=function(e,n){var r=KW(e),i=0;if(n>r[r.length-1])n=r[r.length-1];else for(var s in r){if(n<r[s]){n=i;break}i=r[s]}return n};Ze.checkNavigable=BC;var PC=function(e){var n=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,i=e.listRef,s=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(s).every(function(l){if(e.vertical){if(l.offsetTop+S7(l)/2>e.swipeLeft*-1)return r=l,!1}else if(l.offsetLeft-n+by(l)/2>e.swipeLeft*-1)return r=l,!1;return!0}),!r)return 0;var o=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-o)||1;return a}else return e.slidesToScroll};Ze.getSlideCount=PC;var k6=function(e,n){return n.reduce(function(r,i){return r&&e.hasOwnProperty(i)},!0)?null:console.error("Keys Missing:",e)};Ze.checkSpecKeys=k6;var qg=function(e){k6(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r,i=e.slideCount+2*e.slidesToShow;e.vertical?r=i*e.slideHeight:n=JW(e)*e.slideWidth;var s={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";s=Wn(Wn({},s),{},{WebkitTransform:o,transform:a,msTransform:l})}else e.vertical?s.top=e.left:s.left=e.left;return e.fade&&(s={opacity:1}),n&&(s.width=n),r&&(s.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?s.marginTop=e.left+"px":s.marginLeft=e.left+"px"),s};Ze.getTrackCSS=qg;var T7=function(e){k6(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=qg(e);return e.useTransform?(n.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,n.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?n.transition="top "+e.speed+"ms "+e.cssEase:n.transition="left "+e.speed+"ms "+e.cssEase,n};Ze.getTrackAnimateCSS=T7;var Zg=function(e){if(e.unslick)return 0;k6(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=e.slideIndex,r=e.trackRef,i=e.infinite,s=e.centerMode,o=e.slideCount,a=e.slidesToShow,l=e.slidesToScroll,c=e.slideWidth,u=e.listWidth,h=e.variableWidth,f=e.slideHeight,m=e.fade,g=e.vertical,E=0,x,A,v=0;if(m||e.slideCount===1)return 0;var y=0;if(i?(y=-Ym(e),o%l!==0&&n+l>o&&(y=-(n>o?a-(n-o):o%l)),s&&(y+=parseInt(a/2))):(o%l!==0&&n+l>o&&(y=a-o%l),s&&(y=parseInt(a/2))),E=y*c,v=y*f,g?x=n*f*-1+v:x=n*c*-1+E,h===!0){var S,w=r&&r.node;if(S=n+Ym(e),A=w&&w.childNodes[S],x=A?A.offsetLeft*-1:0,s===!0){S=i?n+Ym(e):n,A=w&&w.children[S],x=0;for(var T=0;T<S;T++)x-=w&&w.children[T]&&w.children[T].offsetWidth;x-=parseInt(e.centerPadding),x+=A&&(u-A.offsetWidth)/2}}return x};Ze.getTrackLeft=Zg;var Ym=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)};Ze.getPreClones=Ym;var XW=function(e){return e.unslick||!e.infinite?0:e.slideCount};Ze.getPostClones=XW;var JW=function(e){return e.slideCount===1?1:Ym(e)+e.slideCount+XW(e)};Ze.getTotalSlides=JW;var YW=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+qW(e)?"left":"right":e.targetSlide<e.currentSlide-ZW(e)?"right":"left"};Ze.siblingDirection=YW;var qW=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),i&&n%2===0&&(o+=1),o}return i?0:n-1};Ze.slidesOnRight=qW;var ZW=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),!i&&n%2===0&&(o+=1),o}return i?n-1:0};Ze.slidesOnLeft=ZW;var n8e=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};Ze.canUseDOM=n8e;var U6={};function DC(t){"@babel/helpers - typeof";return DC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DC(t)}Object.defineProperty(U6,"__esModule",{value:!0});U6.Track=void 0;var Sc=ej(Q),B_=ej(ff),P_=Ze;function ej(t){return t&&t.__esModule?t:{default:t}}function LC(){return LC=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LC.apply(this,arguments)}function r8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i8e(t,e,n){return e&&dO(t.prototype,e),n&&dO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function s8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OC(t,e)}function OC(t,e){return OC=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},OC(t,e)}function o8e(t){var e=l8e();return function(){var r=My(t),i;if(e){var s=My(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return a8e(this,i)}}function a8e(t,e){if(e&&(DC(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FC(t)}function FC(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l8e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function My(t){return My=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},My(t)}function pO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ji(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pO(Object(n),!0).forEach(function(r){NC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NC(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var D_=function(e){var n,r,i,s,o;e.rtl?o=e.slideCount-1-e.index:o=e.index,i=o<0||o>=e.slideCount,e.centerMode?(s=Math.floor(e.slidesToShow/2),r=(o-e.currentSlide)%e.slideCount===0,o>e.currentSlide-s-1&&o<=e.currentSlide+s&&(n=!0)):n=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var l=o===a;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":i,"slick-current":l}},c8e=function(e){var n={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(n.width=e.slideWidth),e.fade&&(n.position="relative",e.vertical?n.top=-e.index*parseInt(e.slideHeight):n.left=-e.index*parseInt(e.slideWidth),n.opacity=e.currentSlide===e.index?1:0,e.useCSS&&(n.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),n},L_=function(e,n){return e.key||n},u8e=function(e){var n,r=[],i=[],s=[],o=Sc.default.Children.count(e.children),a=(0,P_.lazyStartIndex)(e),l=(0,P_.lazyEndIndex)(e);return Sc.default.Children.forEach(e.children,function(c,u){var h,f={message:"children",index:u,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(u)>=0?h=c:h=Sc.default.createElement("div",null);var m=c8e(Ji(Ji({},e),{},{index:u})),g=h.props.className||"",E=D_(Ji(Ji({},e),{},{index:u}));if(r.push(Sc.default.cloneElement(h,{key:"original"+L_(h,u),"data-index":u,className:(0,B_.default)(E,g),tabIndex:"-1","aria-hidden":!E["slick-active"],style:Ji(Ji({outline:"none"},h.props.style||{}),m),onClick:function(v){h.props&&h.props.onClick&&h.props.onClick(v),e.focusOnSelect&&e.focusOnSelect(f)}})),e.infinite&&e.fade===!1){var x=o-u;x<=(0,P_.getPreClones)(e)&&o!==e.slidesToShow&&(n=-x,n>=a&&(h=c),E=D_(Ji(Ji({},e),{},{index:n})),i.push(Sc.default.cloneElement(h,{key:"precloned"+L_(h,n),"data-index":n,tabIndex:"-1",className:(0,B_.default)(E,g),"aria-hidden":!E["slick-active"],style:Ji(Ji({},h.props.style||{}),m),onClick:function(v){h.props&&h.props.onClick&&h.props.onClick(v),e.focusOnSelect&&e.focusOnSelect(f)}}))),o!==e.slidesToShow&&(n=o+u,n<l&&(h=c),E=D_(Ji(Ji({},e),{},{index:n})),s.push(Sc.default.cloneElement(h,{key:"postcloned"+L_(h,n),"data-index":n,tabIndex:"-1",className:(0,B_.default)(E,g),"aria-hidden":!E["slick-active"],style:Ji(Ji({},h.props.style||{}),m),onClick:function(v){h.props&&h.props.onClick&&h.props.onClick(v),e.focusOnSelect&&e.focusOnSelect(f)}})))}}),e.rtl?i.concat(r,s).reverse():i.concat(r,s)},h8e=function(t){s8e(n,t);var e=o8e(n);function n(){var r;r8e(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),NC(FC(r),"node",null),NC(FC(r),"handleRef",function(a){r.node=a}),r}return i8e(n,[{key:"render",value:function(){var i=u8e(this.props),s=this.props,o=s.onMouseEnter,a=s.onMouseOver,l=s.onMouseLeave,c={onMouseEnter:o,onMouseOver:a,onMouseLeave:l};return Sc.default.createElement("div",LC({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},c),i)}}]),n}(Sc.default.PureComponent);U6.Track=h8e;var G6={};function kC(t){"@babel/helpers - typeof";return kC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kC(t)}Object.defineProperty(G6,"__esModule",{value:!0});G6.Dots=void 0;var L2=tj(Q),f8e=tj(ff),mO=Ze;function tj(t){return t&&t.__esModule?t:{default:t}}function gO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d8e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(n),!0).forEach(function(r){p8e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p8e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g8e(t,e,n){return e&&AO(t.prototype,e),n&&AO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function A8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UC(t,e)}function UC(t,e){return UC=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},UC(t,e)}function v8e(t){var e=E8e();return function(){var r=Ry(t),i;if(e){var s=Ry(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return y8e(this,i)}}function y8e(t,e){if(e&&(kC(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x8e(t)}function x8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E8e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ry(t){return Ry=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ry(t)}var _8e=function(e){var n;return e.infinite?n=Math.ceil(e.slideCount/e.slidesToScroll):n=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,n},S8e=function(t){A8e(n,t);var e=v8e(n);function n(){return m8e(this,n),e.apply(this,arguments)}return g8e(n,[{key:"clickHandler",value:function(i,s){s.preventDefault(),this.props.clickHandler(i)}},{key:"render",value:function(){for(var i=this.props,s=i.onMouseEnter,o=i.onMouseOver,a=i.onMouseLeave,l=i.infinite,c=i.slidesToScroll,u=i.slidesToShow,h=i.slideCount,f=i.currentSlide,m=_8e({slideCount:h,slidesToScroll:c,slidesToShow:u,infinite:l}),g={onMouseEnter:s,onMouseOver:o,onMouseLeave:a},E=[],x=0;x<m;x++){var A=(x+1)*c-1,v=l?A:(0,mO.clamp)(A,0,h-1),y=v-(c-1),S=l?y:(0,mO.clamp)(y,0,h-1),w=(0,f8e.default)({"slick-active":l?f>=S&&f<=v:f===S}),T={message:"dots",index:x,slidesToScroll:c,currentSlide:f},b=this.clickHandler.bind(this,T);E=E.concat(L2.default.createElement("li",{key:x,className:w},L2.default.cloneElement(this.props.customPaging(x),{onClick:b})))}return L2.default.cloneElement(this.props.appendDots(E),d8e({className:this.props.dotsClass},g))}}]),n}(L2.default.PureComponent);G6.Dots=S8e;var Pp={};function GC(t){"@babel/helpers - typeof";return GC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GC(t)}Object.defineProperty(Pp,"__esModule",{value:!0});Pp.PrevArrow=Pp.NextArrow=void 0;var qd=rj(Q),nj=rj(ff),C8e=Ze;function rj(t){return t&&t.__esModule?t:{default:t}}function By(){return By=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},By.apply(this,arguments)}function vO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Py(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vO(Object(n),!0).forEach(function(r){w8e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w8e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ij(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sj(t,e,n){return e&&yO(t.prototype,e),n&&yO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function oj(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HC(t,e)}function HC(t,e){return HC=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},HC(t,e)}function aj(t){var e=b8e();return function(){var r=Dy(t),i;if(e){var s=Dy(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return T8e(this,i)}}function T8e(t,e){if(e&&(GC(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I8e(t)}function I8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b8e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dy(t){return Dy=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Dy(t)}var M8e=function(t){oj(n,t);var e=aj(n);function n(){return ij(this,n),e.apply(this,arguments)}return sj(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-prev":!0},s=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(i["slick-disabled"]=!0,s=null);var o={key:"0","data-role":"none",className:(0,nj.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.prevArrow?l=qd.default.cloneElement(this.props.prevArrow,Py(Py({},o),a)):l=qd.default.createElement("button",By({key:"0",type:"button"},o)," ","Previous"),l}}]),n}(qd.default.PureComponent);Pp.PrevArrow=M8e;var R8e=function(t){oj(n,t);var e=aj(n);function n(){return ij(this,n),e.apply(this,arguments)}return sj(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-next":!0},s=this.clickHandler.bind(this,{message:"next"});(0,C8e.canGoNext)(this.props)||(i["slick-disabled"]=!0,s=null);var o={key:"1","data-role":"none",className:(0,nj.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.nextArrow?l=qd.default.cloneElement(this.props.nextArrow,Py(Py({},o),a)):l=qd.default.createElement("button",By({key:"1",type:"button"},o)," ","Next"),l}}]),n}(qd.default.PureComponent);Pp.NextArrow=R8e;var lj=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,s){return i[0]===n?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];n.call(r,o[1],o[0])}},e}()}(),QC=typeof window<"u"&&typeof document<"u"&&window.document===document,Ly=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),B8e=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Ly):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),P8e=2;function D8e(t,e){var n=!1,r=!1,i=0;function s(){n&&(n=!1,t()),r&&a()}function o(){B8e(s)}function a(){var l=Date.now();if(n){if(l-i<P8e)return;r=!0}else n=!0,r=!1,setTimeout(o,e);i=l}return a}var L8e=20,O8e=["top","right","bottom","left","width","height","size","weight"],F8e=typeof MutationObserver<"u",N8e=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=D8e(this.refresh.bind(this),L8e)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!QC||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),F8e?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!QC||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=O8e.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),cj=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},Dp=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Ly},uj=H6(0,0,0,0);function Oy(t){return parseFloat(t)||0}function xO(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var s=t["border-"+i+"-width"];return r+Oy(s)},0)}function k8e(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var s=i[r],o=t["padding-"+s];n[s]=Oy(o)}return n}function U8e(t){var e=t.getBBox();return H6(0,0,e.width,e.height)}function G8e(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return uj;var r=Dp(t).getComputedStyle(t),i=k8e(r),s=i.left+i.right,o=i.top+i.bottom,a=Oy(r.width),l=Oy(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=xO(r,"left","right")+s),Math.round(l+o)!==n&&(l-=xO(r,"top","bottom")+o)),!Q8e(t)){var c=Math.round(a+s)-e,u=Math.round(l+o)-n;Math.abs(c)!==1&&(a-=c),Math.abs(u)!==1&&(l-=u)}return H6(i.left,i.top,a,l)}var H8e=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Dp(t).SVGGraphicsElement}:function(t){return t instanceof Dp(t).SVGElement&&typeof t.getBBox=="function"}}();function Q8e(t){return t===Dp(t).document.documentElement}function z8e(t){return QC?H8e(t)?U8e(t):G8e(t):uj}function V8e(t){var e=t.x,n=t.y,r=t.width,i=t.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return cj(o,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),o}function H6(t,e,n,r){return{x:t,y:e,width:n,height:r}}var W8e=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=H6(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=z8e(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),j8e=function(){function t(e,n){var r=V8e(n);cj(this,{target:e,contentRect:r})}return t}(),$8e=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new lj,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Dp(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new W8e(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Dp(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new j8e(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),hj=typeof WeakMap<"u"?new WeakMap:new lj,fj=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=N8e.getInstance(),r=new $8e(e,n,this);hj.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){fj.prototype[t]=function(){var e;return(e=hj.get(this))[t].apply(e,arguments)}});var K8e=function(){return typeof Ly.ResizeObserver<"u"?Ly.ResizeObserver:fj}();const X8e=Object.freeze(Object.defineProperty({__proto__:null,default:K8e},Symbol.toStringTag,{value:"Module"})),J8e=dN(X8e);Object.defineProperty(N6,"__esModule",{value:!0});N6.InnerSlider=void 0;var Pi=q3(Q),Y8e=q3(zW),q8e=q3(zEe),Z8e=q3(ff),Kn=Ze,e_e=U6,t_e=G6,EO=Pp,n_e=q3(J8e);function q3(t){return t&&t.__esModule?t:{default:t}}function Fy(t){"@babel/helpers - typeof";return Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fy(t)}function Ny(){return Ny=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ny.apply(this,arguments)}function r_e(t,e){if(t==null)return{};var n=i_e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function i_e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function _O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function At(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_O(Object(n),!0).forEach(function(r){Vt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o_e(t,e,n){return e&&SO(t.prototype,e),n&&SO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function a_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zC(t,e)}function zC(t,e){return zC=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},zC(t,e)}function l_e(t){var e=u_e();return function(){var r=ky(t),i;if(e){var s=ky(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return c_e(this,i)}}function c_e(t,e){if(e&&(Fy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zt(t)}function zt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u_e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ky(t){return ky=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ky(t)}function Vt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h_e=function(t){a_e(n,t);var e=l_e(n);function n(r){var i;s_e(this,n),i=e.call(this,r),Vt(zt(i),"listRefHandler",function(o){return i.list=o}),Vt(zt(i),"trackRefHandler",function(o){return i.track=o}),Vt(zt(i),"adaptHeight",function(){if(i.props.adaptiveHeight&&i.list){var o=i.list.querySelector('[data-index="'.concat(i.state.currentSlide,'"]'));i.list.style.height=(0,Kn.getHeight)(o)+"px"}}),Vt(zt(i),"componentDidMount",function(){if(i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var o=(0,Kn.getOnDemandLazySlides)(At(At({},i.props),i.state));o.length>0&&(i.setState(function(l){return{lazyLoadedList:l.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o))}var a=At({listRef:i.list,trackRef:i.track},i.props);i.updateState(a,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("update")}),i.props.lazyLoad==="progressive"&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new n_e.default(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(l){l.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,l.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized)}),Vt(zt(i),"componentWillUnmount",function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(o){return clearTimeout(o)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer),i.ro.disconnect()}),Vt(zt(i),"componentDidUpdate",function(o){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var a=(0,Kn.getOnDemandLazySlides)(At(At({},i.props),i.state));a.length>0&&(i.setState(function(u){return{lazyLoadedList:u.lazyLoadedList.concat(a)}}),i.props.onLazyLoad&&i.props.onLazyLoad(a))}i.adaptHeight();var l=At(At({listRef:i.list,trackRef:i.track},i.props),i.state),c=i.didPropsChange(o);c&&i.updateState(l,c,function(){i.state.currentSlide>=Pi.default.Children.count(i.props.children)&&i.changeSlide({message:"index",index:Pi.default.Children.count(i.props.children)-i.props.slidesToShow,currentSlide:i.state.currentSlide}),i.props.autoplay?i.autoPlay("update"):i.pause("paused")})}),Vt(zt(i),"onWindowResized",function(o){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=(0,q8e.default)(function(){return i.resizeWindow(o)},50),i.debouncedResize()}),Vt(zt(i),"resizeWindow",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(i.track&&i.track.node);if(a){var l=At(At({listRef:i.list,trackRef:i.track},i.props),i.state);i.updateState(l,o,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}}),Vt(zt(i),"updateState",function(o,a,l){var c=(0,Kn.initializedState)(o);o=At(At(At({},o),c),{},{slideIndex:c.currentSlide});var u=(0,Kn.getTrackLeft)(o);o=At(At({},o),{},{left:u});var h=(0,Kn.getTrackCSS)(o);(a||Pi.default.Children.count(i.props.children)!==Pi.default.Children.count(o.children))&&(c.trackStyle=h),i.setState(c,l)}),Vt(zt(i),"ssrInit",function(){if(i.props.variableWidth){var o=0,a=0,l=[],c=(0,Kn.getPreClones)(At(At(At({},i.props),i.state),{},{slideCount:i.props.children.length})),u=(0,Kn.getPostClones)(At(At(At({},i.props),i.state),{},{slideCount:i.props.children.length}));i.props.children.forEach(function(b){l.push(b.props.style.width),o+=b.props.style.width});for(var h=0;h<c;h++)a+=l[l.length-1-h],o+=l[l.length-1-h];for(var f=0;f<u;f++)o+=l[f];for(var m=0;m<i.state.currentSlide;m++)a+=l[m];var g={width:o+"px",left:-a+"px"};if(i.props.centerMode){var E="".concat(l[i.state.currentSlide],"px");g.left="calc(".concat(g.left," + (100% - ").concat(E,") / 2 ) ")}return{trackStyle:g}}var x=Pi.default.Children.count(i.props.children),A=At(At(At({},i.props),i.state),{},{slideCount:x}),v=(0,Kn.getPreClones)(A)+(0,Kn.getPostClones)(A)+x,y=100/i.props.slidesToShow*v,S=100/v,w=-S*((0,Kn.getPreClones)(A)+i.state.currentSlide)*y/100;i.props.centerMode&&(w+=(100-S*y/100)/2);var T={width:y+"%",left:w+"%"};return{slideWidth:S+"%",trackStyle:T}}),Vt(zt(i),"checkImagesLoad",function(){var o=i.list&&i.list.querySelectorAll&&i.list.querySelectorAll(".slick-slide img")||[],a=o.length,l=0;Array.prototype.forEach.call(o,function(c){var u=function(){return++l&&l>=a&&i.onWindowResized()};if(!c.onclick)c.onclick=function(){return c.parentNode.focus()};else{var h=c.onclick;c.onclick=function(){h(),c.parentNode.focus()}}c.onload||(i.props.lazyLoad?c.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(c.onload=u,c.onerror=function(){u(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})}),Vt(zt(i),"progressiveLazyLoad",function(){for(var o=[],a=At(At({},i.props),i.state),l=i.state.currentSlide;l<i.state.slideCount+(0,Kn.getPostClones)(a);l++)if(i.state.lazyLoadedList.indexOf(l)<0){o.push(l);break}for(var c=i.state.currentSlide-1;c>=-(0,Kn.getPreClones)(a);c--)if(i.state.lazyLoadedList.indexOf(c)<0){o.push(c);break}o.length>0?(i.setState(function(u){return{lazyLoadedList:u.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)}),Vt(zt(i),"slideHandler",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=i.props,c=l.asNavFor,u=l.beforeChange,h=l.onLazyLoad,f=l.speed,m=l.afterChange,g=i.state.currentSlide,E=(0,Kn.slideHandler)(At(At(At({index:o},i.props),i.state),{},{trackRef:i.track,useCSS:i.props.useCSS&&!a})),x=E.state,A=E.nextState;if(x){u&&u(g,x.currentSlide);var v=x.lazyLoadedList.filter(function(y){return i.state.lazyLoadedList.indexOf(y)<0});h&&v.length>0&&h(v),!i.props.waitForAnimate&&i.animationEndCallback&&(clearTimeout(i.animationEndCallback),m&&m(g),delete i.animationEndCallback),i.setState(x,function(){c&&i.asNavForIndex!==o&&(i.asNavForIndex=o,c.innerSlider.slideHandler(o)),A&&(i.animationEndCallback=setTimeout(function(){var y=A.animating,S=r_e(A,["animating"]);i.setState(S,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:y})},10)),m&&m(x.currentSlide),delete i.animationEndCallback})},f))})}}),Vt(zt(i),"changeSlide",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=At(At({},i.props),i.state),c=(0,Kn.changeSlide)(l,o);if(!(c!==0&&!c)&&(a===!0?i.slideHandler(c,a):i.slideHandler(c),i.props.autoplay&&i.autoPlay("update"),i.props.focusOnSelect)){var u=i.list.querySelectorAll(".slick-current");u[0]&&u[0].focus()}}),Vt(zt(i),"clickHandler",function(o){i.clickable===!1&&(o.stopPropagation(),o.preventDefault()),i.clickable=!0}),Vt(zt(i),"keyHandler",function(o){var a=(0,Kn.keyHandler)(o,i.props.accessibility,i.props.rtl);a!==""&&i.changeSlide({message:a})}),Vt(zt(i),"selectHandler",function(o){i.changeSlide(o)}),Vt(zt(i),"disableBodyScroll",function(){var o=function(l){l=l||window.event,l.preventDefault&&l.preventDefault(),l.returnValue=!1};window.ontouchmove=o}),Vt(zt(i),"enableBodyScroll",function(){window.ontouchmove=null}),Vt(zt(i),"swipeStart",function(o){i.props.verticalSwiping&&i.disableBodyScroll();var a=(0,Kn.swipeStart)(o,i.props.swipe,i.props.draggable);a!==""&&i.setState(a)}),Vt(zt(i),"swipeMove",function(o){var a=(0,Kn.swipeMove)(o,At(At(At({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));a&&(a.swiping&&(i.clickable=!1),i.setState(a))}),Vt(zt(i),"swipeEnd",function(o){var a=(0,Kn.swipeEnd)(o,At(At(At({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(a){var l=a.triggerSlideHandler;delete a.triggerSlideHandler,i.setState(a),l!==void 0&&(i.slideHandler(l),i.props.verticalSwiping&&i.enableBodyScroll())}}),Vt(zt(i),"touchEnd",function(o){i.swipeEnd(o),i.clickable=!0}),Vt(zt(i),"slickPrev",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))}),Vt(zt(i),"slickNext",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))}),Vt(zt(i),"slickGoTo",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o=Number(o),isNaN(o))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:o,currentSlide:i.state.currentSlide},a)},0))}),Vt(zt(i),"play",function(){var o;if(i.props.rtl)o=i.state.currentSlide-i.props.slidesToScroll;else if((0,Kn.canGoNext)(At(At({},i.props),i.state)))o=i.state.currentSlide+i.props.slidesToScroll;else return!1;i.slideHandler(o)}),Vt(zt(i),"autoPlay",function(o){i.autoplayTimer&&clearInterval(i.autoplayTimer);var a=i.state.autoplaying;if(o==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(o==="leave"){if(a==="paused"||a==="focused")return}else if(o==="blur"&&(a==="paused"||a==="hovered"))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})}),Vt(zt(i),"pause",function(o){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var a=i.state.autoplaying;o==="paused"?i.setState({autoplaying:"paused"}):o==="focused"?(a==="hovered"||a==="playing")&&i.setState({autoplaying:"focused"}):a==="playing"&&i.setState({autoplaying:"hovered"})}),Vt(zt(i),"onDotsOver",function(){return i.props.autoplay&&i.pause("hovered")}),Vt(zt(i),"onDotsLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),Vt(zt(i),"onTrackOver",function(){return i.props.autoplay&&i.pause("hovered")}),Vt(zt(i),"onTrackLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),Vt(zt(i),"onSlideFocus",function(){return i.props.autoplay&&i.pause("focused")}),Vt(zt(i),"onSlideBlur",function(){return i.props.autoplay&&i.state.autoplaying==="focused"&&i.autoPlay("blur")}),Vt(zt(i),"render",function(){var o=(0,Z8e.default)("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),a=At(At({},i.props),i.state),l=(0,Kn.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),c=i.props.pauseOnHover;l=At(At({},l),{},{onMouseEnter:c?i.onTrackOver:null,onMouseLeave:c?i.onTrackLeave:null,onMouseOver:c?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect&&i.clickable?i.selectHandler:null});var u;if(i.props.dots===!0&&i.state.slideCount>=i.props.slidesToShow){var h=(0,Kn.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),f=i.props.pauseOnDotsHover;h=At(At({},h),{},{clickHandler:i.changeSlide,onMouseEnter:f?i.onDotsLeave:null,onMouseOver:f?i.onDotsOver:null,onMouseLeave:f?i.onDotsLeave:null}),u=Pi.default.createElement(t_e.Dots,h)}var m,g,E=(0,Kn.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);E.clickHandler=i.changeSlide,i.props.arrows&&(m=Pi.default.createElement(EO.PrevArrow,E),g=Pi.default.createElement(EO.NextArrow,E));var x=null;i.props.vertical&&(x={height:i.state.listHeight});var A=null;i.props.vertical===!1?i.props.centerMode===!0&&(A={padding:"0px "+i.props.centerPadding}):i.props.centerMode===!0&&(A={padding:i.props.centerPadding+" 0px"});var v=At(At({},x),A),y=i.props.touchMove,S={className:"slick-list",style:v,onClick:i.clickHandler,onMouseDown:y?i.swipeStart:null,onMouseMove:i.state.dragging&&y?i.swipeMove:null,onMouseUp:y?i.swipeEnd:null,onMouseLeave:i.state.dragging&&y?i.swipeEnd:null,onTouchStart:y?i.swipeStart:null,onTouchMove:i.state.dragging&&y?i.swipeMove:null,onTouchEnd:y?i.touchEnd:null,onTouchCancel:i.state.dragging&&y?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},w={className:o,dir:"ltr",style:i.props.style};return i.props.unslick&&(S={className:"slick-list"},w={className:o}),Pi.default.createElement("div",w,i.props.unslick?"":m,Pi.default.createElement("div",Ny({ref:i.listRefHandler},S),Pi.default.createElement(e_e.Track,Ny({ref:i.trackRefHandler},l),i.props.children)),i.props.unslick?"":g,i.props.unslick?"":u)}),i.list=null,i.track=null,i.state=At(At({},Y8e.default),{},{currentSlide:i.props.initialSlide,slideCount:Pi.default.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null;var s=i.ssrInit();return i.state=At(At({},i.state),s),i}return o_e(n,[{key:"didPropsChange",value:function(i){for(var s=!1,o=0,a=Object.keys(this.props);o<a.length;o++){var l=a[o];if(!i.hasOwnProperty(l)){s=!0;break}if(!(Fy(i[l])==="object"||typeof i[l]=="function")&&i[l]!==this.props[l]){s=!0;break}}return s||Pi.default.Children.count(this.props.children)!==Pi.default.Children.count(i.children)}}]),n}(Pi.default.Component);N6.InnerSlider=h_e;var f_e=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},d_e=f_e,p_e=d_e,m_e=function(t){var e=/[height|width]$/;return e.test(t)},CO=function(t){var e="",n=Object.keys(t);return n.forEach(function(r,i){var s=t[r];r=p_e(r),m_e(r)&&typeof s=="number"&&(s=s+"px"),s===!0?e+=r:s===!1?e+="not "+r:e+="("+r+": "+s+")",i<n.length-1&&(e+=" and ")}),e},g_e=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,r){e+=CO(n),r<t.length-1&&(e+=", ")}),e):CO(t)},A_e=g_e,dj={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(Q);function n(s){return s&&s.__esModule?s:{default:s}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(o){return e.default.createElement("ul",{style:{display:"block"}},o)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(o){return e.default.createElement("button",null,o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0},i=r;t.default=i})(dj);var O_,wO;function v_e(){if(wO)return O_;wO=1;function t(e){this.options=e,!e.deferSetup&&this.setup()}return t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},O_=t,O_}var F_,TO;function pj(){if(TO)return F_;TO=1;function t(r,i){var s=0,o=r.length,a;for(s;s<o&&(a=i(r[s],s),a!==!1);s++);}function e(r){return Object.prototype.toString.apply(r)==="[object Array]"}function n(r){return typeof r=="function"}return F_={isFunction:n,isArray:e,each:t},F_}var N_,IO;function y_e(){if(IO)return N_;IO=1;var t=v_e(),e=pj().each;function n(r,i){this.query=r,this.isUnconditional=i,this.handlers=[],this.mql=window.matchMedia(r);var s=this;this.listener=function(o){s.mql=o.currentTarget||o,s.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(r){var i=new t(r);this.handlers.push(i),this.matches()&&i.on()},removeHandler:function(r){var i=this.handlers;e(i,function(s,o){if(s.equals(r))return s.destroy(),!i.splice(o,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";e(this.handlers,function(i){i[r]()})}},N_=n,N_}var k_,bO;function x_e(){if(bO)return k_;bO=1;var t=y_e(),e=pj(),n=e.each,r=e.isFunction,i=e.isArray;function s(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return s.prototype={constructor:s,register:function(o,a,l){var c=this.queries,u=l&&this.browserIsIncapable;return c[o]||(c[o]=new t(o,u)),r(a)&&(a={match:a}),i(a)||(a=[a]),n(a,function(h){r(h)&&(h={match:h}),c[o].addHandler(h)}),this},unregister:function(o,a){var l=this.queries[o];return l&&(a?l.removeHandler(a):(l.clear(),delete this.queries[o])),this}},k_=s,k_}var U_,MO;function E_e(){if(MO)return U_;MO=1;var t=x_e();return U_=new t,U_}(function(t){function e(R){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},e(R)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(Q),r=N6,i=a(A_e),s=a(dj),o=Ze;function a(R){return R&&R.__esModule?R:{default:R}}function l(){return l=Object.assign||function(R){for(var M=1;M<arguments.length;M++){var B=arguments[M];for(var L in B)Object.prototype.hasOwnProperty.call(B,L)&&(R[L]=B[L])}return R},l.apply(this,arguments)}function c(R,M){var B=Object.keys(R);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(R);M&&(L=L.filter(function(G){return Object.getOwnPropertyDescriptor(R,G).enumerable})),B.push.apply(B,L)}return B}function u(R){for(var M=1;M<arguments.length;M++){var B=arguments[M]!=null?arguments[M]:{};M%2?c(Object(B),!0).forEach(function(L){w(R,L,B[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(B)):c(Object(B)).forEach(function(L){Object.defineProperty(R,L,Object.getOwnPropertyDescriptor(B,L))})}return R}function h(R,M){if(!(R instanceof M))throw new TypeError("Cannot call a class as a function")}function f(R,M){for(var B=0;B<M.length;B++){var L=M[B];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(R,L.key,L)}}function m(R,M,B){return M&&f(R.prototype,M),B&&f(R,B),Object.defineProperty(R,"prototype",{writable:!1}),R}function g(R,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(M&&M.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),M&&E(R,M)}function E(R,M){return E=Object.setPrototypeOf||function(L,G){return L.__proto__=G,L},E(R,M)}function x(R){var M=y();return function(){var L=S(R),G;if(M){var F=S(this).constructor;G=Reflect.construct(L,arguments,F)}else G=L.apply(this,arguments);return A(this,G)}}function A(R,M){if(M&&(e(M)==="object"||typeof M=="function"))return M;if(M!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(R)}function v(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function S(R){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(B){return B.__proto__||Object.getPrototypeOf(B)},S(R)}function w(R,M,B){return M in R?Object.defineProperty(R,M,{value:B,enumerable:!0,configurable:!0,writable:!0}):R[M]=B,R}var T=(0,o.canUseDOM)()&&E_e(),b=function(R){g(B,R);var M=x(B);function B(L){var G;return h(this,B),G=M.call(this,L),w(v(G),"innerSliderRefHandler",function(F){return G.innerSlider=F}),w(v(G),"slickPrev",function(){return G.innerSlider.slickPrev()}),w(v(G),"slickNext",function(){return G.innerSlider.slickNext()}),w(v(G),"slickGoTo",function(F){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return G.innerSlider.slickGoTo(F,$)}),w(v(G),"slickPause",function(){return G.innerSlider.pause("paused")}),w(v(G),"slickPlay",function(){return G.innerSlider.autoPlay("play")}),G.state={breakpoint:null},G._responsiveMediaHandlers=[],G}return m(B,[{key:"media",value:function(G,F){T.register(G,F),this._responsiveMediaHandlers.push({query:G,handler:F})}},{key:"componentDidMount",value:function(){var G=this;if(this.props.responsive){var F=this.props.responsive.map(function(W){return W.breakpoint});F.sort(function(W,Z){return W-Z}),F.forEach(function(W,Z){var q;Z===0?q=(0,i.default)({minWidth:0,maxWidth:W}):q=(0,i.default)({minWidth:F[Z-1]+1,maxWidth:W}),(0,o.canUseDOM)()&&G.media(q,function(){G.setState({breakpoint:W})})});var $=(0,i.default)({minWidth:F.slice(-1)[0]});(0,o.canUseDOM)()&&this.media($,function(){G.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(G){T.unregister(G.query,G.handler)})}},{key:"render",value:function(){var G=this,F,$;this.state.breakpoint?($=this.props.responsive.filter(function(ge){return ge.breakpoint===G.state.breakpoint}),F=$[0].settings==="unslick"?"unslick":u(u(u({},s.default),this.props),$[0].settings)):F=u(u({},s.default),this.props),F.centerMode&&(F.slidesToScroll>1,F.slidesToScroll=1),F.fade&&(F.slidesToShow>1,F.slidesToScroll>1,F.slidesToShow=1,F.slidesToScroll=1);var W=n.default.Children.toArray(this.props.children);W=W.filter(function(ge){return typeof ge=="string"?!!ge.trim():!!ge}),F.variableWidth&&(F.rows>1||F.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),F.variableWidth=!1);for(var Z=[],q=null,k=0;k<W.length;k+=F.rows*F.slidesPerRow){for(var J=[],V=k;V<k+F.rows*F.slidesPerRow;V+=F.slidesPerRow){for(var H=[],X=V;X<V+F.slidesPerRow&&(F.variableWidth&&W[X].props.style&&(q=W[X].props.style.width),!(X>=W.length));X+=1)H.push(n.default.cloneElement(W[X],{key:100*k+10*V+X,tabIndex:-1,style:{width:"".concat(100/F.slidesPerRow,"%"),display:"inline-block"}}));J.push(n.default.createElement("div",{key:10*k+V},H))}F.variableWidth?Z.push(n.default.createElement("div",{key:k,style:{width:q}},J)):Z.push(n.default.createElement("div",{key:k},J))}if(F==="unslick"){var he="regular slider "+(this.props.className||"");return n.default.createElement("div",{className:he},W)}else Z.length<=F.slidesToShow&&(F.unslick=!0);return n.default.createElement(r.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},F),Z)}}]),B}(n.default.Component);t.default=b})(QW);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(QW);function n(i){return i&&i.__esModule?i:{default:i}}var r=e.default;t.default=r})(HW);const mj=Gp(HW),__e={dots:!1,infinite:!0,slidesToShow:6,autoplay:!0,DelayNode:0,pauseOnHover:!1,pauseOnFocus:!1,swipeToSlide:!0,speed:1e3,autoplaySpeed:1e3,cssEase:"linear"},S_e=()=>U.jsx("div",{className:"mt-10 overflow-x-hidden",children:U.jsx(mj,{...__e,children:xEe.map(t=>U.jsx("div",{className:"w-28 h-28",children:U.jsx("div",{className:"flex justify-center items-center mx-auto",children:U.jsx("img",{className:"cursor-pointer w-10 h-auto md:w-28 ",src:t.icon,alt:""})})},t.name))})}),C_e=y7(S_e,"");var Q6={};Q6.__esModule=!0;Q6.default=void 0;var w_e=I7(Q),pc=I7(Y3),T_e=I7(ff);function I7(t){return t&&t.__esModule?t:{default:t}}const gj=({animate:t=!0,className:e="",layout:n="2-columns",lineColor:r="#FFF",children:i})=>(typeof window=="object"&&document.documentElement.style.setProperty("--line-color",r),w_e.default.createElement("div",{className:(0,T_e.default)(e,"vertical-timeline",{"vertical-timeline--animate":t,"vertical-timeline--two-columns":n==="2-columns","vertical-timeline--one-column-left":n==="1-column"||n==="1-column-left","vertical-timeline--one-column-right":n==="1-column-right"})},i));gj.propTypes={children:pc.default.oneOfType([pc.default.arrayOf(pc.default.node),pc.default.node]).isRequired,className:pc.default.string,animate:pc.default.bool,layout:pc.default.oneOf(["1-column-left","1-column","2-columns","1-column-right"]),lineColor:pc.default.string};var I_e=gj;Q6.default=I_e;var z6={};function VC(){return VC=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VC.apply(this,arguments)}function b_e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,WC(t,e)}function WC(t,e){return WC=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},WC(t,e)}function M_e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var jC=new Map,O2=new WeakMap,RO=0,Aj=void 0;function R_e(t){Aj=t}function B_e(t){return t?(O2.has(t)||(RO+=1,O2.set(t,RO.toString())),O2.get(t)):"0"}function P_e(t){return Object.keys(t).sort().filter(function(e){return t[e]!==void 0}).map(function(e){return e+"_"+(e==="root"?B_e(t.root):t[e])}).toString()}function D_e(t){var e=P_e(t),n=jC.get(e);if(!n){var r=new Map,i,s=new IntersectionObserver(function(o){o.forEach(function(a){var l,c=a.isIntersecting&&i.some(function(u){return a.intersectionRatio>=u});t.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=c),(l=r.get(a.target))==null||l.forEach(function(u){u(c,a)})})},t);i=s.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:e,observer:s,elements:r},jC.set(e,n)}return n}function b7(t,e,n,r){if(n===void 0&&(n={}),r===void 0&&(r=Aj),typeof window.IntersectionObserver>"u"&&r!==void 0){var i=t.getBoundingClientRect();return e(r,{isIntersecting:r,target:t,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),function(){}}var s=D_e(n),o=s.id,a=s.observer,l=s.elements,c=l.get(t)||[];return l.has(t)||l.set(t,c),c.push(e),a.observe(t),function(){c.splice(c.indexOf(e),1),c.length===0&&(l.delete(t),a.unobserve(t)),l.size===0&&(a.disconnect(),jC.delete(o))}}var L_e=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function BO(t){return typeof t.children!="function"}var Uy=function(t){b_e(e,t);function e(r){var i;return i=t.call(this,r)||this,i.node=null,i._unobserveCb=null,i.handleNode=function(s){i.node&&(i.unobserve(),!s&&!i.props.triggerOnce&&!i.props.skip&&i.setState({inView:!!i.props.initialInView,entry:void 0})),i.node=s||null,i.observeNode()},i.handleChange=function(s,o){s&&i.props.triggerOnce&&i.unobserve(),BO(i.props)||i.setState({inView:s,entry:o}),i.props.onChange&&i.props.onChange(s,o)},i.state={inView:!!r.initialInView,entry:void 0},i}var n=e.prototype;return n.componentDidUpdate=function(i){(i.rootMargin!==this.props.rootMargin||i.root!==this.props.root||i.threshold!==this.props.threshold||i.skip!==this.props.skip||i.trackVisibility!==this.props.trackVisibility||i.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},n.componentWillUnmount=function(){this.unobserve(),this.node=null},n.observeNode=function(){if(!(!this.node||this.props.skip)){var i=this.props,s=i.threshold,o=i.root,a=i.rootMargin,l=i.trackVisibility,c=i.delay,u=i.fallbackInView;this._unobserveCb=b7(this.node,this.handleChange,{threshold:s,root:o,rootMargin:a,trackVisibility:l,delay:c},u)}},n.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},n.render=function(){if(!BO(this.props)){var i=this.state,s=i.inView,o=i.entry;return this.props.children({inView:s,entry:o,ref:this.handleNode})}var a=this.props,l=a.children,c=a.as,u=M_e(a,L_e);return Q.createElement(c||"div",VC({ref:this.handleNode},u),l)},e}(Q.Component);Uy.displayName="InView";Uy.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};function O_e(t){var e=t===void 0?{}:t,n=e.threshold,r=e.delay,i=e.trackVisibility,s=e.rootMargin,o=e.root,a=e.triggerOnce,l=e.skip,c=e.initialInView,u=e.fallbackInView,h=Q.useRef(),f=Q.useState({inView:!!c}),m=f[0],g=f[1],E=Q.useCallback(function(A){h.current!==void 0&&(h.current(),h.current=void 0),!l&&A&&(h.current=b7(A,function(v,y){g({inView:v,entry:y}),y.isIntersecting&&a&&h.current&&(h.current(),h.current=void 0)},{root:o,rootMargin:s,threshold:n,trackVisibility:i,delay:r},u))},[Array.isArray(n)?n.toString():n,o,s,a,l,i,u,r]);Q.useEffect(function(){!h.current&&m.entry&&!a&&!l&&g({inView:!!c})});var x=[E,m.inView,m.entry];return x.ref=x[0],x.inView=x[1],x.entry=x[2],x}const F_e=Object.freeze(Object.defineProperty({__proto__:null,InView:Uy,default:Uy,defaultFallbackInView:R_e,observe:b7,useInView:O_e},Symbol.toStringTag,{value:"Module"})),N_e=dN(F_e);z6.__esModule=!0;z6.default=void 0;var mc=M7(Q),Vn=M7(Y3),F2=M7(ff),k_e=N_e;function M7(t){return t&&t.__esModule?t:{default:t}}const vj=({children:t="",className:e="",contentArrowStyle:n=null,contentStyle:r=null,date:i="",dateClassName:s="",icon:o=null,iconClassName:a="",iconOnClick:l=null,onTimelineElementClick:c=null,iconStyle:u=null,id:h="",position:f="",style:m=null,textClassName:g="",intersectionObserverProps:E={rootMargin:"0px 0px -40px 0px",triggerOnce:!0},visible:x=!1})=>mc.default.createElement(k_e.InView,E,({inView:A,ref:v})=>mc.default.createElement("div",{ref:v,id:h,className:(0,F2.default)(e,"vertical-timeline-element",{"vertical-timeline-element--left":f==="left","vertical-timeline-element--right":f==="right","vertical-timeline-element--no-children":t===""}),style:m},mc.default.createElement(mc.default.Fragment,null,mc.default.createElement("span",{style:u,onClick:l,className:(0,F2.default)(a,"vertical-timeline-element-icon",{"bounce-in":A||x,"is-hidden":!(A||x)})},o),mc.default.createElement("div",{style:r,onClick:c,className:(0,F2.default)(g,"vertical-timeline-element-content",{"bounce-in":A||x,"is-hidden":!(A||x)})},mc.default.createElement("div",{style:n,className:"vertical-timeline-element-content-arrow"}),t,mc.default.createElement("span",{className:(0,F2.default)(s,"vertical-timeline-element-date")},i)))));vj.propTypes={children:Vn.default.oneOfType([Vn.default.arrayOf(Vn.default.node),Vn.default.node]),className:Vn.default.string,contentArrowStyle:Vn.default.shape({}),contentStyle:Vn.default.shape({}),date:Vn.default.node,dateClassName:Vn.default.string,icon:Vn.default.element,iconClassName:Vn.default.string,iconStyle:Vn.default.shape({}),iconOnClick:Vn.default.func,onTimelineElementClick:Vn.default.func,id:Vn.default.string,position:Vn.default.string,style:Vn.default.shape({}),textClassName:Vn.default.string,visible:Vn.default.bool,intersectionObserverProps:Vn.default.shape({root:Vn.default.object,rootMargin:Vn.default.string,threshold:Vn.default.number,triggerOnce:Vn.default.bool})};var U_e=vj;z6.default=U_e;var yj={VerticalTimeline:Q6.default,VerticalTimelineElement:z6.default};const G_e=({experience:t})=>U.jsxs(yj.VerticalTimelineElement,{contentStyle:{background:"#1d1836",color:"#f6e05e"},contentArrowStyle:{borderRight:"10px solid  #232631"},date:t.date,iconStyle:{background:"#1d1836",outlineColor:"#f6e05e"},icon:U.jsx("div",{className:"flex justify-center items-center w-full h-full",children:U.jsx("img",{src:t.icon,alt:t.company_name,className:"w-[60%] h-[60%] object-contain"})}),children:[U.jsxs("div",{children:[U.jsx("h3",{className:"text-[#915EFF] text-[24px] font-bold",children:t.title}),U.jsx("p",{className:"text-gray-400 text-[16px] font-semibold",style:{margin:0},children:t.company_name})]}),U.jsx("ul",{className:"mt-5 list-disc ml-5 space-y-2",children:t.points.map((e,n)=>U.jsx("li",{className:"text-gray-200 text-[14px] pl-1 tracking-wider",children:e},`experience-point-${n}`))})]}),H_e=()=>U.jsxs(U.Fragment,{children:[U.jsxs(Hi.div,{variants:nf(1e3),children:[U.jsx("p",{className:`${ws.sectionSubText} text-center mt-20`,children:"What I have done so far"}),U.jsx("h2",{className:`${ws.sectionHeadText} text-center`,children:"My Story"})]}),U.jsx("div",{className:"mt-20 flex flex-col",children:U.jsx(yj.VerticalTimeline,{lineColor:"#fff",children:EEe.map((t,e)=>U.jsx(G_e,{experience:t},`experience-${e}`))})})]}),Q_e=y7(H_e,"work"),z_e=({index:t,name:e,description:n,tagname1:r,tagname2:i,tagname3:s,imageUrl:o,githubLink:a,websiteLink:l})=>{const c="blue-text-gradient",u="green-text-gradient",h="pink-text-gradient";return U.jsx(Hi.div,{variants:rf("up","spring",t*.5,.75),children:U.jsxs(GW,{options:{max:45,scale:1,speed:450},className:"bg-tertiary p-5 rounded-2xl sm:w-[360px] w-full",children:[U.jsxs("div",{className:"relative w-full h-[230px]",children:[U.jsx("img",{src:o,alt:"project_image",className:"w-full h-full object-cover rounded-2xl"}),U.jsx("div",{className:"absolute top-0 left-0 h-fit w-fit m-3",children:U.jsx("div",{onClick:()=>window.open(l,"_blank"),className:"black-gradient w-10 h-10 rounded-full flex justify-center items-center cursor-pointer",children:U.jsx("img",{src:rxe,alt:"preview",className:"w-1/2 h-1/2 object-contain cursor-pointer"})})}),U.jsx("div",{className:"absolute top-0 right-0 h-fit w-fit m-3",children:U.jsx("div",{onClick:()=>window.open(a,"_blank"),className:"black-gradient w-10 h-10 rounded-full flex justify-center items-center cursor-pointer",children:U.jsx("img",{src:nxe,alt:"source code",className:"w-1/2 h-1/2 object-contain"})})})]}),U.jsxs("div",{className:"mt-5",children:[U.jsx("h3",{className:"text-white font-bold text-[24px]",children:e}),U.jsx("p",{className:"mt-2 text-secondary text-[14px]",children:n})]}),U.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[U.jsxs("p",{className:`text-[14px] ${c}`,children:["#",r]}),U.jsxs("p",{className:`text-[14px] ${u}`,children:["#",i]}),U.jsxs("p",{className:`text-[14px] ${h}`,children:["#",s]})]})]})})},V_e=()=>U.jsxs(U.Fragment,{children:[U.jsx(Hi.div,{variants:nf(1e3),children:U.jsx("h2",{className:`${ws.sectionHeadText} mt-20`,children:"Projects"})}),U.jsx("div",{className:"w-full flex",children:U.jsx(Hi.p,{variants:rf("","",.1,1),className:"mt-3 text-secondary text-[17px] max-w-3xl leading-[30px] text-center mx-auto",children:"Following projects showcases my skills and experience through real-world examples of my work. Each project is briefly described with links to code repositories and live demos in it. It reflects my ability to solve complex problems, work with different technologies, and manage projects effectively."})}),U.jsx("div",{className:"mt-20 flex flex-wrap gap-7 items-center justify-center",children:Array.isArray(M_)&&M_.length>0?M_.slice(0,6).map((t,e)=>U.jsx(z_e,{index:e,...t},`project-${e}`)):U.jsx("p",{children:"No projects available."})}),U.jsx("div",{className:"text-center sm-text-right mt-10 lg-mr-[12rem]",children:U.jsx(va,{to:"/projects",children:U.jsxs("button",{className:" text-2xl text-yellow-400 transition-all duration-500 hover:scale-110 hover:text-yellow-500",children:["View All ",U.jsx("i",{className:"ml-2 fa-light fa-arrow-right"})]})})})]}),e3={_origin:"https://api.emailjs.com"},W_e=(t,e="https://api.emailjs.com")=>{e3._userID=t,e3._origin=e},xj=(t,e,n)=>{if(!t)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class PO{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const Ej=(t,e,n={})=>new Promise((r,i)=>{const s=new XMLHttpRequest;s.addEventListener("load",({target:o})=>{const a=new PO(o);a.status===200||a.text==="OK"?r(a):i(a)}),s.addEventListener("error",({target:o})=>{i(new PO(o))}),s.open("POST",e3._origin+t,!0),Object.keys(n).forEach(o=>{s.setRequestHeader(o,n[o])}),s.send(e)}),j_e=(t,e,n,r)=>{const i=r||e3._userID;return xj(i,t,e),Ej("/api/v1.0/email/send",JSON.stringify({lib_version:"3.11.0",user_id:i,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"})},$_e=t=>{let e;if(typeof t=="string"?e=document.querySelector(t):e=t,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},K_e=(t,e,n,r)=>{const i=r||e3._userID,s=$_e(n);xj(i,t,e);const o=new FormData(s);return o.append("lib_version","3.11.0"),o.append("service_id",t),o.append("template_id",e),o.append("user_id",i),Ej("/api/v1.0/email/send-form",o)},X_e={init:W_e,send:j_e,sendForm:K_e},J_e=[{id:1,Title:"Front-End Development",subHeading:"Q: What is your expertise in front-end development?",details:"A: I specialize in HTML, CSS, SASS, SCSS, JavaScript, and have a strong understanding of libraries like Bootstrap and Tailwind. I also have experience with creating animations for web interfaces."},{id:2,Title:"React Development",subHeading:"Q: What experience do you have with React?",details:"A: I have developed multiple projects using React, focusing on creating efficient and user-friendly interfaces. I am proficient in using hooks, context API, and other advanced React concepts."},{id:3,Title:"Versatility in JavaScript",subHeading:"Q: Can you work with other JavaScript frameworks or libraries?",details:"A: While my primary expertise lies in React, I am always open to learning and working with other JavaScript frameworks and libraries as per project requirements."},{id:4,Title:"Responsive Design",subHeading:"Q: How do you approach responsive design?",details:"A: I use a mobile-first approach for responsive design, utilizing CSS media queries and libraries like Bootstrap and Tailwind to ensure optimal viewing across various devices."},{id:5,Title:"Browser Compatibility",subHeading:"Q: How do you handle browser compatibility issues?",details:"A: I use tools like Babel and PostCSS to ensure my code is compatible with different browsers. I also test my applications on multiple browsers to ensure consistent performance."},{id:6,Title:"Testing and Debugging",subHeading:"Q: What is your process for testing and debugging code?",details:"A: I use a combination of unit testing, integration testing, and manual testing to ensure my code is robust and bug-free. I also use debugging tools within development environments to identify and resolve issues."}],Y_e=()=>{const[t,e]=Q.useState({}),n=r=>{e(i=>({...i,[r]:!i[r]}))};return U.jsxs("div",{className:"grid lg:flex w-full ",children:[U.jsxs("div",{className:"flex flex-col mx-auto w-[95vw] lg:w-[50vw] mt-10 lg:mt-20",children:[U.jsx(Hi.div,{variants:nf(1e3),children:U.jsx("h2",{className:ws.sectionHeadText,children:"FAQs"})}),J_e.map((r,i)=>U.jsx("div",{className:"group",children:U.jsxs("div",{className:`bg-tertiary text-white relative group-hover:bg-yellow-400 group-hover:text-gray-900 mb-1 md:mx-8 p-5 cursor-pointer transition-all duration-500 ease-linear ${t[r.id]?"bg-white h-auto":"bg-tertiary h-[110px] md:h-[110px] lg:h-[160px]"}`,onClick:()=>n(r.id),children:[U.jsxs("div",{className:"flex lg:mx-5 justify-between items-center lg:p-5",children:[U.jsxs("div",{children:[U.jsx("div",{className:`text-xl lg:text-2xl 2xl:text-3xl font-bold ${t[r.id]?"text-gray-900":""}`,children:r.Title&&r.Title}),U.jsx("div",{className:`text-sm lg:text-lg 2xl:text-xl mt-2 ${t[r.id]?"text-gray-900":""}`,children:r.subHeading})]}),U.jsxs("div",{className:"",children:[U.jsx("div",{className:`${t[r.id]?"rotate-180 bg-gray-900 ":"bg-white"} w-5 h-[1px] transition-all duration-500 ease-in-out group-hover:bg-gray-900`}),U.jsx("div",{className:`${t[r.id]?"rotate-180 bg-gray-900":"rotate-90 bg-white"} w-5 h-[1px] transition-all duration-500 ease-in-out mt-[-1px] group-hover:bg-gray-900`})]})]}),t[r.id]&&U.jsx("div",{className:`${t[r.id]?"text-gray-900":""} mt-3 lg:ml-10 text-justify border-gray-600 co`,children:r.details})]},r.id)},i))]}),U.jsx("div",{className:"w-[95vw] mx-auto h-[80vw] md:w-[50vw] md:h-auto md:mt-20",children:U.jsx(W6e,{})})]})};var R7={},V6={},B7={},G_={},DO;function q_e(){return DO||(DO=1,function(t){(function(e,n){n(t,Q,Y3)})(Tc,function(e,n,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=g;var i=o(n),s=o(r);function o(v){return v&&v.__esModule?v:{default:v}}var a=Object.assign||function(v){for(var y=1;y<arguments.length;y++){var S=arguments[y];for(var w in S)Object.prototype.hasOwnProperty.call(S,w)&&(v[w]=S[w])}return v};function l(v,y){var S={};for(var w in v)y.indexOf(w)>=0||Object.prototype.hasOwnProperty.call(v,w)&&(S[w]=v[w]);return S}function c(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}var u=function(){function v(y,S){for(var w=0;w<S.length;w++){var T=S[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(y,T.key,T)}}return function(y,S,w){return S&&v(y.prototype,S),w&&v(y,w),y}}();function h(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function f(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var m=!1;function g(v){m=v}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){g(!0)}}))}catch{}function E(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return m?v:v.capture}function x(v){if("touches"in v){var y=v.touches[0],S=y.pageX,w=y.pageY;return{x:S,y:w}}var T=v.screenX,b=v.screenY;return{x:T,y:b}}var A=function(v){f(y,v);function y(){var S;c(this,y);for(var w=arguments.length,T=Array(w),b=0;b<w;b++)T[b]=arguments[b];var R=h(this,(S=y.__proto__||Object.getPrototypeOf(y)).call.apply(S,[this].concat(T)));return R._handleSwipeStart=R._handleSwipeStart.bind(R),R._handleSwipeMove=R._handleSwipeMove.bind(R),R._handleSwipeEnd=R._handleSwipeEnd.bind(R),R._onMouseDown=R._onMouseDown.bind(R),R._onMouseMove=R._onMouseMove.bind(R),R._onMouseUp=R._onMouseUp.bind(R),R._setSwiperRef=R._setSwiperRef.bind(R),R}return u(y,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,E({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,E({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(w){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(w))}},{key:"_onMouseMove",value:function(w){this.mouseDown&&this._handleSwipeMove(w)}},{key:"_onMouseUp",value:function(w){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(w)}},{key:"_handleSwipeStart",value:function(w){var T=x(w),b=T.x,R=T.y;this.moveStart={x:b,y:R},this.props.onSwipeStart(w)}},{key:"_handleSwipeMove",value:function(w){if(this.moveStart){var T=x(w),b=T.x,R=T.y,M=b-this.moveStart.x,B=R-this.moveStart.y;this.moving=!0;var L=this.props.onSwipeMove({x:M,y:B},w);L&&w.cancelable&&w.preventDefault(),this.movePosition={deltaX:M,deltaY:B}}}},{key:"_handleSwipeEnd",value:function(w){this.props.onSwipeEnd(w);var T=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-T?this.props.onSwipeLeft(1,w):this.movePosition.deltaX>T&&this.props.onSwipeRight(1,w),this.movePosition.deltaY<-T?this.props.onSwipeUp(1,w):this.movePosition.deltaY>T&&this.props.onSwipeDown(1,w)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(w){this.swiper=w,this.props.innerRef(w)}},{key:"render",value:function(){var w=this.props;w.tagName;var T=w.className,b=w.style,R=w.children;w.allowMouseEvents,w.onSwipeUp,w.onSwipeDown,w.onSwipeLeft,w.onSwipeRight,w.onSwipeStart,w.onSwipeMove,w.onSwipeEnd,w.innerRef,w.tolerance;var M=l(w,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,a({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:T,style:b},M),R)}}]),y}(n.Component);A.displayName="ReactSwipe",A.propTypes={tagName:s.default.string,className:s.default.string,style:s.default.object,children:s.default.node,allowMouseEvents:s.default.bool,onSwipeUp:s.default.func,onSwipeDown:s.default.func,onSwipeLeft:s.default.func,onSwipeRight:s.default.func,onSwipeStart:s.default.func,onSwipeMove:s.default.func,onSwipeEnd:s.default.func,innerRef:s.default.func,tolerance:s.default.number.isRequired},A.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=A})}(G_)),G_}(function(t){(function(e,n){n(t,q_e())})(Tc,function(e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}e.default=r.default})})(B7);var Z3={};Object.defineProperty(Z3,"__esModule",{value:!0});Z3.default=void 0;var gc=Z_e(ff);function Z_e(t){return t&&t.__esModule?t:{default:t}}function eSe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var tSe={ROOT:function(e){return(0,gc.default)(eSe({"carousel-root":!0},e||"",!!e))},CAROUSEL:function(e){return(0,gc.default)({carousel:!0,"carousel-slider":e})},WRAPPER:function(e,n){return(0,gc.default)({"thumbs-wrapper":!e,"slider-wrapper":e,"axis-horizontal":n==="horizontal","axis-vertical":n!=="horizontal"})},SLIDER:function(e,n){return(0,gc.default)({thumbs:!e,slider:e,animated:!n})},ITEM:function(e,n,r){return(0,gc.default)({thumb:!e,slide:e,selected:n,previous:r})},ARROW_PREV:function(e){return(0,gc.default)({"control-arrow control-prev":!0,"control-disabled":e})},ARROW_NEXT:function(e){return(0,gc.default)({"control-arrow control-next":!0,"control-disabled":e})},DOT:function(e){return(0,gc.default)({dot:!0,selected:e})}};Z3.default=tSe;var eA={},W6={};Object.defineProperty(W6,"__esModule",{value:!0});W6.outerWidth=void 0;var nSe=function(e){var n=e.offsetWidth,r=getComputedStyle(e);return n+=parseInt(r.marginLeft)+parseInt(r.marginRight),n};W6.outerWidth=nSe;var r0={};Object.defineProperty(r0,"__esModule",{value:!0});r0.default=void 0;var rSe=function(e,n,r){var i=e===0?e:e+n,s=r==="horizontal"?[i,0,0]:[0,i,0],o="translate3d",a="("+s.join(",")+")";return o+a};r0.default=rSe;var tA={};Object.defineProperty(tA,"__esModule",{value:!0});tA.default=void 0;var iSe=function(){return window};tA.default=iSe;Object.defineProperty(eA,"__esModule",{value:!0});eA.default=void 0;var Bo=aSe(Q),Vu=j6(Z3),sSe=W6,LO=j6(r0),oSe=j6(B7),N2=j6(tA);function j6(t){return t&&t.__esModule?t:{default:t}}function _j(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return _j=function(){return t},t}function aSe(t){if(t&&t.__esModule)return t;if(t===null||qm(t)!=="object"&&typeof t!="function")return{default:t};var e=_j();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=r?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function qm(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qm=function(n){return typeof n}:qm=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},qm(t)}function $C(){return $C=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$C.apply(this,arguments)}function lSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cSe(t,e,n){return e&&OO(t.prototype,e),n&&OO(t,n),t}function uSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&KC(t,e)}function KC(t,e){return KC=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},KC(t,e)}function hSe(t){var e=dSe();return function(){var r=Gy(t),i;if(e){var s=Gy(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return fSe(this,i)}}function fSe(t,e){return e&&(qm(e)==="object"||typeof e=="function")?e:Li(t)}function Li(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dSe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Gy(t){return Gy=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Gy(t)}function yi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var pSe=function(e){return e.hasOwnProperty("key")},P7=function(t){uSe(n,t);var e=hSe(n);function n(r){var i;return lSe(this,n),i=e.call(this,r),yi(Li(i),"itemsWrapperRef",void 0),yi(Li(i),"itemsListRef",void 0),yi(Li(i),"thumbsRef",void 0),yi(Li(i),"setItemsWrapperRef",function(s){i.itemsWrapperRef=s}),yi(Li(i),"setItemsListRef",function(s){i.itemsListRef=s}),yi(Li(i),"setThumbsRef",function(s,o){i.thumbsRef||(i.thumbsRef=[]),i.thumbsRef[o]=s}),yi(Li(i),"updateSizes",function(){if(!(!i.props.children||!i.itemsWrapperRef||!i.thumbsRef)){var s=Bo.Children.count(i.props.children),o=i.itemsWrapperRef.clientWidth,a=i.props.thumbWidth?i.props.thumbWidth:(0,sSe.outerWidth)(i.thumbsRef[0]),l=Math.floor(o/a),c=l<s,u=c?s-l:0;i.setState(function(h,f){return{itemSize:a,visibleItems:l,firstItem:c?i.getFirstItem(f.selectedItem):0,lastPosition:u,showArrows:c}})}}),yi(Li(i),"handleClickItem",function(s,o,a){if(!pSe(a)||a.key==="Enter"){var l=i.props.onSelectItem;typeof l=="function"&&l(s,o)}}),yi(Li(i),"onSwipeStart",function(){i.setState({swiping:!0})}),yi(Li(i),"onSwipeEnd",function(){i.setState({swiping:!1})}),yi(Li(i),"onSwipeMove",function(s){var o=s.x;if(!i.state.itemSize||!i.itemsWrapperRef||!i.state.visibleItems)return!1;var a=0,l=Bo.Children.count(i.props.children),c=-(i.state.firstItem*100)/i.state.visibleItems,u=Math.max(l-i.state.visibleItems,0),h=-u*100/i.state.visibleItems;c===a&&o>0&&(o=0),c===h&&o<0&&(o=0);var f=i.itemsWrapperRef.clientWidth,m=c+100/(f/o);return i.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(g){i.itemsListRef.style[g]=(0,LO.default)(m,"%",i.props.axis)}),!0}),yi(Li(i),"slideRight",function(s){i.moveTo(i.state.firstItem-(typeof s=="number"?s:1))}),yi(Li(i),"slideLeft",function(s){i.moveTo(i.state.firstItem+(typeof s=="number"?s:1))}),yi(Li(i),"moveTo",function(s){s=s<0?0:s,s=s>=i.state.lastPosition?i.state.lastPosition:s,i.setState({firstItem:s})}),i.state={selectedItem:r.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},i}return cSe(n,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(i){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==i.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,N2.default)().addEventListener("resize",this.updateSizes),(0,N2.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,N2.default)().removeEventListener("resize",this.updateSizes),(0,N2.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(i){var s=i;return i>=this.state.lastPosition&&(s=this.state.lastPosition),i<this.state.firstItem+this.state.visibleItems&&(s=this.state.firstItem),i<this.state.firstItem&&(s=i),s}},{key:"renderItems",value:function(){var i=this;return this.props.children.map(function(s,o){var a=Vu.default.ITEM(!1,o===i.state.selectedItem),l={key:o,ref:function(u){return i.setThumbsRef(u,o)},className:a,onClick:i.handleClickItem.bind(i,o,i.props.children[o]),onKeyDown:i.handleClickItem.bind(i,o,i.props.children[o]),"aria-label":"".concat(i.props.labels.item," ").concat(o+1),style:{width:i.props.thumbWidth}};return Bo.default.createElement("li",$C({},l,{role:"button",tabIndex:0}),s)})}},{key:"render",value:function(){var i=this;if(!this.props.children)return null;var s=Bo.Children.count(this.props.children)>1,o=this.state.showArrows&&this.state.firstItem>0,a=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,l={},c=-this.state.firstItem*(this.state.itemSize||0),u=(0,LO.default)(c,"px",this.props.axis),h=this.props.transitionTime+"ms";return l={WebkitTransform:u,MozTransform:u,MsTransform:u,OTransform:u,transform:u,msTransform:u,WebkitTransitionDuration:h,MozTransitionDuration:h,MsTransitionDuration:h,OTransitionDuration:h,transitionDuration:h,msTransitionDuration:h},Bo.default.createElement("div",{className:Vu.default.CAROUSEL(!1)},Bo.default.createElement("div",{className:Vu.default.WRAPPER(!1),ref:this.setItemsWrapperRef},Bo.default.createElement("button",{type:"button",className:Vu.default.ARROW_PREV(!o),onClick:function(){return i.slideRight()},"aria-label":this.props.labels.leftArrow}),s?Bo.default.createElement(oSe.default,{tagName:"ul",className:Vu.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:l,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):Bo.default.createElement("ul",{className:Vu.default.SLIDER(!1,this.state.swiping),ref:function(m){return i.setItemsListRef(m)},style:l},this.renderItems()),Bo.default.createElement("button",{type:"button",className:Vu.default.ARROW_NEXT(!a),onClick:function(){return i.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),n}(Bo.Component);eA.default=P7;yi(P7,"displayName","Thumbs");yi(P7,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350});var $6={};Object.defineProperty($6,"__esModule",{value:!0});$6.default=void 0;var mSe=function(){return document};$6.default=mSe;var _s={};Object.defineProperty(_s,"__esModule",{value:!0});_s.setPosition=_s.getPosition=_s.isKeyboardEvent=_s.defaultStatusFormatter=_s.noop=void 0;var gSe=Q,ASe=vSe(r0);function vSe(t){return t&&t.__esModule?t:{default:t}}var ySe=function(){};_s.noop=ySe;var xSe=function(e,n){return"".concat(e," of ").concat(n)};_s.defaultStatusFormatter=xSe;var ESe=function(e){return e?e.hasOwnProperty("key"):!1};_s.isKeyboardEvent=ESe;var _Se=function(e,n){if(n.infiniteLoop&&++e,e===0)return 0;var r=gSe.Children.count(n.children);if(n.centerMode&&n.axis==="horizontal"){var i=-e*n.centerSlidePercentage,s=r-1;return e&&(e!==s||n.infiniteLoop)?i+=(100-n.centerSlidePercentage)/2:e===s&&(i+=100-n.centerSlidePercentage),i}return-e*100};_s.getPosition=_Se;var SSe=function(e,n){var r={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(i){r[i]=(0,ASe.default)(e,"%",n)}),r};_s.setPosition=SSe;var wa={};Object.defineProperty(wa,"__esModule",{value:!0});wa.fadeAnimationHandler=wa.slideStopSwipingHandler=wa.slideSwipeAnimationHandler=wa.slideAnimationHandler=void 0;var Sj=Q,CSe=wSe(r0),Ta=_s;function wSe(t){return t&&t.__esModule?t:{default:t}}function FO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FO(Object(n),!0).forEach(function(r){TSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TSe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ISe=function(e,n){var r={},i=n.selectedItem,s=i,o=Sj.Children.count(e.children)-1,a=e.infiniteLoop&&(i<0||i>o);if(a)return s<0?e.centerMode&&e.centerSlidePercentage&&e.axis==="horizontal"?r.itemListStyle=(0,Ta.setPosition)(-(o+2)*e.centerSlidePercentage-(100-e.centerSlidePercentage)/2,e.axis):r.itemListStyle=(0,Ta.setPosition)(-(o+2)*100,e.axis):s>o&&(r.itemListStyle=(0,Ta.setPosition)(0,e.axis)),r;var l=(0,Ta.getPosition)(i,e),c=(0,CSe.default)(l,"%",e.axis),u=e.transitionTime+"ms";return r.itemListStyle={WebkitTransform:c,msTransform:c,OTransform:c,transform:c},n.swiping||(r.itemListStyle=uh(uh({},r.itemListStyle),{},{WebkitTransitionDuration:u,MozTransitionDuration:u,OTransitionDuration:u,transitionDuration:u,msTransitionDuration:u})),r};wa.slideAnimationHandler=ISe;var bSe=function(e,n,r,i){var s={},o=n.axis==="horizontal",a=Sj.Children.count(n.children),l=0,c=(0,Ta.getPosition)(r.selectedItem,n),u=n.infiniteLoop?(0,Ta.getPosition)(a-1,n)-100:(0,Ta.getPosition)(a-1,n),h=o?e.x:e.y,f=h;c===l&&h>0&&(f=0),c===u&&h<0&&(f=0);var m=c+100/(r.itemSize/f),g=Math.abs(h)>n.swipeScrollTolerance;return n.infiniteLoop&&g&&(r.selectedItem===0&&m>-100?m-=a*100:r.selectedItem===a-1&&m<-a*100&&(m+=a*100)),(!n.preventMovementUntilSwipeScrollTolerance||g||r.swipeMovementStarted)&&(r.swipeMovementStarted||i({swipeMovementStarted:!0}),s.itemListStyle=(0,Ta.setPosition)(m,n.axis)),g&&!r.cancelClick&&i({cancelClick:!0}),s};wa.slideSwipeAnimationHandler=bSe;var MSe=function(e,n){var r=(0,Ta.getPosition)(n.selectedItem,e),i=(0,Ta.setPosition)(r,e.axis);return{itemListStyle:i}};wa.slideStopSwipingHandler=MSe;var RSe=function(e,n){var r=e.transitionTime+"ms",i="ease-in-out",s={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:i,msTransitionTimingFunction:i,MozTransitionTimingFunction:i,WebkitTransitionTimingFunction:i,OTransitionTimingFunction:i};return n.swiping||(s=uh(uh({},s),{},{WebkitTransitionDuration:r,MozTransitionDuration:r,OTransitionDuration:r,transitionDuration:r,msTransitionDuration:r})),{slideStyle:s,selectedStyle:uh(uh({},s),{},{opacity:1,position:"relative"}),prevStyle:uh({},s)}};wa.fadeAnimationHandler=RSe;Object.defineProperty(V6,"__esModule",{value:!0});V6.default=void 0;var hn=DSe(Q),BSe=nA(B7),pl=nA(Z3),PSe=nA(eA),k2=nA($6),U2=nA(tA),Tm=_s,Hy=wa;function nA(t){return t&&t.__esModule?t:{default:t}}function Cj(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return Cj=function(){return t},t}function DSe(t){if(t&&t.__esModule)return t;if(t===null||Zm(t)!=="object"&&typeof t!="function")return{default:t};var e=Cj();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=r?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=t[i]}return n.default=t,e&&e.set(t,n),n}function Zm(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zm=function(n){return typeof n}:Zm=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Zm(t)}function XC(){return XC=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XC.apply(this,arguments)}function NO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Po(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NO(Object(n),!0).forEach(function(r){Ht(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function OSe(t,e,n){return e&&kO(t.prototype,e),n&&kO(t,n),t}function FSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&JC(t,e)}function JC(t,e){return JC=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},JC(t,e)}function NSe(t){var e=USe();return function(){var r=Qy(t),i;if(e){var s=Qy(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return kSe(this,i)}}function kSe(t,e){return e&&(Zm(e)==="object"||typeof e=="function")?e:Qt(t)}function Qt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function USe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Qy(t){return Qy=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Qy(t)}function Ht(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var D7=function(t){FSe(n,t);var e=NSe(n);function n(r){var i;LSe(this,n),i=e.call(this,r),Ht(Qt(i),"thumbsRef",void 0),Ht(Qt(i),"carouselWrapperRef",void 0),Ht(Qt(i),"listRef",void 0),Ht(Qt(i),"itemsRef",void 0),Ht(Qt(i),"timer",void 0),Ht(Qt(i),"animationHandler",void 0),Ht(Qt(i),"setThumbsRef",function(o){i.thumbsRef=o}),Ht(Qt(i),"setCarouselWrapperRef",function(o){i.carouselWrapperRef=o}),Ht(Qt(i),"setListRef",function(o){i.listRef=o}),Ht(Qt(i),"setItemsRef",function(o,a){i.itemsRef||(i.itemsRef=[]),i.itemsRef[a]=o}),Ht(Qt(i),"autoPlay",function(){hn.Children.count(i.props.children)<=1||(i.clearAutoPlay(),i.props.autoPlay&&(i.timer=setTimeout(function(){i.increment()},i.props.interval)))}),Ht(Qt(i),"clearAutoPlay",function(){i.timer&&clearTimeout(i.timer)}),Ht(Qt(i),"resetAutoPlay",function(){i.clearAutoPlay(),i.autoPlay()}),Ht(Qt(i),"stopOnHover",function(){i.setState({isMouseEntered:!0},i.clearAutoPlay)}),Ht(Qt(i),"startOnLeave",function(){i.setState({isMouseEntered:!1},i.autoPlay)}),Ht(Qt(i),"isFocusWithinTheCarousel",function(){return i.carouselWrapperRef?!!((0,k2.default)().activeElement===i.carouselWrapperRef||i.carouselWrapperRef.contains((0,k2.default)().activeElement)):!1}),Ht(Qt(i),"navigateWithKeyboard",function(o){if(i.isFocusWithinTheCarousel()){var a=i.props.axis,l=a==="horizontal",c={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},u=l?c.ArrowRight:c.ArrowDown,h=l?c.ArrowLeft:c.ArrowUp;u===o.keyCode?i.increment():h===o.keyCode&&i.decrement()}}),Ht(Qt(i),"updateSizes",function(){if(!(!i.state.initialized||!i.itemsRef||i.itemsRef.length===0)){var o=i.props.axis==="horizontal",a=i.itemsRef[0];if(a){var l=o?a.clientWidth:a.clientHeight;i.setState({itemSize:l}),i.thumbsRef&&i.thumbsRef.updateSizes()}}}),Ht(Qt(i),"setMountState",function(){i.setState({hasMount:!0}),i.updateSizes()}),Ht(Qt(i),"handleClickItem",function(o,a){if(hn.Children.count(i.props.children)!==0){if(i.state.cancelClick){i.setState({cancelClick:!1});return}i.props.onClickItem(o,a),o!==i.state.selectedItem&&i.setState({selectedItem:o})}}),Ht(Qt(i),"handleOnChange",function(o,a){hn.Children.count(i.props.children)<=1||i.props.onChange(o,a)}),Ht(Qt(i),"handleClickThumb",function(o,a){i.props.onClickThumb(o,a),i.moveTo(o)}),Ht(Qt(i),"onSwipeStart",function(o){i.setState({swiping:!0}),i.props.onSwipeStart(o)}),Ht(Qt(i),"onSwipeEnd",function(o){i.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),i.props.onSwipeEnd(o),i.clearAutoPlay(),i.state.autoPlay&&i.autoPlay()}),Ht(Qt(i),"onSwipeMove",function(o,a){i.props.onSwipeMove(a);var l=i.props.swipeAnimationHandler(o,i.props,i.state,i.setState.bind(Qt(i)));return i.setState(Po({},l)),!!Object.keys(l).length}),Ht(Qt(i),"decrement",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;i.moveTo(i.state.selectedItem-(typeof o=="number"?o:1))}),Ht(Qt(i),"increment",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;i.moveTo(i.state.selectedItem+(typeof o=="number"?o:1))}),Ht(Qt(i),"moveTo",function(o){if(typeof o=="number"){var a=hn.Children.count(i.props.children)-1;o<0&&(o=i.props.infiniteLoop?a:0),o>a&&(o=i.props.infiniteLoop?0:a),i.selectItem({selectedItem:o}),i.state.autoPlay&&i.state.isMouseEntered===!1&&i.resetAutoPlay()}}),Ht(Qt(i),"onClickNext",function(){i.increment(1)}),Ht(Qt(i),"onClickPrev",function(){i.decrement(1)}),Ht(Qt(i),"onSwipeForward",function(){i.increment(1),i.props.emulateTouch&&i.setState({cancelClick:!0})}),Ht(Qt(i),"onSwipeBackwards",function(){i.decrement(1),i.props.emulateTouch&&i.setState({cancelClick:!0})}),Ht(Qt(i),"changeItem",function(o){return function(a){(!(0,Tm.isKeyboardEvent)(a)||a.key==="Enter")&&i.moveTo(o)}}),Ht(Qt(i),"selectItem",function(o){i.setState(Po({previousItem:i.state.selectedItem},o),function(){i.setState(i.animationHandler(i.props,i.state))}),i.handleOnChange(o.selectedItem,hn.Children.toArray(i.props.children)[o.selectedItem])}),Ht(Qt(i),"getInitialImage",function(){var o=i.props.selectedItem,a=i.itemsRef&&i.itemsRef[o],l=a&&a.getElementsByTagName("img")||[];return l[0]}),Ht(Qt(i),"getVariableItemHeight",function(o){var a=i.itemsRef&&i.itemsRef[o];if(i.state.hasMount&&a&&a.children.length){var l=a.children[0].getElementsByTagName("img")||[];if(l.length>0){var c=l[0];if(!c.complete){var u=function m(){i.forceUpdate(),c.removeEventListener("load",m)};c.addEventListener("load",u)}}var h=l[0]||a.children[0],f=h.clientHeight;return f>0?f:null}return null});var s={initialized:!1,previousItem:r.selectedItem,selectedItem:r.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:r.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return i.animationHandler=typeof r.animationHandler=="function"&&r.animationHandler||r.animationHandler==="fade"&&Hy.fadeAnimationHandler||Hy.slideAnimationHandler,i.state=Po(Po({},s),i.animationHandler(r,s)),i}return OSe(n,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(i,s){!i.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!i.autoFocus&&this.props.autoFocus&&this.forceFocus(),s.swiping&&!this.state.swiping&&this.setState(Po({},this.props.stopSwipingHandler(this.props,this.state))),(i.selectedItem!==this.props.selectedItem||i.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),i.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var i=this;this.bindEvents(),this.state.autoPlay&&hn.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var s=i.getInitialImage();s&&!s.complete?s.addEventListener("load",i.setMountState):i.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var i=this.carouselWrapperRef;this.props.stopOnHover&&i&&(i.addEventListener("mouseenter",this.stopOnHover),i.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var i=this.carouselWrapperRef;this.props.stopOnHover&&i&&(i.removeEventListener("mouseenter",this.stopOnHover),i.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,U2.default)().addEventListener("resize",this.updateSizes),(0,U2.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,k2.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,U2.default)().removeEventListener("resize",this.updateSizes),(0,U2.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var i=this.getInitialImage();i&&i.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,k2.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var i;(i=this.carouselWrapperRef)===null||i===void 0||i.focus()}},{key:"renderItems",value:function(i){var s=this;return this.props.children?hn.Children.map(this.props.children,function(o,a){var l=a===s.state.selectedItem,c=a===s.state.previousItem,u=l&&s.state.selectedStyle||c&&s.state.prevStyle||s.state.slideStyle||{};s.props.centerMode&&s.props.axis==="horizontal"&&(u=Po(Po({},u),{},{minWidth:s.props.centerSlidePercentage+"%"})),s.state.swiping&&s.state.swipeMovementStarted&&(u=Po(Po({},u),{},{pointerEvents:"none"}));var h={ref:function(m){return s.setItemsRef(m,a)},key:"itemKey"+a+(i?"clone":""),className:pl.default.ITEM(!0,a===s.state.selectedItem,a===s.state.previousItem),onClick:s.handleClickItem.bind(s,a,o),style:u};return hn.default.createElement("li",h,s.props.renderItem(o,{isSelected:a===s.state.selectedItem,isPrevious:a===s.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var i=this,s=this.props,o=s.showIndicators,a=s.labels,l=s.renderIndicator,c=s.children;return o?hn.default.createElement("ul",{className:"control-dots"},hn.Children.map(c,function(u,h){return l&&l(i.changeItem(h),h===i.state.selectedItem,h,a.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?hn.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,hn.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||hn.Children.count(this.props.children)===0?null:hn.default.createElement(PSe.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var i=this;if(!this.props.children||hn.Children.count(this.props.children)===0)return null;var s=this.props.swipeable&&hn.Children.count(this.props.children)>1,o=this.props.axis==="horizontal",a=this.props.showArrows&&hn.Children.count(this.props.children)>1,l=a&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,c=a&&(this.state.selectedItem<hn.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,u=this.renderItems(!0),h=u.shift(),f=u.pop(),m={className:pl.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},g={};if(o){if(m.onSwipeLeft=this.onSwipeForward,m.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var E=this.getVariableItemHeight(this.state.selectedItem);g.height=E||"auto"}}else m.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,m.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,m.style=Po(Po({},m.style),{},{height:this.state.itemSize}),g.height=this.state.itemSize;return hn.default.createElement("div",{"aria-label":this.props.ariaLabel,className:pl.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},hn.default.createElement("div",{className:pl.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,l,this.props.labels.leftArrow),hn.default.createElement("div",{className:pl.default.WRAPPER(!0,this.props.axis),style:g},s?hn.default.createElement(BSe.default,XC({tagName:"ul",innerRef:this.setListRef},m,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&f,this.renderItems(),this.props.infiniteLoop&&h):hn.default.createElement("ul",{className:pl.default.SLIDER(!0,this.state.swiping),ref:function(A){return i.setListRef(A)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&f,this.renderItems(),this.props.infiniteLoop&&h)),this.props.renderArrowNext(this.onClickNext,c,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),n}(hn.default.Component);V6.default=D7;Ht(D7,"displayName","Carousel");Ht(D7,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:Tm.noop,onClickThumb:Tm.noop,onChange:Tm.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(e,n,r){return hn.default.createElement("button",{type:"button","aria-label":r,className:pl.default.ARROW_PREV(!n),onClick:e})},renderArrowNext:function(e,n,r){return hn.default.createElement("button",{type:"button","aria-label":r,className:pl.default.ARROW_NEXT(!n),onClick:e})},renderIndicator:function(e,n,r,i){return hn.default.createElement("li",{className:pl.default.DOT(n),onClick:e,onKeyDown:e,value:r,key:r,role:"button",tabIndex:0,"aria-label":"".concat(i," ").concat(r+1)})},renderItem:function(e){return e},renderThumbs:function(e){var n=hn.Children.map(e,function(r){var i=r;if(r.type!=="img"&&(i=hn.Children.toArray(r.props.children).find(function(s){return s.type==="img"})),!!i)return i});return n.filter(function(r){return r}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):n},statusFormatter:Tm.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:Hy.slideSwipeAnimationHandler,stopSwipingHandler:Hy.slideStopSwipingHandler});var GSe={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"CarouselProps",{enumerable:!0,get:function(){return n.CarouselProps}}),Object.defineProperty(t,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(V6),n=GSe,r=i(eA);function i(s){return s&&s.__esModule?s:{default:s}}})(R7);const HSe=({image:t,title:e})=>U.jsx("img",{src:t,alt:e,className:"w-full object-contain object-center lg:mx-1"}),QSe=()=>{const t=Q.useRef(null),e=Q.useRef(null),[n,r]=Q.useState(0),i=o=>{t.current&&e.current&&(e.current.slickGoTo(o),t.current.slickGoTo(o),r(o))},s={dots:!1,infinite:!0,speed:500,swipe:!1,slidesToShow:1,slidesToScroll:1,fade:!0,autoplay:!0,autoplaySpeed:6e3,pauseOnHover:!1,arrows:!1,cssEase:"ease-in-out"};return U.jsxs("div",{className:"h-[80vh] w-full min-h-[850px] lg:mx-36 relative overflow-hidden text-gray-900 text-9xl xl:text-[12vw]",children:[U.jsx(mj,{...s,className:"w-[100dvw] md:w-[75dvw] lg:w-[60dvw] xl:w-[43dvw]",ref:t,children:cO.map((o,a)=>U.jsx("div",{children:U.jsx(HSe,{image:o.image,title:o.title})},a))}),U.jsx("div",{className:"absolute bottom-0 right-2.5 md:bottom-10 md:right-10 lg:bottom-[12rem] xl:bottom-[22%] lg:right-20 xl:right-[18%] 2xl:right-[20%] bg-[#1d1836] text-white w-[95dvw] md:w-[28rem] lg:w-[25rem] xl:lg:w-[30rem] 2xl:w-[769px] h-[21rem] md:h-[15rem] lg:h-[20rem] xl:h-[25rem] 2xl:h-[31.5rem] rounded-lg lg:rounded-none",children:U.jsx(R7.Carousel,{className:"",selectedItem:n,showIndicators:!1,showThumbs:!1,showArrows:!1,showStatus:!1,swipeable:!1,autoPlay:!0,infiniteLoop:!0,interval:6e3,stopOnHover:!1,children:cO.map((o,a)=>U.jsxs("div",{className:"text-left flex flex-col gap-5 lg:gap-8 xl:gap-12 2xl:gap-[95px] px-2.5 lg:px-5 xl:px-8 2xl:px-[49px] pt-4 lg:pt-8 xl:pt-12 2xl:pt-[90px]",children:[U.jsxs("div",{className:"text-gray-600 text-[10px] sm:text-sm lg:text-xs xl:text-sm 2xl:text-[20px] font-medium flex gap-5",children:[U.jsx("p",{className:`cursor-pointer ${o.title==="Overview"&&"text-white font-semibold"}`,onClick:()=>{i(0)},children:"01 overview"}),U.jsx("p",{className:`cursor-pointer ${o.title==="Specialties"&&"text-white font-semibold"}`,onClick:()=>{i(1)},children:"02 specialties"})]}),U.jsxs("div",{className:"flex flex-col gap-2 lg:gap-4 2xl:gap-[26px]",children:[U.jsx("h1",{className:"text-lg md:text-xl xl:text-3xl 2xl:text-[32px] font-medium tracking-wide",children:o.title}),U.jsxs("div",{className:"text-sm md:text-xs xl:text-sm 2xl:text-[18px] flex flex-col gap-1 lg:gap-3 2xl:gap-5 tracking-wide 2xl:w-[586px] 2xl:h-[212px]",children:[U.jsx("p",{children:o.paragraphs[0]}),o.paragraphs[1]&&U.jsx("p",{children:o.paragraphs[1]})]})]})]},a))})})]})},zSe=()=>U.jsx(U.Fragment,{children:U.jsxs("div",{className:" pt-20 bg-[#050816]",children:[U.jsx("h2",{className:`${ws.sectionHeadText} lg:text-8xl text-[#915EFF]`,children:"About Me"}),U.jsxs("div",{className:"  lg:mx-60 mx-10 md:mx-36 text-center",children:[U.jsx("h1",{className:"text-2xl md:text-3xl lg:text-5xl font-bold mt-10 lg:mt-20 text-yellow-500 text-center",children:"What I do ?"}),U.jsx("div",{className:"text-md lg:text-xl font-sans mt-3 lg:mt-10 text-gray-300 text-justify",children:U.jsxs("p",{children:["As a MERN stack and front-end developer, I am responsible for creating dynamic and interactive web applications using MongoDB, ExpressJs, ReactJs, and NodeJs. I use"," ",U.jsx("span",{className:"text-yellow-400 text-bold",children:"MongoDB"})," as my database to store and retrieve data in JSON format,"," ",U.jsx("span",{className:"text-yellow-400 text-bold",children:"Express"})," as my web framework to handle server-side logic and routing,"," ",U.jsx("span",{className:"text-yellow-400 text-bold",children:"React"})," as my UI library to build user interfaces with components and state management, and"," ",U.jsx("span",{className:"text-yellow-400 text-bold",children:"Node.js"})," as my runtime environment to execute JavaScript code on the server. I also use various tools and libraries to enhance my development process, such as Webpack, Babel,"," ",U.jsx("span",{className:"text-yellow-400 text-bold",children:"Redux"}),","," ",U.jsx("span",{className:"text-yellow-400 text-bold",children:"Axios"}),","," ",U.jsx("span",{className:"text-yellow-400 text-bold",children:"Mongoose"}),","," ",U.jsx("span",{className:"text-yellow-400 text-bold",children:"Jest"}),", and more. I write clean, modular, and testable code that follows best practices and industry standards. I collaborate with other developers, designers, and stakeholders to deliver high-quality products that meet the client’s needs and expectations. I am always learning new skills and technologies to keep up with the latest trends and innovations in web development. and I am always Open to help"," ",U.jsx("span",{className:"text-yellow-400 text-bold",children:"Entrepreneurs"})," ","and Startups to build their products."]})})]}),U.jsx("h1",{className:"text-2xl md:text-3xl lg:text-5xl font-bold mt-10 lg:mt-20 text-yellow-500 text-center",children:"Way I do It"}),U.jsx("div",{className:"w-full flex flex-col  mt-5 lg:mt-10 overflow-hidden",children:U.jsx(QSe,{})}),U.jsx("h1",{className:"text-2xl md:text-3xl lg:text-5xl font-bold mt-10 lg:mt-20 xl:-mt-10 2xl:mt-10 text-yellow-500 text-center",children:"Who am I ?"}),U.jsxs("div",{className:"grid lg:grid-cols-3 gap-0 h-[77dvh] bg-[#050816] sm:h-[50vh] md:h-[50dvh] xl:h-[30dvh] mt-2 lg:mt-5",children:[U.jsx(Hi.div,{variants:nf(1e3),className:"lg:col-span-1 bg-[#050816]",children:U.jsx("div",{className:"flex justify-center ",children:U.jsx("img",{className:"w-28 h-28 lg:w-64 lg:h-64 mt-5 lg:mb-8 mb-3 lg:mt-10 border-8 object-cover lg:border-spacing-7 border-[#ffffff] rounded-full",src:Ixe,alt:""})})}),U.jsx("div",{className:"w-full flex justify-center bg-[#050816] lg:col-span-2",children:U.jsxs(Hi.p,{variants:rf("","",.1,1),className:"mt-3 text-secondary text-[17px] text-justify max-w-3xl leading-[30px]  mx-10",children:["Hello, I'm Muhammad Juman, a passionate software developer with a strong foundation in TypeScript and JavaScript. My expertise extends to leading-edge frameworks such as React, Node.js, and Three.js. With a proven track record of delivering innovative solutions, I thrive on tackling complex challenges and transforming them into efficient, scalable, and user-friendly applications.",U.jsx("br",{}),U.jsx("br",{}),"I take pride in my ability to adapt quickly to new technologies and my dedication to close collaboration with clients. Together, we can turn your ideas into tangible, real-world solutions that make a difference. Let's work hand in hand to bring your vision to life and achieve remarkable results."]})})]})]})});var VSe=function(e){return WSe(e)&&!jSe(e)};function WSe(t){return!!t&&typeof t=="object"}function jSe(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||XSe(t)}var $Se=typeof Symbol=="function"&&Symbol.for,KSe=$Se?Symbol.for("react.element"):60103;function XSe(t){return t.$$typeof===KSe}function JSe(t){return Array.isArray(t)?[]:{}}function zy(t,e){return e.clone!==!1&&e.isMergeableObject(t)?t3(JSe(t),t,e):t}function YSe(t,e,n){return t.concat(e).map(function(r){return zy(r,n)})}function qSe(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(i){r[i]=zy(t[i],n)}),Object.keys(e).forEach(function(i){!n.isMergeableObject(e[i])||!t[i]?r[i]=zy(e[i],n):r[i]=t3(t[i],e[i],n)}),r}function t3(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||YSe,n.isMergeableObject=n.isMergeableObject||VSe;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):qSe(t,e,n):zy(e,n)}t3.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return t3(r,i,n)},{})};var YC=t3,ZSe=typeof global=="object"&&global&&global.Object===Object&&global;const wj=ZSe;var e4e=typeof self=="object"&&self&&self.Object===Object&&self,t4e=wj||e4e||Function("return this")();const Ja=t4e;var n4e=Ja.Symbol;const lu=n4e;var Tj=Object.prototype,r4e=Tj.hasOwnProperty,i4e=Tj.toString,am=lu?lu.toStringTag:void 0;function s4e(t){var e=r4e.call(t,am),n=t[am];try{t[am]=void 0;var r=!0}catch{}var i=i4e.call(t);return r&&(e?t[am]=n:delete t[am]),i}var o4e=Object.prototype,a4e=o4e.toString;function l4e(t){return a4e.call(t)}var c4e="[object Null]",u4e="[object Undefined]",UO=lu?lu.toStringTag:void 0;function df(t){return t==null?t===void 0?u4e:c4e:UO&&UO in Object(t)?s4e(t):l4e(t)}function Ij(t,e){return function(n){return t(e(n))}}var h4e=Ij(Object.getPrototypeOf,Object);const L7=h4e;function pf(t){return t!=null&&typeof t=="object"}var f4e="[object Object]",d4e=Function.prototype,p4e=Object.prototype,bj=d4e.toString,m4e=p4e.hasOwnProperty,g4e=bj.call(Object);function GO(t){if(!pf(t)||df(t)!=f4e)return!1;var e=L7(t);if(e===null)return!0;var n=m4e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&bj.call(n)==g4e}var HO=Array.isArray,QO=Object.keys,A4e=Object.prototype.hasOwnProperty,v4e=typeof Element<"u";function qC(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=HO(t),r=HO(e),i,s,o;if(n&&r){if(s=t.length,s!=e.length)return!1;for(i=s;i--!==0;)if(!qC(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var a=t instanceof Date,l=e instanceof Date;if(a!=l)return!1;if(a&&l)return t.getTime()==e.getTime();var c=t instanceof RegExp,u=e instanceof RegExp;if(c!=u)return!1;if(c&&u)return t.toString()==e.toString();var h=QO(t);if(s=h.length,s!==QO(e).length)return!1;for(i=s;i--!==0;)if(!A4e.call(e,h[i]))return!1;if(v4e&&t instanceof Element&&e instanceof Element)return t===e;for(i=s;i--!==0;)if(o=h[i],!(o==="_owner"&&t.$$typeof)&&!qC(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}var y4e=function(e,n){try{return qC(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const ih=Gp(y4e);var x4e=!0;function E4e(t,e){if(!x4e){if(t)return;var n="Warning: "+e;typeof console<"u"&&console.warn(n);try{throw Error(n)}catch{}}}function _4e(){this.__data__=[],this.size=0}function Mj(t,e){return t===e||t!==t&&e!==e}function K6(t,e){for(var n=t.length;n--;)if(Mj(t[n][0],e))return n;return-1}var S4e=Array.prototype,C4e=S4e.splice;function w4e(t){var e=this.__data__,n=K6(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():C4e.call(e,n,1),--this.size,!0}function T4e(t){var e=this.__data__,n=K6(e,t);return n<0?void 0:e[n][1]}function I4e(t){return K6(this.__data__,t)>-1}function b4e(t,e){var n=this.__data__,r=K6(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Wl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Wl.prototype.clear=_4e;Wl.prototype.delete=w4e;Wl.prototype.get=T4e;Wl.prototype.has=I4e;Wl.prototype.set=b4e;function M4e(){this.__data__=new Wl,this.size=0}function R4e(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function B4e(t){return this.__data__.get(t)}function P4e(t){return this.__data__.has(t)}function rA(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var D4e="[object AsyncFunction]",L4e="[object Function]",O4e="[object GeneratorFunction]",F4e="[object Proxy]";function Rj(t){if(!rA(t))return!1;var e=df(t);return e==L4e||e==O4e||e==D4e||e==F4e}var N4e=Ja["__core-js_shared__"];const H_=N4e;var zO=function(){var t=/[^.]+$/.exec(H_&&H_.keys&&H_.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function k4e(t){return!!zO&&zO in t}var U4e=Function.prototype,G4e=U4e.toString;function mf(t){if(t!=null){try{return G4e.call(t)}catch{}try{return t+""}catch{}}return""}var H4e=/[\\^$.*+?()[\]{}|]/g,Q4e=/^\[object .+?Constructor\]$/,z4e=Function.prototype,V4e=Object.prototype,W4e=z4e.toString,j4e=V4e.hasOwnProperty,$4e=RegExp("^"+W4e.call(j4e).replace(H4e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function K4e(t){if(!rA(t)||k4e(t))return!1;var e=Rj(t)?$4e:Q4e;return e.test(mf(t))}function X4e(t,e){return t==null?void 0:t[e]}function gf(t,e){var n=X4e(t,e);return K4e(n)?n:void 0}var J4e=gf(Ja,"Map");const n3=J4e;var Y4e=gf(Object,"create");const r3=Y4e;function q4e(){this.__data__=r3?r3(null):{},this.size=0}function Z4e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var eCe="__lodash_hash_undefined__",tCe=Object.prototype,nCe=tCe.hasOwnProperty;function rCe(t){var e=this.__data__;if(r3){var n=e[t];return n===eCe?void 0:n}return nCe.call(e,t)?e[t]:void 0}var iCe=Object.prototype,sCe=iCe.hasOwnProperty;function oCe(t){var e=this.__data__;return r3?e[t]!==void 0:sCe.call(e,t)}var aCe="__lodash_hash_undefined__";function lCe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r3&&e===void 0?aCe:e,this}function jh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}jh.prototype.clear=q4e;jh.prototype.delete=Z4e;jh.prototype.get=rCe;jh.prototype.has=oCe;jh.prototype.set=lCe;function cCe(){this.size=0,this.__data__={hash:new jh,map:new(n3||Wl),string:new jh}}function uCe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function X6(t,e){var n=t.__data__;return uCe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function hCe(t){var e=X6(this,t).delete(t);return this.size-=e?1:0,e}function fCe(t){return X6(this,t).get(t)}function dCe(t){return X6(this,t).has(t)}function pCe(t,e){var n=X6(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function _u(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}_u.prototype.clear=cCe;_u.prototype.delete=hCe;_u.prototype.get=fCe;_u.prototype.has=dCe;_u.prototype.set=pCe;var mCe=200;function gCe(t,e){var n=this.__data__;if(n instanceof Wl){var r=n.__data__;if(!n3||r.length<mCe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new _u(r)}return n.set(t,e),this.size=n.size,this}function i0(t){var e=this.__data__=new Wl(t);this.size=e.size}i0.prototype.clear=M4e;i0.prototype.delete=R4e;i0.prototype.get=B4e;i0.prototype.has=P4e;i0.prototype.set=gCe;function ACe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var vCe=function(){try{var t=gf(Object,"defineProperty");return t({},"",{}),t}catch{}}();const VO=vCe;function Bj(t,e,n){e=="__proto__"&&VO?VO(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var yCe=Object.prototype,xCe=yCe.hasOwnProperty;function Pj(t,e,n){var r=t[e];(!(xCe.call(t,e)&&Mj(r,n))||n===void 0&&!(e in t))&&Bj(t,e,n)}function J6(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?Bj(n,a,l):Pj(n,a,l)}return n}function ECe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var _Ce="[object Arguments]";function WO(t){return pf(t)&&df(t)==_Ce}var Dj=Object.prototype,SCe=Dj.hasOwnProperty,CCe=Dj.propertyIsEnumerable,wCe=WO(function(){return arguments}())?WO:function(t){return pf(t)&&SCe.call(t,"callee")&&!CCe.call(t,"callee")};const TCe=wCe;var ICe=Array.isArray;const iA=ICe;function bCe(){return!1}var Lj=typeof de=="object"&&de&&!de.nodeType&&de,jO=Lj&&typeof Gn=="object"&&Gn&&!Gn.nodeType&&Gn,MCe=jO&&jO.exports===Lj,$O=MCe?Ja.Buffer:void 0,RCe=$O?$O.isBuffer:void 0,BCe=RCe||bCe;const Oj=BCe;var PCe=9007199254740991,DCe=/^(?:0|[1-9]\d*)$/;function LCe(t,e){var n=typeof t;return e=e??PCe,!!e&&(n=="number"||n!="symbol"&&DCe.test(t))&&t>-1&&t%1==0&&t<e}var OCe=9007199254740991;function Fj(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=OCe}var FCe="[object Arguments]",NCe="[object Array]",kCe="[object Boolean]",UCe="[object Date]",GCe="[object Error]",HCe="[object Function]",QCe="[object Map]",zCe="[object Number]",VCe="[object Object]",WCe="[object RegExp]",jCe="[object Set]",$Ce="[object String]",KCe="[object WeakMap]",XCe="[object ArrayBuffer]",JCe="[object DataView]",YCe="[object Float32Array]",qCe="[object Float64Array]",ZCe="[object Int8Array]",ewe="[object Int16Array]",twe="[object Int32Array]",nwe="[object Uint8Array]",rwe="[object Uint8ClampedArray]",iwe="[object Uint16Array]",swe="[object Uint32Array]",Ln={};Ln[YCe]=Ln[qCe]=Ln[ZCe]=Ln[ewe]=Ln[twe]=Ln[nwe]=Ln[rwe]=Ln[iwe]=Ln[swe]=!0;Ln[FCe]=Ln[NCe]=Ln[XCe]=Ln[kCe]=Ln[JCe]=Ln[UCe]=Ln[GCe]=Ln[HCe]=Ln[QCe]=Ln[zCe]=Ln[VCe]=Ln[WCe]=Ln[jCe]=Ln[$Ce]=Ln[KCe]=!1;function owe(t){return pf(t)&&Fj(t.length)&&!!Ln[df(t)]}function O7(t){return function(e){return t(e)}}var Nj=typeof de=="object"&&de&&!de.nodeType&&de,eg=Nj&&typeof Gn=="object"&&Gn&&!Gn.nodeType&&Gn,awe=eg&&eg.exports===Nj,Q_=awe&&wj.process,lwe=function(){try{var t=eg&&eg.require&&eg.require("util").types;return t||Q_&&Q_.binding&&Q_.binding("util")}catch{}}();const Lp=lwe;var KO=Lp&&Lp.isTypedArray,cwe=KO?O7(KO):owe;const uwe=cwe;var hwe=Object.prototype,fwe=hwe.hasOwnProperty;function kj(t,e){var n=iA(t),r=!n&&TCe(t),i=!n&&!r&&Oj(t),s=!n&&!r&&!i&&uwe(t),o=n||r||i||s,a=o?ECe(t.length,String):[],l=a.length;for(var c in t)(e||fwe.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||LCe(c,l)))&&a.push(c);return a}var dwe=Object.prototype;function F7(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||dwe;return t===n}var pwe=Ij(Object.keys,Object);const mwe=pwe;var gwe=Object.prototype,Awe=gwe.hasOwnProperty;function vwe(t){if(!F7(t))return mwe(t);var e=[];for(var n in Object(t))Awe.call(t,n)&&n!="constructor"&&e.push(n);return e}function Uj(t){return t!=null&&Fj(t.length)&&!Rj(t)}function N7(t){return Uj(t)?kj(t):vwe(t)}function ywe(t,e){return t&&J6(e,N7(e),t)}function xwe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Ewe=Object.prototype,_we=Ewe.hasOwnProperty;function Swe(t){if(!rA(t))return xwe(t);var e=F7(t),n=[];for(var r in t)r=="constructor"&&(e||!_we.call(t,r))||n.push(r);return n}function k7(t){return Uj(t)?kj(t,!0):Swe(t)}function Cwe(t,e){return t&&J6(e,k7(e),t)}var Gj=typeof de=="object"&&de&&!de.nodeType&&de,XO=Gj&&typeof Gn=="object"&&Gn&&!Gn.nodeType&&Gn,wwe=XO&&XO.exports===Gj,JO=wwe?Ja.Buffer:void 0,YO=JO?JO.allocUnsafe:void 0;function Twe(t,e){if(e)return t.slice();var n=t.length,r=YO?YO(n):new t.constructor(n);return t.copy(r),r}function Hj(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function Iwe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function Qj(){return[]}var bwe=Object.prototype,Mwe=bwe.propertyIsEnumerable,qO=Object.getOwnPropertySymbols,Rwe=qO?function(t){return t==null?[]:(t=Object(t),Iwe(qO(t),function(e){return Mwe.call(t,e)}))}:Qj;const U7=Rwe;function Bwe(t,e){return J6(t,U7(t),e)}function zj(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Pwe=Object.getOwnPropertySymbols,Dwe=Pwe?function(t){for(var e=[];t;)zj(e,U7(t)),t=L7(t);return e}:Qj;const Vj=Dwe;function Lwe(t,e){return J6(t,Vj(t),e)}function Wj(t,e,n){var r=e(t);return iA(t)?r:zj(r,n(t))}function Owe(t){return Wj(t,N7,U7)}function Fwe(t){return Wj(t,k7,Vj)}var Nwe=gf(Ja,"DataView");const ZC=Nwe;var kwe=gf(Ja,"Promise");const ew=kwe;var Uwe=gf(Ja,"Set");const tw=Uwe;var Gwe=gf(Ja,"WeakMap");const nw=Gwe;var ZO="[object Map]",Hwe="[object Object]",eF="[object Promise]",tF="[object Set]",nF="[object WeakMap]",rF="[object DataView]",Qwe=mf(ZC),zwe=mf(n3),Vwe=mf(ew),Wwe=mf(tw),jwe=mf(nw),sh=df;(ZC&&sh(new ZC(new ArrayBuffer(1)))!=rF||n3&&sh(new n3)!=ZO||ew&&sh(ew.resolve())!=eF||tw&&sh(new tw)!=tF||nw&&sh(new nw)!=nF)&&(sh=function(t){var e=df(t),n=e==Hwe?t.constructor:void 0,r=n?mf(n):"";if(r)switch(r){case Qwe:return rF;case zwe:return ZO;case Vwe:return eF;case Wwe:return tF;case jwe:return nF}return e});const G7=sh;var $we=Object.prototype,Kwe=$we.hasOwnProperty;function Xwe(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Kwe.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Jwe=Ja.Uint8Array;const iF=Jwe;function H7(t){var e=new t.constructor(t.byteLength);return new iF(e).set(new iF(t)),e}function Ywe(t,e){var n=e?H7(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var qwe=/\w*$/;function Zwe(t){var e=new t.constructor(t.source,qwe.exec(t));return e.lastIndex=t.lastIndex,e}var sF=lu?lu.prototype:void 0,oF=sF?sF.valueOf:void 0;function e9e(t){return oF?Object(oF.call(t)):{}}function t9e(t,e){var n=e?H7(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var n9e="[object Boolean]",r9e="[object Date]",i9e="[object Map]",s9e="[object Number]",o9e="[object RegExp]",a9e="[object Set]",l9e="[object String]",c9e="[object Symbol]",u9e="[object ArrayBuffer]",h9e="[object DataView]",f9e="[object Float32Array]",d9e="[object Float64Array]",p9e="[object Int8Array]",m9e="[object Int16Array]",g9e="[object Int32Array]",A9e="[object Uint8Array]",v9e="[object Uint8ClampedArray]",y9e="[object Uint16Array]",x9e="[object Uint32Array]";function E9e(t,e,n){var r=t.constructor;switch(e){case u9e:return H7(t);case n9e:case r9e:return new r(+t);case h9e:return Ywe(t,n);case f9e:case d9e:case p9e:case m9e:case g9e:case A9e:case v9e:case y9e:case x9e:return t9e(t,n);case i9e:return new r;case s9e:case l9e:return new r(t);case o9e:return Zwe(t);case a9e:return new r;case c9e:return e9e(t)}}var aF=Object.create,_9e=function(){function t(){}return function(e){if(!rA(e))return{};if(aF)return aF(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const S9e=_9e;function C9e(t){return typeof t.constructor=="function"&&!F7(t)?S9e(L7(t)):{}}var w9e="[object Map]";function T9e(t){return pf(t)&&G7(t)==w9e}var lF=Lp&&Lp.isMap,I9e=lF?O7(lF):T9e;const b9e=I9e;var M9e="[object Set]";function R9e(t){return pf(t)&&G7(t)==M9e}var cF=Lp&&Lp.isSet,B9e=cF?O7(cF):R9e;const P9e=B9e;var D9e=1,L9e=2,O9e=4,jj="[object Arguments]",F9e="[object Array]",N9e="[object Boolean]",k9e="[object Date]",U9e="[object Error]",$j="[object Function]",G9e="[object GeneratorFunction]",H9e="[object Map]",Q9e="[object Number]",Kj="[object Object]",z9e="[object RegExp]",V9e="[object Set]",W9e="[object String]",j9e="[object Symbol]",$9e="[object WeakMap]",K9e="[object ArrayBuffer]",X9e="[object DataView]",J9e="[object Float32Array]",Y9e="[object Float64Array]",q9e="[object Int8Array]",Z9e="[object Int16Array]",eTe="[object Int32Array]",tTe="[object Uint8Array]",nTe="[object Uint8ClampedArray]",rTe="[object Uint16Array]",iTe="[object Uint32Array]",wn={};wn[jj]=wn[F9e]=wn[K9e]=wn[X9e]=wn[N9e]=wn[k9e]=wn[J9e]=wn[Y9e]=wn[q9e]=wn[Z9e]=wn[eTe]=wn[H9e]=wn[Q9e]=wn[Kj]=wn[z9e]=wn[V9e]=wn[W9e]=wn[j9e]=wn[tTe]=wn[nTe]=wn[rTe]=wn[iTe]=!0;wn[U9e]=wn[$j]=wn[$9e]=!1;function xv(t,e,n,r,i,s){var o,a=e&D9e,l=e&L9e,c=e&O9e;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!rA(t))return t;var u=iA(t);if(u){if(o=Xwe(t),!a)return Hj(t,o)}else{var h=G7(t),f=h==$j||h==G9e;if(Oj(t))return Twe(t,a);if(h==Kj||h==jj||f&&!i){if(o=l||f?{}:C9e(t),!a)return l?Lwe(t,Cwe(o,t)):Bwe(t,ywe(o,t))}else{if(!wn[h])return i?t:{};o=E9e(t,h,a)}}s||(s=new i0);var m=s.get(t);if(m)return m;s.set(t,o),P9e(t)?t.forEach(function(x){o.add(xv(x,e,n,x,t,s))}):b9e(t)&&t.forEach(function(x,A){o.set(A,xv(x,e,n,A,t,s))});var g=c?l?Fwe:Owe:l?k7:N7,E=u?void 0:g(t);return ACe(E||t,function(x,A){E&&(A=x,x=t[A]),Pj(o,A,xv(x,e,n,A,t,s))}),o}var sTe=4;function uF(t){return xv(t,sTe)}function Xj(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var oTe="[object Symbol]";function Q7(t){return typeof t=="symbol"||pf(t)&&df(t)==oTe}var aTe="Expected a function";function z7(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(aTe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(z7.Cache||_u),n}z7.Cache=_u;var lTe=500;function cTe(t){var e=z7(t,function(r){return n.size===lTe&&n.clear(),r}),n=e.cache;return e}var uTe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hTe=/\\(\\)?/g,fTe=cTe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(uTe,function(n,r,i,s){e.push(i?s.replace(hTe,"$1"):r||n)}),e});const dTe=fTe;var pTe=1/0;function mTe(t){if(typeof t=="string"||Q7(t))return t;var e=t+"";return e=="0"&&1/t==-pTe?"-0":e}var gTe=1/0,hF=lu?lu.prototype:void 0,fF=hF?hF.toString:void 0;function Jj(t){if(typeof t=="string")return t;if(iA(t))return Xj(t,Jj)+"";if(Q7(t))return fF?fF.call(t):"";var e=t+"";return e=="0"&&1/t==-gTe?"-0":e}function ATe(t){return t==null?"":Jj(t)}function Yj(t){return iA(t)?Xj(t,mTe):Q7(t)?[t]:Hj(dTe(ATe(t)))}var qj={exports:{}},pn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ei=typeof Symbol=="function"&&Symbol.for,V7=ei?Symbol.for("react.element"):60103,W7=ei?Symbol.for("react.portal"):60106,Y6=ei?Symbol.for("react.fragment"):60107,q6=ei?Symbol.for("react.strict_mode"):60108,Z6=ei?Symbol.for("react.profiler"):60114,ex=ei?Symbol.for("react.provider"):60109,tx=ei?Symbol.for("react.context"):60110,j7=ei?Symbol.for("react.async_mode"):60111,nx=ei?Symbol.for("react.concurrent_mode"):60111,rx=ei?Symbol.for("react.forward_ref"):60112,ix=ei?Symbol.for("react.suspense"):60113,vTe=ei?Symbol.for("react.suspense_list"):60120,sx=ei?Symbol.for("react.memo"):60115,ox=ei?Symbol.for("react.lazy"):60116,yTe=ei?Symbol.for("react.block"):60121,xTe=ei?Symbol.for("react.fundamental"):60117,ETe=ei?Symbol.for("react.responder"):60118,_Te=ei?Symbol.for("react.scope"):60119;function ks(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case V7:switch(t=t.type,t){case j7:case nx:case Y6:case Z6:case q6:case ix:return t;default:switch(t=t&&t.$$typeof,t){case tx:case rx:case ox:case sx:case ex:return t;default:return e}}case W7:return e}}}function Zj(t){return ks(t)===nx}pn.AsyncMode=j7;pn.ConcurrentMode=nx;pn.ContextConsumer=tx;pn.ContextProvider=ex;pn.Element=V7;pn.ForwardRef=rx;pn.Fragment=Y6;pn.Lazy=ox;pn.Memo=sx;pn.Portal=W7;pn.Profiler=Z6;pn.StrictMode=q6;pn.Suspense=ix;pn.isAsyncMode=function(t){return Zj(t)||ks(t)===j7};pn.isConcurrentMode=Zj;pn.isContextConsumer=function(t){return ks(t)===tx};pn.isContextProvider=function(t){return ks(t)===ex};pn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===V7};pn.isForwardRef=function(t){return ks(t)===rx};pn.isFragment=function(t){return ks(t)===Y6};pn.isLazy=function(t){return ks(t)===ox};pn.isMemo=function(t){return ks(t)===sx};pn.isPortal=function(t){return ks(t)===W7};pn.isProfiler=function(t){return ks(t)===Z6};pn.isStrictMode=function(t){return ks(t)===q6};pn.isSuspense=function(t){return ks(t)===ix};pn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Y6||t===nx||t===Z6||t===q6||t===ix||t===vTe||typeof t=="object"&&t!==null&&(t.$$typeof===ox||t.$$typeof===sx||t.$$typeof===ex||t.$$typeof===tx||t.$$typeof===rx||t.$$typeof===xTe||t.$$typeof===ETe||t.$$typeof===_Te||t.$$typeof===yTe)};pn.typeOf=ks;qj.exports=pn;var STe=qj.exports,e$=STe,CTe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},wTe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},t$={};t$[e$.ForwardRef]=CTe;t$[e$.Memo]=wTe;function Wr(){return Wr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wr.apply(this,arguments)}function n$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var ax=Q.createContext(void 0);ax.displayName="FormikContext";ax.Provider;ax.Consumer;function TTe(){var t=Q.useContext(ax);return t||E4e(!1),t}var Do=function(e){return typeof e=="function"},lx=function(e){return e!==null&&typeof e=="object"},ITe=function(e){return String(Math.floor(Number(e)))===e},z_=function(e){return Object.prototype.toString.call(e)==="[object String]"},V_=function(e){return lx(e)&&Do(e.then)};function vs(t,e,n,r){r===void 0&&(r=0);for(var i=Yj(e);t&&r<i.length;)t=t[i[r++]];return r!==i.length&&!t||t===void 0?n:t}function Bh(t,e,n){for(var r=uF(t),i=r,s=0,o=Yj(e);s<o.length-1;s++){var a=o[s],l=vs(t,o.slice(0,s+1));if(l&&(lx(l)||Array.isArray(l)))i=i[a]=uF(l);else{var c=o[s+1];i=i[a]=ITe(c)&&Number(c)>=0?[]:{}}}return(s===0?t:i)[o[s]]===n?t:(n===void 0?delete i[o[s]]:i[o[s]]=n,s===0&&n===void 0&&delete r[o[s]],r)}function r$(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,s=Object.keys(t);i<s.length;i++){var o=s[i],a=t[o];lx(a)?n.get(a)||(n.set(a,!0),r[o]=Array.isArray(a)?[]:{},r$(a,e,n,r[o])):r[o]=e}return r}function bTe(t,e){switch(e.type){case"SET_VALUES":return Wr({},t,{values:e.payload});case"SET_TOUCHED":return Wr({},t,{touched:e.payload});case"SET_ERRORS":return ih(t.errors,e.payload)?t:Wr({},t,{errors:e.payload});case"SET_STATUS":return Wr({},t,{status:e.payload});case"SET_ISSUBMITTING":return Wr({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return Wr({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return Wr({},t,{values:Bh(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return Wr({},t,{touched:Bh(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return Wr({},t,{errors:Bh(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return Wr({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return Wr({},t,{touched:r$(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return Wr({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Wr({},t,{isSubmitting:!1});default:return t}}var Wu={},G2={};function MTe(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,i=r===void 0?!0:r,s=t.validateOnMount,o=s===void 0?!1:s,a=t.isInitialValid,l=t.enableReinitialize,c=l===void 0?!1:l,u=t.onSubmit,h=n$(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),f=Wr({validateOnChange:n,validateOnBlur:i,validateOnMount:o,onSubmit:u},h),m=Q.useRef(f.initialValues),g=Q.useRef(f.initialErrors||Wu),E=Q.useRef(f.initialTouched||G2),x=Q.useRef(f.initialStatus),A=Q.useRef(!1),v=Q.useRef({});Q.useEffect(function(){return A.current=!0,function(){A.current=!1}},[]);var y=Q.useState(0),S=y[1],w=Q.useRef({values:f.initialValues,errors:f.initialErrors||Wu,touched:f.initialTouched||G2,status:f.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),T=w.current,b=Q.useCallback(function(ie){var N=w.current;w.current=bTe(N,ie),N!==w.current&&S(function(D){return D+1})},[]),R=Q.useCallback(function(ie,N){return new Promise(function(D,ee){var pe=f.validate(ie,N);pe==null?D(Wu):V_(pe)?pe.then(function(fe){D(fe||Wu)},function(fe){ee(fe)}):D(pe)})},[f.validate]),M=Q.useCallback(function(ie,N){var D=f.validationSchema,ee=Do(D)?D(N):D,pe=N&&ee.validateAt?ee.validateAt(N,ie):BTe(ie,ee);return new Promise(function(fe,Ie){pe.then(function(){fe(Wu)},function(We){We.name==="ValidationError"?fe(RTe(We)):Ie(We)})})},[f.validationSchema]),B=Q.useCallback(function(ie,N){return new Promise(function(D){return D(v.current[ie].validate(N))})},[]),L=Q.useCallback(function(ie){var N=Object.keys(v.current).filter(function(ee){return Do(v.current[ee].validate)}),D=N.length>0?N.map(function(ee){return B(ee,vs(ie,ee))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(D).then(function(ee){return ee.reduce(function(pe,fe,Ie){return fe==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||fe&&(pe=Bh(pe,N[Ie],fe)),pe},{})})},[B]),G=Q.useCallback(function(ie){return Promise.all([L(ie),f.validationSchema?M(ie):{},f.validate?R(ie):{}]).then(function(N){var D=N[0],ee=N[1],pe=N[2],fe=YC.all([D,ee,pe],{arrayMerge:PTe});return fe})},[f.validate,f.validationSchema,L,R,M]),F=Xs(function(ie){return ie===void 0&&(ie=T.values),b({type:"SET_ISVALIDATING",payload:!0}),G(ie).then(function(N){return A.current&&(b({type:"SET_ISVALIDATING",payload:!1}),b({type:"SET_ERRORS",payload:N})),N})});Q.useEffect(function(){o&&A.current===!0&&ih(m.current,f.initialValues)&&F(m.current)},[o,F]);var $=Q.useCallback(function(ie){var N=ie&&ie.values?ie.values:m.current,D=ie&&ie.errors?ie.errors:g.current?g.current:f.initialErrors||{},ee=ie&&ie.touched?ie.touched:E.current?E.current:f.initialTouched||{},pe=ie&&ie.status?ie.status:x.current?x.current:f.initialStatus;m.current=N,g.current=D,E.current=ee,x.current=pe;var fe=function(){b({type:"RESET_FORM",payload:{isSubmitting:!!ie&&!!ie.isSubmitting,errors:D,touched:ee,status:pe,values:N,isValidating:!!ie&&!!ie.isValidating,submitCount:ie&&ie.submitCount&&typeof ie.submitCount=="number"?ie.submitCount:0}})};if(f.onReset){var Ie=f.onReset(T.values,Se);V_(Ie)?Ie.then(fe):fe()}else fe()},[f.initialErrors,f.initialStatus,f.initialTouched]);Q.useEffect(function(){A.current===!0&&!ih(m.current,f.initialValues)&&c&&(m.current=f.initialValues,$(),o&&F(m.current))},[c,f.initialValues,$,o,F]),Q.useEffect(function(){c&&A.current===!0&&!ih(g.current,f.initialErrors)&&(g.current=f.initialErrors||Wu,b({type:"SET_ERRORS",payload:f.initialErrors||Wu}))},[c,f.initialErrors]),Q.useEffect(function(){c&&A.current===!0&&!ih(E.current,f.initialTouched)&&(E.current=f.initialTouched||G2,b({type:"SET_TOUCHED",payload:f.initialTouched||G2}))},[c,f.initialTouched]),Q.useEffect(function(){c&&A.current===!0&&!ih(x.current,f.initialStatus)&&(x.current=f.initialStatus,b({type:"SET_STATUS",payload:f.initialStatus}))},[c,f.initialStatus,f.initialTouched]);var W=Xs(function(ie){if(v.current[ie]&&Do(v.current[ie].validate)){var N=vs(T.values,ie),D=v.current[ie].validate(N);return V_(D)?(b({type:"SET_ISVALIDATING",payload:!0}),D.then(function(ee){return ee}).then(function(ee){b({type:"SET_FIELD_ERROR",payload:{field:ie,value:ee}}),b({type:"SET_ISVALIDATING",payload:!1})})):(b({type:"SET_FIELD_ERROR",payload:{field:ie,value:D}}),Promise.resolve(D))}else if(f.validationSchema)return b({type:"SET_ISVALIDATING",payload:!0}),M(T.values,ie).then(function(ee){return ee}).then(function(ee){b({type:"SET_FIELD_ERROR",payload:{field:ie,value:vs(ee,ie)}}),b({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),Z=Q.useCallback(function(ie,N){var D=N.validate;v.current[ie]={validate:D}},[]),q=Q.useCallback(function(ie){delete v.current[ie]},[]),k=Xs(function(ie,N){b({type:"SET_TOUCHED",payload:ie});var D=N===void 0?i:N;return D?F(T.values):Promise.resolve()}),J=Q.useCallback(function(ie){b({type:"SET_ERRORS",payload:ie})},[]),V=Xs(function(ie,N){var D=Do(ie)?ie(T.values):ie;b({type:"SET_VALUES",payload:D});var ee=N===void 0?n:N;return ee?F(D):Promise.resolve()}),H=Q.useCallback(function(ie,N){b({type:"SET_FIELD_ERROR",payload:{field:ie,value:N}})},[]),X=Xs(function(ie,N,D){b({type:"SET_FIELD_VALUE",payload:{field:ie,value:N}});var ee=D===void 0?n:D;return ee?F(Bh(T.values,ie,N)):Promise.resolve()}),he=Q.useCallback(function(ie,N){var D=N,ee=ie,pe;if(!z_(ie)){ie.persist&&ie.persist();var fe=ie.target?ie.target:ie.currentTarget,Ie=fe.type,We=fe.name,De=fe.id,oe=fe.value,Y=fe.checked,ye=fe.outerHTML,Re=fe.options,Oe=fe.multiple;D=N||We||De,ee=/number|range/.test(Ie)?(pe=parseFloat(oe),isNaN(pe)?"":pe):/checkbox/.test(Ie)?LTe(vs(T.values,D),Y,oe):Re&&Oe?DTe(Re):oe}D&&X(D,ee)},[X,T.values]),ge=Xs(function(ie){if(z_(ie))return function(N){return he(N,ie)};he(ie)}),Ce=Xs(function(ie,N,D){N===void 0&&(N=!0),b({type:"SET_FIELD_TOUCHED",payload:{field:ie,value:N}});var ee=D===void 0?i:D;return ee?F(T.values):Promise.resolve()}),be=Q.useCallback(function(ie,N){ie.persist&&ie.persist();var D=ie.target,ee=D.name,pe=D.id,fe=D.outerHTML,Ie=N||ee||pe;Ce(Ie,!0)},[Ce]),Pe=Xs(function(ie){if(z_(ie))return function(N){return be(N,ie)};be(ie)}),ke=Q.useCallback(function(ie){Do(ie)?b({type:"SET_FORMIK_STATE",payload:ie}):b({type:"SET_FORMIK_STATE",payload:function(){return ie}})},[]),Xe=Q.useCallback(function(ie){b({type:"SET_STATUS",payload:ie})},[]),Je=Q.useCallback(function(ie){b({type:"SET_ISSUBMITTING",payload:ie})},[]),we=Xs(function(){return b({type:"SUBMIT_ATTEMPT"}),F().then(function(ie){var N=ie instanceof Error,D=!N&&Object.keys(ie).length===0;if(D){var ee;try{if(ee=ve(),ee===void 0)return}catch(pe){throw pe}return Promise.resolve(ee).then(function(pe){return A.current&&b({type:"SUBMIT_SUCCESS"}),pe}).catch(function(pe){if(A.current)throw b({type:"SUBMIT_FAILURE"}),pe})}else if(A.current&&(b({type:"SUBMIT_FAILURE"}),N))throw ie})}),K=Xs(function(ie){ie&&ie.preventDefault&&Do(ie.preventDefault)&&ie.preventDefault(),ie&&ie.stopPropagation&&Do(ie.stopPropagation)&&ie.stopPropagation(),we().catch(function(N){console.warn("Warning: An unhandled error was caught from submitForm()",N)})}),Se={resetForm:$,validateForm:F,validateField:W,setErrors:J,setFieldError:H,setFieldTouched:Ce,setFieldValue:X,setStatus:Xe,setSubmitting:Je,setTouched:k,setValues:V,setFormikState:ke,submitForm:we},ve=Xs(function(){return u(T.values,Se)}),Be=Xs(function(ie){ie&&ie.preventDefault&&Do(ie.preventDefault)&&ie.preventDefault(),ie&&ie.stopPropagation&&Do(ie.stopPropagation)&&ie.stopPropagation(),$()}),Te=Q.useCallback(function(ie){return{value:vs(T.values,ie),error:vs(T.errors,ie),touched:!!vs(T.touched,ie),initialValue:vs(m.current,ie),initialTouched:!!vs(E.current,ie),initialError:vs(g.current,ie)}},[T.errors,T.touched,T.values]),Ye=Q.useCallback(function(ie){return{setValue:function(D,ee){return X(ie,D,ee)},setTouched:function(D,ee){return Ce(ie,D,ee)},setError:function(D){return H(ie,D)}}},[X,Ce,H]),Qe=Q.useCallback(function(ie){var N=lx(ie),D=N?ie.name:ie,ee=vs(T.values,D),pe={name:D,value:ee,onChange:ge,onBlur:Pe};if(N){var fe=ie.type,Ie=ie.value,We=ie.as,De=ie.multiple;fe==="checkbox"?Ie===void 0?pe.checked=!!ee:(pe.checked=!!(Array.isArray(ee)&&~ee.indexOf(Ie)),pe.value=Ie):fe==="radio"?(pe.checked=ee===Ie,pe.value=Ie):We==="select"&&De&&(pe.value=pe.value||[],pe.multiple=!0)}return pe},[Pe,ge,T.values]),ze=Q.useMemo(function(){return!ih(m.current,T.values)},[m.current,T.values]),lt=Q.useMemo(function(){return typeof a<"u"?ze?T.errors&&Object.keys(T.errors).length===0:a!==!1&&Do(a)?a(f):a:T.errors&&Object.keys(T.errors).length===0},[a,ze,T.errors,f]),Et=Wr({},T,{initialValues:m.current,initialErrors:g.current,initialTouched:E.current,initialStatus:x.current,handleBlur:Pe,handleChange:ge,handleReset:Be,handleSubmit:K,resetForm:$,setErrors:J,setFormikState:ke,setFieldTouched:Ce,setFieldValue:X,setFieldError:H,setStatus:Xe,setSubmitting:Je,setTouched:k,setValues:V,submitForm:we,validateForm:F,validateField:W,isValid:lt,dirty:ze,unregisterField:q,registerField:Z,getFieldProps:Qe,getFieldMeta:Te,getFieldHelpers:Ye,validateOnBlur:i,validateOnChange:n,validateOnMount:o});return Et}function RTe(t){var e={};if(t.inner){if(t.inner.length===0)return Bh(e,t.path,t.message);for(var i=t.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(r>=i.length)break;s=i[r++]}else{if(r=i.next(),r.done)break;s=r.value}var o=s;vs(e,o.path)||(e=Bh(e,o.path,o.message))}}return e}function BTe(t,e,n,r){n===void 0&&(n=!1);var i=rw(t);return e[n?"validateSync":"validate"](i,{abortEarly:!1,context:r||i})}function rw(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(i){return Array.isArray(i)===!0||GO(i)?rw(i):i!==""?i:void 0}):GO(t[r])?e[r]=rw(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function PTe(t,e,n){var r=t.slice();return e.forEach(function(s,o){if(typeof r[o]>"u"){var a=n.clone!==!1,l=a&&n.isMergeableObject(s);r[o]=l?YC(Array.isArray(s)?[]:{},s,n):s}else n.isMergeableObject(s)?r[o]=YC(t[o],s,n):t.indexOf(s)===-1&&r.push(s)}),r}function DTe(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function LTe(t,e,n){if(typeof t=="boolean")return!!e;var r=[],i=!1,s=-1;if(Array.isArray(t))r=t,s=t.indexOf(n),i=s>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!i?r.concat(n):i?r.slice(0,s).concat(r.slice(s+1)):r}var OTe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Q.useLayoutEffect:Q.useEffect;function Xs(t){var e=Q.useRef(t);return OTe(function(){e.current=t}),Q.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}var FTe=Q.forwardRef(function(t,e){var n=t.action,r=n$(t,["action"]),i=n??"#",s=TTe(),o=s.handleReset,a=s.handleSubmit;return Q.createElement("form",Wr({onSubmit:a,ref:e,onReset:o,action:i},r))});FTe.displayName="Form";function Af(t){this._maxSize=t,this.clear()}Af.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Af.prototype.get=function(t){return this._values[t]};Af.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var NTe=/[^.^\]^[]+|(?=\[\]|\.\.)/g,i$=/^\d+$/,kTe=/^\d/,UTe=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,GTe=/^\s*(['"]?)(.*?)(\1)\s*$/,$7=512,dF=new Af($7),pF=new Af($7),mF=new Af($7),Ph={Cache:Af,split:iw,normalizePath:W_,setter:function(t){var e=W_(t);return pF.get(t)||pF.set(t,function(r,i){for(var s=0,o=e.length,a=r;s<o-1;){var l=e[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;a=a[e[s++]]}a[e[s]]=i})},getter:function(t,e){var n=W_(t);return mF.get(t)||mF.set(t,function(i){for(var s=0,o=n.length;s<o;)if(i!=null||!e)i=i[n[s++]];else return;return i})},join:function(t){return t.reduce(function(e,n){return e+(K7(n)||i$.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){HTe(Array.isArray(t)?t:iw(t),e,n)}};function W_(t){return dF.get(t)||dF.set(t,iw(t).map(function(e){return e.replace(GTe,"$2")}))}function iw(t){return t.match(NTe)||[""]}function HTe(t,e,n){var r=t.length,i,s,o,a;for(s=0;s<r;s++)i=t[s],i&&(VTe(i)&&(i='"'+i+'"'),a=K7(i),o=!a&&/^\d+$/.test(i),e.call(n,i,a,o,s,t))}function K7(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function QTe(t){return t.match(kTe)&&!t.match(i$)}function zTe(t){return UTe.test(t)}function VTe(t){return!K7(t)&&(QTe(t)||zTe(t))}const WTe=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,cx=t=>t.match(WTe)||[],ux=t=>t[0].toUpperCase()+t.slice(1),X7=(t,e)=>cx(t).join(e).toLowerCase(),s$=t=>cx(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),jTe=t=>ux(s$(t)),$Te=t=>X7(t,"_"),KTe=t=>X7(t,"-"),XTe=t=>ux(X7(t," ")),JTe=t=>cx(t).map(ux).join(" ");var j_={words:cx,upperFirst:ux,camelCase:s$,pascalCase:jTe,snakeCase:$Te,kebabCase:KTe,sentenceCase:XTe,titleCase:JTe},J7={exports:{}};J7.exports=function(t){return o$(YTe(t),t)};J7.exports.array=o$;function o$(t,e){var n=t.length,r=new Array(n),i={},s=n,o=qTe(e),a=ZTe(t);for(e.forEach(function(c){if(!a.has(c[0])||!a.has(c[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||l(t[s],s,new Set);return r;function l(c,u,h){if(h.has(c)){var f;try{f=", node was:"+JSON.stringify(c)}catch{f=""}throw new Error("Cyclic dependency"+f)}if(!a.has(c))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(c));if(!i[u]){i[u]=!0;var m=o.get(c)||new Set;if(m=Array.from(m),u=m.length){h.add(c);do{var g=m[--u];l(g,a.get(g),h)}while(u);h.delete(c)}r[--n]=c}}}function YTe(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function qTe(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function ZTe(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var e7e=J7.exports;const t7e=Gp(e7e),n7e=Object.prototype.toString,r7e=Error.prototype.toString,i7e=RegExp.prototype.toString,s7e=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",o7e=/^Symbol\((.*)\)(.*)$/;function a7e(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function gF(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return a7e(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return s7e.call(t).replace(o7e,"Symbol($1)");const r=n7e.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+r7e.call(t)+"]":r==="RegExp"?i7e.call(t):null}function Zd(t,e){let n=gF(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=gF(this[r],e);return s!==null?s:i},2)}function a$(t){return t==null?[]:[].concat(t)}let l7e=/\$\{\s*(\w+)\s*\}/g;class xs extends Error{static formatError(e,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof e=="string"?e.replace(l7e,(i,s)=>Zd(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],a$(e).forEach(s=>{xs.isError(s)?(this.errors.push(...s.errors),this.inner=this.inner.concat(s.inner.length?s.inner:s)):this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,xs)}}let fl={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${Zd(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Zd(n,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${Zd(n,!0)}\``+i}},Lo={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},c7e={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},sw={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},u7e={isValue:"${path} field must be ${value}"},ow={noUnknown:"${path} field has unspecified keys: ${unknown}"},h7e={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"};Object.assign(Object.create(null),{mixed:fl,string:Lo,number:c7e,date:sw,object:ow,array:h7e,boolean:u7e});const Y7=t=>t&&t.__isYupSchema__;class Vy{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,o=typeof r=="function"?r:(...a)=>a.every(l=>l===r);return new Vy(e,(a,l)=>{var c;let u=o(...a)?i:s;return(c=u==null?void 0:u(l))!=null?c:l})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,e,n);if(i===void 0||i===e)return e;if(!Y7(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const H2={context:"$",value:"."};class vf{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===H2.context,this.isValue=this.key[0]===H2.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?H2.context:this.isValue?H2.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Ph.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}vf.prototype.__isYupRef=!0;const _h=t=>t==null;function ld(t){function e({value:n,path:r="",options:i,originalValue:s,schema:o},a,l){const{name:c,test:u,params:h,message:f,skipAbsent:m}=t;let{parent:g,context:E,abortEarly:x=o.spec.abortEarly}=i;function A(B){return vf.isRef(B)?B.getValue(n,g,E):B}function v(B={}){const L=Object.assign({value:n,originalValue:s,label:o.spec.label,path:B.path||r,spec:o.spec},h,B.params);for(const F of Object.keys(L))L[F]=A(L[F]);const G=new xs(xs.formatError(B.message||f,L),n,L.path,B.type||c);return G.params=L,G}const y=x?a:l;let S={path:r,parent:g,type:c,from:i.from,createError:v,resolve:A,options:i,originalValue:s,schema:o};const w=B=>{xs.isError(B)?y(B):B?l(null):y(v())},T=B=>{xs.isError(B)?y(B):a(B)},b=m&&_h(n);if(!i.sync){try{Promise.resolve(b?!0:u.call(S,n,S)).then(w,T)}catch(B){T(B)}return}let R;try{var M;if(R=b?!0:u.call(S,n,S),typeof((M=R)==null?void 0:M.then)=="function")throw new Error(`Validation test of type: "${S.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`)}catch(B){T(B);return}w(R)}return e.OPTIONS=t,e}function f7e(t,e,n,r=n){let i,s,o;return e?(Ph.forEach(e,(a,l,c)=>{let u=l?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:i,value:n});let h=t.type==="tuple",f=c?parseInt(u,10):0;if(t.innerType||h){if(h&&!c)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&f>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[f],t=h?t.spec.types[f]:t.innerType}if(!c){if(!t.fields||!t.fields[u])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);i=n,n=n&&n[u],t=t.fields[u]}s=u,o=l?"["+a+"]":"."+a}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class Wy extends Set{describe(){const e=[];for(const n of this.values())e.push(vf.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new Wy(this.values())}merge(e,n){const r=this.clone();return e.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function Ld(t,e=new Map){if(Y7(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=Ld(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,i]of t.entries())n.set(r,Ld(i,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(Ld(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,i]of Object.entries(t))n[r]=Ld(i,e)}else throw Error(`Unable to clone ${t}`);return n}class Ua{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Wy,this._blacklist=new Wy,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(fl.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Ld(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,i;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),i=n.assert==="ignore-optionality",s=r._cast(e,n);if(n.assert!==!1&&!r.isType(s)){if(i&&_h(s))return s;let o=Zd(e),a=Zd(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return s}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,i){let{path:s,originalValue:o=e,strict:a=this.spec.strict}=n,l=e;a||(l=this._cast(l,Object.assign({assert:!1},n)));let c=[];for(let u of Object.values(this.internalTests))u&&c.push(u);this.runTests({path:s,value:l,originalValue:o,options:n,tests:c},r,u=>{if(u.length)return i(u,l);this.runTests({path:s,value:l,originalValue:o,options:n,tests:this.tests},r,i)})}runTests(e,n,r){let i=!1,{tests:s,value:o,originalValue:a,path:l,options:c}=e,u=E=>{i||(i=!0,n(E,o))},h=E=>{i||(i=!0,r(E,o))},f=s.length,m=[];if(!f)return h([]);let g={value:o,originalValue:a,path:l,options:c,schema:this};for(let E=0;E<s.length;E++){const x=s[E];x(g,u,function(v){v&&(m=m.concat(v)),--f<=0&&h(m)})}}asNestedTest({key:e,index:n,parent:r,parentPath:i,originalParent:s,options:o}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let c=r[a];const u=Object.assign({},o,{strict:!0,parent:r,value:c,originalValue:s[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${i||""}[${c?a:`"${a}"`}]`:(i?`${i}.`:"")+e});return(h,f,m)=>this.resolve(u)._validate(c,u,f,m)}validate(e,n){let r=this.resolve(Object.assign({},n,{value:e}));return new Promise((i,s)=>r._validate(e,n,(o,a)=>{xs.isError(o)&&(o.value=a),s(o)},(o,a)=>{o.length?s(new xs(o,a)):i(a)}))}validateSync(e,n){let r=this.resolve(Object.assign({},n,{value:e})),i;return r._validate(e,Object.assign({},n,{sync:!0}),(s,o)=>{throw xs.isError(s)&&(s.value=o),s},(s,o)=>{if(s.length)throw new xs(s,e);i=o}),i}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(xs.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(xs.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):Ld(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=ld({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=ld({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=fl.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=fl.notNull){return this.nullability(!1,e)}required(e=fl.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=fl.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=ld(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=a$(e).map(s=>new vf(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof n=="function"?new Vy(i,n):Vy.fromOptions(i,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=ld({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=fl.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=ld({message:n,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),r}notOneOf(e,n=fl.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=ld({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:s,nullable:o}=n.spec;return{meta:i,label:r,optional:s,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,c,u)=>u.findIndex(h=>h.name===l.name)===c)}}}Ua.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Ua.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:o}=f7e(this,e,n,r.context);return o[t](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const t of["equals","is"])Ua.prototype[t]=Ua.prototype.oneOf;for(const t of["not","nope"])Ua.prototype[t]=Ua.prototype.notOneOf;let d7e=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,p7e=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,m7e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,g7e=t=>_h(t)||t===t.trim(),A7e={}.toString();function ki(){return new l$}class l$ extends Ua{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===A7e?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||fl.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=Lo.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=Lo.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=Lo.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||Lo.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=Lo.email){return this.matches(d7e,{name:"email",message:e,excludeEmptyString:!0})}url(e=Lo.url){return this.matches(p7e,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Lo.uuid){return this.matches(m7e,{name:"uuid",message:e,excludeEmptyString:!1})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Lo.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:g7e})}lowercase(e=Lo.lowercase){return this.transform(n=>_h(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>_h(n)||n===n.toLowerCase()})}uppercase(e=Lo.uppercase){return this.transform(n=>_h(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>_h(n)||n===n.toUpperCase()})}}ki.prototype=l$.prototype;var v7e=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;function y7e(t){var e=[1,4,5,6,7,10,11],n=0,r,i;if(i=v7e.exec(t)){for(var s=0,o;o=e[s];++s)i[o]=+i[o]||0;i[2]=(+i[2]||1)-1,i[3]=+i[3]||1,i[7]=i[7]?String(i[7]).substr(0,3):0,(i[8]===void 0||i[8]==="")&&(i[9]===void 0||i[9]==="")?r=+new Date(i[1],i[2],i[3],i[4],i[5],i[6],i[7]):(i[8]!=="Z"&&i[9]!==void 0&&(n=i[10]*60+i[11],i[9]==="+"&&(n=0-n)),r=Date.UTC(i[1],i[2],i[3],i[4],i[5]+n,i[6],i[7]))}else r=Date.parse?Date.parse(t):NaN;return r}let x7e=new Date(""),E7e=t=>Object.prototype.toString.call(t)==="[object Date]";class hx extends Ua{constructor(){super({type:"date",check(e){return E7e(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=y7e(e),isNaN(e)?hx.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(vf.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=sw.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,n=sw.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}hx.INVALID_DATE=x7e;hx.prototype;function _7e(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([o,a])=>`${o}-${a}`));function s(o,a){let l=Ph.split(o)[0];r.add(l),i.has(`${a}-${l}`)||n.push([a,l])}for(const o of Object.keys(t)){let a=t[o];r.add(o),vf.isRef(a)&&a.isSibling?s(a.path,o):Y7(a)&&"deps"in a&&a.deps.forEach(l=>s(l,o))}return t7e.array(Array.from(r),n).reverse()}function AF(t,e){let n=1/0;return t.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return n=i,!0}),n}function c$(t){return(e,n)=>AF(t,e)-AF(t,n)}const S7e=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function Ev(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=Ev(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Ev(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Ev)}):"optional"in t?t.optional():t}const C7e=(t,e)=>{const n=[...Ph.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),i=Ph.getter(Ph.join(n),!0)(t);return!!(i&&r in i)};let vF=t=>Object.prototype.toString.call(t)==="[object Object]";function w7e(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const T7e=c$([]);function fx(t){return new u$(t)}class u$ extends Ua{constructor(e){super({type:"object",check(n){return vF(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=T7e,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let s=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(h=>!this._nodes.includes(h))),l={},c=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),u=!1;for(const h of a){let f=s[h],m=h in i;if(f){let g,E=i[h];c.path=(n.path?`${n.path}.`:"")+h,f=f.resolve({value:E,context:n.context,parent:l});let x=f instanceof Ua?f.spec:void 0,A=x==null?void 0:x.strict;if(x!=null&&x.strip){u=u||h in i;continue}g=!n.__validating||!A?f.cast(i[h],c):i[h],g!==void 0&&(l[h]=g)}else m&&!o&&(l[h]=i[h]);(m!==h in l||l[h]!==i[h])&&(u=!0)}return u?l:i}_validate(e,n={},r,i){let{from:s=[],originalValue:o=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(l,c)=>{if(!a||!vF(c)){i(l,c);return}o=o||c;let u=[];for(let h of this._nodes){let f=this.fields[h];!f||vf.isRef(f)||u.push(f.asNestedTest({options:n,key:h,parent:c,parentPath:n.path,originalParent:o}))}this.runTests({tests:u,value:c,originalValue:o,options:n},r,h=>{i(h.sort(this._sortErrors).concat(l),c)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const o=r[i];r[i]=o===void 0?s:o}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=_7e(e,n),r._sortErrors=c$(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return Ev(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n)}omit(e){const n=Object.assign({},this.fields);for(const r of e)delete n[r];return this.setFields(n)}from(e,n,r){let i=Ph.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return C7e(s,e)&&(o=Object.assign({},s),r||delete o[e],o[n]=i(s)),o})}json(){return this.transform(S7e)}noUnknown(e=!0,n=ow.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=w7e(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=ow.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[e(i)]=n[i];return r})}camelCase(){return this.transformKeys(j_.camelCase)}snakeCase(){return this.transformKeys(j_.snakeCase)}constantCase(){return this.transformKeys(e=>j_.snakeCase(e).toUpperCase())}describe(e){let n=super.describe(e);n.fields={};for(const[i,s]of Object.entries(this.fields)){var r;let o=e;(r=o)!=null&&r.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[i]})),n.fields[i]=s.describe(o)}return n}}fx.prototype=u$.prototype;fx({email:ki().email("Invalid email address").required("Required"),password:ki().required("Required")});fx({name:ki().required("Project Name is Required"),description:ki().required("Project Description is Required"),tagname1:ki().required("Tag(1) Name is Required"),tagname2:ki().required("Tag(2) Name is Required"),tagname3:ki().required("Tag(3) Name is Required"),imageUrl:ki().required("Project Image is Required"),githubLink:ki().required("Github Link is Required"),websiteLink:ki().required("Website Link is Required")});const I7e=fx({name:ki().required("Full Name is Required"),email:ki().email("Email is Invalid").required("Your Email is Required"),subject:ki(),description:ki().min(10,"Minimum 10 Letters").required("Your Description is Required")}),b7e=()=>{const[t,e]=Q.useState(!1),n=MTe({initialValues:{name:"",email:"",subject:"",description:""},validationSchema:I7e,onSubmit:r=>{e(!0),X_e.send("service_99f5gyk","template_tsx4cso",r,"9w88iaI221xtgRlcq").then(()=>{e(!1),alert("Thank you. I will get back to you as soon as possible."),n.resetForm()},i=>{e(!1),console.error(i),alert("Ahh, something went wrong. Please try again.")}),n.resetForm()}});return U.jsxs("div",{className:"bg-[#050816]",children:[U.jsx(Hi.div,{variants:nf(1e3),children:U.jsx("h2",{className:`${ws.sectionHeadText} pt-20 text-[#915EFF]`,children:"Connect with Me"})}),U.jsx("div",{className:"w-full flex",children:U.jsx(Hi.p,{variants:rf("","",.1,1),className:"mt-3 text-secondary text-[17px] max-w-3xl leading-[30px] text-center mx-auto",children:"As a dedicated front-end developer, freelancer, and entrepreneur, I’m always eager to collaborate and bring ideas to life. If you’re interested in my work or have a project in mind, please don’t hesitate to reach out. Fill out the form below, and I’ll be sure to respond to your email. Let’s create something amazing together!"})}),U.jsx("div",{className:"flex justify-center items-center min-h-screen bg-[#050816] mt-10 lg:pt-14",children:U.jsxs("div",{className:"bg-[#100D25] p-8 rounded-lg shadow-lg  mt-28 md:mt-0",children:[U.jsx("h2",{className:"text-3xl font-bold mb-4 text-center",children:"Get in touch"}),U.jsxs("form",{onSubmit:n.handleSubmit,className:"space-y-4 w-[80vw] lg:w-[40vw]",children:[U.jsxs("div",{className:"pt-5",children:[U.jsx("label",{htmlFor:"name",className:"block text-lg font-medium mb-1",children:"Full Name"}),U.jsx("input",{type:"text",id:"name",name:"name",placeholder:"What's your good name?",value:n.values.name,onChange:n.handleChange,onBlur:n.handleBlur,className:"w-full p-4 mt-4 bg-[#151030] font-semibold text-white drop-shadow-lg border-gray-300 outline-none rounded-md shadow-sm "}),n.touched.name&&n.errors.name&&U.jsx("p",{className:"text-red-500 italic",children:n.errors.name})]}),U.jsxs("div",{className:"pt-5",children:[U.jsx("label",{htmlFor:"name",className:"block text-lg font-medium mb-1",children:"Email Address"}),U.jsx("input",{type:"email",id:"email",name:"email",placeholder:"xyz@gmail.com",value:n.values.email,onChange:n.handleChange,onBlur:n.handleBlur,className:"w-full p-4 mt-4 bg-[#151030] font-semibold text-white drop-shadow-lg border-gray-300 outline-none rounded-md shadow-sm "}),n.touched.email&&n.errors.email&&U.jsx("p",{className:"text-red-500 italic",children:n.errors.email})]}),U.jsxs("div",{className:"pt-5",children:[U.jsx("label",{htmlFor:"name",className:"block text-lg font-medium mb-1",children:"Subject"}),U.jsx("input",{type:"text",id:"subject",name:"subject",placeholder:"xyz@gmail.com",value:n.values.subject,onChange:n.handleChange,onBlur:n.handleBlur,className:"w-full p-4 mt-4 bg-[#151030] font-semibold text-white drop-shadow-lg border-gray-300 outline-none rounded-md shadow-sm "}),n.touched.subject&&n.errors.subject&&U.jsx("p",{className:"text-red-500 italic",children:n.errors.subject})]}),U.jsxs("div",{className:"pt-5",children:[U.jsx("label",{htmlFor:"description",className:"block text-lg font-medium mb-1",children:"Description"}),U.jsx("textarea",{id:"description",name:"description",placeholder:"Description goes here",rows:4,value:n.values.description,onChange:n.handleChange,onBlur:n.handleBlur,className:"w-full p-4 mt-4 outline-none bg-[#151030] font-semibold text-white drop-shadow-lg border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"}),n.touched.description&&n.errors.description&&U.jsx("p",{className:"text-red-500 italic",children:n.errors.description})]}),U.jsx("button",{type:"submit",className:"btnSignIn bg-[#050816] border-[1px]  hover: drop-shadow-2xl shadow-inner w-40 text-slate-50 font-bold text-lg transition-all duration-500 hover:scale-105 py-2 px-5 rounded-md  hover:bg-[#151040] mt-5",children:t?"Sending...":"Send"})]})]})})]})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h$={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $e=function(t,e){if(!t)throw s0(e)},s0=function(t){return new Error("Firebase Database ("+h$.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},M7e=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},q7={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(f=64)),r.push(n[u],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(f$(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):M7e(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new R7e;const f=s<<2|a>>4;if(r.push(f),c!==64){const m=a<<4&240|c>>2;if(r.push(m),h!==64){const g=c<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class R7e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const d$=function(t){const e=f$(t);return q7.encodeByteArray(e,!0)},jy=function(t){return d$(t).replace(/\./g,"")},aw=function(t){try{return q7.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B7e(t){return p$(void 0,t)}function p$(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!P7e(n)||(t[n]=p$(t[n],e[n]));return t}function P7e(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D7e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L7e=()=>D7e().__FIREBASE_DEFAULTS__,O7e=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},F7e=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&aw(t[1]);return e&&JSON.parse(e)},m$=()=>{try{return L7e()||O7e()||F7e()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},N7e=t=>{var e,n;return(n=(e=m$())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},k7e=t=>{const e=N7e(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},g$=()=>{var t;return(t=m$())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U7e(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[jy(JSON.stringify(n)),jy(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G7e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function A$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(G7e())}function H7e(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function v$(){return h$.NODE_ADMIN===!0}function Q7e(){try{return typeof indexedDB=="object"}catch{return!1}}function z7e(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V7e="FirebaseError";class sA extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=V7e,Object.setPrototypeOf(this,sA.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,y$.prototype.create)}}class y${constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?W7e(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new sA(i,a,r)}}function W7e(t,e){return t.replace(j7e,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const j7e=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(t){return JSON.parse(t)}function si(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x$=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=i3(aw(s[0])||""),n=i3(aw(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},$7e=function(t){const e=x$(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},K7e=function(t){const e=x$(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Op(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function yF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $y(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function lw(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(xF(s)&&xF(o)){if(!lw(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function xF(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X7e(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7e{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let h=0;h<80;h++){h<40?h<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):h<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const f=(i<<5|i>>>27)+c+l+u+r[h]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function Y7e(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7e=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,$e(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},dx=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E$(t){return t&&t._delegate?t._delegate:t}class s3{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7e{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Z7;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tIe(e))try{this.getOrInitializeService({instanceIdentifier:oh})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=oh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oh){return this.instances.has(e)}getOptions(e=oh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eIe(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=oh){return this.component?this.component.multipleInstances?e:oh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eIe(t){return t===oh?void 0:t}function tIe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nIe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Z7e(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Tn||(Tn={}));const rIe={debug:Tn.DEBUG,verbose:Tn.VERBOSE,info:Tn.INFO,warn:Tn.WARN,error:Tn.ERROR,silent:Tn.SILENT},iIe=Tn.INFO,sIe={[Tn.DEBUG]:"log",[Tn.VERBOSE]:"log",[Tn.INFO]:"info",[Tn.WARN]:"warn",[Tn.ERROR]:"error"},oIe=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=sIe[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _${constructor(e){this.name=e,this._logLevel=iIe,this._logHandler=oIe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Tn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rIe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Tn.DEBUG,...e),this._logHandler(this,Tn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Tn.VERBOSE,...e),this._logHandler(this,Tn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Tn.INFO,...e),this._logHandler(this,Tn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Tn.WARN,...e),this._logHandler(this,Tn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Tn.ERROR,...e),this._logHandler(this,Tn.ERROR,...e)}}const aIe=(t,e)=>e.some(n=>t instanceof n);let EF,_F;function lIe(){return EF||(EF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cIe(){return _F||(_F=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S$=new WeakMap,cw=new WeakMap,C$=new WeakMap,$_=new WeakMap,eI=new WeakMap;function uIe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(jc(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&S$.set(n,t)}).catch(()=>{}),eI.set(e,t),e}function hIe(t){if(cw.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});cw.set(t,e)}let uw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||C$.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jc(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fIe(t){uw=t(uw)}function dIe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(K_(this),e,...n);return C$.set(r,e.sort?e.sort():[e]),jc(r)}:cIe().includes(t)?function(...e){return t.apply(K_(this),e),jc(S$.get(this))}:function(...e){return jc(t.apply(K_(this),e))}}function pIe(t){return typeof t=="function"?dIe(t):(t instanceof IDBTransaction&&hIe(t),aIe(t,lIe())?new Proxy(t,uw):t)}function jc(t){if(t instanceof IDBRequest)return uIe(t);if($_.has(t))return $_.get(t);const e=pIe(t);return e!==t&&($_.set(t,e),eI.set(e,t)),e}const K_=t=>eI.get(t);function mIe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=jc(o);return r&&o.addEventListener("upgradeneeded",l=>{r(jc(o.result),l.oldVersion,l.newVersion,jc(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const gIe=["get","getKey","getAll","getAllKeys","count"],AIe=["put","add","delete","clear"],X_=new Map;function SF(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(X_.get(e))return X_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=AIe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||gIe.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return X_.set(e,s),s}fIe(t=>({...t,get:(e,n,r)=>SF(e,n)||t.get(e,n,r),has:(e,n)=>!!SF(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vIe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yIe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function yIe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hw="@firebase/app",CF="0.9.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h=new _$("@firebase/app"),xIe="@firebase/app-compat",EIe="@firebase/analytics-compat",_Ie="@firebase/analytics",SIe="@firebase/app-check-compat",CIe="@firebase/app-check",wIe="@firebase/auth",TIe="@firebase/auth-compat",IIe="@firebase/database",bIe="@firebase/database-compat",MIe="@firebase/functions",RIe="@firebase/functions-compat",BIe="@firebase/installations",PIe="@firebase/installations-compat",DIe="@firebase/messaging",LIe="@firebase/messaging-compat",OIe="@firebase/performance",FIe="@firebase/performance-compat",NIe="@firebase/remote-config",kIe="@firebase/remote-config-compat",UIe="@firebase/storage",GIe="@firebase/storage-compat",HIe="@firebase/firestore",QIe="@firebase/firestore-compat",zIe="firebase",VIe="10.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="[DEFAULT]",WIe={[hw]:"fire-core",[xIe]:"fire-core-compat",[_Ie]:"fire-analytics",[EIe]:"fire-analytics-compat",[CIe]:"fire-app-check",[SIe]:"fire-app-check-compat",[wIe]:"fire-auth",[TIe]:"fire-auth-compat",[IIe]:"fire-rtdb",[bIe]:"fire-rtdb-compat",[MIe]:"fire-fn",[RIe]:"fire-fn-compat",[BIe]:"fire-iid",[PIe]:"fire-iid-compat",[DIe]:"fire-fcm",[LIe]:"fire-fcm-compat",[OIe]:"fire-perf",[FIe]:"fire-perf-compat",[NIe]:"fire-rc",[kIe]:"fire-rc-compat",[UIe]:"fire-gcs",[GIe]:"fire-gcs-compat",[HIe]:"fire-fst",[QIe]:"fire-fst-compat","fire-js":"fire-js",[zIe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky=new Map,dw=new Map;function jIe(t,e){try{t.container.addComponent(e)}catch(n){$h.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xy(t){const e=t.name;if(dw.has(e))return $h.debug(`There were multiple attempts to register component ${e}.`),!1;dw.set(e,t);for(const n of Ky.values())jIe(n,t);return!0}function $Ie(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KIe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},$c=new y$("app","Firebase",KIe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XIe{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new s3("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $c.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JIe=VIe;function w$(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:fw,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw $c.create("bad-app-name",{appName:String(i)});if(n||(n=g$()),!n)throw $c.create("no-options");const s=Ky.get(i);if(s){if(lw(n,s.options)&&lw(r,s.config))return s;throw $c.create("duplicate-app",{appName:i})}const o=new nIe(i);for(const l of dw.values())o.addComponent(l);const a=new XIe(n,r,o);return Ky.set(i,a),a}function YIe(t=fw){const e=Ky.get(t);if(!e&&t===fw&&g$())return w$();if(!e)throw $c.create("no-app",{appName:t});return e}function ep(t,e,n){var r;let i=(r=WIe[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$h.warn(a.join(" "));return}Xy(new s3(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qIe="firebase-heartbeat-database",ZIe=1,o3="firebase-heartbeat-store";let J_=null;function T$(){return J_||(J_=mIe(qIe,ZIe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(o3)}}}).catch(t=>{throw $c.create("idb-open",{originalErrorMessage:t.message})})),J_}async function ebe(t){try{return await(await T$()).transaction(o3).objectStore(o3).get(I$(t))}catch(e){if(e instanceof sA)$h.warn(e.message);else{const n=$c.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$h.warn(n.message)}}}async function wF(t,e){try{const r=(await T$()).transaction(o3,"readwrite");await r.objectStore(o3).put(e,I$(t)),await r.done}catch(n){if(n instanceof sA)$h.warn(n.message);else{const r=$c.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$h.warn(r.message)}}}function I$(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tbe=1024,nbe=30*24*60*60*1e3;class rbe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sbe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=TF();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=nbe}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=TF(),{heartbeatsToSend:n,unsentEntries:r}=ibe(this._heartbeatsCache.heartbeats),i=jy(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function TF(){return new Date().toISOString().substring(0,10)}function ibe(t,e=tbe){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),IF(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),IF(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class sbe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Q7e()?z7e().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await ebe(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return wF(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return wF(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function IF(t){return jy(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function obe(t){Xy(new s3("platform-logger",e=>new vIe(e),"PRIVATE")),Xy(new s3("heartbeat",e=>new rbe(e),"PRIVATE")),ep(hw,CF,t),ep(hw,CF,"esm2017"),ep("fire-js","")}obe("");var abe="firebase",lbe="10.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ep(abe,lbe,"app");const bF="@firebase/database",MF="1.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b$="";function cbe(t){b$=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ube{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),si(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:i3(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hbe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return jl(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M$=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ube(e)}}catch{}return new hbe},Sh=M$("localStorage"),pw=M$("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp=new _$("@firebase/database"),fbe=function(){let t=1;return function(){return t++}}(),R$=function(t){const e=q7e(t),n=new J7e;n.update(e);const r=n.digest();return q7.encodeByteArray(r)},oA=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=oA.apply(null,r):typeof r=="object"?e+=si(r):e+=r,e+=" "}return e};let Dh=null,RF=!0;const dbe=function(t,e){$e(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(tp.logLevel=Tn.VERBOSE,Dh=tp.log.bind(tp),e&&pw.set("logging_enabled",!0)):typeof t=="function"?Dh=t:(Dh=null,pw.remove("logging_enabled"))},Ei=function(...t){if(RF===!0&&(RF=!1,Dh===null&&pw.get("logging_enabled")===!0&&dbe(!0)),Dh){const e=oA.apply(null,t);Dh(e)}},aA=function(t){return function(...e){Ei(t,...e)}},mw=function(...t){const e="FIREBASE INTERNAL ERROR: "+oA(...t);tp.error(e)},Ul=function(...t){const e=`FIREBASE FATAL ERROR: ${oA(...t)}`;throw tp.error(e),new Error(e)},Is=function(...t){const e="FIREBASE WARNING: "+oA(...t);tp.warn(e)},pbe=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Is("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},B$=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},mbe=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Fp="[MIN_NAME]",Kh="[MAX_NAME]",o0=function(t,e){if(t===e)return 0;if(t===Fp||e===Kh)return-1;if(e===Fp||t===Kh)return 1;{const n=BF(t),r=BF(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},gbe=function(t,e){return t===e?0:t<e?-1:1},lm=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+si(e))},tI=function(t){if(typeof t!="object"||t===null)return si(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=si(e[r]),n+=":",n+=tI(t[e[r]]);return n+="}",n},P$=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function vo(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const D$=function(t){$e(!B$(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},Abe=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},vbe=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},ybe=new RegExp("^-?(0*)\\d{1,10}$"),xbe=-2147483648,Ebe=2147483647,BF=function(t){if(ybe.test(t)){const e=Number(t);if(e>=xbe&&e<=Ebe)return e}return null},lA=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Is("Exception was thrown by user callback.",n),e},Math.floor(0))}},_be=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},tg=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sbe{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Is(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cbe{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ei("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Is(e)}}class np{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}np.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="5",L$="v",O$="s",F$="r",N$="f",k$=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,U$="ls",G$="p",gw="ac",H$="websocket",Q$="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Sh.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Sh.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function wbe(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function V$(t,e,n){$e(typeof e=="string","typeof type must == string"),$e(typeof n=="object","typeof params must == object");let r;if(e===H$)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Q$)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);wbe(t)&&(n.ns=t.namespace);const i=[];return vo(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tbe{constructor(){this.counters_={}}incrementCounter(e,n=1){jl(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return B7e(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_={},q_={};function rI(t){const e=t.toString();return Y_[e]||(Y_[e]=new Tbe),Y_[e]}function Ibe(t,e){const n=t.toString();return q_[n]||(q_[n]=e()),q_[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bbe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&lA(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF="start",Mbe="close",Rbe="pLPCommand",Bbe="pRTLPCB",W$="id",j$="pw",$$="ser",Pbe="cb",Dbe="seg",Lbe="ts",Obe="d",Fbe="dframe",K$=1870,X$=30,Nbe=K$-X$,kbe=25e3,Ube=3e4;class Od{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=aA(e),this.stats_=rI(n),this.urlFn=l=>(this.appCheckToken&&(l[gw]=this.appCheckToken),V$(n,Q$,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new bbe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Ube)),mbe(()=>{if(this.isClosed_)return;this.scriptTagHolder=new iI((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===PF)this.id=a,this.password=l;else if(o===Mbe)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[PF]="t",r[$$]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Pbe]=this.scriptTagHolder.uniqueCallbackIdentifier),r[L$]=nI,this.transportSessionId&&(r[O$]=this.transportSessionId),this.lastSessionId&&(r[U$]=this.lastSessionId),this.applicationId&&(r[G$]=this.applicationId),this.appCheckToken&&(r[gw]=this.appCheckToken),typeof location<"u"&&location.hostname&&k$.test(location.hostname)&&(r[F$]=N$);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Od.forceAllow_=!0}static forceDisallow(){Od.forceDisallow_=!0}static isAvailable(){return Od.forceAllow_?!0:!Od.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Abe()&&!vbe()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=si(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=d$(n),i=P$(r,Nbe);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Fbe]="t",r[W$]=e,r[j$]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=si(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class iI{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=fbe(),window[Rbe+this.uniqueCallbackIdentifier]=e,window[Bbe+this.uniqueCallbackIdentifier]=n,this.myIFrame=iI.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Ei("frame writing exception"),a.stack&&Ei(a.stack),Ei(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ei("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[W$]=this.myID,e[j$]=this.myPW,e[$$]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+X$+r.length<=K$;){const o=this.pendingSegs.shift();r=r+"&"+Dbe+i+"="+o.seg+"&"+Lbe+i+"="+o.ts+"&"+Obe+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(kbe)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ei("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gbe=16384,Hbe=45e3;let Jy=null;typeof MozWebSocket<"u"?Jy=MozWebSocket:typeof WebSocket<"u"&&(Jy=WebSocket);class Go{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=aA(this.connId),this.stats_=rI(n),this.connURL=Go.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[L$]=nI,typeof location<"u"&&location.hostname&&k$.test(location.hostname)&&(o[F$]=N$),n&&(o[O$]=n),r&&(o[U$]=r),i&&(o[gw]=i),s&&(o[G$]=s),V$(e,H$,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Sh.set("previous_websocket_failure",!0);try{let r;v$(),this.mySock=new Jy(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Go.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Jy!==null&&!Go.forceDisallow_}static previouslyFailed(){return Sh.isInMemoryStorage||Sh.get("previous_websocket_failure")===!0}markConnectionHealthy(){Sh.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=i3(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if($e(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=si(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=P$(n,Gbe);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Hbe))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Go.responsesRequiredToBeHealthy=2;Go.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Od,Go]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Go&&Go.isAvailable();let r=n&&!Go.previouslyFailed();if(e.webSocketOnly&&(n||Is("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Go];else{const i=this.transports_=[];for(const s of a3.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);a3.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}a3.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qbe=6e4,zbe=5e3,Vbe=10*1024,Wbe=100*1024,Z_="t",DF="d",jbe="s",LF="r",$be="e",OF="o",FF="a",NF="n",kF="p",Kbe="h";class Xbe{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=aA("c:"+this.id+":"),this.transportManager_=new a3(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=tg(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Wbe?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Vbe?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Z_ in e){const n=e[Z_];n===FF?this.upgradeIfSecondaryHealthy_():n===LF?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===OF&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=lm("t",e),r=lm("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:kF,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:FF,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:NF,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=lm("t",e),r=lm("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=lm(Z_,e);if(DF in e){const r=e[DF];if(n===Kbe){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===NF){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===jbe?this.onConnectionShutdown_(r):n===LF?this.onReset_(r):n===$be?mw("Server Error: "+r):n===OF?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):mw("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),nI!==r&&Is("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),tg(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Qbe))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):tg(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(zbe))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:kF,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Sh.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y${constructor(e){this.allowedEvents_=e,this.listeners_={},$e(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){$e(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy extends Y${constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!A$()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Yy}getInitialEvent(e){return $e(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF=32,GF=768;class Qn{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function gn(){return new Qn("")}function qt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function cu(t){return t.pieces_.length-t.pieceNum_}function Nn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Qn(t.pieces_,e)}function q$(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Jbe(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Z$(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function eK(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Qn(e,0)}function Jr(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Qn)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Qn(n,0)}function Xt(t){return t.pieceNum_>=t.pieces_.length}function so(t,e){const n=qt(t),r=qt(e);if(n===null)return e;if(n===r)return so(Nn(t),Nn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function tK(t,e){if(cu(t)!==cu(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ho(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(cu(t)>cu(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Ybe{constructor(e,n){this.errorPrefix_=n,this.parts_=Z$(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=dx(this.parts_[r]);nK(this)}}function qbe(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=dx(e),nK(t)}function Zbe(t){const e=t.parts_.pop();t.byteLength_-=dx(e),t.parts_.length>0&&(t.byteLength_-=1)}function nK(t){if(t.byteLength_>GF)throw new Error(t.errorPrefix_+"has a key path longer than "+GF+" bytes ("+t.byteLength_+").");if(t.parts_.length>UF)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+UF+") or object contains a cycle "+ah(t))}function ah(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI extends Y${constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new sI}getInitialEvent(e){return $e(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm=1e3,eMe=60*5*1e3,HF=30*1e3,tMe=1.3,nMe=3e4,rMe="server_kill",QF=3;class bl extends J${constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=bl.nextPersistentConnectionId_++,this.log_=aA("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=cm,this.maxReconnectDelay_=eMe,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!v$())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");sI.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Yy.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(si(s)),$e(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Z7,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),$e(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),$e(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;bl.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&jl(e,"w")){const r=Op(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Is(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||K7e(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=HF)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=$7e(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),$e(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+si(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):mw("Unrecognized action received from server: "+si(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){$e(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=cm,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=cm,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>nMe&&(this.reconnectDelay_=cm),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*tMe)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+bl.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(h){$e(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?Ei("getToken() completed but was canceled"):(Ei("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new Xbe(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,m=>{Is(m+" ("+this.repoInfo_.toString()+")"),this.interrupt(rMe)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&Is(h),l())}}}interrupt(e){Ei("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ei("Resuming connection for reason: "+e),delete this.interruptReasons_[e],yF(this.interruptReasons_)&&(this.reconnectDelay_=cm,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>tI(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Qn(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Ei("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=QF&&(this.reconnectDelay_=HF,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Ei("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=QF&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+b$.replace(/\./g,"-")]=1,A$()?e["framework.cordova"]=1:H7e()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Yy.getInstance().currentlyOnline();return yF(this.interruptReasons_)&&e}}bl.nextPersistentConnectionId_=0;bl.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Zt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Zt(Fp,e),i=new Zt(Fp,n);return this.compare(r,i)!==0}minPost(){return Zt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q2;class rK extends px{static get __EMPTY_NODE(){return Q2}static set __EMPTY_NODE(e){Q2=e}compare(e,n){return o0(e.name,n.name)}isDefinedOn(e){throw s0("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Zt.MIN}maxPost(){return new Zt(Kh,Q2)}makePost(e,n){return $e(typeof e=="string","KeyIndex indexValue must always be a string."),new Zt(e,Q2)}toString(){return".key"}}const rp=new rK;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Xr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Xr.RED,this.left=i??ns.EMPTY_NODE,this.right=s??ns.EMPTY_NODE}copy(e,n,r,i,s){return new Xr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ns.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return ns.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Xr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Xr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Xr.RED=!0;Xr.BLACK=!1;class iMe{copy(e,n,r,i,s){return this}insert(e,n,r){return new Xr(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ns{constructor(e,n=ns.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ns(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Xr.BLACK,null,null))}remove(e){return new ns(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Xr.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new z2(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new z2(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new z2(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new z2(this.root_,null,this.comparator_,!0,e)}}ns.EMPTY_NODE=new iMe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sMe(t,e){return o0(t.name,e.name)}function oI(t,e){return o0(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Aw;function oMe(t){Aw=t}const iK=function(t){return typeof t=="number"?"number:"+D$(t):"string:"+t},sK=function(t){if(t.isLeafNode()){const e=t.val();$e(typeof e=="string"||typeof e=="number"||typeof e=="object"&&jl(e,".sv"),"Priority must be a string or number.")}else $e(t===Aw||t.isEmpty(),"priority of unexpected type.");$e(t===Aw||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zF;class $r{constructor(e,n=$r.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,$e(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),sK(this.priorityNode_)}static set __childrenNodeConstructor(e){zF=e}static get __childrenNodeConstructor(){return zF}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new $r(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:$r.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Xt(e)?this:qt(e)===".priority"?this.priorityNode_:$r.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:$r.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=qt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:($e(r!==".priority"||cu(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,$r.__childrenNodeConstructor.EMPTY_NODE.updateChild(Nn(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+iK(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=D$(this.value_):e+=this.value_,this.lazyHash_=R$(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===$r.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof $r.__childrenNodeConstructor?-1:($e(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=$r.VALUE_TYPE_ORDER.indexOf(n),s=$r.VALUE_TYPE_ORDER.indexOf(r);return $e(i>=0,"Unknown leaf type: "+n),$e(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}$r.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oK,aK;function aMe(t){oK=t}function lMe(t){aK=t}class cMe extends px{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?o0(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Zt.MIN}maxPost(){return new Zt(Kh,new $r("[PRIORITY-POST]",aK))}makePost(e,n){const r=oK(e);return new Zt(n,new $r("[PRIORITY-POST]",r))}toString(){return".priority"}}const Si=new cMe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uMe=Math.log(2);class hMe{constructor(e){const n=s=>parseInt(Math.log(s)/uMe,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const qy=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let h,f;if(u===0)return null;if(u===1)return h=t[l],f=n?n(h):h,new Xr(f,h.node,Xr.BLACK,null,null);{const m=parseInt(u/2,10)+l,g=i(l,m),E=i(m+1,c);return h=t[m],f=n?n(h):h,new Xr(f,h.node,Xr.BLACK,g,E)}},s=function(l){let c=null,u=null,h=t.length;const f=function(g,E){const x=h-g,A=h;h-=g;const v=i(x+1,A),y=t[x],S=n?n(y):y;m(new Xr(S,y.node,E,null,v))},m=function(g){c?(c.left=g,c=g):(u=g,c=g)};for(let g=0;g<l.count;++g){const E=l.nextBitIsOne(),x=Math.pow(2,l.count-(g+1));E?f(x,Xr.BLACK):(f(x,Xr.BLACK),f(x,Xr.RED))}return u},o=new hMe(t.length),a=s(o);return new ns(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eS;const cd={};class _l{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return $e(cd&&Si,"ChildrenNode.ts has not been loaded"),eS=eS||new _l({".priority":cd},{".priority":Si}),eS}get(e){const n=Op(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ns?n:null}hasIndex(e){return jl(this.indexSet_,e.toString())}addIndex(e,n){$e(e!==rp,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Zt.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=qy(r,e.getCompare()):a=cd;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new _l(u,c)}addToIndexes(e,n){const r=$y(this.indexes_,(i,s)=>{const o=Op(this.indexSet_,s);if($e(o,"Missing index implementation for "+s),i===cd)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Zt.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),qy(a,o.getCompare())}else return cd;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Zt(e.name,a))),l.insert(e,e.node)}});return new _l(r,this.indexSet_)}removeFromIndexes(e,n){const r=$y(this.indexes_,i=>{if(i===cd)return i;{const s=n.get(e.name);return s?i.remove(new Zt(e.name,s)):i}});return new _l(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let um;class cn{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&sK(this.priorityNode_),this.children_.isEmpty()&&$e(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return um||(um=new cn(new ns(oI),null,_l.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||um}updatePriority(e){return this.children_.isEmpty()?this:new cn(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?um:n}}getChild(e){const n=qt(e);return n===null?this:this.getImmediateChild(n).getChild(Nn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if($e(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Zt(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?um:this.priorityNode_;return new cn(i,o,s)}}updateChild(e,n){const r=qt(e);if(r===null)return n;{$e(qt(e)!==".priority"||cu(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(Nn(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Si,(o,a)=>{n[o]=a.val(e),r++,s&&cn.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+iK(this.getPriority().val())+":"),this.forEachChild(Si,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":R$(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Zt(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Zt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Zt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Zt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Zt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===cA?-1:0}withIndex(e){if(e===rp||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new cn(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===rp||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Si),i=n.getIterator(Si);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===rp?null:this.indexMap_.get(e.toString())}}cn.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class fMe extends cn{constructor(){super(new ns(oI),cn.EMPTY_NODE,_l.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return cn.EMPTY_NODE}isEmpty(){return!1}}const cA=new fMe;Object.defineProperties(Zt,{MIN:{value:new Zt(Fp,cn.EMPTY_NODE)},MAX:{value:new Zt(Kh,cA)}});rK.__EMPTY_NODE=cn.EMPTY_NODE;$r.__childrenNodeConstructor=cn;oMe(cA);lMe(cA);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dMe=!0;function _i(t,e=null){if(t===null)return cn.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),$e(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new $r(n,_i(e))}if(!(t instanceof Array)&&dMe){const n=[];let r=!1;if(vo(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=_i(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Zt(o,l)))}}),n.length===0)return cn.EMPTY_NODE;const s=qy(n,sMe,o=>o.name,oI);if(r){const o=qy(n,Si.getCompare());return new cn(s,_i(e),new _l({".priority":o},{".priority":Si}))}else return new cn(s,_i(e),_l.Default)}else{let n=cn.EMPTY_NODE;return vo(t,(r,i)=>{if(jl(t,r)&&r.substring(0,1)!=="."){const s=_i(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(_i(e))}}aMe(_i);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pMe extends px{constructor(e){super(),this.indexPath_=e,$e(!Xt(e)&&qt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?o0(e.name,n.name):s}makePost(e,n){const r=_i(e),i=cn.EMPTY_NODE.updateChild(this.indexPath_,r);return new Zt(n,i)}maxPost(){const e=cn.EMPTY_NODE.updateChild(this.indexPath_,cA);return new Zt(Kh,e)}toString(){return Z$(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mMe extends px{compare(e,n){const r=e.node.compareTo(n.node);return r===0?o0(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Zt.MIN}maxPost(){return Zt.MAX}makePost(e,n){const r=_i(e);return new Zt(n,r)}toString(){return".value"}}const gMe=new mMe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AMe(t){return{type:"value",snapshotNode:t}}function vMe(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function yMe(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function VF(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function xMe(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Si}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return $e(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return $e(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Fp}hasEnd(){return this.endSet_}getIndexEndValue(){return $e(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return $e(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Kh}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return $e(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Si}copy(){const e=new aI;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function WF(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Si?n="$priority":t.index_===gMe?n="$value":t.index_===rp?n="$key":($e(t.index_ instanceof pMe,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=si(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=si(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+si(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=si(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+si(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function jF(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Si&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy extends J${constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=aA("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:($e(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Zy.getListenId_(e,r),a={};this.listens_[o]=a;const l=WF(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let h=u;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(s,h,!1,r),Op(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){const r=Zy.getListenId_(e,n);delete this.listens_[r]}get(e){const n=WF(e._queryParams),r=e._path.toString(),i=new Z7;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+X7e(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=i3(a.responseText)}catch{Is("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Is("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EMe{constructor(){this.rootNode_=cn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5(){return{value:null,children:new Map}}function lK(t,e,n){if(Xt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=qt(e);t.children.has(r)||t.children.set(r,e5());const i=t.children.get(r);e=Nn(e),lK(i,e,n)}}function vw(t,e,n){t.value!==null?n(e,t.value):_Me(t,(r,i)=>{const s=new Qn(e.toString()+"/"+r);vw(i,s,n)})}function _Me(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SMe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&vo(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F=10*1e3,CMe=30*1e3,wMe=5*60*1e3;class TMe{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new SMe(e);const r=$F+(CMe-$F)*Math.random();tg(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;vo(e,(i,s)=>{s>0&&jl(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),tg(this.reportStats_.bind(this),Math.floor(Math.random()*2*wMe))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ia;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ia||(Ia={}));function cK(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function uK(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function hK(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ia.ACK_USER_WRITE,this.source=cK()}operationForChild(e){if(Xt(this.path)){if(this.affectedTree.value!=null)return $e(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Qn(e));return new t5(gn(),n,this.revert)}}else return $e(qt(this.path)===e,"operationForChild called for unrelated child."),new t5(Nn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ia.OVERWRITE}operationForChild(e){return Xt(this.path)?new Xh(this.source,gn(),this.snap.getImmediateChild(e)):new Xh(this.source,Nn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ia.MERGE}operationForChild(e){if(Xt(this.path)){const n=this.children.subtree(new Qn(e));return n.isEmpty()?null:n.value?new Xh(this.source,gn(),n.value):new l3(this.source,gn(),n)}else return $e(qt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new l3(this.source,Nn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Xt(e))return this.isFullyInitialized()&&!this.filtered_;const n=qt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function IMe(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(xMe(o.childName,o.snapshotNode))}),hm(t,i,"child_removed",e,r,n),hm(t,i,"child_added",e,r,n),hm(t,i,"child_moved",s,r,n),hm(t,i,"child_changed",e,r,n),hm(t,i,"value",e,r,n),i}function hm(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>MMe(t,a,l)),o.forEach(a=>{const l=bMe(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function bMe(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function MMe(t,e,n){if(e.childName==null||n.childName==null)throw s0("Should only compare child_ events.");const r=new Zt(e.childName,e.snapshotNode),i=new Zt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fK(t,e){return{eventCache:t,serverCache:e}}function ng(t,e,n,r){return fK(new lI(e,n,r),t.serverCache)}function dK(t,e,n,r){return fK(t.eventCache,new lI(e,n,r))}function yw(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Jh(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tS;const RMe=()=>(tS||(tS=new ns(gbe)),tS);class On{constructor(e,n=RMe()){this.value=e,this.children=n}static fromObject(e){let n=new On(null);return vo(e,(r,i)=>{n=n.set(new Qn(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:gn(),value:this.value};if(Xt(e))return null;{const r=qt(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(Nn(e),n);return s!=null?{path:Jr(new Qn(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Xt(e))return this;{const n=qt(e),r=this.children.get(n);return r!==null?r.subtree(Nn(e)):new On(null)}}set(e,n){if(Xt(e))return new On(n,this.children);{const r=qt(e),s=(this.children.get(r)||new On(null)).set(Nn(e),n),o=this.children.insert(r,s);return new On(this.value,o)}}remove(e){if(Xt(e))return this.children.isEmpty()?new On(null):new On(null,this.children);{const n=qt(e),r=this.children.get(n);if(r){const i=r.remove(Nn(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new On(null):new On(this.value,s)}else return this}}get(e){if(Xt(e))return this.value;{const n=qt(e),r=this.children.get(n);return r?r.get(Nn(e)):null}}setTree(e,n){if(Xt(e))return n;{const r=qt(e),s=(this.children.get(r)||new On(null)).setTree(Nn(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new On(this.value,o)}}fold(e){return this.fold_(gn(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Jr(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,gn(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Xt(e))return null;{const s=qt(e),o=this.children.get(s);return o?o.findOnPath_(Nn(e),Jr(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,gn(),n)}foreachOnPath_(e,n,r){if(Xt(e))return this;{this.value&&r(n,this.value);const i=qt(e),s=this.children.get(i);return s?s.foreachOnPath_(Nn(e),Jr(n,i),r):new On(null)}}foreach(e){this.foreach_(gn(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Jr(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.writeTree_=e}static empty(){return new jo(new On(null))}}function rg(t,e,n){if(Xt(e))return new jo(new On(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=so(i,e);return s=s.updateChild(o,n),new jo(t.writeTree_.set(i,s))}else{const i=new On(n),s=t.writeTree_.setTree(e,i);return new jo(s)}}}function KF(t,e,n){let r=t;return vo(n,(i,s)=>{r=rg(r,Jr(e,i),s)}),r}function XF(t,e){if(Xt(e))return jo.empty();{const n=t.writeTree_.setTree(e,new On(null));return new jo(n)}}function xw(t,e){return yf(t,e)!=null}function yf(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(so(n.path,e)):null}function JF(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Si,(r,i)=>{e.push(new Zt(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Zt(r,i.value))}),e}function Kc(t,e){if(Xt(e))return t;{const n=yf(t,e);return n!=null?new jo(new On(n)):new jo(t.writeTree_.subtree(e))}}function Ew(t){return t.writeTree_.isEmpty()}function Np(t,e){return pK(gn(),t.writeTree_,e)}function pK(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?($e(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=pK(Jr(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Jr(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mK(t,e){return xK(e,t)}function BMe(t,e,n,r,i){$e(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=rg(t.visibleWrites,e,n)),t.lastWriteId=r}function PMe(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function DMe(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);$e(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&LMe(a,r.path)?i=!1:Ho(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return OMe(t),!0;if(r.snap)t.visibleWrites=XF(t.visibleWrites,r.path);else{const a=r.children;vo(a,l=>{t.visibleWrites=XF(t.visibleWrites,Jr(r.path,l))})}return!0}else return!1}function LMe(t,e){if(t.snap)return Ho(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ho(Jr(t.path,n),e))return!0;return!1}function OMe(t){t.visibleWrites=gK(t.allWrites,FMe,gn()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function FMe(t){return t.visible}function gK(t,e,n){let r=jo.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Ho(n,o)?(a=so(n,o),r=rg(r,a,s.snap)):Ho(o,n)&&(a=so(o,n),r=rg(r,gn(),s.snap.getChild(a)));else if(s.children){if(Ho(n,o))a=so(n,o),r=KF(r,a,s.children);else if(Ho(o,n))if(a=so(o,n),Xt(a))r=KF(r,gn(),s.children);else{const l=Op(s.children,qt(a));if(l){const c=l.getChild(Nn(a));r=rg(r,gn(),c)}}}else throw s0("WriteRecord should have .snap or .children")}}return r}function AK(t,e,n,r,i){if(!r&&!i){const s=yf(t.visibleWrites,e);if(s!=null)return s;{const o=Kc(t.visibleWrites,e);if(Ew(o))return n;if(n==null&&!xw(o,gn()))return null;{const a=n||cn.EMPTY_NODE;return Np(o,a)}}}else{const s=Kc(t.visibleWrites,e);if(!i&&Ew(s))return n;if(!i&&n==null&&!xw(s,gn()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Ho(c.path,e)||Ho(e,c.path))},a=gK(t.allWrites,o,e),l=n||cn.EMPTY_NODE;return Np(a,l)}}}function NMe(t,e,n){let r=cn.EMPTY_NODE;const i=yf(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Si,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Kc(t.visibleWrites,e);return n.forEachChild(Si,(o,a)=>{const l=Np(Kc(s,new Qn(o)),a);r=r.updateImmediateChild(o,l)}),JF(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Kc(t.visibleWrites,e);return JF(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function kMe(t,e,n,r,i){$e(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Jr(e,n);if(xw(t.visibleWrites,s))return null;{const o=Kc(t.visibleWrites,s);return Ew(o)?i.getChild(n):Np(o,i.getChild(n))}}function UMe(t,e,n,r){const i=Jr(e,n),s=yf(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Kc(t.visibleWrites,i);return Np(o,r.getNode().getImmediateChild(n))}else return null}function GMe(t,e){return yf(t.visibleWrites,e)}function HMe(t,e,n,r,i,s,o){let a;const l=Kc(t.visibleWrites,e),c=yf(l,gn());if(c!=null)a=c;else if(n!=null)a=Np(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],h=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let m=f.getNext();for(;m&&u.length<i;)h(m,r)!==0&&u.push(m),m=f.getNext();return u}else return[]}function QMe(){return{visibleWrites:jo.empty(),allWrites:[],lastWriteId:-1}}function _w(t,e,n,r){return AK(t.writeTree,t.treePath,e,n,r)}function vK(t,e){return NMe(t.writeTree,t.treePath,e)}function YF(t,e,n,r){return kMe(t.writeTree,t.treePath,e,n,r)}function n5(t,e){return GMe(t.writeTree,Jr(t.treePath,e))}function zMe(t,e,n,r,i,s){return HMe(t.writeTree,t.treePath,e,n,r,i,s)}function cI(t,e,n){return UMe(t.writeTree,t.treePath,e,n)}function yK(t,e){return xK(Jr(t.treePath,e),t.writeTree)}function xK(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VMe{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;$e(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),$e(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,VF(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,yMe(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,vMe(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,VF(r,e.snapshotNode,i.oldSnap));else throw s0("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WMe{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const EK=new WMe;class uI{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new lI(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return cI(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Jh(this.viewCache_),s=zMe(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function jMe(t,e){$e(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),$e(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function $Me(t,e,n,r,i){const s=new VMe;let o,a;if(n.type===Ia.OVERWRITE){const c=n;c.source.fromUser?o=Sw(t,e,c.path,c.snap,r,i,s):($e(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Xt(c.path),o=r5(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===Ia.MERGE){const c=n;c.source.fromUser?o=XMe(t,e,c.path,c.children,r,i,s):($e(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Cw(t,e,c.path,c.children,r,i,a,s))}else if(n.type===Ia.ACK_USER_WRITE){const c=n;c.revert?o=qMe(t,e,c.path,r,i,s):o=JMe(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===Ia.LISTEN_COMPLETE)o=YMe(t,e,n.path,r,s);else throw s0("Unknown operation type: "+n.type);const l=s.getChanges();return KMe(e,o,l),{viewCache:o,changes:l}}function KMe(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=yw(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(AMe(yw(e)))}}function _K(t,e,n,r,i,s){const o=e.eventCache;if(n5(r,n)!=null)return e;{let a,l;if(Xt(n))if($e(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Jh(e),u=c instanceof cn?c:cn.EMPTY_NODE,h=vK(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const c=_w(r,Jh(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=qt(n);if(c===".priority"){$e(cu(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const h=YF(r,n,u,l);h!=null?a=t.filter.updatePriority(u,h):a=o.getNode()}else{const u=Nn(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=YF(r,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(c).updateChild(u,f):h=o.getNode().getImmediateChild(c)}else h=cI(r,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,u,i,s):a=o.getNode()}}return ng(e,a,o.isFullyInitialized()||Xt(n),t.filter.filtersNodes())}}function r5(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(Xt(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const m=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),m,null)}else{const m=qt(n);if(!l.isCompleteForPath(n)&&cu(n)>1)return e;const g=Nn(n),x=l.getNode().getImmediateChild(m).updateChild(g,r);m===".priority"?c=u.updatePriority(l.getNode(),x):c=u.updateChild(l.getNode(),m,x,g,EK,null)}const h=dK(e,c,l.isFullyInitialized()||Xt(n),u.filtersNodes()),f=new uI(i,h,s);return _K(t,h,n,i,f,a)}function Sw(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const u=new uI(i,e,s);if(Xt(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=ng(e,c,!0,t.filter.filtersNodes());else{const h=qt(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=ng(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=Nn(n),m=a.getNode().getImmediateChild(h);let g;if(Xt(f))g=r;else{const E=u.getCompleteChild(h);E!=null?q$(f)===".priority"&&E.getChild(eK(f)).isEmpty()?g=E:g=E.updateChild(f,r):g=cn.EMPTY_NODE}if(m.equals(g))l=e;else{const E=t.filter.updateChild(a.getNode(),h,g,f,u,o);l=ng(e,E,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function qF(t,e){return t.eventCache.isCompleteForChild(e)}function XMe(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=Jr(n,l);qF(e,qt(u))&&(a=Sw(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=Jr(n,l);qF(e,qt(u))||(a=Sw(t,a,u,c,i,s,o))}),a}function ZF(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Cw(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;Xt(n)?c=r:c=new On(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((h,f)=>{if(u.hasChild(h)){const m=e.serverCache.getNode().getImmediateChild(h),g=ZF(t,m,f);l=r5(t,l,new Qn(h),g,i,s,o,a)}}),c.children.inorderTraversal((h,f)=>{const m=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!u.hasChild(h)&&!m){const g=e.serverCache.getNode().getImmediateChild(h),E=ZF(t,g,f);l=r5(t,l,new Qn(h),E,i,s,o,a)}}),l}function JMe(t,e,n,r,i,s,o){if(n5(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Xt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return r5(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Xt(n)){let c=new On(null);return l.getNode().forEachChild(rp,(u,h)=>{c=c.set(new Qn(u),h)}),Cw(t,e,n,c,i,s,a,o)}else return e}else{let c=new On(null);return r.foreach((u,h)=>{const f=Jr(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),Cw(t,e,n,c,i,s,a,o)}}function YMe(t,e,n,r,i){const s=e.serverCache,o=dK(e,s.getNode(),s.isFullyInitialized()||Xt(n),s.isFiltered());return _K(t,o,n,r,EK,i)}function qMe(t,e,n,r,i,s){let o;if(n5(r,n)!=null)return e;{const a=new uI(r,e,i),l=e.eventCache.getNode();let c;if(Xt(n)||qt(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=_w(r,Jh(e));else{const h=e.serverCache.getNode();$e(h instanceof cn,"serverChildren would be complete if leaf node"),u=vK(r,h)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=qt(n);let h=cI(r,u,e.serverCache);h==null&&e.serverCache.isCompleteForChild(u)&&(h=l.getImmediateChild(u)),h!=null?c=t.filter.updateChild(l,u,h,Nn(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,cn.EMPTY_NODE,Nn(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=_w(r,Jh(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||n5(r,gn())!=null,ng(e,c,o,t.filter.filtersNodes())}}function ZMe(t,e){const n=Jh(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Xt(e)&&!n.getImmediateChild(qt(e)).isEmpty())?n.getChild(e):null}function eN(t,e,n,r){e.type===Ia.MERGE&&e.source.queryId!==null&&($e(Jh(t.viewCache_),"We should always have a full cache before handling merges"),$e(yw(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=$Me(t.processor_,i,e,n,r);return jMe(t.processor_,s.viewCache),$e(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,eRe(t,s.changes,s.viewCache.eventCache.getNode(),null)}function eRe(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return IMe(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tN;function tRe(t){$e(!tN,"__referenceConstructor has already been defined"),tN=t}function hI(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return $e(s!=null,"SyncTree gave us an op for an invalid query."),eN(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(eN(o,e,n,r));return s}}function fI(t,e){let n=null;for(const r of t.views.values())n=n||ZMe(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nN;function nRe(t){$e(!nN,"__referenceConstructor has already been defined"),nN=t}class rN{constructor(e){this.listenProvider_=e,this.syncPointTree_=new On(null),this.pendingWriteTree_=QMe(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function rRe(t,e,n,r,i){return BMe(t.pendingWriteTree_,e,n,r,i),i?gx(t,new Xh(cK(),e,n)):[]}function Fd(t,e,n=!1){const r=PMe(t.pendingWriteTree_,e);if(DMe(t.pendingWriteTree_,e)){let s=new On(null);return r.snap!=null?s=s.set(gn(),!0):vo(r.children,o=>{s=s.set(new Qn(o),!0)}),gx(t,new t5(r.path,s,n))}else return[]}function mx(t,e,n){return gx(t,new Xh(uK(),e,n))}function iRe(t,e,n){const r=On.fromObject(n);return gx(t,new l3(uK(),e,r))}function sRe(t,e,n,r){const i=TK(t,r);if(i!=null){const s=IK(i),o=s.path,a=s.queryId,l=so(o,e),c=new Xh(hK(a),l,n);return bK(t,o,c)}else return[]}function oRe(t,e,n,r){const i=TK(t,r);if(i){const s=IK(i),o=s.path,a=s.queryId,l=so(o,e),c=On.fromObject(n),u=new l3(hK(a),l,c);return bK(t,o,u)}else return[]}function SK(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=so(o,e),c=fI(a,l);if(c)return c});return AK(i,e,s,n,!0)}function gx(t,e){return CK(e,t.syncPointTree_,null,mK(t.pendingWriteTree_,gn()))}function CK(t,e,n,r){if(Xt(t.path))return wK(t,e,n,r);{const i=e.get(gn());n==null&&i!=null&&(n=fI(i,gn()));let s=[];const o=qt(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=yK(r,o);s=s.concat(CK(a,l,c,u))}return i&&(s=s.concat(hI(i,t,r,n))),s}}function wK(t,e,n,r){const i=e.get(gn());n==null&&i!=null&&(n=fI(i,gn()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=yK(r,o),u=t.operationForChild(o);u&&(s=s.concat(wK(u,a,l,c)))}),i&&(s=s.concat(hI(i,t,r,n))),s}function TK(t,e){return t.tagToQueryMap.get(e)}function IK(t){const e=t.indexOf("$");return $e(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Qn(t.substr(0,e))}}function bK(t,e,n){const r=t.syncPointTree_.get(e);$e(r,"Missing sync point for query tag that we're tracking");const i=mK(t.pendingWriteTree_,e);return hI(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new dI(n)}node(){return this.node_}}class pI{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Jr(this.path_,e);return new pI(this.syncTree_,n)}node(){return SK(this.syncTree_,this.path_)}}const aRe=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},iN=function(t,e,n){if(!t||typeof t!="object")return t;if($e(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return lRe(t[".sv"],e,n);if(typeof t[".sv"]=="object")return cRe(t[".sv"],e);$e(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},lRe=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:$e(!1,"Unexpected server value: "+t)}},cRe=function(t,e,n){t.hasOwnProperty("increment")||$e(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&$e(!1,"Unexpected increment value: "+r);const i=e.node();if($e(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},uRe=function(t,e,n,r){return mI(e,new pI(n,t),r)},hRe=function(t,e,n){return mI(t,new dI(e),n)};function mI(t,e,n){const r=t.getPriority().val(),i=iN(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=iN(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new $r(a,_i(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new $r(i))),o.forEachChild(Si,(a,l)=>{const c=mI(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function AI(t,e){let n=e instanceof Qn?e:new Qn(e),r=t,i=qt(n);for(;i!==null;){const s=Op(r.node.children,i)||{children:{},childCount:0};r=new gI(i,r,s),n=Nn(n),i=qt(n)}return r}function a0(t){return t.node.value}function MK(t,e){t.node.value=e,ww(t)}function RK(t){return t.node.childCount>0}function fRe(t){return a0(t)===void 0&&!RK(t)}function Ax(t,e){vo(t.node.children,(n,r)=>{e(new gI(n,t,r))})}function BK(t,e,n,r){n&&!r&&e(t),Ax(t,i=>{BK(i,e,!0,r)}),n&&r&&e(t)}function dRe(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function uA(t){return new Qn(t.parent===null?t.name:uA(t.parent)+"/"+t.name)}function ww(t){t.parent!==null&&pRe(t.parent,t.name,t)}function pRe(t,e,n){const r=fRe(n),i=jl(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,ww(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,ww(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mRe=/[\[\].#$\/\u0000-\u001F\u007F]/,gRe=/[\[\].#$\u0000-\u001F\u007F]/,nS=10*1024*1024,PK=function(t){return typeof t=="string"&&t.length!==0&&!mRe.test(t)},ARe=function(t){return typeof t=="string"&&t.length!==0&&!gRe.test(t)},vRe=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ARe(t)},DK=function(t,e,n){const r=n instanceof Qn?new Ybe(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ah(r));if(typeof e=="function")throw new Error(t+"contains a function "+ah(r)+" with contents = "+e.toString());if(B$(e))throw new Error(t+"contains "+e.toString()+" "+ah(r));if(typeof e=="string"&&e.length>nS/3&&dx(e)>nS)throw new Error(t+"contains a string greater than "+nS+" utf8 bytes "+ah(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(vo(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!PK(o)))throw new Error(t+" contains an invalid key ("+o+") "+ah(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);qbe(r,o),DK(t,a,r),Zbe(r)}),i&&s)throw new Error(t+' contains ".value" child '+ah(r)+" in addition to actual children.")}},yRe=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!PK(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!vRe(n))throw new Error(Y7e(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xRe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ERe(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!tK(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function xf(t,e,n){ERe(t,n),_Re(t,r=>Ho(r,e)||Ho(e,r))}function _Re(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(SRe(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function SRe(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Dh&&Ei("event: "+n.toString()),lA(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CRe="repo_interrupt",wRe=25;class TRe{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new xRe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=e5(),this.transactionQueueTree_=new gI,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function IRe(t,e,n){if(t.stats_=rI(t.repoInfo_),t.forceRestClient_||_be())t.server_=new Zy(t.repoInfo_,(r,i,s,o)=>{sN(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>oN(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{si(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new bl(t.repoInfo_,e,(r,i,s,o)=>{sN(t,r,i,s,o)},r=>{oN(t,r)},r=>{MRe(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=Ibe(t.repoInfo_,()=>new TMe(t.stats_,t.server_)),t.infoData_=new EMe,t.infoSyncTree_=new rN({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=mx(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),vI(t,"connected",!1),t.serverSyncTree_=new rN({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);xf(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function bRe(t){const n=t.infoData_.getNode(new Qn(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function LK(t){return aRe({timestamp:bRe(t)})}function sN(t,e,n,r,i){t.dataUpdateCount++;const s=new Qn(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=$y(n,c=>_i(c));o=oRe(t.serverSyncTree_,s,l,i)}else{const l=_i(n);o=sRe(t.serverSyncTree_,s,l,i)}else if(r){const l=$y(n,c=>_i(c));o=iRe(t.serverSyncTree_,s,l)}else{const l=_i(n);o=mx(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=xI(t,s)),xf(t.eventQueue_,a,o)}function oN(t,e){vI(t,"connected",e),e===!1&&BRe(t)}function MRe(t,e){vo(e,(n,r)=>{vI(t,n,r)})}function vI(t,e,n){const r=new Qn("/.info/"+e),i=_i(n);t.infoData_.updateSnapshot(r,i);const s=mx(t.infoSyncTree_,r,i);xf(t.eventQueue_,r,s)}function RRe(t){return t.nextWriteId_++}function BRe(t){OK(t,"onDisconnectEvents");const e=LK(t),n=e5();vw(t.onDisconnect_,gn(),(i,s)=>{const o=uRe(i,s,t.serverSyncTree_,e);lK(n,i,o)});let r=[];vw(n,gn(),(i,s)=>{r=r.concat(mx(t.serverSyncTree_,i,s));const o=ORe(t,i);xI(t,o)}),t.onDisconnect_=e5(),xf(t.eventQueue_,gn(),r)}function PRe(t){t.persistentConnection_&&t.persistentConnection_.interrupt(CRe)}function OK(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ei(n,...e)}function FK(t,e,n){return SK(t.serverSyncTree_,e,n)||cn.EMPTY_NODE}function yI(t,e=t.transactionQueueTree_){if(e||vx(t,e),a0(e)){const n=kK(t,e);$e(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&DRe(t,uA(e),n)}else RK(e)&&Ax(e,n=>{yI(t,n)})}function DRe(t,e,n){const r=n.map(c=>c.currentWriteId),i=FK(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];$e(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const h=so(e,u.path);s=s.updateChild(h,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{OK(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Fd(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();vx(t,AI(t.transactionQueueTree_,e)),yI(t,t.transactionQueueTree_),xf(t.eventQueue_,e,u);for(let f=0;f<h.length;f++)lA(h[f])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Is("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}xI(t,e)}},o)}function xI(t,e){const n=NK(t,e),r=uA(n),i=kK(t,n);return LRe(t,i,r),r}function LRe(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=so(n,l.path);let u=!1,h;if($e(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,h=l.abortReason,i=i.concat(Fd(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=wRe)u=!0,h="maxretry",i=i.concat(Fd(t.serverSyncTree_,l.currentWriteId,!0));else{const f=FK(t,l.path,o);l.currentInputSnapshot=f;const m=e[a].update(f.val());if(m!==void 0){DK("transaction failed: Data returned ",m,l.path);let g=_i(m);typeof m=="object"&&m!=null&&jl(m,".priority")||(g=g.updatePriority(f.getPriority()));const x=l.currentWriteId,A=LK(t),v=hRe(g,f,A);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=v,l.currentWriteId=RRe(t),o.splice(o.indexOf(x),1),i=i.concat(rRe(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),i=i.concat(Fd(t.serverSyncTree_,x,!0))}else u=!0,h="nodata",i=i.concat(Fd(t.serverSyncTree_,l.currentWriteId,!0))}xf(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}vx(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)lA(r[a]);yI(t,t.transactionQueueTree_)}function NK(t,e){let n,r=t.transactionQueueTree_;for(n=qt(e);n!==null&&a0(r)===void 0;)r=AI(r,n),e=Nn(e),n=qt(e);return r}function kK(t,e){const n=[];return UK(t,e,n),n.sort((r,i)=>r.order-i.order),n}function UK(t,e,n){const r=a0(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Ax(e,i=>{UK(t,i,n)})}function vx(t,e){const n=a0(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,MK(e,n.length>0?n:void 0)}Ax(e,r=>{vx(t,r)})}function ORe(t,e){const n=uA(NK(t,e)),r=AI(t.transactionQueueTree_,e);return dRe(r,i=>{rS(t,i)}),rS(t,r),BK(r,i=>{rS(t,i)}),n}function rS(t,e){const n=a0(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?($e(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):($e(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Fd(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?MK(e,void 0):n.length=s+1,xf(t.eventQueue_,uA(e),i);for(let o=0;o<r.length;o++)lA(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FRe(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function NRe(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Is(`Invalid query segment '${n}' in query '${t}'`)}return e}const aN=function(t,e){const n=kRe(t),r=n.namespace;n.domain==="firebase.com"&&Ul(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ul("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||pbe();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new z$(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Qn(n.pathString)}},kRe=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(u,h)),u<h&&(i=FRe(t.substring(u,h)));const f=NRe(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const m=e.slice(0,c);if(m.toLowerCase()==="localhost")n="localhost";else if(m.split(".").length<=2)n=m;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Xt(this._path)?null:q$(this._path)}get ref(){return new l0(this._repo,this._path)}get _queryIdentifier(){const e=jF(this._queryParams),n=tI(e);return n==="{}"?"default":n}get _queryObject(){return jF(this._queryParams)}isEqual(e){if(e=E$(e),!(e instanceof EI))return!1;const n=this._repo===e._repo,r=tK(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Jbe(this._path)}}class l0 extends EI{constructor(e,n){super(e,n,new aI,!1)}get parent(){const e=eK(this._path);return e===null?null:new l0(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}tRe(l0);nRe(l0);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const URe="FIREBASE_DATABASE_EMULATOR_HOST",Tw={};let GRe=!1;function HRe(t,e,n,r){t.repoInfo_=new z$(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function QRe(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Ul("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ei("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=aN(s,i),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[URe]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=aN(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const u=i&&l?new np(np.OWNER):new Cbe(t.name,t.options,e);yRe("Invalid Firebase Database URL",o),Xt(o.path)||Ul("Database URL must point to the root of a Firebase Database (not including a child path).");const h=VRe(a,t,u,new Sbe(t.name,n));return new WRe(h,t)}function zRe(t,e){const n=Tw[e];(!n||n[t.key]!==t)&&Ul(`Database ${e}(${t.repoInfo_}) has already been deleted.`),PRe(t),delete n[t.key]}function VRe(t,e,n,r){let i=Tw[e.name];i||(i={},Tw[e.name]=i);let s=i[t.toURLString()];return s&&Ul("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new TRe(t,GRe,n,r),i[t.toURLString()]=s,s}class WRe{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(IRe(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new l0(this._repo,gn())),this._rootInternal}_delete(){return this._rootInternal!==null&&(zRe(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ul("Cannot call "+e+" on a deleted database.")}}function jRe(t=YIe(),e){const n=$Ie(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=k7e("database");r&&$Re(n,...r)}return n}function $Re(t,e,n,r={}){t=E$(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Ul("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ul('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new np(np.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:U7e(r.mockUserToken,t.app.options.projectId);s=new np(o)}HRe(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KRe(t){cbe(JIe),Xy(new s3("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return QRe(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),ep(bF,MF,t),ep(bF,MF,"esm2017")}bl.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};bl.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};KRe();const XRe={apiKey:"AIzaSyCud6nUQTmzVYWEFEA76yu1IOOojFDwWn8",authDomain:"portfolio-4efd4.firebaseapp.com",databaseURL:"https://portfolio-4efd4-default-rtdb.firebaseio.com/",projectId:"portfolio-4efd4",storageBucket:"portfolio-4efd4.appspot.com",messagingSenderId:"503957891375",appId:"1:503957891375:web:536f1058bf9baf66a259da"},JRe=w$(XRe);jRe(JRe);var kp={},_I={};Object.defineProperty(_I,"__esModule",{value:!0});var YRe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),GK=Q,iS=SI(GK),qRe=NU,ZRe=SI(qRe),eBe=Y3,Ch=SI(eBe);function SI(t){return t&&t.__esModule?t:{default:t}}function tBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lN(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function nBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var yx=function(t){nBe(e,t);function e(){var n,r,i,s;tBe(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=lN(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.state={isSticky:!1,wasSticky:!1,style:{}},i.handleContainerEvent=function(c){var u=c.distanceFromTop,h=c.distanceFromBottom,f=c.eventSource,m=i.context.getParent(),g=!1;i.props.relative&&(g=f!==m,u=-(f.scrollTop+f.offsetTop)+i.placeholder.offsetTop);var E=i.placeholder.getBoundingClientRect(),x=i.content.getBoundingClientRect(),A=x.height,v=h-i.props.bottomOffset-A,y=!!i.state.isSticky,S=g?y:u<=-i.props.topOffset&&h>-i.props.bottomOffset;h=(i.props.relative?m.scrollHeight-m.scrollTop:h)-A;var w=S?{position:"fixed",top:v>0?i.props.relative?m.offsetTop-m.offsetParent.scrollTop:0:v,left:E.left,width:E.width}:{};i.props.disableHardwareAcceleration||(w.transform="translateZ(0)"),i.setState({isSticky:S,wasSticky:y,distanceFromTop:u,distanceFromBottom:h,calculatedHeight:A,style:w})},r),lN(i,s)}return YRe(e,[{key:"componentWillMount",value:function(){if(!this.context.subscribe)throw new TypeError("Expected Sticky to be mounted within StickyContainer");this.context.subscribe(this.handleContainerEvent)}},{key:"componentWillUnmount",value:function(){this.context.unsubscribe(this.handleContainerEvent)}},{key:"componentDidUpdate",value:function(){this.placeholder.style.paddingBottom=this.props.disableCompensation?0:(this.state.isSticky?this.state.calculatedHeight:0)+"px"}},{key:"render",value:function(){var r=this,i=iS.default.cloneElement(this.props.children({isSticky:this.state.isSticky,wasSticky:this.state.wasSticky,distanceFromTop:this.state.distanceFromTop,distanceFromBottom:this.state.distanceFromBottom,calculatedHeight:this.state.calculatedHeight,style:this.state.style}),{ref:function(o){r.content=ZRe.default.findDOMNode(o)}});return iS.default.createElement("div",null,iS.default.createElement("div",{ref:function(o){return r.placeholder=o}}),i)}}]),e}(GK.Component);yx.propTypes={topOffset:Ch.default.number,bottomOffset:Ch.default.number,relative:Ch.default.bool,children:Ch.default.func.isRequired};yx.defaultProps={relative:!1,topOffset:0,bottomOffset:0,disableCompensation:!1,disableHardwareAcceleration:!1};yx.contextTypes={subscribe:Ch.default.func,unsubscribe:Ch.default.func,getParent:Ch.default.func};_I.default=yx;var CI={},xx={exports:{}},Im={exports:{}};(function(){var t,e,n,r,i,s;typeof performance<"u"&&performance!==null&&performance.now?Im.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Im.exports=function(){return(t()-i)/1e6},e=process.hrtime,t=function(){var o;return o=e(),o[0]*1e9+o[1]},r=t(),s=process.uptime()*1e9,i=r-s):Date.now?(Im.exports=function(){return Date.now()-n},n=Date.now()):(Im.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(Tc);var rBe=Im.exports,iBe=rBe,Ml=typeof window>"u"?Tc:window,V2=["moz","webkit"],ip="AnimationFrame",Up=Ml["request"+ip],c3=Ml["cancel"+ip]||Ml["cancelRequest"+ip];for(var fm=0;!Up&&fm<V2.length;fm++)Up=Ml[V2[fm]+"Request"+ip],c3=Ml[V2[fm]+"Cancel"+ip]||Ml[V2[fm]+"CancelRequest"+ip];if(!Up||!c3){var sS=0,cN=0,ju=[],sBe=1e3/60;Up=function(t){if(ju.length===0){var e=iBe(),n=Math.max(0,sBe-(e-sS));sS=n+e,setTimeout(function(){var r=ju.slice(0);ju.length=0;for(var i=0;i<r.length;i++)if(!r[i].cancelled)try{r[i].callback(sS)}catch(s){setTimeout(function(){throw s},0)}},Math.round(n))}return ju.push({handle:++cN,callback:t,cancelled:!1}),cN},c3=function(t){for(var e=0;e<ju.length;e++)ju[e].handle===t&&(ju[e].cancelled=!0)}}xx.exports=function(t){return Up.call(Ml,t)};xx.exports.cancel=function(){c3.apply(Ml,arguments)};xx.exports.polyfill=function(t){t||(t=Ml),t.requestAnimationFrame=Up,t.cancelAnimationFrame=c3};var oBe=xx.exports;Object.defineProperty(CI,"__esModule",{value:!0});var aBe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lBe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),HK=Q,cBe=wI(HK),uBe=Y3,oS=wI(uBe),hBe=oBe,uN=wI(hBe);function wI(t){return t&&t.__esModule?t:{default:t}}function fBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hN(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function dBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var QK=function(t){dBe(e,t);function e(){var n,r,i,s;fBe(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=hN(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.events=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"],i.subscribers=[],i.rafHandle=null,i.subscribe=function(c){i.subscribers=i.subscribers.concat(c)},i.unsubscribe=function(c){i.subscribers=i.subscribers.filter(function(u){return u!==c})},i.notifySubscribers=function(c){if(!i.framePending){var u=c.currentTarget;i.rafHandle=(0,uN.default)(function(){i.framePending=!1;var h=i.node.getBoundingClientRect(),f=h.top,m=h.bottom;i.subscribers.forEach(function(g){return g({distanceFromTop:f,distanceFromBottom:m,eventSource:u===window?document.body:i.node})})}),i.framePending=!0}},i.getParent=function(){return i.node},r),hN(i,s)}return lBe(e,[{key:"getChildContext",value:function(){return{subscribe:this.subscribe,unsubscribe:this.unsubscribe,getParent:this.getParent}}},{key:"componentDidMount",value:function(){var r=this;this.events.forEach(function(i){return window.addEventListener(i,r.notifySubscribers)})}},{key:"componentWillUnmount",value:function(){var r=this;this.rafHandle&&(uN.default.cancel(this.rafHandle),this.rafHandle=null),this.events.forEach(function(i){return window.removeEventListener(i,r.notifySubscribers)})}},{key:"render",value:function(){var r=this;return cBe.default.createElement("div",aBe({},this.props,{ref:function(s){return r.node=s},onScroll:this.notifySubscribers,onTouchStart:this.notifySubscribers,onTouchMove:this.notifySubscribers,onTouchEnd:this.notifySubscribers}))}}]),e}(HK.PureComponent);QK.childContextTypes={subscribe:oS.default.func,unsubscribe:oS.default.func,getParent:oS.default.func};CI.default=QK;Object.defineProperty(kp,"__esModule",{value:!0});var zK=kp.StickyContainer=jK=kp.Sticky=void 0,pBe=_I,VK=WK(pBe),mBe=CI,gBe=WK(mBe);function WK(t){return t&&t.__esModule?t:{default:t}}var jK=kp.Sticky=VK.default;zK=kp.StickyContainer=gBe.default;kp.default=VK.default;const fN=({technologies:t})=>U.jsxs("div",{className:"w-full",children:[U.jsx("h4",{className:"xl:text-xl text-white text-lg font-semibold xl:font-normal font-serif my-2 md:my-4",children:"Technical Details"}),U.jsx("div",{className:"grid grid-cols-3 gap-1 mb-8 flex-wrap",children:_Ee.filter(e=>t.indexOf(e.icon)>=0).map((e,n)=>U.jsxs("div",{className:"flex flex-col items-center justify-center bg-gray-950 text-white p-[2px] lg:p-2 mr-2 mb-2 shadow-lg",children:[e.svg?U.jsx("img",{src:`/src/assets/tech/${e.svg}`,className:"h-[30px] object-contain"}):U.jsx("i",{className:`text-2xl fa-brands fa-${e.icon}`}),U.jsx("span",{className:"text-sm text-yellow-400 ",children:e.title})]},n))})]}),$K=({images:t,title:e,year:n,startYear:r,description:i,techologies:s,subSystems:o,isLast:a=!1,isSubSystem:l=!1,logo:c,titleFont:u,isHomePage:h=!1})=>U.jsxs("div",{className:`xl:flex-1  ${!a&&!l?"xl:mb-40":""} lg:mb-8 `,children:[!l&&U.jsx("h2",{className:`${u||"text-10vw"} font-serif text-[7vw] text-right bg-[#050816] text-[#915EFF] -mb-[4vw] -mr-2 font-extrabold xl:relative z-100 xl:pt-0 pb-0`,children:e}),U.jsxs(zK,{className:`flex ${l?"":"bg-[#050816]"} ${!h&&!l?"p-8":""} `,children:[!l&&!h&&U.jsx("div",{className:"hidden lg:flex h-auto sm:h-auto bg-[#1D1836] pr-8 overflow-hidden lg:relative",style:{width:"calc(300px + 2rem)"},children:U.jsx(jK,{topOffset:20,bottomOffset:-150,children:({style:f,isSticky:m})=>U.jsxs("div",{style:{...f,width:300,marginTop:m?"70px":"0px"},className:"h-full flex flex-col",children:[c&&U.jsx("div",{className:"text-white flex items-center justify-center",children:U.jsx("img",{src:c,className:"w-32 h-9 mb-8 mt-2"})}),U.jsxs("div",{className:"w-full",children:[U.jsx("h4",{className:"xl:text-xl text-white text-xs font-semibold xl:font-normal font-serif",children:r?"Developed In":"Year"}),U.jsx("h3",{className:"text-4vw text-yellow-400 font-mono font-black mb-8 ",children:r||n})]}),U.jsx(fN,{technologies:s})]})})}),U.jsxs("div",{className:"protfolio-slider cursor-pointer flex-1 h-full relative",children:[U.jsx(R7.Carousel,{showIndicators:!1,showThumbs:!1,showArrows:!1,showStatus:!1,autoPlay:!0,infiniteLoop:!0,interval:6e3,stopOnHover:!1,className:"shadow-xl",children:t.map((f,m)=>U.jsx("div",{children:f.title?U.jsxs("div",{className:"grid grid-cols-3 gap-5",children:[U.jsx("img",{className:`m-2 overflow-hidden rounded-2xl w-auto object-contain object-center h-full lg:h-60 lg:object-cover ${l?"max-h-80":""}`,style:{border:"8px solid #3f4048"}},m),U.jsx("h6",{className:"text-xl md:text-2xl lg:text-4xl font-serif font-black text-left flex items-center col-span-2",children:f.title})]}):U.jsx("img",{className:`w-full z-10 object-cover object-left h-full  ${l?"h-auto sm:h-80 lg:h-60 lg:object-cover":"h-auto sm:h-[30rem] lg:h-[38rem]"}`,src:f.url},m)},m))}),!h&&U.jsx("div",{style:{clear:"both"},children:" "}),l&&U.jsx("h2",{className:"text-lg text-white tracking-wider lg:text-[2vw] font-bold",children:e}),!h&&U.jsx("div",{className:" text-md md:text-lg leading-[6vw] text-justify lg:leading-[2vw] tracking-wider lg:text-[1.5vw] font-mono lg:text-left overflow-hidden w-full h-auto left-0 bottom-0 z-10 p-4 pl-0 text-white",style:{color:"white"},dangerouslySetInnerHTML:{__html:i}}),o&&U.jsxs(U.Fragment,{children:[U.jsx("div",{className:"text-[6vw] text-[#915EFF] lg:text-6vw font-bold drop-shadow-lg mb-4 mt-5 lg:mt-16",children:"Subsystems"}),U.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:o.map(f=>U.jsx($K,{...f,isSubSystem:!0},f.images[0].url))})]})]})]}),!l&&!h&&U.jsxs("div",{className:"h-full flex flex-col bg-[#1D1836] px-5 lg:hidden mb-8 pb-3",children:[U.jsxs("div",{className:"flex flex-col w-full mt-5",children:[c&&U.jsx("div",{className:"text-gray-900 flex items-center justify-center",children:U.jsx("img",{src:c,className:"w-[30%] h-auto mb-8 "})}),U.jsxs("div",{className:"w-full mt-2",children:[U.jsx("h4",{className:" text-sm text-white font-semibold xl:font-normal font-serif",children:r?"Developed In":"Year"}),U.jsx("h3",{className:"text-4vw text-yellow-400 font-mono font-black mb-4 mt-2",children:r||n})]})]}),U.jsx("div",{className:"mt-3",children:U.jsx(fN,{technologies:s})})]})]}),ABe=()=>U.jsxs(U.Fragment,{children:[U.jsx(dEe,{}),U.jsxs(YJ,{children:[U.jsx(dm,{path:"/",element:U.jsxs("div",{className:"relative z-0 bg-primary",children:[U.jsx("div",{className:"bg-hero-pattern bg-cover bg-no-repeat bg-center",children:U.jsx(J6e,{})}),U.jsx(wEe,{}),U.jsx(Q_e,{}),U.jsx(C_e,{}),U.jsx(V_e,{}),U.jsxs("div",{className:"relative z-0",children:[U.jsx(Y_e,{}),U.jsx(X6e,{})]})]})}),U.jsx(dm,{path:"/about",element:U.jsx(zSe,{})}),U.jsx(dm,{path:"/contact",element:U.jsx(b7e,{})}),U.jsx(dm,{path:"/projects",element:U.jsxs("div",{className:"bg-[#050816]",children:[U.jsx(Hi.div,{variants:nf(1e3),children:U.jsx("h2",{className:`${ws.sectionHeadText} pt-20 text-[#915EFF]`,children:"Projects"})}),U.jsx("div",{className:"w-full flex ",children:U.jsx(Hi.p,{variants:rf("","",.1,1),className:"mt-3 text-secondary text-[17px] max-w-3xl leading-[30px] text-center mx-auto",children:"Dive into a world of innovation and expertise through my showcased projects, where real-world applications meet technological mastery. This portfolio encapsulates the essence of my skillset, highlighting the breadth of my problem-solving capabilities and seamless integration of diverse technologies. Each project is a testament to my proficiency in project management and my passion for crafting solutions that matter."})}),U.jsx("div",{className:"flex flex-col mt-20 lg:mt-28 overflow-x-hidden bg-[#050816]",children:U.jsx("div",{className:"flex xl:flex-row flex-col h-full",children:U.jsx("div",{className:"flex flex-col",children:lO.map((t,e)=>U.jsx($K,{title:t.title,description:t.description,services:t.services,techologies:t.techologies,images:t.images,isLast:e>=lO.length-1,year:t.year,startYear:t.startYear,subSystems:t.subSystems,logo:t.logo,logoName:t.logoName,titleFont:t.titleFont},e))})})})]})})]})]});uS.createRoot(document.getElementById("root")).render(U.jsx(rY,{children:U.jsx(ABe,{})}))});export default vBe();
